(function(){var ch={};ch.agC=function(e,Z){var F=K.jM[K.Oa("%|xK")];if(F==null)return"XYP";var b=e.toString(16).slice(0,4),_=b+Z+"aQYRDCB";
return F(_).slice(5,17)+b.split("").reverse().join("")};ch.o1=function(){var e=K.jM[K.eL("3M"+(K.uQ(26)?"]K":"fa"))];
e=e[K.eL("]["+(!K.uQ(28)?",":"`"))];return Math.floor(e()/1e3)};ch.uQ=function(e){var Z=0;for(var l=0;
l<e;l++)Z+=Math.random();return Z/e<Math.PI/4};ch.eL=function(e){var Z="";if(!ch.uQ(28))e+="-3";for(var l=0;
l<e.length;l++){var F=e.charCodeAt(l);if(F<32||126<F)throw"e";Z+=String.fromCharCode(32+(F-32+17+3*l)%95)}return Z};
ch.Oa=function(e){var Z="";if(!ch.uQ(28))e+="-1";for(var l=0;l<e.length;l++){var F=e.charCodeAt(l);F-=32;
F+=95e4;F-=17+3*l;F=F%95;Z+=String.fromCharCode(32+F)}return Z};ch.D2=ch.eL("XP");ch.KG=ch.eL("XYP");
ch.hj=ch.eL("c[Y");ch.a3h=ch.eL("][`");ch.a2F=ch.eL("SU_");ch.$D=ch.eL("b^L");ch.aoK=ch.eL("61=");ch.wP=ch.eL("Q[M_");
ch.Lj=ch.eL("WQJJ");ch.Ob=ch.eL("W^NL");ch.ZZ=ch.eL("[[JJ");ch.ML=ch.eL("^\\NT");ch.a55=ch.eL("bQUL");
ch._f=ch.eL("bQWJ");ch.EA=ch.eL("3M]K");ch.a8X=ch.eL("<M]N");ch.ag7=ch.eL("RXRIN");ch.KU=ch.eL("b`bRH");
ch.EG=ch.eL("fUMZK");ch.aoO=ch.eL("WQRMKT");ch.ay=ch.eL("XR[GPE");ch.apS=ch.eL("aMWJRM");ch.agD=ch.eL("bO[OST");
ch.am1=ch.eL("cM[MHT");ch.agT=ch.eL("^Z5OQE");ch.Sk=ch.eL("aQYRDCB");ch.SJ=ch.eL("[[LGWILH");ch.YH=ch.eL("S[L[PEKN");
ch.y_=ch.eL("aQOKURBL");ch.Q4=ch.eL("aQ\\VRNP?");ch.a5n=ch.eL("XZWKU(1'#");ch.aod=ch.eL("SQLUGE2, ");
ch.a4l=ch.eL("]M_OJAQII");ch.uX=ch.eL("bQ]:LMBILH");ch.au7=ch.eL("UU[YW#ECC8");ch.Z_=ch.eL("cQaZ&OKN<BE");
ch.cl=ch.eL("P\\YKQD B@@5");ch.Yh=ch.eL("aQVUYE B@@5");ch.PK=ch.eL("bQ]'WTOC9IE3");ch.a5$=ch.eL("XZ\\KUT~?=CC3");
ch.KA=ch.eL("R^NGWE\"F<A6<?");ch.a0k=ch.eL("VQ]+OEJ?EHrGs,");ch.Jp=ch.eL("G95.WTM,<EF3><");ch.YA=ch.eL("PPM+YEKN#=DB06*4");
function ex(e){this.VU={};this.Lv=0;this.kA();if(e!=!0)window.__kb=this}ex.CB=null;ex.prototype.kA=function(){var e=navigator.keyboard;
if(e&&window.top==window.self)e.getLayoutMap().then(function(Z){ex.CB=Z})};ex.prototype.akt=function(e){var Z={shiftKey:ex.Ng,altKey:ex.sW,ctrlKey:ex.Nh};
for(var F in Z){var b=e[F],_=Z[F],d=this.j(_);if(!b&&d){for(var l=0;l<_.bA.length;l++)this.Gs(_.bA[l])}}};
ex.prototype.Gi=function(e){this.Lv++;this.VU[e]=!0};ex.prototype.Gs=function(e){this.Lv--;delete this.VU[e];
if(this.Lv<=0||ex.Ww(e,ex.WO))this.reset()};ex.prototype.j=function(e){for(var l=0;l<e.bA.length;l++)if(this.VU[e.bA[l]])return!0;
return!1};ex.prototype.reset=function(){this.VU={};this.Lv=0};ex.prototype.qY=function(){var e=this,Z=e.j(ex.Ng)?10:1,F=0,b=0;
if(e.j(ex.g1))F=-Z;if(e.j(ex.sl))F=Z;if(e.j(ex.kg))b=-Z;if(e.j(ex.ZF))b=Z;return new bI(F,b)};ex.prototype.Vd=function(){var e=this,Z=ex.vU;
for(var l=0;l<10;l++)if(e.j(Z[l]))return l;return-1};ex.Ww=function(e,Z){return Z.bA.indexOf(e)!=-1};
ex.ad8="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
ex.Xa=function(e){var Z=e.code;if(Z=="")return!1;var F=ex.Ww;if(e.altKey&&!e.shiftKey&&!e.ctrlKey){var b=ex.vU.concat([ex.yv,ex.Z9,ex.iG,ex.s7]),_=!1;
for(var l=0;l<b.length;l++)if(F(Z,b[l]))return!1}return ex.ad8.indexOf(Z)==-1||e.shiftKey&&(Z=="F5"||Z=="F6")};
ex.Qf=function(e){if(typeof e=="string")return e;var Z=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(e==null)return"";var F=[];for(var l=0;l<e.length;l++){var b=e[l].gL?e[l].gL:e[l];if(Z&&e[l].gE)b=e[l].gE;
F.push(b)}if(Z||F.length==1)return F.join(" + ");else{var _=F.pop();return F.join("+")+" + "+_}};ex.jX=function(e){window.__kb.kA();
var Z=e.code,F=ex.CB;if(F&&F.get(Z)){var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},_=F.get(Z).toLowerCase(),d=_.charCodeAt(0);
if(97<=d&&d<=122){var S="Key"+_.toUpperCase();Z=S}else if(b[_])Z=b[_];return Z}var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},_=e.key.toLowerCase(),d=_.charCodeAt(0);
if(_.length==1){if(97<=d&&d<=122){var S="Key"+_.toUpperCase();Z=S}else if(b[_])Z=b[_]}if(_=="control"&&Z!="")Z="ControlLeft";
return Z};ex.FH=0;ex.Dg=function(e,Z){var F=0;if(Date.now()-ex.FH>1e3){F=Z==0?100:Z*10}else{if(e%10!=0)e*=10;
F=(e+Z)%100}ex.FH=Date.now();return F};ex.a7l={nm:"No Touch",bA:["NoTouch"]};ex.Dr={gL:"Enter",bA:["Enter","NumpadEnter"]};
ex.Ng={gL:"Shift",gE:"\u21E7",bA:["ShiftLeft","ShiftRight"]};ex.WO={gL:"Meta",bA:["MetaLeft","MetaRight","OSLeft","OSRight"]};
ex.Nh={gL:"Ctrl",gE:"\u2318",bA:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
ex.sW={gL:"Alt",gE:"\u2325",bA:["AltLeft","AltRight"]};ex.ani={gL:"CtrlOrAlt",bA:ex.Nh.bA.concat(ex.sW.bA)};
ex.ea={gL:"Escape",bA:["Escape"]};ex.gT={gL:"Space",bA:["Space"]};ex.$_={gL:"Tab",bA:["Tab"]};ex.asB={gL:"Home",bA:["Home"]};
ex.a3Y={gL:"End",bA:["End"]};ex.g1={gL:"Left",bA:["ArrowLeft"]};ex.kg={gL:"Up",bA:["ArrowUp"]};ex.sl={gL:"Right",bA:["ArrowRight"]};
ex.ZF={gL:"Down",bA:["ArrowDown"]};ex.yv={gL:"+",bA:["NumpadAdd","Equal"]};ex.Z9={gL:"-",bA:["NumpadSubtract","Minus"]};
ex._5={gL:";",bA:["Semicolon"]};ex.a1G={gL:"Dead",bA:["Dead"]};ex.ajd={gL:"=",bA:["Equal"]};ex.yr={gL:"Backspace",bA:["Backspace"]};
ex.Fp={gL:"Delete",bA:["Delete"]};ex.au1={gL:"Backslash",bA:["Backslash","IntlBackslash"]};ex.acH={gL:"Slash",bA:["NumpadDivide","Slash"]};
ex.a41={gL:"Backquote",bA:["Backquote"]};ex.iG={gL:"[",bA:["BracketLeft"]};ex.s7={gL:"]",bA:["BracketRight"]};
ex.a6={gL:".",bA:["Period"]};ex.ae1={gL:",",bA:["Comma"]};ex.Go={gL:"'",bA:["Quote"]};ex.B={gL:"A",bA:["KeyA"]};
ex.c6={gL:"B",bA:["KeyB"]};ex.Id={gL:"C",bA:["KeyC"]};ex.T7={gL:"D",bA:["KeyD"]};ex.E={gL:"E",bA:["KeyE"]};
ex.rE={gL:"F",bA:["KeyF"]};ex.Ds={gL:"G",bA:["KeyG"]};ex.ua={gL:"H",bA:["KeyH"]};ex.vm={gL:"I",bA:["KeyI"]};
ex.Ht={gL:"J",bA:["KeyJ"]};ex.KP={gL:"K",bA:["KeyK"]};ex.qv={gL:"L",bA:["KeyL"]};ex.uP={gL:"M",bA:["KeyM"]};
ex.vt={gL:"N",bA:["KeyN"]};ex.AD={gL:"O",bA:["KeyO"]};ex.Cm={gL:"P",bA:["KeyP"]};ex.cr={gL:"Q",bA:["KeyQ"]};
ex.Z8={gL:"R",bA:["KeyR"]};ex.pX={gL:"S",bA:["KeyS"]};ex.xP={gL:"T",bA:["KeyT"]};ex.Lb={gL:"U",bA:["KeyU"]};
ex.Sf={gL:"V",bA:["KeyV"]};ex.a2={gL:"W",bA:["KeyW"]};ex.jy={gL:"X",bA:["KeyX"]};ex.a8N={gL:"Y",bA:["KeyY"]};
ex.vO={gL:"Z",bA:["KeyZ"]};ex.E9={gL:"0",bA:["Numpad0","Digit0"]};ex.zW={gL:"1",bA:["Numpad1","Digit1"]};
ex.amc={gL:"2",bA:["Numpad2","Digit2"]};ex.apR={gL:"3",bA:["Numpad3","Digit3"]};ex.afU={gL:"4",bA:["Numpad4","Digit4"]};
ex.a4D={gL:"5",bA:["Numpad5","Digit5"]};ex.a1_={gL:"6",bA:["Numpad6","Digit6"]};ex.aky={gL:"7",bA:["Numpad7","Digit7"]};
ex.agR={gL:"8",bA:["Numpad8","Digit8"]};ex.amR={gL:"9",bA:["Numpad9","Digit9"]};ex.vU=[ex.E9,ex.zW,ex.amc,ex.apR,ex.afU,ex.a4D,ex.a1_,ex.aky,ex.agR,ex.amR];
ex.a94={gL:"F1",bA:["F1"]};ex.ao8={gL:"F2",bA:["F2"]};ex.a9p={gL:"F3",bA:["F3"]};ex.abV={gL:"FF",bA:["F4"]};
ex.h9={gL:"F5",bA:["F5"]};ex.atx={gL:"F6",bA:["F6"]};ex.a0u={gL:"F7",bA:["F7"]};ex.a7t={gL:"F8",bA:["F8"]};
ex.a2B={gL:"F9",bA:["F9"]};ex.a33={gL:"F10",bA:["F10"]};ex.aoS={gL:"F11",bA:["F11"]};ex.ar1={gL:"F12",bA:["F12"]};
function bh(e){fq.call(this);this._G={};this.lo={};this.a2m=0;this.a8E={};this.VR=[];this.a7K=0;this.ZZ=e;
bh.O6=this}bh.arW=function(e,Z){var l=0,F=bh.KV;while(l<F.length){if((Z>>>l&1)==1)break;l++}if(Z==0||F[l][1]==""){if((Z&15)!=0&&bh.wx(e,[33,126])>.7)l=0;
else if(Z==0)l=0;else{l=0}}return F[l][1]};bh.OT=120;bh.ol=20;bh.cols=16;bh.Z7=function(e){var Z=e.name.postScriptName;
if(Z==null)return null;return Z.replace(/ /g,"-")};bh.xT=function(e){var Z=e.name,F=Z.typoFamilyName?Z.typoFamilyName:Z.fontFamily,b=Z.typoSubfamilyName?Z.typoSubfamilyName:Z.fontSubfamily,_=bh.ahO,d=F.toLowerCase();
for(var l=0;l<_.length;l++){if(_[l]=="roman")continue;if(d.endsWith(" "+_[l])||d.endsWith("-"+_[l])){var S=F.length-_[l].length,U=F.slice(S);
F=F.slice(0,S-1);if(U!=""){if(b=="Regular"||b==F+" Regular")b=U;else b=U+" "+b}break}}var r="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var l=0;l<r.length;l++)if(F.startsWith(r[l])){var U=F.slice(r[l].length);F=r[l];if(U.startsWith(" ")||U.startsWith("-"))U=U.slice(1);
if(U!=""){if(b=="Regular")b=U;else b=U+" "+b}break}var q={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},w=q[bh.Z7(e)];
if(w)b=w;return[F,b]};bh.prototype.agU=function(e){var Z=this.TE();for(var F in Z)if(Z[F][0]==e)this.J7(F)};
bh.prototype.J7=function(e,Z){if(this._G[e])return this._G[e];if(this.lo[e])return null;var F=null,b=this.TE();
if(b[e]!=null)F=b[e][5];if(F==null){var _=bh.Sk[e];if(_==null){var d="SourceHanSansSC-Regular SourceHanSansSC-Regular SourceHanSansSC-Regular SourceHanSansSC-Regular DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),S=e.toLowerCase(),U=0;
if(S.indexOf("sans")!=-1)U=0;else if(S.indexOf("serif")!=-1)U=4;var r=S.indexOf("bold")!=-1||S.indexOf("-black")!=-1,q=S.indexOf("italic")!=-1||S.indexOf("oblique")!=-1||S.endsWith("-it");
if(r&&q)U+=3;else if(q)U+=2;else if(r)U+=1;_=d[U]}if(Z!=null&&Z>128)_=this.ON(Z,_);if(this.a8E[e]==null){this.a8E[e]=1;
var w=Date.now()-this.a2m>2e3?2e3:0;this.a2m=Date.now();alert(e+" \u27A1 "+_,w)}return this.J7(_,Z)}this.lo[e]="a";
this.ZZ(F)};bh.prototype.ON=function(e,Z,F){var b=this._G[Z];if(b&&Typr.U.codeToGlyph(b,e)!=0)return Z;
var _=this.TE(),d=bh.akA(e),S=d[0];if(_[Z]&&(_[Z][3]&S)==0){if(F)for(var l=0;l<F.length;l++){var U=F[l].Name,r=_[U];
if(r&&(r[3]&S)!=0)return U}var U=bh.KV[d[1]][4];if(_[U])return U}return Z};bh.akA=function(e){var Z=bh.KV,F=[0];
for(var l=0;l<Z.length;l++){var b=Z[l][2];for(var _=0;_<b.length;_+=2)if(b[_]<=e&&e<=b[_+1]){F[0]+=1<<l;
F.push(l)}}if(F.length==1)F.push(0);return F};bh.prototype.a7C=function(){var e=this.VR,Z=e[0],F=e.length-1;
alert(gA.get([22,6,0])+" "+Z+(F==0?"":", ... ("+F+")")+" "+gA.get([23,0])+".",1500);this.VR=[]};bh.prototype.ajR=function(e,Z){if(Z!=!0){this.VR.push(e.name.fullName);
clearTimeout(this.a7K);this.a7K=setTimeout(this.a7C.bind(this),300)}var F=bh.Z7(e),b=this.TE(),_=b[F],d=bh.a0G(e);
if(_==null){var S=document.createElement("canvas"),U=S.getContext("2d");S.width=bh.OT;S.height=bh.ol;
var r=bh.ol*1.2/e.head.unitsPerEm;U.translate(4,bh.ol*.9);U.scale(r,-r);U.fillStyle="#000000";var q=Typr.U.shape(e,bh.arW(e,d[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(e,q),U);U.fill();d.asD=S.toDataURL();this.ef(d)}delete this.lo[F];
this._G[F]=e};bh.ak5=function(){var e=bh.KV,Z=[];for(var l=0;l<e.length;l++)Z.push(e[l][0]);return Z};
bh.KV=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"SourceHanSansSC-Regular"],["Latin Ext. A","",[256,383],.7,"SourceHanSansSC-Regular"],["Greek","",[913,929,931,969],.7,"SourceHanSansSC-Regular"],["Cyrillic","",[1040,1119],.7,"SourceHanSansSC-Regular"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"SourceHanSansSC-Regular"],["Arabic","",[1569,1594,1600,1749],.4,"SourceHanSansSC-Regular"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"SourceHanSansSC-Regular"],["Emoji","",[9728,10095,127744,129535],.01,"SourceHanSansSC-Regular"]];
bh.a0G=function(e,Z,F){var b=e.name,r=0;if(bh.Z7(e)==null){console.log(e);throw"No postScriptName!"}var _=bh.KV,d=[];
for(var l=0;l<_.length;l++){var S=_[l][2],U=_[l][3];d[l]=bh.wx(e,S)>U?1:0}for(var l=0;l<d.length;l++)r+=d[l]<<l;
var q=bh.xT(e);return[q[0],q[1],bh.Z7(e),r,F,Z]};bh.wx=function(e,Z){var F=0,b=0;for(var _=0;_<Z.length;
_+=2){for(var d=Z[_];d<=Z[_+1];d++){var S=Typr.U.codeToGlyph(e,d);if(S==0)b++;else F++}}return F/(F+b)};
bh.ajz=function(e,Z){if(e[2]<Z[2])return-1;if(e[2]>Z[2])return 1;return 0};bh.ao$=function(e,Z){if(e[5]=="fs/"+e[2]+".otf")e[5]="";
else if(e[5]=="gf/"+e[2]+".otf")e[5]="a";if(e[2]==(e[0]+"-"+e[1]).replace(/\s/g,"")){e[2]=""}else if(e[2]==e[0].replace(/\s/g,"")){e[2]="a"}if(Z){if(e[0]==Z[0])e[0]="";
if(e[1]==Z[1])e[1]="";if(e[3]==Z[3])e[3]="";if(e[4]==Z[4])e[4]=""}return e.join(",")};bh.a8L=function(e,Z){e=e.split(",");
if(e[0]=="")e[0]=Z[0];if(e[1]=="")e[1]=Z[1];if(e[3]=="")e[3]=Z[3];else e[3]=parseInt(e[3]);if(e[4]=="")e[4]=Z[4];
else e[4]=parseInt(e[4]);if(e[2]=="")e[2]=(e[0]+"-"+e[1]).replace(/\s/g,"");else if(e[2]=="a")e[2]=e[0].replace(/\s/g,"");
if(e[5]=="")e[5]="fs/"+e[2]+".otf";else if(e[5]=="a")e[5]="gf/"+e[2]+".otf";return e};bh.Sk={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"SourceHanSansSC-Regular","Verdana-Bold":"SourceHanSansSC-Regular","Verdana-Italic":"SourceHanSansSC-Regular","Verdana-BoldItalic":"SourceHanSansSC-Regular","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bh.prototype.TE=function(){if(FNTS.map==null){var e=FNTS.list,Z=[];for(var l=0;l<e.length;l++){Z[l]=bh.a8L(e[l],Z[l-1]);
Z[l].wD=l;this.ef(Z[l])}}return FNTS.map};bh.prototype.ef=function(e){var Z=e[0],F=e[1],b=e[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[e[2]]=e;if(FNTS.mapFS==null)FNTS.mapFS={};var _=FNTS.mapFS[Z+"---"+F];FNTS.mapFS[Z+"---"+F]=e;
if(FNTS.mapSub==null)FNTS.mapSub={};var d=FNTS.mapSub[Z];if(d==null)d=FNTS.mapSub[Z]=[];var S=d.indexOf(F);
if(S==-1)d.push(F);else d[S]=F};bh.aoN=function(e,Z){return bh.Vb(e)-bh.Vb(Z)};bh.Vb=function(e){e=e.toLowerCase();
var Z=bh.a3l(e)+(bh.amY(e)<<1);if(e.indexOf("cond")==-1)Z+=1<<25;return Z};bh.a3l=function(e){return e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1?1:0};
bh.ahO="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bh.ant=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
bh.amY=function(e){var Z=bh.ant,F=-1,b=-1;for(var l=0;l<Z.length;l++){var _=Z[l];if(_ instanceof Array)for(var d=0;
d<_.length;d++){var S=_[d];if(e.indexOf(S)!=-1&&(F==-1||b<S.length)){F=l;b=S.length}}else if(e.indexOf(_)!=-1&&(F==-1||b<_.length)){F=l;
b=_.length}}if(F==-1)F=8;return F};bh.pY=function(e,Z){var F=1e9,b=null,_=bh.Vb(Z);for(var l=0;l<e.length;
l++){var d=Math.abs(bh.Vb(e[l])-_);if(d<F){F=d;b=e[l]}}return b};bh.prototype.WG=function(e,Z){this.TE();
return FNTS.mapFS[e+"---"+Z]};bh.prototype.RR=function(e){this.TE();return FNTS.mapSub[e]};bh.prototype.aaL=function(){this.TE();
return FNTS.mapSub};var hx={_2:0,BL:null,N3:null,AN:null,Ld:null,$U:null,B2:!0,$t:0,_s:!1};hx.event=function(e){var Z=new XMLHttpRequest;
Z.open("GET","/papi/event.php?id="+e+"&rnd="+Math.random());Z.send()};hx.RL=function(){var e=K.uQ(24)?" ":"",Z=K.jM[K.Oa("Uu,"+e)];
Z=Z[K.Oa(e+"$/")];return hx.OO()!=null&&hx.OO()[K.eL("_^NSLUJ")]*50>Z()/20};hx.QC=function(){return hx.a0g()!=null};
hx.OO=function(){return hx.$U};hx.c8=function(e){window.addEventListener("message",hx.asg,!1);setInterval(hx.Kq,5e3);
if(hx.QC()){hx.BL=e;hx.OH()}else setTimeout(e,1)};hx.Kq=function(){if(hx.QC()&&hx._s){hx.Nl(hx.T$());
hx._s=!1}};hx.Lq=function(e){hx.BL=e;var Z="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
hx.AN=window.open(Z,"_blank")};hx.sd=function(){localStorage.removeItem(hx._2+"_uid");localStorage.removeItem(hx._2+"_provider");
localStorage.removeItem(hx._2+"_token");hx.$U=null};hx.asg=function(e){if(e.data instanceof ArrayBuffer||e.data instanceof Object)return;
if(e.data.charAt(0)!="{")return;var Z=JSON.parse(e.data);if(Z.prms==null)return;var F=Z.prms.split(",");
if(F[0]=="papi_logged_in"){localStorage[hx._2+"_uid"]=F[1];hx.np(F[2]);localStorage[hx._2+"_provider"]=F[3];
hx.AN.close();hx.OH()}if(F[0]=="payment_complete"){hx.Ld.close();hx.OH()}};hx.a0g=function(){if(!navigator.onLine){hx.sd()}var e=localStorage[hx._2+"_token"];
if(e!=null&&Date.now()*.001+10<parseInt(e.split("-")[0]))return e;return null};hx.np=function(e){var Z=localStorage[hx._2+"_token"];
if(Z!=null&&parseInt(e.split("-")[0])<parseInt(Z.split("-")[0]))return;localStorage[hx._2+"_token"]=e;
clearTimeout(hx.$t);hx.$t=setTimeout(hx.aaa,Math.min(1e9,parseInt(e.split("-")[0])*1e3-Date.now()-20*1e3))};
hx.aaa=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var e=new XMLHttpRequest;
e.open("POST","https://www.photopea.com/papi/record_new.php",!0);e.onload=hx.a8g;var Z=hx.D5(0)+"&read=2";
e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send(Z)};hx.OH=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=hx.aep;var Z=hx.D5(0)+"&read=1";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.send(Z)};hx.Nl=function(e){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var Z=new XMLHttpRequest;
Z.open("POST","https://www.photopea.com/papi/record_new.php",!0);Z.onload=hx.a1i;var F=hx.D5(0)+"&read=0&score="+(e.tpl?1:0)+"&spublic="+hx.B2+"&record="+encodeURIComponent(JSON.stringify(e));
Z.setRequestHeader("Content-type","application/x-www-form-urlencoded");Z.send(F)};hx.aep=function(e){var Z=JSON.parse(e.target.response);
if(Z.error){}else{hx.$U=Z.user;var F=hx.T$(),b=Z.record;if(Z.record){hx.B2=Z.spublic;hx.lh(b)}else if(F)hx.Nl(F)}hx.np(Z.token);
if(hx.BL){hx.BL();hx.BL=null}if(hx.N3){hx.N3();hx.N3=null}};hx.a8g=function(e){var Z=JSON.parse(e.target.response);
hx.np(Z.token)};hx.a1i=function(e){var Z=JSON.parse(e.target.response);hx.np(Z.token);if(hx.N3)hx.OH()};
hx.D5=function(e){return"app="+e+"&uid="+localStorage[hx._2+"_uid"]+"&token="+localStorage[hx._2+"_token"]};
hx.W4=function(){return hx.T$()};hx.Bf=function(e,Z){hx.lh(e);hx._s=!0;if(Z){hx.N3=Z;hx.Kq()}};hx.T$=function(){var e=localStorage[hx._2+"_stateLocal"],Z;
if(e==null)return null;try{Z=JSON.parse(e)}catch(gA){return null}return Z};hx.lh=function(e){var Z=JSON.stringify(e);
localStorage[hx._2+"_stateLocal"]=Z};hx.order=function(e,Z,F){hx.BL=F;var b="https://www.photopea.com/papi/order.php?ptype="+Z+"&param="+e+"&uid="+localStorage[hx._2+"_uid"]+"&token="+localStorage[hx._2+"_token"];
hx.Ld=window.open(b,"_blank")};hx.acO=function(e,Z){hx.BL=Z;var F="https://www.photopea.com/papi/insertKey.php?key="+e+"&uid="+localStorage[hx._2+"_uid"]+"&token="+localStorage[hx._2+"_token"];
hx.Ld=window.open(F,"_blank")};var gA={};gA.KO=0;gA.FQ={};gA.Ro=function(e){var Z=LNG.tables,F=Z[e];
if(F==null)F=Z[0];if(typeof F=="string"){F=Z[e]=gA.WX(F)}return F};gA.WX=function(e){var Z=[],F=0,b=0,_=[],d=e.length;
while(b!=d){var S=e[b];if(S=="["){Z.push(_);_=[];b=F=b+1}else if(S=="]"){_.push(F==b?null:e.substring(F,b));
var U=_;_=Z.pop();_.push(U);b=F=b+1}else if(S==";"){if(e[b-1]!="]")_.push(F==b?null:e.substring(F,b));
b=F=b+1}else b++}return _};gA.get=function(e){if(typeof e=="string")return e;var Z=typeof e[0];if(Z=="number"){for(var l=1;
l<e.length;l++)if(typeof e[l]!="number"){console.log(e);throw"e"}return gA.aoo(e)}var F=gA.get(e[0]);
for(var l=1;l<e.length;l++){var b=gA.get(e[l]),_=F.indexOf("VAR"+(l-1));F=F.slice(0,_)+b+F.slice(_+4)}return F};
gA.aoo=function(e){var Z=JSON.stringify(e);if(gA.FQ[Z]!=null)return gA.FQ[Z];var F=gA.Ro(0),b=gA.Ro(gA.KO),_=gA.Rd(e,b);
if(_==null)_=gA.Rd(e,F);return _};gA.Rd=function(e,Z){for(var l=0;l<e.length;l++){Z=Z[e[l]];if(Z==null)return null;
else if(typeof Z=="string")break}return Z.split("::")[0]};gA.ahV=function(){var e=function(F,b){var _=F.code,d=b.code;
if(_=="en")return-1;if(d=="en")return 1;var S=navigator.languages,U=S.indexOf(_)!=-1,r=S.indexOf(d)!=-1;
if(U&&r)return _>d?1:-1;if(U)return-1;if(r)return 1;return _>d?1:-1},Z=LNG.langs.slice(0);Z.sort(e);
return Z};gA.mS=function(e,Z){gA.KO=e;if(LNG.tables[e])Z();else{var F=new XMLHttpRequest;F.open("GET","code/lang/"+e+".js");
F.onreadystatechange=function(){LNG.tables[e]=F.responseText;Z()};F.send()}};gA.u7=function(e,Z){for(var F=0;
F<2;F++){var b=!1;for(var l=0;l<LNG.langs.length;l++)if(LNG.langs[l].code==e){gA.mS(l,Z);b=!0}if(b)break;
e=e.split("-")[0]}};gA.NB=function(){return LNG.langs[gA.KO].code};gA.atD=function(e){for(var l=0;l<e.length;
l+=2)if(e[l+1].indexOf(">")==-1)gA.FQ[JSON.stringify(e[l])]=e[l+1]};gA.FK=function(e){var Z=-1,F=LNG.langs;
for(var l=0;l<F.length;l++)if(F[l].code==e)Z=l;return Z};var bd={GG:!1,vJ:!1,lP:!1};bd.Xv=function(){return K.jM[ch.hj]!=K.jM[ch.a55]};
bd.QN=function(){var e=K.jM[ch.YH],Z=e[ch.wP],F=0,b=ch.PK,_=K.eL("PP\\KQSB"),d=K.eL("Y_5UDDB>idge"),S=e[ch.KA](ch.a2F);
S[b](ch.D2,_);S[b](ch.KU,K.eL("fUMZKyqifDIhJ0*+&$-OG?<y~>"));Z[ch.cl](S);S=e[ch.a0k](_);if(S==null){F=2}else{if(!Z[K.eL("R[WZDIKM")](S)){F=3}else if(Math.round(S[K.eL("VQ](RUK>@B8p71*03m}x'")]()[ch.EG]-500)>5){F=4}Z[ch.Yh](S)}if(bd.vJ)F=5;
if(bd.lP)F=6;return F};bd.a6e=function(e){var Z=K.Oa("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),F={method:"HEAD",mode:"no-cors"},b=new Request(Z,F);
fetch(b).then(function(_){return _}).then(function(_){var d=K.Oa("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),b=new Request(d,F);
fetch(b).then(function(_){return _}).then(function(_){e(!1)}).catch(function(S){bd.vJ=!0;console.clear();
e(!0)})}).catch(function(_){bd.vJ=!0;console.clear();e(!0)})};bd.a70=function(){var e=K.eL("UU[YW#ECC8"),Z=K.eL("VQ](RUK>@B8p71*03m}x'"),F=K.eL("WQRMKT"),b=this.af2[e][Z]();
if(b[F]<4){bd.lP=!0;this.a5K(!0)}};bd.api=function(){var e=K.jM._cwY,Z=K.jM[ch.uX],F="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",b=String.fromCharCode(32);
e(K.eL(F)+b+b+bd.QN());if(!hx.RL())Z(bd.api,Math.round(Math.PI*1e4))};bd.k5=function(e){var Z=K.jM[ch.YH],F=Z[ch.KA](e[0]);
for(var b in e[1]){if(b=="txt")F[ch.Z_]=e[1][b];else F[ch.PK](b,e[1][b])}return F};bd.amt=function(e,Z,F,b,_){K.WL(F);
var d=K.jM[ch.YH],S=K.Oa(" u.$%\"86<"),U=K.Oa("!#c$,&"),r=K.jM[S][U],q=!1;if(!bd.Xv()&&!bd.QN()&&r&&e*Z>300*300){var w=d[K.eL("VQ]+OEJ?EHDoD{&)l|&z")](ch.Lj)[0],X=JSON.parse(K.Oa("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var l=0;l<X.length;l++){var Q=bd.k5(X[X.length-1-l]);w[ch.a5$](Q,w[ch.aab])}var c=K.Oa("p}&$2a(:"),u=K.Oa("'#!}i0%+"),n=K.Oa("ps,}$\"40");
K.jM.___ggo=function(){K.jM[n](ch.YA,2,function(T,z){if(!K.jM[c]){K.jM[c]=!0;var W=bd.aqK.bind({fA:F,amN:_,head:w,zA:Z});
W()}})}}else{var k=[K.eL("XYPtSP<N8@=[;6,")];if(q)k=[K.Oa("z\"~I5062W=>:")];for(var l=0;l<k.length;l++){var B=d[ch.KA](ch.KG);
B[ch.PK](ch.KU,K.eL("Ra[YRRvJF=?B0:_"));B[ch.PK](ch.$D,k[l]);if(q){var o=d[ch.KA]("a");o[ch.PK](ch.Ob,K.Oa("@C/25N4/9A?C;:iBQRvU]Sg"));
o[ch.PK](ch.am1,K.Oa("pv${,,"));o[ch.cl](B);F[ch.cl](o)}else{B[ch.YA](ch.ag7,b,!1);F[ch.cl](B)}}}};bd.JO=function(e){var Z=2;
if(e>=3*270+30)Z=3;if(e>=4*270+30)Z=4;return Z};bd.aqK=function(){var e=ch.cl,Z=ch.PK,F=ch.YA,b=ch.Sk,_=ch.KU,d=ch.$D,S=K.eL("P_bTF"),U=ch.Z_,r=ch.ay,q=K.jM[ch.YH],w=ch.KA,X=ch.agD,Q=JSON.parse(K.Oa("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),c=K.jM,u=-1,n=c[K.Oa("f#!}f")],k=K.Oa("xy'"),B=K.Oa("TU"),o=K.Oa("Vi"),m=0;
if(n&&n[k]){var T=n[k];if(T==o)u=0;if(T==B)u=1}var z=u==-1?null:bd.k5(Q[u]),W=this.fA,$=this.amN,R=this.head,P=this.zA,H=K.Oa("~u*\"'/P)9ADBCrlnR]"),y=[.1,.1,.8],h=Math.random();
while(y[m]<h&&m<y.length-1){h-=y[m];m++}if(m==0){console.log(0);if($==1){var t=K.Oa("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),j=t.split(","),x=q[w](r);
for(var l=0;l<j.length;l+=2)x[Z](j[l+0],j[l+1]);x[Z](_,K.eL("\\M[MLNi<FHE=8aVQ/4"));W[e](x);if(!bd.GG){bd.GG=!0;
var C=K.Oa("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),L=q[w](X);
L[U]=C;R[e](L)}}else if($==2){var f=bd.JO(P);if(!bd.GG){bd.GG=!0;var t=K.Oa("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),j=t.split(","),C=K.Oa("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var D=0;D<f;D++){var x=q[w](r);for(var l=0;l<j.length;l+=2)x[Z](j[l+0],j[l+1]);x[Z](_,H);W[e](x);
var L=q[w](X);L[U]=C;W[e](L)}}}}else if(m==1){console.log(1);if($==1){var v=q[w](K.Oa("u}."));v[Z](_,H);
var A=q[w](K.Oa("u}."));v[e](A);A[Z](K.Oa("zx"),K.Oa("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));A[Z](K.Oa("t!x.1"),K.Oa("pu(y~1)?).4"));
var C=K.Oa("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),L=q[w](X);
L[U]=C;A[e](L);W[e](v)}else if($==2){var f=bd.JO(P);for(var l=0;l<f;l++){var v=q[w](K.Oa("u}."));v[Z](_,H);
var A=q[w](K.Oa("u}."));v[e](A);A[Z](K.Oa("zx"),K.Oa("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));A[Z](K.Oa("t!x.1"),K.Oa("pu(y~1)?).4"));
var C=K.Oa("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),L=q[w](X);
L[U]=C;A[e](L);W[e](v)}}if(!bd.GG){bd.GG=!0;var C=K.Oa("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),L=q[w](X);
L[Z](K.Oa("uu,{J$*(=F>6"),K.Oa("wu$.#"));L[U]=C;R[e](L)}}else{console.log(2);var M=q[w](X);M.setAttribute(d,K.Oa("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
R[e](M);var Y=JSON.parse(K.Oa("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),J=[Y[0]];
if($==2)J=Y.slice(1,1+bd.JO(P));for(var l=0;l<J.length;l++){var A=q[w](K.eL("SU_"));A[Z](K.eL("XP"),J[l]);
A[Z](_,H);W[e](A)}}if(z)W[e](z)};var gR={X5:-2,Zp:{expires_at:0},mH:[]};gR.nb=function(e){if(e)gR.mH.splice(0,0,e);
if(gR.X5==-2){gR.X5=-1;var Z=document.createElement("script");Z.src="//apis.google.com/js/client.js";
document.body.appendChild(Z);Z.onload=function(F){setTimeout(function(){gR.X5=0;gR.nb()},100)}}if(gR.X5==-1)return;
if(gR.X5==1)return;if(gR.Zp.expires_at>Date.now()*.001+30){while(gR.mH.length>0)gR.mH.pop()()}else{if(gR.X5==0)gR.X5=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:gR.X5==2?!1:!0},gR.aoi)}};
gR.aoi=function(e){if(e&&!e.error){gR.Zp=e;gR.X5=!1;gR.nb()}else if(gR.X5==1){gR.X5=2;gR.nb()}else alert("Error: "+e.error)};
gR.l4=function(){return"access_token="+gR.Zp.access_token+"&token_type="+gR.Zp.token_type};gR.QM=function(){return gR.Zp.token_type+" "+gR.Zp.access_token};
function bI(e,Z){if(!e)e=0;if(!Z)Z=0;this.x=e;this.y=Z}bI.prototype.add=function(e){return new bI(this.x+e.x,this.y+e.y)};
bI.prototype.clone=function(){return new bI(this.x,this.y)};bI.prototype.VV=function(e){this.x=e.x;this.y=e.y};
bI.prototype.Tn=function(e){return this.x==e.x&&this.y==e.y};bI.prototype.normalize=function(e){var Z=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=e/Z;this.y*=e/Z};bI.prototype.offset=function(e,Z){this.x+=e;this.y+=Z};bI.prototype.zU=function(e,Z){this.x=e;
this.y=Z};bI.prototype.iv=function(e){return new bI(this.x-e.x,this.y-e.y)};bI.Ls=function(e,Z){return bI.a1d(e.x,e.y,Z.x,Z.y)};
bI.uS=function(e,Z,F){return new bI(e.x+F*(Z.x-e.x),e.y+F*(Z.y-e.y))};bI.aic=function(e,Z){return new bI(e*Math.cos(Z),e*Math.sin(Z))};
bI.a1d=function(e,Z,F,b){return Math.sqrt((F-e)*(F-e)+(b-Z)*(b-Z))};bI.If={};bI.D8={};bI.If.create=function(){var e=new Float32Array(4);
return e};bI.D8.create=function(e){var Z=new Float32Array(16);Z[0]=Z[5]=Z[10]=Z[15]=1;if(e)bI.D8.set(e,Z);
return Z};bI.If.add=function(e,Z,F){F[0]=e[0]+Z[0];F[1]=e[1]+Z[1];F[2]=e[2]+Z[2];F[3]=e[3]+Z[3]};bI.If.set=function(e,Z){Z[0]=e[0];
Z[1]=e[1];Z[2]=e[2];Z[3]=e[3]};bI.D8.set=function(e,Z){Z[0]=e[0];Z[1]=e[1];Z[2]=e[2];Z[3]=e[3];Z[4]=e[4];
Z[5]=e[5];Z[6]=e[6];Z[7]=e[7];Z[8]=e[8];Z[9]=e[9];Z[10]=e[10];Z[11]=e[11];Z[12]=e[12];Z[13]=e[13];Z[14]=e[14];
Z[15]=e[15]};bI.D8.multiply=function(e,Z,F){var b=e[0],_=e[1],d=e[2],S=e[3],U=e[4],r=e[5],q=e[6],w=e[7],X=e[8],Q=e[9],c=e[10],u=e[11],n=e[12],k=e[13],B=e[14],o=e[15],T=Z[0],z=Z[1],W=Z[2],$=Z[3];
F[0]=T*b+z*U+W*X+$*n;F[1]=T*_+z*r+W*Q+$*k;F[2]=T*d+z*q+W*c+$*B;F[3]=T*S+z*w+W*u+$*o;T=Z[4];z=Z[5];W=Z[6];
$=Z[7];F[4]=T*b+z*U+W*X+$*n;F[5]=T*_+z*r+W*Q+$*k;F[6]=T*d+z*q+W*c+$*B;F[7]=T*S+z*w+W*u+$*o;T=Z[8];z=Z[9];
W=Z[10];$=Z[11];F[8]=T*b+z*U+W*X+$*n;F[9]=T*_+z*r+W*Q+$*k;F[10]=T*d+z*q+W*c+$*B;F[11]=T*S+z*w+W*u+$*o;
T=Z[12];z=Z[13];W=Z[14];$=Z[15];F[12]=T*b+z*U+W*X+$*n;F[13]=T*_+z*r+W*Q+$*k;F[14]=T*d+z*q+W*c+$*B;F[15]=T*S+z*w+W*u+$*o;
return F};bI.D8.inverse=function(e,Z){var F=e[0],b=e[1],_=e[2],d=e[3],S=e[4],U=e[5],r=e[6],q=e[7],w=e[8],X=e[9],Q=e[10],c=e[11],u=e[12],n=e[13],k=e[14],B=e[15],o=F*U-b*S,T=F*r-_*S,z=F*q-d*S,W=b*r-_*U,$=b*q-d*U,R=_*q-d*r,P=w*n-X*u,H=w*k-Q*u,y=w*B-c*u,h=X*k-Q*n,m=X*B-c*n,t=Q*B-c*k,j=o*t-T*m+z*h+W*y-$*H+R*P;
if(!j){return null}j=1/j;Z[0]=(U*t-r*m+q*h)*j;Z[1]=(_*m-b*t-d*h)*j;Z[2]=(n*R-k*$+B*W)*j;Z[3]=(Q*$-X*R-c*W)*j;
Z[4]=(r*y-S*t-q*H)*j;Z[5]=(F*t-_*y+d*H)*j;Z[6]=(k*z-u*R-B*T)*j;Z[7]=(w*R-Q*z+c*T)*j;Z[8]=(S*m-U*y+q*P)*j;
Z[9]=(b*y-F*m-d*P)*j;Z[10]=(u*$-n*z+B*o)*j;Z[11]=(X*z-w*$-c*o)*j;Z[12]=(U*H-S*h-r*P)*j;Z[13]=(F*h-b*H+_*P)*j;
Z[14]=(n*T-u*W-k*o)*j;Z[15]=(w*W-X*T+Q*o)*j;return Z};bI.D8.a6H=function(e,Z,F){var b=Z[0],_=Z[1];F[0]=b*e[0]+_*e[4]+e[12];
F[1]=b*e[1]+_*e[5]+e[13]};bI.D8.arE=function(e,Z,F){var b=Z[0],_=Z[1],d=Z[2],S=Z[3];F[0]=e[0]*b+e[4]*_+e[8]*d+e[12]*S;
F[1]=e[1]*b+e[5]*_+e[9]*d+e[13]*S;F[2]=e[2]*b+e[6]*_+e[10]*d+e[14]*S;F[3]=e[3]*b+e[7]*_+e[11]*d+e[15]*S};
function e3(e,Z,F,b){if(!e)e=0;if(!Z)Z=0;if(!F)F=0;if(!b)b=0;this.x=e;this.y=Z;this.w=F;this._=b}e3.prototype.Z=function(){return this.w*this._};
e3.prototype.clone=function(){return new e3(this.x,this.y,this.w,this._)};e3.prototype.contains=function(e,Z){return e>=this.x&&e<=this.x+this.w&&(Z>=this.y&&Z<=this.y+this._)};
e3.prototype.rI=function(e){return this.contains(e.x,e.y)};e3.prototype.tv=function(e){return this.x<=e.x&&this.y<=e.y&&e.x+e.w<=this.x+this.w&&e.y+e._<=this.y+this._};
e3.prototype.VV=function(e){this.x=e.x;this.y=e.y;this.w=e.w;this._=e._};e3.prototype.Tn=function(e){return this.x==e.x&&this.y==e.y&&this.w==e.w&&this._==e._};
e3.prototype.qN=function(e,Z){this.x-=e;this.y-=Z;this.w+=2*e;this._+=2*Z};e3.prototype.ara=function(e){this.qN(e.x,e.y)};
e3.prototype.QP=function(e){var Z=Math.max(this.x,e.x),F=Math.max(this.y,e.y),b=Math.min(this.x+this.w,e.x+e.w),_=Math.min(this.y+this._,e.y+e._);
if(b<Z||_<F)return new e3;else return new e3(Z,F,b-Z,_-F)};e3.prototype.iP=function(e){if(e.y+e._<this.y||e.x>this.x+this.w||e.y>this.y+this._||e.x+e.w<this.x)return!1;
return!0};e3.prototype.BJ=function(){return this.w<=0||this._<=0};e3.prototype.offset=function(e,Z){this.x+=e;
this.y+=Z};e3.prototype.g6=function(e){this.offset(e.x,e.y)};e3.prototype.a6Y=function(){this.x=this.y=this.w=this._=0};
e3.prototype.zU=function(e,Z,F,b){this.x=e;this.y=Z;this.w=F;this._=b};e3.prototype.Us=function(e){if(this.BJ())return e.clone();
if(e.BJ())return this.clone();var Z=this.clone();Z.a5_(e);return Z};e3.Ue=new Float32Array(2);e3.prototype.a5_=function(e){if(e.BJ())return;
if(this.BJ()){this.VV(e);return}this.CT(e.x,e.y);this.CT(e.x+e.w,e.y+e._)};e3.prototype.CT=function(e,Z){var F=Math.min(this.x,e),b=Math.min(this.y,Z);
this.w=Math.max(this.x+this.w,e)-F;this._=Math.max(this.y+this._,Z)-b;this.x=F;this.y=b};e3.prototype.acv=function(e,Z){this.x=e;
this.y=Z;this.w=this._=0};function jg(e,Z,F,b,_,d){if(typeof e==="undefined"){e=1;Z=0;F=0;b=1;_=0;d=0}this.Y0=e;
this.S=Z;this.d_=F;this.rl=b;this.lr=_;this.Xz=d}jg.prototype.YE=function(){return Math.sqrt(Math.abs(this.Y0*this.rl-this.S*this.d_))};
jg.prototype.a0C=function(){var e=this,Z=function(F){return Math.abs(F)<1e-9?0:F};e.Y0=Z(e.Y0);e.S=Z(e.S);
e.d_=Z(e.d_);e.rl=Z(e.rl);e.lr=Z(e.lr);e.Xz=Z(e.Xz)};jg.prototype.rS=function(e){return new bI(e.x*this.Y0+e.y*this.d_+this.lr,e.x*this.S+e.y*this.rl+this.Xz)};
jg.prototype.translate=function(e,Z){this.lr+=e;this.Xz+=Z};jg.prototype.rotate=function(e){var Z=new jg(Math.cos(e),-Math.sin(e),Math.sin(e),Math.cos(e),0,0);
this.concat(Z)};jg.prototype.scale=function(e,Z){var F=new jg(e,0,0,Z,0,0);this.concat(F)};jg.prototype.concat=function(e){this.VV(new jg(this.Y0*e.Y0+this.S*e.d_,this.Y0*e.S+this.S*e.rl,this.d_*e.Y0+this.rl*e.d_,this.d_*e.S+this.rl*e.rl,this.lr*e.Y0+this.Xz*e.d_+e.lr,this.lr*e.S+this.Xz*e.rl+e.Xz))};
jg.prototype.eG=function(){var e=this.Y0*this.rl-this.S*this.d_;this.VV(new jg(this.rl/e,-this.S/e,-this.d_/e,this.Y0/e,(this.d_*this.Xz-this.rl*this.lr)/e,(this.S*this.lr-this.Y0*this.Xz)/e))};
jg.prototype.clone=function(){return new jg(this.Y0,this.S,this.d_,this.rl,this.lr,this.Xz)};jg.prototype.VV=function(e){this.Y0=e.Y0;
this.S=e.S;this.d_=e.d_;this.rl=e.rl;this.lr=e.lr;this.Xz=e.Xz};function fg(){}fg.e4={a76:["PNG","JPG","SVG","GIF","PDF"],afV:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
fg.aW=function(e,Z){var F=e.memory.buffer.byteLength;if(F<Z)e.memory.grow((Z-F>>>16)+1)};fg.cK={a7Y:function(e,Z){fetch(e).then(function(F){return F.arrayBuffer()}).then(function(F){var b=new Uint8Array(F),_=0,r="";
if(Z){_=b.length;var d={level:9},S=pako.deflateRaw(b,d),U=UZIP.deflateRaw(b,d);console.log(_,S.length,U.length);
b=S.length<U.length?S:U}for(var l=0;l<b.length;l++)r+=String.fromCharCode(b[l]);var q=btoa(r);console.log(JSON.stringify([_,q]))})},get:function(e,Z){var F=BINDB[e],b=Date.now(),_=atob(F[1]),d=_.length,S=new Uint8Array(d);
for(var l=0;l<d;l++)S[l]=_.charCodeAt(l);if(F[0]!=0){var U=new Uint8Array(F[0]);UZIP.inflateRaw(S,U);
S=U}if(Z){var r=fg.zV(S.buffer);S=fg.H_(r).Fx(S.buffer)}return S}};fg.zV=function(e){if(!(e instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var Z=new Uint8Array(e),F=fg.ca,b,_=0,d=Z.length-1;
if(F(Z,[239,187,191]))_=3;while(_<Z.length&&(Z[_]==9||Z[_]==10||Z[_]==13||Z[_]==32))_++;while(d!=0&&(Z[d]==9||Z[d]==10||Z[d]==13||Z[d]==32))d--;
if(F(Z,[56,66,80,83]))b="psd";if(F(Z,[102,116,121,112,109,105,102,49],4)||F(Z,[102,116,121,112,97,118,105,102],4))b="avif";
if(F(Z,[102,116,121,112,105,115,111,109],4))b="mp4";if(F(Z,[102,116,121,112,109,112,52,50],4))b="mp4";
if(F(Z,[0,255,75,65]))b="afphoto";if(F(Z,[120]))b="pxd";if(F(Z,[80,68,78,51]))b="pdn";if(F(Z,[103,105,109,112,32,120,99,102,32]))b="xcf";
if(F(Z,[102,105,103,45,107,105,119,105]))b="fig";if(F(Z,[137,80,78,71,13,10,26,10])){b="png";var S=8;
while(S<Z.length){var U=s.l(Z,S);S+=4;var r=s.fl(Z,S,4);S+=4;if(r=="mkTS")b="fpng";S+=U+4}}if(F(Z,[87,76]))b="cdr";
if(F(Z,[82,73,70,70])){var q=e4.qj(Z),w=q.BY;if(w=="WEBP")b="webp";else if(w.slice(0,3)=="CDR")b="cdr";
else b=w}if(F(Z,[70,79,82,77])||F(Z,[76,73,83,84])||F(Z,[67,65,84,32])){var q=hj.qj(Z),w=q.BY;if(w=="ILBM")b="ilbm";
else b=w}if(F(Z,[255,216,255]))b="jpg";if(F(Z,[0,0,0,12,106,80,32,32]))b="jpg";if(F(Z,[48,0,1,0],4))b="jb2";
if(F(Z,[71,73,70,56]))b="gif";if(F(Z,[0,0,0,2,121,102,113,76]))b="msh";if(F(Z,[0,0,0,3,121,102,113,76]))b="msh";
if(F(Z,[0,0,0,16]))b="atn";if(F(Z,[0,1]))b="aco";if(F(Z,[0,2]))b="aco";if([0,1].indexOf(Z[1])!=-1&&[1,2,3,9,10,11].indexOf(Z[2])!=-1&&[0,16,24,32].indexOf(Z[7])!=-1)b="tga";
if(F(Z,[0,2,56,66,83,76]))b="asl";if(F(Z,[0,1,0,-1,0,2,0]))b="abr";if(F(Z,[0,2,0,-1,0,2,0]))b="abr";
if(F(Z,[0,6,0,1]))b="abr";if(F(Z,[0,6,0,2]))b="abr";if(F(Z,[0,7,0,2]))b="abr";if(F(Z,[0,9,0,2]))b="abr";
if(F(Z,[0,10,0,2]))b="abr";if(F(Z,[56,66,70,83]))b="shc";if(F(Z,[56,66,80,84]))b="pat";if(F(Z,[56,66,71,82]))b="grd";
if(F(Z,[56,66,84,80]))b="tpl";if(F(Z,[0,4,0,5]))b="acv";if(F(Z,[99,117,115,104]))b="csh";if(F(Z,[0,1,0,0,0]))b="otf";
if(F(Z,[79,84,84,79]))b="otf";if(F(Z,[116,116,99,102]))b="otf";if(F(Z,[68,68,83,32]))b="dds";if(F(Z,[80,86,82,3]))b="pvr";
if(F(Z,[86,84,70,0]))b="vtf";if(F(Z,[83,73,77,80]))b="fits";if(F(Z,[0,0,1,0]))b="ico";if(F(Z,[66,77]))b="bmp";
if(F(Z,[40,0,0,0]))b="bmp";if(F(Z,[80,49]))b="ppm";if(F(Z,[80,50]))b="ppm";if(F(Z,[80,51]))b="ppm";if(F(Z,[80,52]))b="ppm";
if(F(Z,[80,53]))b="ppm";if(F(Z,[80,54]))b="ppm";if(F(Z,[73,73,42,0]))b="tiff";if(F(Z,[77,77,0,42]))b="tiff";
if(F(Z,[70,85,74,73,70,73,76,77]))b="raf";if(F(Z,[112]))b="lif";if(F(Z,[73,73,26,0]))b="ciff";if(F(Z,[83,81,76,105]))b="sketch";
if(F(Z,[80,75])){var X=UZIP.parse(e,!0);if(X["document.json"])b="sketch";else if(X.manifest)b="xd";else b="zip"}if(F(Z,[123]))b="json";
if(s.l(Z,0)==Z.length)b="icc";if(F(Z,[35]))b="icc";if(F(Z,[84,73,84,76],_))b="icc";if(F(Z,[76,85,84,95],_))b="icc";
if(F(Z,[60,63,120,109],_)){if(s.it(Z,"<look>")!=-1)b="icc";else b="svg"}if(F(Z,[60,115,118,103],_))b="svg";
if(F(Z,[60,33,100,111],_)||F(Z,[60,33,68,79],_)){if(s.it(Z,"<svg")!=-1)b="svg";else b="html"}if(F(Z,[37,33])||F(Z,[197,208,211,198])){if(s.it(Z,"%AI9_PrivateDataBegin")!=-1||s.it(Z,"%AI5_BeginLayer")!=-1)b="ai";
else b="eps"}if(F(Z,[37,80,68,70],_)){if(s.it(Z,"/AIMetaData ")!=-1)b="ai";else b="pdf"}else if(F(Z,[10,69,79,70],d-3))b="dxf";
if(F(Z,[1,0,9,0]))b="wmf";if(F(Z,[215,205,198,154]))b="wmf";if(F(Z,[1,0,0,0]))b="emf";if(F(Z,[118,47,49,1]))b="exr";
if(F(Z,[10,10,10,10]))b="jsx";if(F(Z,[77,90]))b="exe";if(b==null&&V.raw.Um(Z.length)!=null)return"tiff";
return b};fg.ca=function(e,Z,F){if(F==null)F=0;for(var l=0;l<Z.length;l++)if(Z[l]!=-1&&e[F+l]!=Z[l])return!1;
return!0};fg.H_=function(e){var Z={BMP:fg.adk,CDR:fg.Cz,DDS:fg.mC,EMF:fg.xl,DXF:fg.fO,EPS:fg.Fe,FIG:fg.Lg,FPNG:fg.tl,GIF:fg.T9,ICO:fg.mm,ILBM:fg.Nq,FITS:fg.zD,EXR:fg.a8,JPG:fg.AS,LIF:fg.eS,PDF:fg.U2,PDN:fg.CV,PNG:fg.zw,PPM:fg.fV,PSD:fg.VW,PXD:fg.Bh,RAF:fg.t2,RAW:fg.Ap,SKETCH:fg.KF,SVG:fg.Tz,TGA:fg.qt,AVIF:fg.arM,TIFF:fg.dn,VTF:fg.uH,WEBP:fg.qc,WMF:fg.KC,XCF:fg.ky,XD:fg._t,EXE:fg.Cc,AI:fg.YG,AFPHOTO:fg.br,MP4:fg.a4V};
return Z[e.toUpperCase()]};fg.ql=function(l){var e=fg.e4.a76,Z=fg.e4.afV,F,b=[];if(l==null)F=e.concat(Z);
else F=l==0?e:Z;for(var l=0;l<F.length;l++)if(fg.H_(F[l]).ng)b.push(F[l]);return b};fg.a1V=function(){var e;
function Z(b){var _=b.target,d=_.width,S=_.height,U=document.createElement("canvas");U.width=d;U.height=S;
var r=U.getContext("2d");r.drawImage(_,0,0);e({V4:new e3(0,0,d,S),data:r.getImageData(0,0,d,S).data.buffer})}function F(b,_,d){e=d;
var S=document.createElement("img");S.onload=Z;S.src="data:"+_+";base64,"+fg.$J(b)}return F}();fg.MX=function(e,Z,F,b,_){var d=fg.js(e,Z,F,b,_),S=fg.U$(d);
return S.buffer};fg.U$=function(e){var Z=atob(e.split(",").pop()),F=new Uint8Array(Z.length);for(var l=0;
l<Z.length;l++)F[l]=Z.charCodeAt(l);return F};fg.js=function(e,Z,F,b,_,d){if(!(e instanceof ArrayBuffer))throw"e";
if(b==null)b="png";if(b=="png"&&d==!0){var S=fg.H_("PNG").ng([[e,0]],Z,F);return"data:image/png;base64,"+fg.$J(S)}var U=fg.HN;
if(U==null)U=fg.HN=document.createElement("canvas");if(U.width!=Z||U.height!=F){U.width=Z;U.height=F}var r=U.getContext("2d"),q=new ImageData(new Uint8ClampedArray(e,0,Z*F*4),Z,F);
r.putImageData(q,0,0);return U.toDataURL("image/"+b,_)};fg.aty=function(e,Z,F,b,_){if(_==null)_=0;var d="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",S="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+d+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(e==1)S+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
S+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+_+")\" xlink:href=\""+Z+"\" x=\""+80*F+"\" y=\""+80*b+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var U=new Uint8Array(S.length);s.bB(S,U,0);var r="data:image/svg+xml;base64,"+fg.$J(U.buffer);return{_j:r,uT:new e3(0,0,128,128),I7:new bI(64,64)}};
fg.$J=function(e){var Z=new Uint8Array(e),F="";for(var l=0;l<Z.length;l++)F+=String.fromCharCode(Z[l]);
return btoa(F)};fg.abB=function(e){var Z=atob(e),F=Z.length,b=new Uint8Array(F);for(var l=0;l<F;l++)b[l]=Z.charCodeAt(l);
return b.buffer};fg.K1=function(e){var Z=[],F=[];for(var l=0;l<e.g.length;l++){var b=e.g[l];if(b.getName().slice(0,3)=="_a_"){Z.push(l);
F.push(b.ir())}}return[Z,F]};fg.T4=function(e,Z,F,b,_,d){if(F==null)F=e.w;if(b==null)b=e._;var S=new e3(0,0,e.w,e._),U=new jg(F/(e.w+.001),0,0,b/(e._+.001),0,0),q;
Z=Z.toUpperCase();var r=fg.H_(Z);if(r.dH){e.zB();q=r.ng(e,F,b,_,d)}else{var w=fg.K1(e),X=w[0],Q=w[1],c=null;
if(e.LE.length!=0){c=[];for(var l=0;l<e.LE.length;l++)c.push(e.LE[l].UZ(S))}if(X.length<2){var u;if(F==e.w&&b==e._)u=e.zB().buffer;
else{var n=i.Q.or([e.zB(),S],U);u=n.buffer.buffer;if(c){var k=V.J(S.Z()*4);for(var l=0;l<c.length;l++){V.s$(c[l],k,3);
var n=i.Q.or([k,S],U),B=c[l]=V.J(n.rect.Z());V.yC(n.buffer,B,3)}}}q=r.ng([[u,0,e.Cr,e.iT,c]],F,b,_)}else{var o=[];
for(var l=0;l<X.length;l++){var T=X[l],u;for(var z=0;z<X.length;z++)e.g[X[z]].cm(X[z]==T);e.FZ();e.G();
e.Om();if(F==e.w&&b==e._)u=e.zB().buffer.slice(0);else{var n=i.Q.or([e.zB(),S],U);u=n.buffer.buffer}var W=e.g[T].getName().split(",");
o.push([u,W[1]?parseInt(W[1]):100,e.Cr,e.iT,c])}for(var l=0;l<X.length;l++)e.g[X[l]].cm(Q[l]);e.G();
e.Om();if(_){var $=_.length,R=_[$-2],P=_[$-1],H=_[$-4]/100;if(H!=1)for(var l=0;l<o.length;l++)o[l][1]=Math.round((o[l][1]==0?16:o[l][1])/H);
if(R)o.reverse();if(P){var y=o.slice(1,o.length-1);y.reverse();o=o.concat(y)}}q=r.ng(o,F,b,_)}}return q};
fg.vr=function(e,Z){var F=Z[0].no&&Z[0].no.startsWith("_a_"),b,_=new aH(e+".psd"),d=new e3(0,0,1,1);
if(F){b=_.yG();b.add.lsct=jj.$R;b.Hr(e);b.Du="pass";b.jj=24;b.cm(!0);_.g.push(_.vs())}for(var l=0;l<Z.length;
l++){var S=Z[l];d=d.Us(S.V4);var U=_.yG();U.cm(l==0);U.Hr(Z.length==1?"Background":"Layer "+l);if(l==0&&S.Cr)_.Cr=S.Cr;
if(l==0&&S.iT)_.iT=S.iT;if(S.no)U.Hr(S.no);if(S.Un)for(var l=0;l<S.Un.length;l++){var r=S.Un[l],q=aH.o7(r[0]);
q.add.vmsk.T=r[1];V.c.Jb(r[1],new jg(d.w,0,0,d._,0,0));_.Tl.push(q)}U.rect=S.V4.clone();U.buffer=new Uint8Array(S.data);
V.bD(U);_.g.push(U)}if(F)_.g.push(b);if(Z[0].LE){for(var l=0;l<Z[0].LE.length;l++){var w=new g.hW;_.LE.push(w);
w.rect=Z[0].V4.clone();w.channel=Z[0].LE[l]}}_.V=[F?_.g.length-1:0];_.w=d.w;_._=d._;_.buffer=V.J(d.Z()*4);
_.G();return _};fg.zw={};fg.zw.ng=function(e,Z,F,b){if(b==null)b=[100,!1,0,0,0];var _={sRGB:1,loop:b[3]};
if(e[0][2]!=null){var d=Math.round(e[0][2]*(1e4/254));_.pHYs=[d,d,1]}var S=b[0],U=S==100?0:Math.max(2,Math.floor(S*5));
if(U==5)U=4;var r=[],q=[];for(var l=0;l<e.length;l++){r.push(e[l][0]);q.push(e[l][1])}var w=UPNG.encode(r,Z,F,U,q,_,b[1]);
return w};fg.zw.aig=function(e,Z,F){return UPNG.encodeLL([e],Z,F,3,1,8)};fg.zw.Fx=function(e){var Z=Date.now(),F=UPNG.decode(e),b=UPNG.toRGBA8(F),_=F.width,d=F.height,S=0;
if(F.tabs.pHYs)S=Math.round(F.tabs.pHYs[0]*254/1e4);if(b.length==1)return[{V4:new e3(0,0,_,d),data:b[0],Cr:S}];
var U=[];for(var l=0;l<b.length;l++){U.push({no:"_a_frm"+l+","+F.frames[l].delay,V4:new e3(0,0,_,d),data:b[l],Cr:S})}return U};
fg.fV={};fg.fV.ng=function(e,Z,F,b){var _=new Uint8Array(e[0][0]),d=Z*F,S=d*3,U="P6\n"+Z+" "+F+"\n255\n",r=U.length,q=V.J(r+S,!0);
for(var l=0;l<r;l++)q[l]=U.charCodeAt(l);for(var l=0;l<d;l++){var w=l*4,X=l*3+r;q[X]=_[w];q[X+1]=_[w+1];
q[X+2]=_[w+2]}return q.buffer};fg.fV.Fx=function(e){e=new Uint8Array(e);var Z=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],F=0,b=String.fromCharCode(e[0])+String.fromCharCode(e[1]),_=[],d=0,S=b=="P1"||b=="P4"?2:3;
for(F=2;F<e.length;F++){var U=e[F],r=String.fromCharCode(U);if(U=="#".charCodeAt(0)){while(e[F]!="\n".charCodeAt(0))F++;
continue}var q=Z.indexOf(U)!=-1;if(d==0&&!q){_.push(r);d=1;continue}if(d==1&&!q){_[_.length-1]+=r;continue}if(d==1&&q){d=0;
if(_.length==S)break;continue}}var w=parseInt(_[0]),X=parseInt(_[1]),Q=w*X*4,c=b=="P1"||b=="P4"?1:255/parseInt(_[2]),u=V.J(Q);
if(b=="P1"||b=="P2"||b=="P3"){var n="",k=0,d=0,B="#".charCodeAt(0);for(var l=F;l<e.length;l++){var U=e[l],r=String.fromCharCode(U),q=Z.indexOf(U)!=-1;
if(U==B){while(e[l]!="\n".charCodeAt(0))l++}else if(d==0&&!q){n=r;d=1}else if(d==1){if(q){d=0;var o=parseInt(n);
n="";if(b=="P1"){u[k]=u[k+1]=u[k+2]=(1-o)*255;u[k+3]=255;k+=4}if(b=="P2"){u[k]=u[k+1]=u[k+2]=Math.round(o*c);
u[k+3]=255;k+=4}if(b=="P3"){u[k]=Math.round(o*c);k++;if((k&3)==3){u[k]=255;k++}}}else n+=r}}}var T=w*X;
if(b=="P4")for(var z=0;z<X;z++){var W=z*8*Math.ceil(w/8);for(var $=0;$<w;$++){var l=W+$,R=e[F+1+(l>>3)];
R=R>>7-(l&7)&1;var P=z*w+$<<2;u[P]=u[P+1]=u[P+2]=(1-R)*255;u[P+3]=255}}if(b=="P5")for(var l=0;l<T;l++){var P=4*l;
u[P]=u[P+1]=u[P+2]=Math.round(e[F+1+l]*c);u[P+3]=255}if(b=="P6")for(var l=0;l<T;l++){var P=4*l,H=F+1+3*l;
u[P]=Math.round(e[H]*c);u[P+1]=Math.round(e[H+1]*c);u[P+2]=Math.round(e[H+2]*c);u[P+3]=255}return[{V4:new e3(0,0,w,X),data:u.buffer}]};
fg.mC={};fg.mC.ng=function(e,Z,F,b){if(b==null)b=[!0,!0];var _=new Uint8Array(e[0][0]),d=Z&3,S=F&3;if(d!=0||S!=0){var U=Z+(d==0?0:4-d),r=F+(S==0?0:4-S),q=new Uint8Array(U*r*4);
V.oi(q,4278190080);V.Rf(_,new e3(0,0,Z,F),q,new e3(0,0,U,r));_=q;Z=U;F=r}var w=UTEX.DDS.encode(_.buffer,Z,F,b);
if(!1){var X=UTEX.DDS.decode(w)[0],q=new Uint8Array(X.Sa),Q=0;for(var l=0;l<_.length;l++){var c=_[l]-q[l];
Q+=c*c}console.log(Q)}return w};fg.mC.Fx=function(e){var Z=UTEX.DDS.decode(e)[0];return[{V4:new e3(0,0,Z.width,Z.height),data:Z.image}]};
fg.uH={};fg.uH.Fx=function(e){var Z=UTEX.VTF.decode(e).pop();return[{V4:new e3(0,0,Z.width,Z.height),data:Z.image}]};
fg.AS={};fg.AS.i0=null;fg.AS.aip=function(e,Z){var F=fg.AS.i0,b=e.byteLength,_=Z.width,d=Z.height,S=_*d,U=5e6+2*b+S*(Z.progressive?Math.max(2,Z.numComponents)*4+1:8),r=F.instance.exports;
fg.aW(r,U);var q=new Uint8Array(r.memory.buffer),w=r.malloc(b);q.set(new Uint8Array(e),w);var X=r.malloc(4),Q=r.malloc(4),gi=r.malloc(4),c=r.stbi_load_from_memory(w,b,X,Q,gi,4);
r.free(w);r.free(X,Q,gi);r.free(c);var u=q.slice(c,c+S*4);return u};(function(){var e=fg.cK.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(e).then(function(Z){fg.AS.i0=Z})}());
fg.AS.ng=function(e,Z,F,b){if(b==null)b=[70];var _=e[0],d=new Uint8Array(_[0]);if(V.DA(d)){var S=new Uint8Array(d.length),U=new e3(0,0,Z,F);
V.oi(S,4294967295);V.a.sB("norm",d,U,S,U,U,1);d=S}var r=new Uint8Array(fg.MX(d.buffer,Z,F,"jpeg",b[0]/100));
if(_[2]!=null){var q=fg.AS.UR(r)[224][0]+2;q+=9;r[q]=1;s.Bw(r,q+1,_[2]);s.Bw(r,q+3,_[2])}if(_[3]!=null&&b[1]==!0&&Object.keys(_[3]).length!=0){var w=0,X=0,Q=0,c=bW.FP(_[3]),u=new Uint8Array(UTIF.encode([c])),n="http://ns.adobe.com/xap/1.0/",T=0,$=0,h=20;
w=4+6+u.length;var k=bW.aqj(_[3]),B=s.nw(k);X=4+n.length+1+B.length;var o=bW.agZ(_[3]);for(var l=0;l<o.length;
l++)T+=5+o[l][1].length;var z=T+(T&1),W=V.J(14+4+2+4+z);s.Zh(W,$,"Photoshop 3.0");$+=14;s.Zh(W,$,"8BIM");
$+=4;W[$++]=4;W[$++]=4;$+=2;s.ho(W,$,T);$+=4;for(var l=0;l<o.length;l++){var R=o[l],P=R[1];W[$++]=28;
W[$++]=2;W[$++]=R[0];s.Bw(W,$,P.length);$+=2;s.Zh(W,$,P);$+=P.length}Q=4+W.length;var H=w+X+Q,y=new Uint8Array(r.length+H);
for(var l=0;l<20;l++)y[l]=r[l];for(var l=20;l<r.length;l++)y[l+H]=r[l];y[h]=255;y[h+1]=225;s.Bw(y,h+2,w-2);
s.Zh(y,h+4,"Exif");for(var l=0;l<u.length;l++)y[h+10+l]=u[l];h+=w;y[h]=255;y[h+1]=225;s.Bw(y,h+2,X-2);
s.Zh(y,h+4,n);for(var l=0;l<B.length;l++)y[h+4+n.length+1+l]=B[l];h+=X;y[h]=255;y[h+1]=237;s.Bw(y,h+2,Q-2);
for(var l=0;l<W.length;l++)y[h+4+l]=W[l];h+=Q;r=y}return r.buffer};fg.AS.UR=function(e){var Z=0,F=[],b=e.length;
while(Z<b){while(e[Z]!=255&&Z<b)Z++;while(e[Z]==255)Z++;var _=e[Z];Z++;if(F[_]==null)F[_]=[];F[_].push(Z-2);
if(_==216)continue;if(_==217)break;if(224<=_&&_<=239||_==218||_==219||_==192||_==193||_==194||_==196||_==221||_==254){var d=s.Ip(e,Z);
Z+=d;if(_==218)while(Z<b&&(e[Z]!=255||(e[Z+1]==0||208<=e[Z+1]&&e[Z+1]<=215)))Z++;continue}console.log("unknown marker ",_.toString(16),Z);
break}if(F[217]==null){console.log("EOI marker missing");var S=e.length-2;e[S]=255;e[S+1]=217;F[217]=[S]}return F};
fg.AS.a5T=function(e){e=new Uint8Array(e);if(e[0]!=255)return e.buffer;var Z=fg.AS.UR(e),F=fg.AS.PO(e,Z);
if(F.numComponents!=4)return e.buffer;var b=F.width,_=F.height,d=fg.AS.TN(e,Z,!0);return fg.AS.ng([[d[0].data]],b,_,[85])};
fg.AS.PO=function(e,Z){var F=(Z[192]?Z[192]:Z[193]?Z[193]:Z[194])[0]+4,b={};b.progressive=Z[194]!=null;
b.precision=e[F];F++;b.height=s.Ip(e,F);F+=2;b.width=s.Ip(e,F);F+=2;b.numComponents=e[F];F++;if(Z[224]){var _=b.jfif={};
F=Z[224][0]+2+2+5+2;_.densityUnits=e[F];F++;_.xDensity=s.Ip(e,F);F+=2;_.yDensity=s.Ip(e,F);F+=2}if(Z[238]){var _=b.adobe={};
F=Z[238][0]+2+2+6;_.version=e[F];F++;_.flags0=s.Ip(e,F);F+=2;_.flags1=s.Ip(e,F);F+=2;_.transform=e[F];
F++}return b};fg.AS.aj4=function(e,Z,F){var b=Z,_=s.Ip(e,b);b+=2;var d=s.fl(e,b,4);if(d=="Exif"){b+=6;
var S=e.slice(b,b+_-8),U;try{U=UTIF.decode(S.buffer,{parseMN:!1,debug:!1})}catch(gA){}if(U)F.exif=U}else if(d=="http"){var r=0;
while(e[b+r]!=0)r++;var q=s.fl(e,b,r);b+=r+1;if(q=="http://ns.adobe.com/xmp/extension/"){var w=s.fl(e,b,32);
b+=32;b+=8;var X=Z+_-b;while(e[b+X-1]==0)X--;if(F.xmp_extn==null)F.xmp_extn="";try{F.xmp_extn+=s.CI(e,b,X)}catch(gA){}}else if(q=="http://ns.adobe.com/xap/1.0/"){var Q=s.CI(e.slice(b,b+_-r-3));
if(Q[0]=="?")Q="<"+Q;F.xmp=Q}}else console.log(d)};fg.AS.TN=function(e,Z,F){var b=fg.AS.PO(e,Z),_=b.width,d=b.height,S=_*d,U,r=-1,n=72,k;
if(b.adobe)r=b.adobe.transform;if(F||_*d>15e7||r==0||r==2){var q=new PDFJS.JpegImage;q.parse(e);var w=q.getData({width:_,height:d,forceRGB:!0,isSourcePDF:F}),U=V.J(S*4);
for(var l=0;l<S;l++){var X=l<<2,Q=X-l;U[X]=w[Q];U[X+1]=w[Q+1];U[X+2]=w[Q+2];U[X+3]=255}}else{U=fg.AS.aip(e.buffer,b)}var c=Z[225];
if(c)for(var l=0;l<c.length;l++)fg.AS.aj4(e,c[l]+2,b);var u=Z[217][0]+2;if(u!=e.length)b.suffix=e.slice(u);
var B=[_,d,1,0,0,0,1,0];if(b.jfif&&b.jfif.densityUnits!=0){n=Math.round([72,1,2.54][b.jfif.densityUnits]*b.jfif.xDensity)}else if(b.exif&&b.exif[0].t282!=null){var o=b.exif[0].t282[0];
n=o[0]/o[1]}if(b.exif){var T=b.exif;k=bW.nU(T[0]);var z=T[0].t274;if(z)z=z[0];if(z!=null&&z>1&&z<20)B=V.raw.SM(z,_,d)}if(b.xmp){k=bW.anp(b.xmp,k)}var W=Z[237],$=[],R=[];
if(W){var P=new Uint8Array(65536),H=0,y=0;for(var l=0;l<W.length;l++){y=W[l]+2;var h=y+s.Ip(e,y);y+=2;
var m=y;while(e[y]!=0)y++;y++;var t=s.fl(e,m,y-m-1),j=h-y;while(H+j>P.length){var x=new Uint8Array(P.length*2);
x.set(P);P=x}var C=new Uint8Array(e.buffer,y,j);P.set(C,H);H+=j}y=0;e=P;while(y<H){var L=s.fl(e,y,4);
y+=4;var f=s.Ip(e,y);y+=2;var D=e[y++],v=s.fl(e,y,D);y+=D;if((D&1)==0)y++;var A=s.l(e,y);y+=4;var u=y+A+(A&1);
if(f==1028){while(y+4<u){var M=e[y++],Y=e[y++],J=e[y++],I=s.Ip(e,y);y+=2;if(M==28&&Y==2)$.push([J,s.fl(e,y,I)]);
y+=I}}else if((f&2e3)==2e3){var p=fK.ue(e,y,A);R.push([v,p])}else{}y=u}if($.length!=0)k=bW.arL($,k)}var a=[{V4:new e3(0,0,_,d),data:U.buffer,Cr:n,iT:k,Un:R.length==0?null:R}],k=b.xmp_extn;
if(k){var er=new DOMParser,c8=er.parseFromString(k,"image/svg+xml"),c8=c8.children[0].children[0].children[0],O=[c8.getAttribute("GImage:Data"),c8.getAttribute("GDepth:Data")];
for(var l=0;l<O.length;l++)if(O[l]){var dF=atob(O[l]),gl=new Uint8Array(dF.length);s.Zh(gl,0,dF);gl=gl.buffer;
var e0=fg.zV(gl),bv=fg.H_(e0).Fx(gl);a.push(bv[0])}}if(b.suffix){var gm=b.suffix,iW=s.fl(gm,4,4),jx=s.it(gm,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(fg.ca(gm,[0,0,1,10,14,0,0,0])){var y=0;while(y!=gm.length){var aC=s.lZ(gm,y+2);y+=4;var d9={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[aC];
if(d9!=null){var bS=s.lg(gm,y);y+=4;var jo=s.fl(gm,y,bS);y+=bS;var g7=s.fl(gm,y,d9);y+=d9;if(aC==2608){var dI=s.l(gm,y+24);
y+=dI+24;var gn=s.l(gm,y);y+=gn;alert("Photopea found a "+hd.nR(dI)+" MP4 video inside your image.",4e3)}}else if(aC==18502){while(s.fl(gm,y,4)!="SEFT")y+=4;
y+=4}else{break;console.log(s.cR(gm,y,128));console.log(gm.slice(y));throw aC.toString(16)}}}else if(iW=="ftyp"){alert("Photopea found a "+hd.nR(gm.length)+" MP4 video inside your image.",4e3)}else if(s.fl(gm,0,4)=="fixe"){alert("Unknown data - "+gm.length+" B - at the end of the file",3e3);
var y=4,A=s.lg(gm,y);y+=4;var hI=s.lg(gm,y);y+=4;var d$=s.lg(gm,y);y+=4;console.log(A,hI,d$,gm.slice(y,y+84));
y+=84;var eX=s.fl(gm,y,32);y+=32;y+=8;var eX=s.fl(gm,y,32);y+=32}else if(s.fl(gm,8,13)=="FocusShot_Map"){var d3=s.l(gm,0),I=s.lg(gm,4),gl=V.J(S*4),cJ=V.J(S*4);
for(var dM=0;dM<d;dM++)for(var dh=0;dh<_;dh++){var l=dM*_+dh,X=l<<2,jh=8+13+((dM>>>1)*_+dh>>>1),aK=gm[jh],ca=gm[jh+(S>>>2)];
gl[X]=gl[X+1]=gl[X+2]=aK;gl[X+3]=255;cJ[X]=cJ[X+1]=cJ[X+2]=ca;cJ[X+3]=255}a.push({V4:new e3(0,0,_,d),data:gl.buffer},{V4:new e3(0,0,_,d),data:cJ.buffer})}else if(iW=="edof"){var z=gm[8+7];
console.log(z.toString(16));var y=8+16,iY=s.lZ(gm,y),et=s.lZ(gm,y+2),S=iY*et;y+=4;y+=32+16;var jD=V.J(S*4);
for(var l=0;l<S;l++){var X=l<<2;jD[X]=jD[X+1]=jD[X+2]=gm[y+l];jD[X+3]=255}if(z==16){}else if(z==19){var j6=jD.slice(0);
V.N.zQ(jD,j6,iY,et);var dc=iY;iY=et;et=dc;V.N.aby(j6,jD,iY,et)}else throw"Unknown orientation of a depth map";
a.push({V4:new e3(0,0,iY,et),data:jD.buffer})}else if(jx!=-1&&!(gm[0]==255&&gm[1]==129)){try{if(jx!=0)gm=gm.slice(jx);
var bv=fg.H_("jpg").Fx(gm.buffer);for(var l=0;l<bv.length;l++)a.push(bv[l])}catch(gA){}}}if(a.length>1){var ao=a[0].V4;
a[0].no="Main";for(var l=1;l<a.length;l++){a[l].no=fg.AS.auf(new Uint8Array(a[l].data))?"Depth Map":null;
var ec=a[l].V4;if(!ec.Tn(ao)){var fp=ao.w/ec.w,eN=ao._/ec._,ha=new jg;ha.scale(fp,eN);var bJ=i.Q.Wm([new Uint8Array(a[l].data),ec],1,V.N.C5(ha));
a[l].V4=bJ.rect;a[l].data=bJ.buffer}}}if(fg.AS.X7==1)if(B[2]!=1||B[6]!=1)for(var l=0;l<a.length;l++){var g3=a[l],bL=new Uint8Array(g3.data),_=g3.V4.w,d=g3.V4._,iY=B[0],et=B[1],U=V.J(iY*et*4);
V.N.LC(bL,_,d,U,B);g3.V4=new e3(0,0,iY,et);g3.data=U.buffer}return a};fg.AS.auf=function(e){var Z=!0;
for(var l=0;l<e.length;l+=4){Z=Z&&e[l]==e[l+1]&&e[l+1]==e[l+2]}return Z};fg.AS.X7=0;fg.AS.Fx=function(e,Z,F){e=new Uint8Array(e);
if(e[0]==255){var b=fg.AS.UR(e);if(b[195]==null){fg.AS.X7++;var _=fg.AS.TN(e,b,!1);fg.AS.X7--;return _}var d=s.Ip(e,b[195][0]+5),S=s.Ip(e,b[195][0]+7),U=UTIF.LosslessJpegDecode(e),r=S*d,q=V.J(r*4);
for(var l=0;l<r;l++){var w=l<<2,X=w-l;q[w]=U[X];q[w+1]=U[X+1];q[w+2]=U[X+2];q[w+3]=255}return[{V4:new e3(0,0,S,d),data:q.buffer}]}else if(e[0]==0&&e[4]==48&&e[6]==1){var Q=e,c=new PDFJS.Jbig2Image,u=[];
if(Z)u.push({data:Z,start:0,end:Z.length});u.push({data:Q,start:0,end:Q.length});var U=c.parseChunks(u);
if(!F)for(var l=0;l<U.length;l++)U[l]=~U[l];var S=s.l(e,11),d=s.l(e,15),n=Math.ceil(S/8),k=V.J(S*d*4);
for(var B=0;B<d;B++){var o=B*n;for(var T=0;T<S;T++){var w=(B*S+T)*4,z=U[o+(T>>>3)]>>>7-(T&7)&1,W=z*255;
k[w]=W;k[w+1]=W;k[w+2]=W;k[w+3]=255}}return[{V4:new e3(0,0,S,d),data:k.buffer}]}else{var c=new PDFJS.JpxImage;
c.parse(e);var S=c.width,d=c.height,$=c.tiles,R=c.componentsCount,P=new Uint8Array(S*d*4),H=new e3(0,0,S,d);
for(var c=0;c<$.length;c++){var y=$[c],h=y.width,m=y.height,t=h*m,j=y.items,x=new e3(y.left,y.top,h,m),C=new Uint8Array(t*4);
if(R==1)for(var l=0;l<t;l++){var L=j[l],w=l*4;C[w]=L;C[w+1]=L;C[w+2]=L;C[w+3]=255}else if(R==3)for(var l=0;
l<t;l++){var X=l*3,w=l*4;C[w]=j[X];C[w+1]=j[X+1];C[w+2]=j[X+2];C[w+3]=255}else console.log("Unknown number of components: "+R);
V.Rf(C,x,P,H)}return[{V4:H,data:P.buffer}]}};fg.qc={};fg.qc.ng=function(e,Z,F,b){if(b==null)b=[70,0,0,0];
var _=b[0]/100,r=0;if(e.length==1)return fg.MX(e[0][0],Z,F,"webp",_);var d=s.Hj,S=s.rf,U=new iw;d(U,r,"RIFF    WEBPVP8X");
r+=16;S(U,r,10);r+=4;S(U,r,18);r+=4;S(U,r,Z-1);r+=3;S(U,r,F-1);r+=3;d(U,r,"ANIM");r+=4;S(U,r,6);r+=4;
U.Y1(r,4);U.data[r+3]=255;s.vi(U,r+4,b[2]);r+=6;var q=[];for(var l=0;l<e.length;l++){q.push(e[l][0])}var w=UPNG.encode.compress(q,Z,F,_==1?0:Math.max(2,Math.floor(_*500)),[!1,!0,!0,0,!0]).frames;
for(var l=0;l<e.length;l++){d(U,r,"ANMF");r+=4;var X=r;r+=4;var Q=w[l],c=Q.rect,u=[c.x>>>1,c.y>>>1,c.width-1,c.height-1,e[l][1]];
for(var n=0;n<5;n++)S(U,r+3*n,u[n]);r+=15;U.Y1(r,1);U.data[r]=1-Q.blend<<1|Q.dispose;r++;var k=new Uint8Array(fg.MX(Q.img.buffer,c.width,c.height,"webp",1)),B=e4.qj(k.buffer).sub,o=s.fl(k,12,4);
if(o!="VP8L"&&o!="VP8 "&&o!="VP8X")throw"e";var T=o=="VP8 "?0:o=="VP8L"?12:30,z=k.length-T;U.Y1(r,z);
for(var n=0;n<z;n++)U.data[r+n]=k[T+n];r+=z;var W=r-X-4;S(U,X,W);if((W&1)==1){U.Y1(r,1);r++}}S(U,4,r-8);
return U.data.slice(0,r).buffer};(function(){var e=fg.cK.get("wasm/webp").buffer;WebAssembly.instantiate(e).then(function(Z){var F=Z.instance.exports;
fg.qc.exp=F})}());fg.qc.Fx=function(e){var Z=new Uint8Array(e),F=fg.qc.aaD,b=null,_=e4.qj(e).sub,d={};
for(var l=0;l<_.length;l++)d[_[l].uz]=_[l];var S=d.ANIM,U=d.VP8L,r=d["VP8 "],q=d.VP8X;if(S==null){var w,X;
if(r){w=s.lZ(Z,r.r+6);X=s.lZ(Z,r.r+8)}else if(U){var Q=s.lg(Z,U.r+1);w=(Q&(1<<14)-1)+1;X=(Q>>>14&(1<<14)-1)+1}else throw"e";
var c=[F(b,e,{r:0,size:Z.length},w,X)];return c}var u=q.r,w=1+(s.lg(Z,u+4)&16777215),X=1+(s.lg(Z,u+7)&16777215),n=[],k=new e3(0,0,w,X),B=V.J(w*X*4);
for(var l=0;l<_.length;l++){var o=_[l];if(o.uz!="ANMF")continue;var T=[];for(var z=0;z<5;z++)T.push(s.lg(Z,o.r+z*3)&16777215);
var W=new e3(T[0]*2,T[1]*2,T[2]+1,T[3]+1),$=T[4],R=F(b,e,{r:o.r+16,size:o.size-16},w,X),P=new Uint8Array(R.data),H=Z[o.r+15];
if(H>>>1==0)V.a.sB("norm",P,W,B,k,W,1);else V.Rf(P,W,B,k);n.push({no:"_a_"+n.length+","+$,V4:k.clone(),data:B.buffer.slice(0)});
if((H&1)==1){V.oi(P,0);V.Rf(P,W,B,k)}}return n};fg.qc.aaD=function(e,Z,F,b,_){var d=fg.qc.exp,S=d.memory,U=5e6+2*F.size+b*_*10;
fg.aW(d,U);var r=new Uint8Array(S.buffer),q=d.malloc(F.size);r.set(new Uint8Array(Z,F.r,F.size),q);var w=d.malloc(8),X=d.WebPDecodeARGB(q,F.size,w,w+4),Q=s.lg(r,w),c=s.lg(r,w+4),u=Q*c*4,n=V.J(u);
for(var l=0;l<u;l+=4){n[l]=r[X+l+1];n[l+1]=r[X+l+2];n[l+2]=r[X+l+3];n[l+3]=r[X+l]}d.WebPFree(X);d.free(w);
d.free(q);return{V4:new e3(0,0,Q,c),data:n.buffer}};fg.adk=function(){function e(U,r,q,w){var X=new Uint8Array(U[0][0]),Q=new Uint32Array(X.buffer),c=[],u={},k=24,B=0,$=0;
for(var l=0;l<Q.length;l++){var n=Q[l]&16777215;if(u[n]==null){u[n]=c.length;c.push(n);if(c.length>256){c=null;
break}}}if(c){k=1;while(1<<k<c.length)k*=2;if(k==2)k=4}var o={bo:r,zA:q,lV:1,nd:k,Lh:0,aoM:B},T=4*Math.floor((o.nd*o.bo+31)/32);
o.size=T*o.zA+2;var z=new iw,W=c?(1<<k)*4:0;s.Hj(z,$,"BM");$+=2;s.rf(z,$,T*q+16+40+W);$+=4;s.rf(z,$,0);
$+=4;s.rf(z,$,54+W);$+=4;z.Y1($,40);s.rf(z,$,40);$+=4;S(z.data,$,o,T);$+=36;if(c){z.Y1($,W);var R=z.data;
for(var l=0;l<c.length;l++){var P=$+l*4,H=c[l]>>>16,y=c[l]>>>8&255,h=c[l]&255;R[P]=H;R[P+1]=y;R[P+2]=h}$+=W}z.Y1($,T*q);
if(k==24)for(var m=0;m<q;m++){var t=$+(q-1-m)*T;for(var j=0;j<r;j++){var x=(m*r+j)*4;z.data[t+j*3+2]=X[x];
z.data[t+j*3+1]=X[x+1];z.data[t+j*3+0]=X[x+2]}}else if(k==8)for(var m=0;m<q;m++){var t=$+(q-1-m)*T;for(var j=0;
j<r;j++){var x=m*r+j,C=u[Q[x]&16777215];z.data[t+j]|=C}}else if(k==4)for(var m=0;m<q;m++){var t=$+(q-1-m)*T;
for(var j=0;j<r;j++){var x=m*r+j,C=u[Q[x]&16777215];z.data[t+(j>>>1)]|=C<<4-(j&1)*4}}else if(k==1)for(var m=0;
m<q;m++){var t=$+(q-1-m)*T;for(var j=0;j<r;j++){var x=m*r+j,C=u[Q[x]&16777215];z.data[t+(j>>>3)]|=C<<7-(j&7)}}$+=T*q+2;
return z.data.slice(0,$).buffer}function Z(U){U=new Uint8Array(U);if(s.lg(U,0)==40)return[F(U.buffer,0)];
var r=0,q=s.fl(U,r,2);r+=2;if(q!="BM"){alert("Unsupported BMP format: "+q);return}var w=s.lg(U,r);r+=4;
r+=4;var X=s.lg(U,r);r+=4;return[F(U.buffer,r,X)]}function F(U,r,q){U=new Uint8Array(U);var w=s.lg(U,r),X=d(U,r+4);
if(X.lV!=1)alert("unsupported number of color planes: "+X.lV);if(X.Lh!=0&&X.Lh!=1&&X.Lh!=2&&X.Lh!=3){alert("Unsupported BMP compression: "+X.Lh);
return}r+=w;var Q=r,c=U;if(q==null)q=r;if(X.Lh==1||X.Lh==2){var u=_(U,q,X);X.nd=8;U=u;q=0}var n=4*Math.floor((X.nd*X.bo+31)/32),k=X.bo,B=Math.abs(X.zA),o=new Uint8Array(k*B*4);
o.fill(255);if(X.nd==32)for(var T=0;T<B;T++){var z=q+(B-1-T)*n;for(var W=0;W<k;W++){var $=(T*k+W)*4;
o[$]=U[z+W*4+2];o[$+1]=U[z+W*4+1];o[$+2]=U[z+W*4+0];o[$+3]=U[z+W*4+3]}}else if(X.nd==24)for(var T=0;
T<B;T++){var z=q+(B-1-T)*n;for(var W=0;W<k;W++){var $=(T*k+W)*4;o[$]=U[z+W*3+2];o[$+1]=U[z+W*3+1];o[$+2]=U[z+W*3+0]}}else if(X.nd==16)for(var T=0;
T<B;T++){var z=q+(B-1-T)*n;for(var W=0;W<k;W++){var $=(T*k+W)*4,R=U[z+W*2+1]<<8|U[z+W*2];o[$]=(R>>>11)*(255/31);
o[$+1]=(R>>>5&63)*(255/63);o[$+2]=(R&31)*(255/31)}}else if(X.nd==8)for(var T=0;T<B;T++){var z=q+(B-1-T)*n;
for(var W=0;W<k;W++){var $=(T*k+W)*4,P=U[z+W];o[$]=c[Q+4*P+2];o[$+1]=c[Q+4*P+1];o[$+2]=c[Q+4*P+0]}}else if(X.nd==4)for(var T=0;
T<B;T++){var z=q+(B-1-T)*n;for(var W=0;W<k;W++){var $=(T*k+W)*4,P=U[z+(W>>1)];P=P>>4-4*(W&1);P=P&15;
o[$]=c[Q+4*P+2];o[$+1]=c[Q+4*P+1];o[$+2]=c[Q+4*P+0]}}else if(X.nd==1)for(var T=0;T<B;T++){var z=q+(B-1-T)*n;
for(var W=0;W<k;W++){var $=(T*k+W)*4,H=U[z+(W>>3)];H=H>>7-(W&7);H=H&1;o[$]=c[Q+4*H+2];o[$+1]=c[Q+4*H+1];
o[$+2]=c[Q+4*H+0]}}else throw"Unknown bit depth "+X.nd;if(X.zA<0){var y=new Uint32Array(o.buffer),h=B>>>1;
for(var T=0;T<h;T++){var m=T*k,t=(B-T-1)*k;for(var W=0;W<k;W++){var j=y[m+W];y[m+W]=y[t+W];y[t+W]=j}}}return{V4:new e3(0,0,k,B),data:o.buffer}}function b(U,l){return U>>>4-((l&1)<<2)&15}function _(U,r,q){var w=q.bo,X=Math.abs(q.zA),Q=new Uint8Array(w*X),c=0,u=0,l=0;
while(u<X){var n=U[r++],k=U[r++],B=u*w+c;if(n>0){if(q.nd==4)for(l=0;l<n;l++){Q[B+l]=b(k,l)}else for(l=0;
l<n;l++){Q[B+l]=k}c+=n}else if(n==0&&k==0){u++;c=0}else if(n==0&&k==1){break}else if(n==0&&k==2){c+=U[r++];
u+=U[r++]}else{var o=k;if(q.nd==4){for(l=0;l<k;l++){Q[B+l]=b(U[r+(l>>>1)],l)}o=Math.ceil(k/2)}else{for(l=0;
l<k;l++){Q[B+l]=U[r+l]}}if((o&1)!=0)o++;r+=o;c+=k}}return Q}function d(U,r){var q=s.p8,w=s.lg,X=s.lZ,Q={};
Q.bo=q(U,r);r+=4;Q.zA=q(U,r);r+=4;Q.lV=X(U,r);r+=2;Q.nd=X(U,r);r+=2;Q.Lh=w(U,r);r+=4;Q.size=w(U,r);r+=4;
var c=q(U,r);r+=4;var u=q(U,r);r+=4;Q.aoM=w(U,r);r+=4;r+=4;return Q}function S(U,r,q,w){s.V3(U,r,q.bo);
r+=4;s.V3(U,r,q.zA);r+=4;s.e7(U,r,q.lV);r+=2;s.e7(U,r,q.nd);r+=2;s.V3(U,r,q.Lh);r+=4;s.V3(U,r,q.size);
r+=4;s.V3(U,r,2834);r+=4;s.V3(U,r,2834);r+=4;s.V3(U,r,q.aoM);r+=4;r+=4}return{Fx:Z,ng:e,a7V:F}}();fg.T9={};
fg.T9.ng=function(e,Z,F,b){if(b==null)b=[100,!1,0,0,0,0];var _=[],d=[],S=Z*F*4,n=null;for(var U=0;U<e.length;
U++){var r=new Uint8Array(e[U][0].slice(0));for(var l=0;l<S;l+=4){var q=r[l+3]=r[l+3]>127?255:0;if(q==0)r[l]=r[l+1]=r[l+2]=0}_.push(r.buffer);
d.push(e[U][1])}var w=Math.round(2+254*b[0]/100),X=UPNG.encode.compress(_,Z,F,w,[!0,!1,!1,8,!1,b[1]]),Q=X.plte,c=new Uint8Array(4),u=new Uint32Array(c.buffer);
for(var l=0;l<Q.length;l++){u[0]=Q[l];var k=c[0];c[0]=c[2];c[2]=k;Q[l]=u[0];if(u[0]==0)n=l}while(Q.length<256)Q.push(0);
var B=new Uint8Array(2e3+Z*F*e.length),o=b[3],T={palette:Q};if(o!=1)T.loop=o==0?0:o-1;var z=new GifWriter(B,Z,F,T);
for(var l=0;l<e.length;l++){var W=X.frames[l],$=W.rect,R=W.blend,P=W.dispose;z.addFrame($.x,$.y,$.width,$.height,W.img,{transparent:n,disposal:P+1,delay:Math.round(d[l]/10)})}return B.slice(0,z.end()).buffer};
fg.T9.Fx=function(e){var Z=Date.now(),F=[],b=UGIF.decode(e),_=UGIF.toRGBA8(b),d=new e3(0,0,b.width,b.height);
for(var l=0;l<_.length;l++){var S=b.frames[l];F.push({V4:d.clone(),no:"_a_frm"+l+","+S.delay*10,data:_[l]})}return F};
fg.mm={};fg.mm.ng=function(e,Z,F,b){console.log(e);if(Z>256||F>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var _=Math.min(Z,256),d=Math.min(F,256),S=new e3(0,0,_,d),U=V.J(S.Z()*4),r=new e3(0,0,Z,F),q=new Uint8Array(e[0][0]);
V.Rf(q,r,U,S);e[0][0]=U.buffer;Z=_;F=d}var w=new iw,X=0,Q=b&&b[0]==!0;s.vi(w,X,0);X+=2;s.vi(w,X,Q?2:1);
X+=2;s.vi(w,X,1);X+=2;var c=new Uint8Array(fg.H_("png").ng(e,Z,F));w.Y1(X,16);w.data[X]=Z==256?0:Z;X++;
w.data[X]=F==256?0:F;X++;X+=2;s.vi(w,X,Q?Math.round(Z/2):1);X+=2;s.vi(w,X,Q?Math.round(F/2):32);X+=2;
s.rf(w,X,c.length);X+=4;s.rf(w,X,6+16);X+=4;w.Y1(X,c.length);for(var l=0;l<c.length;l++)w.data[X+l]=c[l];
X+=c.length;var u=new Uint8Array(X);for(var l=0;l<X;l++)u[l]=w.data[l];return u.buffer};fg.mm.Fx=function(e){e=new Uint8Array(e);
var Z=4,F=s.lZ(e,Z);Z+=2;var b=[];for(var l=0;l<F;l++){var _=fg.mm.apF(e,Z+l*16),d=e.buffer.slice(_.offset,_.offset+_.size),S=fg.zV(d);
S=S?S:"bmp";if(S=="png"){var U=fg.H_(S),r=U.Fx(d);_.LR=r[0]}else{var q=fg.H_("BMP").a7V(d,0),d=V.J(_.bo*_.zA*4);
V.Rf(new Uint8Array(q.data),new e3(0,0,q.V4.w,q.V4._),d,new e3(0,_.zA,_.bo,_.zA));q.data=d.buffer;q.V4._=_.zA;
_.LR=q}b.push(_)}b.sort(function(w,X){if(w.bo!=X.bo)return w.bo-X.bo;return w.arZ-X.arZ});return[b.pop().LR]};
fg.mm.apF=function(e,Z){var F={};F.bo=e[Z];Z++;if(F.bo==0)F.bo=256;F.zA=e[Z];Z++;if(F.zA==0)F.zA=256;
F.arB=e[Z];Z++;Z++;F.ahZ=s.lZ(e,Z);Z+=2;F.arZ=s.lZ(e,Z);Z+=2;F.size=s.lg(e,Z);Z+=4;F.offset=s.lg(e,Z);
Z+=4;return F};fg.dn={};fg.dn.Fx=function(e){var Z=Date.now(),b,X=!0;if(V.raw.Um(e.byteLength))return[V.raw.ac3(e)];
var F=UTIF.decode(e);if(F[0].t33421)b=F[0];else if(F[0].subIFD&&F[0].t271&&F[0].t271[0]=="Hasselblad"){b=F[0].subIFD[0];
b.t33421=[2,2]}else if(F[0].subIFD&&F[0].subIFD[0].t33421){b=F[0].subIFD[0];if(b.t50706==null){if(b.t258[0]==8)b.t258[0]=12}}else if(F[0].subIFD&&F[0].subIFD[0]&&F[0].subIFD[0].t262&&F[0].subIFD[0].t262[0]==34892)b=F[0].subIFD[0];
else if(F[0].subIFD&&F[0].subIFD[1]&&F[0].subIFD[1].t33421)b=F[0].subIFD[1];else if(F[0].subIFD&&F[0].subIFD[2]&&F[0].subIFD[2].t33421)b=F[0].subIFD[2];
else if(F[3]&&F[3].t50648){var _=F[0].exifIFD,d=_.makerNote;b=F[3];var S=d.t224[1],U=d.t224[2];b.t256=[S];
b.t257=[U];b.t258=[16];b.t259=[7];b.t262=[32803];b.t277=[1];b.t33421=[2,2];var r=b.t50656[0],q=V.raw.u9[r];
if(q==null)throw"e";b.t33422=q}if(b){UTIF.decodeImage(e,b,F);for(var w in F[0])if((w[0]=="t"||w[0]=="e"||w[0]=="d")&&b[w]==null)b[w]=F[0][w];
b.yB=F[0].t274?F[0].t274[0]:1;return[b]}var Q=1/256;for(var l=0;l<F.length;l++)if(F[l].t258&&F[l].t258[0]==16&&F[l].t277&&F[l].t277[0]==1){}else X=!1;
if(X){var c=0,u=0,n=0;for(var l=0;l<F.length;l++){UTIF.decodeImage(e,F[l],F);var k=F[l].data;for(var B=0;
B<k.length;B+=2){var o=k[B+1]<<8|k[B];if(o>c)c=o;u+=o;n++}}Q=1/256*65535/(.5*c+.5*(2*u/n))}var T=[];
for(var l=0;l<F.length;l++){var z=F[l],W=72;UTIF.decodeImage(e,z,F);var $=z.t282,R=z.t296;if($!=null&&R!=null){W=$[0][0]/$[0][1];
if(R[0]==3)W=Math.round(W/2.54)}if(z.width==null)continue;var P=UTIF.toRGBA8(z,Q).buffer,H=bW.nU(z);
T.push({V4:new e3(0,0,z.width,z.height),data:P,Cr:W,iT:H})}return T};fg.dn.ng=function(e,Z,F,b){if(b==null)b=[!1];
var _={},d=e[0];if(d[3]!=null&&b[0])_=bW.FP(d[3]);if(d[2]!=null){_.t282=_.t283=[[Math.round(d[2]),1]];
_.t296=[2]}return UTIF.encodeImage(d[0],Z,F,_)};fg.VW={};fg.VW.dH=!0;fg.VW.Fx=function(e,Z){e5.qj(e,Z)};
fg.VW.a6W=function(e,Z,F,b){if(b==null)b=[!1,!1,!1,!1];if(!b[0])e.zB();var _=new iw,d=e5.Gf(e,_,b);return[_.data.buffer,d]};
fg.VW.ng=function(e,Z,F,b){var _=fg.VW.a6W(e,Z,F,b),d=_[0],S=_[1];return d.byteLength==S?d:d.slice(0,S)};
fg.Bh={};fg.Bh.dH=!0;fg.Bh.Fx=function(e,Z){var F=pako.inflate(new Uint8Array(e)),b=s.Ip(F,0),_=s.Ip(F,2),d=4;
Z.w=s.l(F,d);d+=4;Z._=s.l(F,d);d+=4;Z.buffer=V.J(Z.w*Z._*4);var S=s.Ip(F,d);d+=2;d+=4;for(var U=0;U<S;
U++){var r=Z.yG(),u=0,C=1,L=2,f=3,D=0;Z.g.push(r);var q=s.l(F,d);d+=4;var w=d,X=s.Ip(F,w);w+=2;var Q=s.CI(F,w,X);
w+=X;r.Hr(Q);var c=F[w];w++;if(c!=0&&c!=1)throw c;r.rect.x=s.ft(F,w);w+=4;r.rect.y=s.ft(F,w);w+=4;r.rect.w=s.l(F,w);
w+=4;r.rect._=s.l(F,w);w+=4;if(b>3){u=s.ft(F,w);w+=4}r.opacity=Math.round(255*F[w]/100);w++;var n=F[w];
w++;r.cm(n!=0);r.Du="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[F[w]];
w++;var k=F[w];w++;if(k)r.add.lspf=1<<31;if(b>3){var B=s.Ip(F,w);w+=2;if(B!=0){var o=JSON.parse(s.CI(F,w,B));
w+=B;var T=o.text,z=o.textSettings,W=z.font,$=z.size,R=z.padding,P=parseInt(z.color.slice(1),16);r.add.lnsr="rend";
r.add.TySh=fN.hB(0,0);r.add.TySh.nq=new e3(0,0,100,100);var H=r.add.TySh.A=new jg,y=r.rect.w/2,h=r.rect._/2;
H.translate(-y,-h);H.rotate(-u*Math.PI/180);H.translate(y,h);H.translate(r.rect.x+R,r.rect.y+R);var m=r.add.TySh.HV;
fN.mJ(m,1);fN.wH(m,[0,0,r.rect.w-R*2,r.rect._]);fN.Z4(m,0,T);var t=fN.C7(m,0,1);t.sn.FontSize=$;t.sn.FillColor={Type:1,Values:[1,(P>>>16&255)/255,(P>>>8&255)/255,(P>>>0&255)/255]};
if(z.bold)W+="-Bold";fN.Kh(t,W);t.Qm.Justification=["left","right","center"].indexOf(z.align);fN.IY(m,0,T.length,t)}}var j=s.l(F,w);
w+=4;if(j!=r.rect.Z()*4){for(var l=r.rect.w;l>r.rect.w/2;l--){var x=j/(l*4);if(x==Math.round(x)){r.rect.w=l;
r.rect._=x;break}}}r.buffer=V.J(r.rect.Z()*4);if(b>3){C=0;L=1;f=2;D=3}for(var l=0;l<j;l+=4){r.buffer[l]=F[w+l+C];
r.buffer[l+1]=F[w+l+L];r.buffer[l+2]=F[w+l+f];r.buffer[l+3]=F[w+l+D]}w+=j;var v=s.l(F,w);w+=4;if(v==0&&b>3){d+=q;
continue}var A=F[w];w++;var M=s.Ip(F,w);w+=2;if(v!=0){r.v=new g.hW;r.v.rect=r.rect.clone();r.v.channel=V.J(r.rect.Z());
for(var l=0;l<v;l+=4)r.v.channel[l>>>2]=F[w+l+1];w+=v}if(A!=0){var Y=JSON.parse(fu.default);r.add.lmfx=Y;
for(var l=0;l<fu.order.length;l++)Y[fu.VX[l]]={t:"VlLs",v:[]};var J={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var l=0;l<A;l++){var I=s.Ip(F,w),p=w+I+4,a=F.slice(w,p),er=F[w+2];w+=3;var c8=J[er+""],O=JSON.parse(fu.qx[c8]);
Y[fu.VX[c8]].v.push({t:"Objc",v:O});if(c8!=0){O.Md.v.BlnM=ae.px("norm");O.Opct.v.val=F[w];w++;if(c8==9||c8==2){O.Dstn.v.val=F[w+1];
w+=2}else w+=2;O.blur.v.val=Math.round(F[w]*1.2);w++;if(c8==9||c8==2){O.uglg.v=!1;O.lagl.v.val=180-s.Ip(F,w);
w+=2}O.Clr.v=V.X.Q9({o:F[w+1],z:F[w+2],S:F[w+3]})}else{O.hglM.v.BlnM=O.sdwM.v.BlnM=ae.px("norm");w+=2;
var dF=F[w++],gl=F[w++];O.blur.v.val=Math.round(Math.sqrt(gl*dF)*1.3);O.srgR.v.val=Math.round(100*dF/gl);
O.uglg.v=!1;O.lagl.v.val=180-s.Ip(F,w);w+=2;O.hglO.v.val=F[w++];O.hglC.v=V.X.Q9({o:F[w+1],z:F[w+2],S:F[w+3]});
w+=4;O.sdwO.v.val=F[w++];O.sdwC.v=V.X.Q9({o:F[w+1],z:F[w+2],S:F[w+3]});w+=4}w=p}}if(w-d<q){var e0=s.l(F,w),iW=0;
w+=4;w++;var X=s.Ip(F,w);w+=2;var T=s.CI(F,w,X);w+=X;T=T.replace(/\r/g,"\n");var X=s.Ip(F,w);w+=2;var W=s.CI(F,w,X);
w+=X;var $=s.Ip(F,w);w+=2;var bv=r.rect.x,gm=r.rect.w;if(e0&4)iW=1;if(e0&2)iW=2;var jx=Math.round($*.4);
if(iW==0||iW==2)gm+=jx;if(iW==1||iW==2){gm+=jx;bv-=jx}r.add.lnsr="rend";r.add.TySh=fN.hB(0,0);r.add.TySh.nq=new e3(0,0,100,100);
r.add.TySh.A=new jg(1,0,0,1,bv,r.rect.y+$*.25);var m=r.add.TySh.HV;fN.mJ(m,1);fN.wH(m,[0,0,gm,r.rect._]);
fN.Z4(m,0,T);var t=fN.C7(m,0,1);t.sn.FontSize=$;t.sn.FillColor={Type:1,Values:[1,F[w+1]/255,F[w+2]/255,F[w+3]/255]};
w+=4;if(F[w+5])W+="-Bold";if(F[w+6])W+="-Italic";fN.Kh(t,W);t.Qm.Justification=iW;w+=8;fN.IY(m,0,T.length,t)}d+=q}};
fg.KF={};fg.KF.dH=!0;fg.KF.Fx=function(e,Z){g8.qj(e,Z)};fg._t={};fg._t.dH=!0;fg._t.Fx=function(e,Z){fr.qj(e,Z)};
fg.Lg={};fg.Lg.dH=!0;fg.Lg.Fx=function(e,Z){c9.qj(e,Z)};fg.ky={};fg.ky.dH=!0;fg.ky.Fx=function(e,Z){gX.qj(e,Z)};
fg.tl={};fg.tl.dH=!0;fg.tl.Fx=function(e,Z){bQ.qj(e,Z)};fg.br={};fg.br.dH=!0;fg.br.Fx=function(e,Z){fz.qj(e,Z)};
fg.Tz={};fg.Tz.dH=!0;fg.Tz.ng=function(e,Z,F,b,_){if(b==null)b=[!0,!1,!1,!1,!0,!0];var d=iL.WQ(e,{MY:b[0],hidden:b[1],a3E:b[2],a97:b[3],names:b[4],a1A:b[5],adJ:Z,a5t:F},_.W5);
return d};fg.Tz.Fx=function(e,Z,F){iL.qj(e,Z,F)};fg.Fe={};fg.Fe.dH=!0;fg.Fe.Fx=function(e,Z){var F=150,b=new jg(1,0,0,-1,0,0);
b.scale(F/72,F/72);Z.Cr=F;var _=new c_(Z,b,!0);FromPS.Parse(e,_)};fg.U2={};fg.U2.dH=!0;fg.U2.ng=function(e,Z,F,b,_){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=["jpg"];var d=new ToPDF;db.WQ(e,b,d,_.W5,Z,F);return d.buffer};fg.U2.Fx=function(e,Z,F){var b=2;
while(!0){var _=b*72,d=new jg(1,0,0,-1,0,0);d.scale(_/72,_/72);Z.Cr=_;var S=new c_(Z,d,!0);FromPDF.Parse(e,S);
var U=Math.max(Z.w,Z._);if(F&&U<Math.max(F[0],F[1])){Z.g=[];var r=b;while(U*(b/r)<Math.max(F[0],F[1]))b++}else break}};
fg.KC={};fg.KC.dH=!0;fg.KC.Fx=function(e,Z){var F=72,b=new jg(1,0,0,1,0,0);b.scale(F/72,F/72);Z.Cr=F;
var _=new c_(Z,b,!1);FromWMF.Parse(e,_)};fg.xl={};fg.xl.qU=!0;fg.xl.dH=!0;fg.xl.ng=function(e,Z,F,b,_){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=[];var d=new ToEMF;db.WQ(e,b,d,_.W5);return d.buffer};fg.xl.Fx=function(e,Z){var F=72,b=new jg(1,0,0,1,0,0);
b.scale(F/72,F/72);Z.Cr=F;var _=new c_(Z,b,!1);FromEMF.Parse(e,_)};fg.Cz={};fg.Cz.dH=!0;fg.Cz.Fx=function(e,Z){return fx.qj(e,Z)};
fg.Nq={};fg.Nq.Fx=function(e,Z){var F=hj.qj(e),b=new Uint8Array(e),_=0,d,S,U,r,q,w,X,Q,c=0,u=0,n=0,k=0,B=0;
for(var o=0;o<F.sub.length;o++){var T=F.sub[o],_=T.r;if(T.uz=="BMHD"){var z=[];for(var l=0;l<4;l++)z[l]=s.Ip(b,_+2*l);
_+=8;r=z[2];q=z[3];S=z[0];U=z[1];d=V.J(S*U*4);w=b[_++];X=b[_++];Q=b[_++]}else if(T.uz=="CMAP")c=_;else if(T.uz=="CAMG"){var W=s.l(b,_);
u=W&32768,n=W&4,k=W&2048;B=W&128}else if(T.uz=="BODY"){var $=S+15>>>4<<1,R=w+X,P=V.J($*U*R),m,j,x;hm.Mk(b,_,T.size,P,0,P.length);
var H=w-2,y=(1<<H)-1,h=Math.round(255/y);for(var q=0;q<U;q++)for(var r=0;r<S;r++){var C=0;for(var L=0;
L<R;L++){var f=(q*R+L)*$*8+r,D=P[f>>>3]>>>7-(f&7)&1;C|=D<<L}var v=C>>>w,C=C&(1<<w)-1,l=q*S+r,A=l<<2;
if(c!=0){if(k!=0&&C>>>H!=0){var M=C>>>H,Y=(C&y)*h;if(M==1)x=Y;else if(M==2)m=Y;else if(M==3)j=Y}else{var Y=c+C*3;
m=b[Y+0];j=b[Y+1];x=b[Y+2]}}else{m=C>>>0&255;j=C>>>8&255;x=C>>>16&255}d[A+0]=m;d[A+1]=j;d[A+2]=x;d[A+3]=255}}}return[{V4:new e3(0,0,S,U),data:d.buffer}]};
fg.qt={};fg.qt.dH=!1;fg.qt.ng=function(e,Z,F,b){var _=e[0][4],d=new Uint8Array(e[0][0]),S=2,U=_?!0:!1,r=U?4:3,q=new Uint8Array(Z*F*r);
for(var w=0;w<F;w++)for(var X=0;X<Z;X++){var Q=w*Z+X<<2,c=((F-w-1)*Z+X)*r;q[c]=d[Q+2];q[c+1]=d[Q+1];
q[c+2]=d[Q+0];if(U)q[c+3]=_[0][w*Z+X]}if(!0){var u=q.length,n=0,k=new Uint8Array(u*2),B=0,o=0,T=Z*r;
while(o<u){var z=o,W=0,$=T*(Math.floor(o/T)+1);while(z<$&&W<128){var R=!0;for(var l=0;l<r;l++)R=R&q[o+l]==q[z+l];
if(!R)break;z+=r;W++}if(W==1){var P=1;while(P<128&&o+(P+1)*r<$){var R=!0,H=o+P*r;for(var l=0;l<r;l++)R=R&q[H+l]==q[H+r+l];
if(R)break;P++}k[B++]=P-1;for(var y=0;y<P;y++)for(var l=0;l<r;l++)k[B++]=q[o++]}else{k[B++]=127+W;for(var l=0;
l<r;l++)k[B+l]=q[o+l];B+=r;o+=r*W;n+=W}}q=k.slice(0,B);S+=8}var h=new Uint8Array(18+q.length+26);h[2]=S;
s.e7(h,12,Z);s.e7(h,14,F);h[16]=r*8;h[17]=r==4?8:0;h.set(q,18);s.Zh(h,18+q.length+8,"TRUEVISION-XFILE.");
return h.buffer};fg.qt.Fx=function(e){var Z=new Uint8Array(e),F=0,b=Z[0],_=Z[1],d=Z[2],S=Z[4]*256+Z[3],U=Z[6]*256+Z[5],r=Z[7],q=Z[9]*256+Z[8],w=Z[11]*256+Z[10],X=Z[13]*256+Z[12],Q=Z[15]*256+Z[14],c=Z[16],u=Z[17],n=u>>>4,k=s.fl(Z,18,b),B=V.J(X*Q*4),F=18+b+(U*r>>>3),o=new Uint8Array(Z.buffer,F);
if(d>3){var T=0,z=Z,W=new Uint8Array(X*Q*c>>>3),$=F,R=0,P=Z.length,H=c>>>3;while(R<W.length){var gi=z[$];
$++;if(gi<128)for(var l=0;l<gi+1;l++){for(var y=0;y<H;y++){W[R]=z[$];R++;$++}}else{for(var l=0;l<gi-127;
l++){for(var y=0;y<H;y++){W[R]=z[$+y];R++}}$+=H}}d-=8;o=W;F=$}else F+=X*Q*c>>>3;var h=new Uint8Array(4),m=fg.qt.a9F;
for(var t=0;t<Q;t++)for(var j=0;j<X;j++){var x=(n&2)==0?(Q-t-1)*X+j:t*X+j,C=t*X+j,L,f,D,v=255,A=x*c>>>3;
if(d==1){var M=0;if(c==8)M=o[A];else throw"e";m(Z,18+b+S+(M*r>>>3),r,h);L=h[0];f=h[1];D=h[2];v=h[3]}else if(d==2){m(o,A,c,h);
L=h[0];f=h[1];D=h[2];v=h[3]}else if(d==3){if(c==8)L=f=D=o[A];else throw"e"}var Y=C*4;B[Y]=L;B[Y+1]=f;
B[Y+2]=D;B[Y+3]=v}var h={V4:new e3(0,0,X,Q),data:B.buffer,no:k};if(V.DA(B)){var J=V.J(X*Q);V.yC(B,J,3);
V.oi(B,4278190080,16777215);h.LE=[J]}return[h]};fg.qt.a9F=function(e,Z,F,b){var _,d,S,U=255;if(F==24||F==32){S=e[Z];
d=e[Z+1];_=e[Z+2];if(F==32)U=e[Z+3]}else if(F==16){var r=e[Z+1]<<8|e[Z+0];_=r>>>10&31;d=r>>>5&31;S=r>>>0&31;
_=Math.round(_*(255/31));d=Math.round(d*(255/31));S=Math.round(S*(255/31))}else throw"e";b[0]=_;b[1]=d;
b[2]=S;b[3]=U};fg.arM=function(){var e,Z=[],F=!1;function b(S,U,r,q){e=r;Z.push(S,q);_()}function _(){if(F||Z.length==0)return;
F=!0;fg.a1V(Z.shift(),"image/avif",d)}function d(S){e(null,[S],Z.shift());F=!1;_()}return{dH:!1,r0:!0,Fx:b}}();
fg.a4V=function(){var e,Z=[],F=!1,b,_,d,S,U,r;function q(c,u,n,k){e=n;Z.push(c,k);w()}function w(){if(F||Z.length==0)return;
F=!0;b=document.createElement("canvas");_=b.getContext("2d");d=document.createElement("video");var c="data:"+"video/mp4"+";base64,"+fg.$J(Z.shift());
d.src=c;d.muted=!0;d.currentTime=0;d.addEventListener("canplay",X,!1);d.addEventListener("timeupdate",Q,!1)}function X(c){d.removeEventListener("canplay",X);
S=b.width=d.videoWidth;U=b.height=d.videoHeight;r=[];d.play()}function Q(c){var u=10;_.drawImage(d,0,0);
r.push({no:"_a_"+r.length+","+Math.round(1e3/u),V4:new e3(0,0,S,U),data:_.getImageData(0,0,S,U).data.buffer});
var n=d.currentTime+1/u;if(n<d.duration)d.currentTime=n;else{e(null,r,Z.shift());d.removeEventListener("timeupdate",Q);
F=!1;w();r=null}}return{dH:!1,r0:!0,Fx:q}}();fg.eS={};fg.eS.Fx=function(e){var Z=new Uint8Array(e),F=0,b=112,_=42,d=s.lg,w;
F+=8;var S=Z[F];F++;if(S!=_)throw"e";var U=d(Z,F);F+=4;var r=s.D6(Z,F,U);F+=U*2;var q=[];while(F<Z.length){w=d(Z,F);
F+=4;if(w!=b)throw w;F+=4;w=Z[F];F++;if(w!=_)throw w;var X=d(Z,F);F+=4;var Q=Z[F];F++;if(Q!=_){F-=5;
X=d(Z,F);F+=8;w=Z[F];F++;if(w!=_)throw w}var c=d(Z,F)*2;F+=4;if(X>0)q.push(F+c);F+=c+X}var u=new DOMParser,n=u.parseFromString(r,"image/svg+xml").firstChild.firstChild,k=[];
fg.eS.oL(n,Z,q,k);return k};fg.eS.oL=function(e,Z,F,b){var _=e.firstChild.firstChild;if(_.tagName=="Image"){var d=_.getElementsByTagName("ImageDescription")[0],S=d.children[0].children,U=d.children[1].children,r=F.shift(),q=[];
for(var l=0;l<U.length;l++)q.push(parseInt(U[l].getAttribute("NumberOfElements")));while(q.length>3)q[2]*=q.pop();
var w=S.length,X=q[0],Q=q[1],c=q[2],u=parseInt(U[0].getAttribute("BytesInc"));for(var n=0;n<c;n++){var k=V.J(X*Q*4);
V.oi(k,4278190080);for(var B=0;B<w;B++){var o=V.J(X*Q);if(u==1)for(var T=0;T<o.length;T++)o[T]=Z[r+T];
else if(u==2)for(var T=0;T<o.length;T++)o[T]=Math.min(255,(Z[r+T*2+1]<<8|Z[r+T*2])>>>2);else throw u;
if(B!=3)V.s$(o,k,B);if(w==1){V.s$(o,k,1);V.s$(o,k,2)}r+=X*Q*u}b.push({V4:new e3(0,0,X,Q),data:k.buffer})}}else{var z=e.children,W=0;
while(W<z.length&&z[W].tagName!="Children")W++;if(W==z.length)throw"e";z=z[W].children;for(var $=0;$<z.length;
$++)fg.eS.oL(z[$],Z,F,b)}};fg.zD={};fg.zD.Fx=function(e){var Z=new Uint8Array(e),F=0,b={},w=1e9;for(var l=0;
l<306;l++){var _=s.fl(Z,F,8).trim(),d=s.fl(Z,F+9,71).split("/")[0].trim();b[_]=d;F+=80;if(_=="END"){F=Math.ceil(F/2880)*2880;
break}}var S=parseInt(b.NAXIS1),U=parseInt(b.NAXIS2),r=S*U,q=parseInt(b.BITPIX),X=-1e9,Q=new Float32Array(r),c=new Float32Array(e,F,e.byteLength-F>>>2);
for(var l=0;l<r;l++){var u=l<<2,n=l<<1;if(q==-32){var k=Z[F+u+0];Z[F+u+0]=Z[F+u+3];Z[F+u+3]=k;var k=Z[F+u+1];
Z[F+u+1]=Z[F+u+2];Z[F+u+2]=k;Q[l]=c[l]}else if(q==16){Q[l]=s.lZ(Z,F+n)}else throw q;var B=Q[l];if(B<w)w=B;
if(B>X)X=B}var o=V.J(r*4),T=1/X;for(var z=0;z<U;z++)for(var W=0;W<S;W++){var l=z*S+W,$=(U-z-1)*S+W,u=$<<2,B=Q[l]*T;
o[u]=o[u+1]=o[u+2]=255*B;o[u+3]=255}return[{V4:new e3(0,0,S,U),data:o,no:b.OBJECT}]};fg.t2={};fg.t2.Fx=function(e){var Z=new Uint8Array(e),F=16,b=s.fl(Z,F,4),d=32,B=0,o=0,T=!1,f;
F+=4;var _=s.fl(Z,F,8);F+=8;while(Z[F+d-1]==0)d--;var S=s.fl(Z,F,d);F+=32;var U=s.fl(Z,F,4);F+=4;F+=20;
var r=s.l(Z,F);F+=4;var q=s.l(Z,F);F+=4;var w=s.l(Z,F);F+=4;var X=s.l(Z,F);F+=4;var Q=s.l(Z,F);F+=4;
var c=s.l(Z,F);F+=4;var u="FujiFilm "+S,n=[0,1,1,2];if(u=="FujiFilm X10"){u="FujiFilm FinePix X10";n=[2,1,1,0]}var k={t271:["FujiFilm"],t272:[u],t277:[1],t33421:[2,2],t33422:n,yB:1};
F=w;var z=[],W=s.Ip,$=s.l(Z,F);F+=4;for(var l=0;l<$;l++){var R=W(Z,F);F+=2;var P=W(Z,F);F+=2;if(R==256){o=W(Z,F);
B=W(Z,F+2)}else if(R==272){z=[W(Z,F),W(Z,F+2)]}else if(R==273){z.push(W(Z,F),W(Z,F+2))}else if(R==304){T=!(Z[F]>>>7)}else if(R==305){var H=Math.round(Math.sqrt(P)),y=[];
for(var h=0;h<P;h++)y.push(Z[F+h]);y.reverse();k.t33421=[H,H];k.t33422=y}else if(R==12272){var m=W(Z,F),t=W(Z,F+2),j=W(Z,F+6);
k.t50728=[m/t,1,m/j]}F+=P}var x=B<o,C=Z.slice(Q,Q+c),L=Math.round(c*8/(B*o));if(C[0]==73&&C[1]==73&&C[2]==42){f=UTIF.decode(C.buffer)[0].fujiIFD;
L=f.t61443[0];var D=f.t61454,v=f.t61450;if(v)k.t50714=v;if(D)k.t50728=[D[0]/D[1],1,D[0]/D[2]];var A=f.t61447[0];
C=C.slice(A,A+f.t61448[0])}var c=C.length,M=c*8<B*o*L;if(M){console.log("compressed");var Y=k.t33422,J=~~Math.sqrt(Y.length),I=[];
for(var l=0;l<J;l++)I[l]=Y.slice(l*J,l*J+J);C=new Uint8Array(UTIF._decompressRAF(C,I).buffer);c=C.length}function p(dF,gl,e0){e0=e0<<8-(gl&7);
var bv=gl>>>3;dF[bv]|=e0>>>16;dF[bv+1]|=e0>>>8;dF[bv+2]|=e0}var a=c*8/(B*o);if(a==16)for(var l=0;l<c;
l+=2){var er=C[l];C[l]=C[l+1];C[l+1]=er}else if(a==14){for(var l=0;l<c;l+=4){var er=C[l];C[l]=C[l+3];
C[l+3]=er;er=C[l+1];C[l+1]=C[l+2];C[l+2]=er}}else if(a==12)for(var l=0;l<c;l+=3){var c8=C[l+2]<<16|C[l+1]<<8|C[l+0];
c8=c8>>>12|(c8&4095)<<12;C[l]=c8>>>16&255;C[l+1]=c8>>>8&255;C[l+2]=c8&255}if(x)C=fg.t2.any(C,B,o);var O=x?2:1;
B*=O;k.t256=[B];k.t257=[o];k.t258=[L];k.t50719=[z[1],z[0]*O];k.t50720=[z[3],z[2]*O];k.width=B;k.height=o;
k.data=new Uint8Array(C.buffer);return[k]};fg.t2.any=function(e,Z,F){e=new Uint16Array(e.buffer);var b=new Uint16Array(Z*F*2);
for(var _=0;_<F;_+=2)for(var d=0;d<Z;d++){var S=_*Z+d,U=S*2,r=e[S],q=e[S+Z];b[U+1]=b[U+2*Z]=q;if(((_>>>1)+d&1)==0){b[U]=r;
b[U+2*Z+1]=e[S+1]}else{b[U]=e[S-1];b[U+2*Z+1]=r}}return b};fg.Ap={};fg.Ap.qU=!0;fg.Ap.ng=function(e,Z,F,b){var _=new Uint8Array(e[0][0]),d=Z*F,S=[1,3,4][b[0]],U=8+8*b[1],r=b[2];
if(S==1){var q=new Uint8Array(Z*F);V.yC(_,q,0);_=q}if(S==3){var q=new Uint8Array(Z*F*3);for(var l=0;
l<d;l++){var w=l*4,X=l*3;q[X]=_[w];q[X+1]=_[w+1];q[X+2]=_[w+2]}_=q}if(U==16){var Q=_.length,q=new Uint8Array(Q*2);
for(var l=0;l<Q;l++){var c=Math.round(_[l]*(65535/255));q[l*2+r]=c>>>8;q[l*2+1-r]=c&255}_=q}return _.buffer};
fg.a8={};fg.a8.Fx=function(e,Z){function F(r){return~~(.5+V.aZ(Math.max(0,Math.min(1,r)))*255)}var b=EXRLoader.parse(e),_=b.width,d=b.height,S=V.J(_*d*4);
for(var U=0;U<d;U++)for(var r=0;r<_;r++){var l=(U*_+r)*4,q=((d-U-1)*_+r)*4;S[l]=F(b.data[q+0]);S[l+1]=F(b.data[q+1]);
S[l+2]=F(b.data[q+2]);S[l+3]=F(b.data[q+3])}return[{V4:new e3(0,0,_,d),data:S.buffer}]};fg.fO={};fg.fO.qU=!0;
fg.fO.dH=!0;fg.fO.ng=function(e,Z,F,b,_){b=["",100,!1,!1,!1,0];b[6]=["jpg"];var d=new ToDXF;db.WQ(e,b,d,_.W5);
return d.buffer};fg.fO.Fx=function(e,Z){var F=72,b=new jg(1,0,0,1,0,0);b.scale(F/72,F/72);Z.Cr=F;var _=new c_(Z,b,!1);
FromDXF.Parse(e,_)};fg.Cc={};fg.Cc.Fx=function(){var e=s.lZ,Z=s.lg,F=s.fl,b;function _(S,U,r,q,w){var X=Z(S,r),Q=Z(S,r+4),c=Z(S,r+8),u=e(S,r+12),n=e(S,r+14);
r+=16;var k={};for(var l=0;l<u+n;l++){var B=Z(S,r),o=Z(S,r+4),T,z;if(B>>>31==1){B=B&16777215}if(l<u)T=s.D6(S,U+B+2,e(S,U+B));
else T="id"+B;var W=q.slice(0);W.push(T);if(o>>>31==1){o=o&268435455;z=_(S,U,U+o,W,w)}else{var $=Z(S,U+o),R=Z(S,U+o+4),P=Z(S,U+o+8),H=Z(S,U+o+12);
if(H!=0)throw"e";if($<w[0]||$>w[0]+w[1])throw"e";var y=w[2]+$-w[0];z=S.slice(y,y+R);var h=fg.zV(z.buffer);
if(h&&["bmp","png","ico"].indexOf(h)!=-1){var m=fg.H_(h);if(!m.dH){var t=null;try{t=m.Fx(z.buffer)}catch(gA){}if(t){t[0].no=W[1];
b.push(t[0])}}}else if(h)console.log(h)}k[T]=z;r+=8}return k}function d(S){b=[];var U=new Uint8Array(S),r=0,q=e(U,r);
r+=2;r+=58;var w=Z(U,r);r+=4;r=w;var X=F(U,r,4);r+=4;var Q=e(U,r);r+=2;var c=e(U,r);r+=2;var u=Z(U,r);
r+=4;var n=Z(U,r);r+=4;var k=Z(U,r);r+=4;var B=e(U,r);r+=2;var o=e(U,r);r+=2;r+=B;var T={};for(var l=0;
l<c;l++){var z=r;while(U[z]!=0)z++;var W=F(U,r,z-r),$=Z(U,r+8),R=Z(U,r+12),P=Z(U,r+16),H=Z(U,r+20),y=Z(U,r+24),h=Z(U,r+28),m=e(U,r+32),t=e(U,r+34),o=Z(U,r+36);
T[W]=[R,$,H,P,o];if(y+h!=0)throw"e";r+=40}for(var j in T){var x=T[j];r=x[2];if(j==".rsrc"){var C=_(U,r,r,[],x),L="id134"}}return b}return d}();
fg.YG={};fg.YG.dH=!0;fg.YG.Fx=function(e,Z){hY.qj(e,Z)};(function(){var e=fg.cK.get("wasm/zstd").buffer;
WebAssembly.instantiate(e).then(function(Z){var F=Z.instance.exports;fg.YG.ars=F})}());fg.YG.nu=function(e,Z){var F=fg.YG.ars,b=e.length,_=F.memory,d=2*b+1e6,r=8;
fg.aW(F,d);var S=new Uint8Array(_.buffer),U=F.malloc(b);S.set(e,U);while(!0){var q=Z==null?b*r:Z;fg.aW(F,d+q);
var w=F.malloc(q),X=F.ZSTD_decompress(w,q,U,b);if(X==-70){F.free(w);r+=r>>>1;if(Z!=null)throw"error"}else{S=new Uint8Array(_.buffer);
e=S.slice(w,w+X);F.free(w);break}}F.free(U);return e};fg.CV={};fg.CV.dH=!0;fg.CV.Fx=function(){var e=0,Z=1,F=2,b=3,_=4,d=5,S=6,U=7,r=1,q=2,w=7,X=8,Q=9,c,u,n,k,B;
function o(){var gi=s.p8(c,u);u+=4;return gi}function T(){var f=0,D=0;for(var l=0;l<5;l++){var v=c[u++];
f+=(v&127)<<D;D+=7;if((v&128)==0)break}return f}function z(){var f=T(),D=s.CI(c,u,f);u+=f;return D}function W(){return{typeName:z(),amE:o()}}function $(){var f=o(),D=z(),v=[],A=o();
for(var l=0;l<A;l++)v.push([z()]);return{id:f,if:D,a9y:v}}function R(f){var D=f.a9y,v=[];for(var l=0;
l<D.length;l++)D[l].push(c[u++]);for(var l=0;l<D.length;l++){var A=D[l][1],M;D[l].push(P(A))}}function P(f){var D;
if(f==e)D=c[u++];else if(f==b)D=z();else if(f==_)D=W();else if(f==Z||f==F||f==S||f==d){}else throw f;
return D}function H(f,D,v){var A;if(f==e){if(D==r)A=c[u++]==1;else if(D==q){A=c[u++]}else if(D==X)A=o();
else if(D==Q){A=o();o()}else throw D}else if(f==b){A=t(v+1)}else if(f==_){A=t(v+1)}else if(f==d){A=t(v+1)}else if(f==Z){A=t(v+1)}else if(f==S){A=t(v+1)}else throw f;
return A}function y(f,D){var v=n["c"+f],A=v.a9y,M={_class:v.if};for(var l=0;l<A.length;l++){var Y=A[l],J=Y[1],I=Y[2],p=H(J,I,D),a=Y[0];
M[a]=p}return M}function h(f,D,v,A){var M=[];for(var l=0;l<f;l++){var Y=H(D,v,A);if(Y.DE&&Y.DE=="null_count"){var J=Y.Bi;
for(var I=0;I<J;I++)M.push(null);l+=J-1}else M.push(Y)}return M}function m(){return[o(),o()]}function t(f){if(f==null)throw"e";
var D=null,v=c[u],A=null;u++;if(v==0){var M=o(),Y=o(),J=o(),I=o();D=[M,Y,J,I]}else if(v==1){A=o();var p=o();
D=y(p,f)}else if(v==4){var a=$();A=a.id;R(a);n["c"+a.id]=a;D=y(a.id,f)}else if(v==5){var a=$();A=a.id;
R(a);var er=o();n["c"+a.id]=a;D=y(a.id,f)}else if(v==6){A=o();var c8=z();D=c8}else if(v==7){A=o();var O=c[u++];
if(O!=0)throw O;var dF=o();if(dF!=1)throw dF;var gl=o(),e0=c[u++],bv=P(e0);D=h(gl,e0,bv,f)}else if(v==9){var gm=o();
D={DE:"ref",Bi:gm};B["o"+gm]=!0}else if(v==10){D={DE:"null_count",Bi:1}}else if(v==11){D={DE:"end"}}else if(v==12){var er=o(),iW=z()}else if(v==13){var jx=c[u++];
D={DE:"null_count",Bi:jx}}else if(v==16){var aC=m();A=aC[0];D=h(aC[1],_,null,f)}else if(v==17){var aC=m();
A=aC[0];D=h(aC[1],Z,null,f)}else throw"e";if(A!=null&&A>0){if(k["o"+A]!=null)throw"e";k["o"+A]=D}return D}function j(f,k){if(f instanceof Array){for(var l=0;
l<f.length;l++)f[l]=x(f[l],k)}else if(f instanceof Object){for(var D in f)f[D]=x(f[D],k)}}function x(f,k){if(f&&f.DE&&f.DE=="ref")return k["o"+f.Bi];
else return f}function C(f,D,v){c=new Uint8Array(f);u=0;n={};k={};B={};var A=s.fl(c,0,4);if(A!="PDN3")throw A;
u+=4;var M=s.lZ(c,u)+c[u+2]*256*256;u+=3;var Y=s.fl(c,u,M);u+=M;u+=2;while(!0){var J=t(0);if(J&&J.DE&&J.DE=="end")break}for(var I in B)if(k[I]==null)throw I;
for(var I in k)j(k[I],k);var p=k.o1;console.log(p);D.w=p.width;D._=p.height;D.buffer=V.J(D.w*D._*4);
var a=p.layers["ArrayList+_items"];for(var l=0;l<a.length;l++){var er=a[l];if(er==null)continue;console.log(er);
var c8=er["Layer+width"],O=er["Layer+height"],dF=er["Layer+properties"],gl=er.properties,e0=gl.blendOp._class.split("+").pop();
e0=e0.slice(0,e0.length-7);var bv={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[e0],gm=D.yG();
gm.Hr(dF.name);gm.opacity=dF.opacity;gm.cm(dF.visible);gm.Du=bv;var iW=1<<16,jx=Math.ceil(c8*O/iW);gm.rect=new e3(0,0,c8,O);
gm.buffer=V.J(c8*O*4);var aC=gm.buffer;u+=5;for(var d9=0;d9<jx;d9++){var bS=L();aC.set(bS[1],bS[0]*iW*4)}for(var jo=0;
jo<aC.length;jo+=4){var g7=aC[jo+0];aC[jo+0]=aC[jo+2];aC[jo+2]=g7}D.g.push(gm)}}function L(){var f=s.l(c,u);
u+=4;var D=s.l(c,u);u+=4;var v=pako.inflateRaw(c.slice(u+10));u+=D;return[f,v]}return C}();var E={};
E.P7=!1;E.uD=!1;E.xk=!1;E.O=document.createElement("canvas");E.Gl=null;E.bU=null;E.CF=0;(function(){var e={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},Z;
if(!Z)Z=E.O.getContext("webgl",e);if(!Z)Z=E.O.getContext("experimental-webgl",e);if(Z){E.P7=!0;E.uD=!0;
E.Gl=Z;E.bU=Z.createFramebuffer();Z.bindFramebuffer(Z.FRAMEBUFFER,E.bU);Z.disable(Z.BLEND);Z.disable(Z.DEPTH_TEST);
var F=Z.createBuffer();Z.bindBuffer(Z.ARRAY_BUFFER,F);Z.bufferData(Z.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),Z.STATIC_DRAW);
Z.enableVertexAttribArray(0);Z.vertexAttribPointer(0,2,Z.FLOAT,!1,0,0)}}());E.af1=function(e){e=e.replace(/\s\s+/g," ");
e=e.replace(/; /g,";");e=e.replace(/} /g,"}");e=e.replace(/ }/g,"}");e=e.replace(/{ /g,"{");e=e.replace(/ {/g,"{");
e=e.replace(/= /g,"=");e=e.replace(/ =/g,"=");e=e.replace(/\| /g,"|");e=e.replace(/ \|/g,"|");return e};
E.acK=function(e){var Z=E.Gl;if(e>Z.getParameter(Z.MAX_TEXTURE_SIZE)){E.P7=!1;alert("Disabling WebGL")}};
E.cg=function(e,Z){return new Float32Array([(e.x-Z.x)/Z.w,(e.y-Z.y)/Z._,e.w/Z.w,e._/Z._])};E.LH=function(){return this.O};
E.vN=function(e,Z){var F=E.Gl;F.bindFramebuffer(F.FRAMEBUFFER,E.bU);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,e.ad,0);
F.viewport(0,0,e.w,e._);if(Z){F.enable(F.SCISSOR_TEST);F.scissor(Z.x,Z.y,Z.w,Z._)}else F.disable(F.SCISSOR_TEST)};
E.aq=function(e,Z,F){if(F)throw"error";var b=E.Gl;b.disable(b.SCISSOR_TEST);b.bindFramebuffer(b.FRAMEBUFFER,null);
b.viewport(0,0,e,Z);if(F){b.enable(b.SCISSOR_TEST);b.scissor(F.x,F.y,Math.round(F.w),Math.round(F._))}else b.disable(b.SCISSOR_TEST)};
E.clear=function(){var e=E.Gl;e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT)};E.fm=function(e,Z){if(Z==null)Z=0;
var F=(Z>>>0&255)==0,b=(Z>>>8&255)==0,_=(Z>>>16&255)==0,d=(Z>>>24&255)==0,S=(e>>>0&255)*(1/255),U=(e>>>8&255)*(1/255),r=(e>>>16&255)*(1/255),q=(e>>>24&255)*(1/255),w=E.Gl;
w.colorMask(F,b,_,d);w.clearColor(S,U,r,q);w.clear(w.COLOR_BUFFER_BIT);w.colorMask(!0,!0,!0,!0)};E.n7=function(e,Z,F,b,_){var d=Z.QP(b);
if(_)d=d.QP(_);if(d.BJ())return;var S=E.Gl;E.vN(e);S.bindTexture(S.TEXTURE_2D,F.ad);S.copyTexSubImage2D(S.TEXTURE_2D,0,d.x-b.x,d.y-b.y,d.x-Z.x,d.y-Z.y,d.w,d._)};
E.KB=function(l,e,Z){var F=E.h$[l];if(F==null||F.w!=e||F._!=Z){if(F)F.delete();F=new E.xV(e,Z)}E.h$[l]=F;
return F};E.h$=[];E.qo=function(){this.ud=null;this.Lb=null};E.qo.A7=null;E.qo.prototype.zn=function(e){if(this.Lb)return;
this.Lb={};var Z=E.Gl,F=this.ud,b=this.Lb;for(var l=0;l<e.length;l++){var _=e[l];b[_]=Z.getUniformLocation(F,_)}};
E.qo.prototype.Qa=function(){};E.qo.prototype.Iw=function(e){var Z=E.Gl;for(var l=0;l<e.length;l+=2){Z.uniform1i(e[l],l>>>1);
Z.activeTexture(Z["TEXTURE"+(l>>>1)]);Z.bindTexture(Z.TEXTURE_2D,e[l+1])}Z.activeTexture(Z.TEXTURE0)};
E.qo.prototype.c8=function(e,Z){var F=E.Gl,b=F.createShader(F.FRAGMENT_SHADER);F.shaderSource(b,e);F.compileShader(b);
if(!F.getShaderParameter(b,F.COMPILE_STATUS))console.log(F.getShaderInfoLog(b));var _=F.createShader(F.VERTEX_SHADER);
F.shaderSource(_,Z);F.compileShader(_);if(!F.getShaderParameter(_,F.COMPILE_STATUS))console.log(F.getShaderInfoLog(_));
var d=F.createProgram();F.attachShader(d,_);F.attachShader(d,b);F.linkProgram(d);if(!F.getProgramParameter(d,F.LINK_STATUS))console.log("Could not initialise shaders");
this.ud=d};E.qo.prototype.AK=function(){if(E.qo.A7!=this){E.Gl.useProgram(this.ud);E.qo.A7=this}};E.$M=function(e,Z){E.KK++;
E.CF+=e*Z;if(E.xk)console.log("GL.Channels instances: "+E.KK+", memory: "+E.CF);var F=E.Gl;this.w=e;
this._=Z;this.ad=F.createTexture();this.rh=null;this.YU(this.ad,e,Z)};E.$M.prototype.YU=function(e,Z,F){var b=E.Gl;
b.bindTexture(b.TEXTURE_2D,e);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);
b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,Z,F,0,b.ALPHA,b.UNSIGNED_BYTE,null)};E.$M.prototype.set=function(e){var Z=E.Gl;
Z.bindTexture(Z.TEXTURE_2D,this.ad);Z.pixelStorei(Z.UNPACK_ALIGNMENT,1);Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,this.w,this._,0,Z.ALPHA,Z.UNSIGNED_BYTE,e);
Z.pixelStorei(Z.UNPACK_ALIGNMENT,4)};E.$M.prototype.delete=function(){var e=E.Gl;if(this.ad){e.deleteTexture(this.ad);
E.KK--;E.CF-=this.w*this._}if(E.xk)if(E.xk)console.log("GL.Channels instances: "+E.KK+", memory: "+E.CF*4)};
E.KK=0;E.xV=function(e,Z,F){if(F==null)F=!1;E.KK++;E.CF+=e*Z*4;if(E.xk)console.log("GL.Channels instances: "+E.KK+", memory: "+E.CF);
var b=E.Gl;this.af4=F;this.w=e;this._=Z;this.ad=b.createTexture();this.rh=null;this.YU(this.ad,e,Z)};
E.xV.prototype.set=function(e,Z){var F=E.Gl;F.disable(F.SCISSOR_TEST);F.bindTexture(F.TEXTURE_2D,this.ad);
if(e==null||e instanceof Uint8Array){var b=this.w*this._;if(Z==null||Z.Z()*10>b)F.texImage2D(F.TEXTURE_2D,0,F.RGBA,this.w,this._,0,F.RGBA,F.UNSIGNED_BYTE,e);
else{var _=V.J(Z.Z()*4);V.Rf(e,new e3(0,0,this.w,this._),_,Z);F.texSubImage2D(F.TEXTURE_2D,0,Z.x,Z.y,Z.w,Z._,F.RGBA,F.UNSIGNED_BYTE,_)}}else F.texImage2D(F.TEXTURE_2D,0,F.RGBA,F.RGBA,F.UNSIGNED_BYTE,e)};
E.xV.prototype.get=function(e){var Z=E.Gl;E.vN(this);Z.readPixels(0,0,this.w,this._,Z.RGBA,Z.UNSIGNED_BYTE,e)};
E.xV.prototype.FV=function(e){if(e.BJ())return;var Z=E.Gl;if(this.rh==null){this.rh=Z.createTexture();
this.YU(this.rh,this.w,this._);E.KK++;E.CF+=this.w*this._*4}Z.bindFramebuffer(Z.FRAMEBUFFER,E.bU);Z.bindTexture(Z.TEXTURE_2D,this.rh);
if(e){var F=Math.max(e.x,0),b=Math.max(e.y,0);Z.copyTexSubImage2D(Z.TEXTURE_2D,0,F,b,F,b,e.w,e._)}else Z.copyTexImage2D(Z.TEXTURE_2D,0,Z.RGBA,0,0,this.w,this._,0)};
E.xV.prototype.YU=function(e,Z,F){var b=E.Gl;b.bindTexture(b.TEXTURE_2D,e);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.af4?b.LINEAR:b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,Z,F,0,b.RGBA,b.UNSIGNED_BYTE,null)};
E.xV.prototype.delete=function(){var e=E.Gl;if(this.ad){e.deleteTexture(this.ad);E.KK--;E.CF-=this.w*this._*4}if(this.rh){e.deleteTexture(this.rh);
E.KK--;E.CF-=this.w*this._*4}if(E.xk)if(E.xk)console.log("GL.Channels instances: "+E.KK+", memory: "+E.CF)};
E.xV.prototype.clone=function(){var e=E.Gl,Z=new E.xV(this.w,this._);E.vN(this);e.bindTexture(e.TEXTURE_2D,Z.ad);
e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.w,this._,0);return Z};E.Ks={a7d:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a9q:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Xm:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",ew:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",YM:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",gJ:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",NV:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",T7:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aqz:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",mh:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ag3:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",ds:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",B9:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Q0:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",FD:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Sj:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Sq:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Mq:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",gc:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",akB:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aiH:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Vo:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
E.a={};E.a.fs={};E.a.dX=null;E.a.jb=null;E.a.TK=null;E.a.jE=function(e,Z,F,b,_,d,S,U){if(U==null)U=d4.ck();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){S=S*U.fill;U.fill=1;U.style=!1}var r=e+(U.lm?"1":"");
if(E.a.fs[r]==null)E.a.fs[r]=new E.a.Qo(e,U.lm!=null);var q=E.a.fs[r],w=F.QP(_).QP(d);w.offset(-_.x,-_.y);
if(w.BJ())return;var X=E.Gl;E.vN(b,w);b.FV(w);q.AK();q.Qa(Z.ad,b.rh,E.cg(F,_),S,U.fill,U.style?1:0,U.FA?1:0,U.lm?new Float32Array(U.lm):null);
X.drawArrays(X.TRIANGLES,0,6)};E.a.Y3=function(e,Z,F,b,_,d,S,U,r,q,w){if(E.a.dX==null)E.a.dX=new E.a.hx(!0,!0);
if(E.a.jb==null)E.a.jb=new E.a.hx(!0,!1);if(E.a.TK==null)E.a.TK=new E.a.hx(!1,!0);var X=q?1:0,Q=e?_?E.a.dX:E.a.jb:E.a.TK,c=new Float32Array(w?[w[0],w[1],w[2],1]:[1,1,1,1]),u=Z?Z.QP(b).QP(U):b.QP(U);
if(u.BJ())return;u.offset(-b.x,-b.y);var n=E.Gl;E.vN(F,u);F.FV(u);Q.AK();if(e==null)Q.Qa(null,F.rh,_.ad,E.cg(b,b),E.cg(d,b),S/255,r,X,c);
else if(_)Q.Qa(e.ad,F.rh,_.ad,E.cg(Z,b),E.cg(d,b),S/255,r,X,c);else Q.Qa(e.ad,F.rh,null,E.cg(Z,b),null,S/255,r,X,c);
n.drawArrays(n.TRIANGLES,0,6)};E.a.afS=function(e,Z,F){if(E.a.aq5==null)E.a.aq5=new E.a.jV;var b=E.a.aq5,_=new e3(0,0,e.w,e._),d=E.Gl;
E.vN(Z);Z.FV(_);b.AK();b.Qa(_,e.ad,Z.rh,F.ad);d.drawArrays(d.TRIANGLES,0,6)};E.a.rE={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
E.a.Qo=function(e,Z){E.qo.call(this);var F="\t\t\tprecision highp float;\t\t\t"+E.Ks.Xm+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(Z?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+E.Ks.gJ+"\t\t\t"+E.Ks.NV+"\t\t\t"+E.Ks.T7+"\t\t\t"+E.Ks.a7d+"\t\t\t"+E.Ks.a9q+"\t\t\t"+E.Ks.aqz+"\t\t\t"+E.Ks.mh+"\t\t\t"+E.Ks.ag3+"\t\t\t"+E.Ks.ds+"\t\t\t"+E.Ks.hash+"\t\t\t"+(Z?E.Ks.Vo:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+E.a.rE[e]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",b="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(e=="diss")F+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else F+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(Z?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.c8(F,b)};E.a.Qo.prototype=new E.qo;E.a.Qo.prototype.Qa=function(e,Z,F,b,_,d,S,U){this.zn("srct alpha source target fill style keepBGA blIf".split(" "));
var r=E.Gl,q=this.Lb;r.uniform4fv(q.srct,F);r.uniform1f(q.alpha,b);r.uniform1f(q.fill,_);r.uniform1f(q.style,d);
r.uniform1f(q.keepBGA,S);if(U)r.uniform4fv(q.blIf,U);this.Iw([q.source,e,q.target,Z])};E.a.hx=function(e,Z){E.qo.call(this);
this.aaT=e;this.Iy=Z;var F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+E.Ks.B9+"\t\t\t"+E.Ks.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(e?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(Z?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(e?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(Z?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.c8(F,b)};E.a.hx.prototype=new E.qo;E.a.hx.prototype.Qa=function(e,Z,F,b,_,d,S,U,r){if(this.Iy)this.zn("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.zn("srct awg dissv source target cswitch".split(" "));var q=E.Gl,w=this.Lb;q.uniform4fv(w.srct,b);
if(this.Iy){q.uniform4fv(w.wrct,_);q.uniform1f(w.wcolor,d)}else{q.uniform4fv(w.cswitch,r)}q.uniform1f(w.awg,S);
q.uniform1f(w.dissv,U);var X=[w.source,e,w.target,Z];if(this.Iy)X.push(w.weight,F);this.Iw(X)};E.a.jV=function(){E.qo.call(this);
var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.c8(e,Z)};E.a.jV.prototype=new E.qo;E.a.jV.prototype.Qa=function(e,Z,F,b){this.zn(["rct","prev","next","alpha"]);
var _=E.Gl,d=this.Lb;_.uniform4fv(d.rct,[0,0,1,1]);this.Iw([d.prev,Z,d.next,F,d.alpha,b])};E.KM={T_:{},ju:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
E.KM.zS=function(e,Z){var F=hc.T0,b=[F.eP,F.qC,F.gw,F.aj,F.jG,F.V6,F.cV,F.ge].indexOf(e.type),_=E.KM.T_[e.type];
if(_==null)_=E.KM.T_[e.type]=new E.T_[b];_.AK();_.Qa(Z,e);E.Gl.drawArrays(E.Gl.TRIANGLES,0,6)};E.T_=[];
E.T_[0]=function(){E.qo.call(this);this.JW={};var e="\t\t\tprecision mediump float;\t\t\t"+E.Ks.NV+"\t\t\t"+E.Ks.Xm+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[0].prototype=new E.qo;E.T_[0].prototype.Qa=function(e,Z){var F={o:Z.wF,z:Z.NA,S:Z.tg,Y0:V.J(Z.wF.length)},b=F.o.length;
if(this.JW["m"+b]==null){this.JW["m"+b]={apL:new E.xV(b,1),XT:V.J(b*4)}}var _=this.JW["m"+b];V.My(F,_.XT,0);
var d=_.apL;d.set(_.XT);this.zn(["source","map","toGray","presLum"]);var S=E.Gl,U=this.Lb;S.uniform1f(U.toGray,Z.ks?1:0);
S.uniform1f(U.presLum,Z.uI?1:0);this.Iw([U.source,e,U.map,d.ad])};E.T_[1]=function(){E.qo.call(this);
this.a39=new E.xV(256,1);this.a4o=V.J(256*4);var e="\t\t\t\tprecision mediump float;\t\t\t\t"+E.Ks.Sj+"\t\t\t\t"+E.Ks.Q0+"\t\t\t\t"+E.Ks.FD+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[1].prototype=new E.qo;E.T_[1].prototype.Qa=function(e,Z){V.My({o:Z.a7T,z:Z.b$,S:Z.abq,Y0:V.J(256)},this.a4o);
this.a39.set(this.a4o);this.zn(["source","map","cfa","cfb","colorize"]);var F=E.Gl,b=this.Lb;F.uniform1f(b.cfa,Z.a3z);
F.uniform1f(b.cfb,Z.ya);F.uniform1i(b.colorize,Z.aqH);this.Iw([b.source,e,b.map,this.a39.ad])};E.T_[2]=function(){E.qo.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+E.Ks.Sj+"\t\t\t"+E.Ks.Sq+"\t\t\t"+E.Ks.Mq+"\t\t\t"+E.Ks.Q0+"\t\t\t"+E.Ks.FD+"\t\t\t"+E.Ks.akB+"\t\t\t"+E.Ks.aiH+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.c8(e,E.KM.ju)};E.T_[2].prototype=new E.qo;E.T_[2].prototype.Qa=function(e,Z){this.zn(["source","vib","sat","yF"]);
var F=E.Gl,b=this.Lb;F.uniform1f(b.vib,Z.NG[0]);F.uniform1f(b.sat,Z.NG[1]);F.uniform3fv(b.yF,new Float32Array([Z.NG[2],Z.NG[3],Z.NG[3]]));
this.Iw([b.source,e])};E.T_[3]=function(){E.qo.call(this);var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[3].prototype=new E.qo;E.T_[3].prototype.Qa=function(e,Z){this.zn(["source","trf"]);
var F=E.Gl,b=this.Lb;F.uniformMatrix4fv(b.trf,!1,new Float32Array(V.tc.zQ(Z.dg)));this.Iw([b.source,e])};
E.T_[4]=function(){E.qo.call(this);var e="\t\t\tprecision mediump float; \t\t\t"+E.Ks.gc+"\t\t\t"+E.Ks.Sj+"\t\t\t"+E.Ks.FD+"\t\t\t"+E.Ks.Q0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[4].prototype=new E.qo;E.T_[4].prototype.Qa=function(e,Z){this.zn(["source","mnm","mxm","shift","lim"]);
var F=E.Gl,b=this.Lb;F.uniform3fv(b.mnm,new Float32Array(Z.ub));F.uniform3fv(b.mxm,new Float32Array(Z.NZ));
F.uniform3fv(b.shift,new Float32Array(Z.shift));F.uniform1f(b.lim,Z.tB);this.Iw([b.source,e])};E.T_[5]=function(){E.qo.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+E.Ks.Xm+"\t\t\t"+E.Ks.ew+"\t\t\t"+E.Ks.YM+"\t\t\t"+E.Ks.Q0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[5].prototype=new E.qo;E.T_[5].prototype.Qa=function(e,Z){this.zn(["source","cfs"]);
var F=E.Gl,b=this.Lb;F.uniform3fv(b.cfs,Z.ajX);this.Iw([b.source,e])};E.T_[6]=function(){E.qo.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+E.Ks.Sj+"\t\t\t"+E.Ks.ew+"\t\t\t"+E.Ks.YM+"\t\t\t"+E.Ks.Q0+"\t\t\t"+E.Ks.FD+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[6].prototype=new E.qo;E.T_[6].prototype.Qa=function(e,Z){this.zn(["source","wght","prms"]);
var F=E.Gl,b=this.Lb,_=[Z.Fb,Z.abt,Z.NV,Z.a7N,Z.pt,Z.adL];F.uniform1fv(b.wght,new Float32Array(Z.a8O));
F.uniform1fv(b.prms,new Float32Array(_));this.Iw([b.source,e])};E.T_[7]=function(){E.qo.call(this);this.FO={};
var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.c8(e,E.KM.ju)};E.T_[7].prototype=new E.qo;E.T_[7].prototype.Qa=function(e,Z){this.zn(["source","lut","N"]);
var F=E.Gl,b=this.Lb,_=Z.vt,d=Z.dq;if(this.FO["m"+_]==null)this.FO["m"+_]=new E.xV(_,_*_);var S=this.FO["m"+_];
S.set(d);F.uniform1f(b.N,_);this.Iw([b.source,e,b.lut,S.ad]);F.activeTexture(F.TEXTURE1);var U=F.LINEAR;
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,U);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,U);
F.activeTexture(F.TEXTURE0)};E.filter={gn:{},ju:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",af_:0,arO:1,Rh:2,a6y:3,akx:4,a6L:5,kI:6,aqD:7};
E.filter.zS=function(e,Z){var F=E.filter,b,_=e.type+":"+(e.DL?e.DL.join(","):""),b=E.filter.gn[_];if(b==null)b=E.filter.gn[_]=new E.gn[e.type](e.DL);
b.AK();b.Qa(Z,e);E.Gl.drawArrays(E.Gl.TRIANGLES,0,6)};E.gn=[0,0,0,0,0,0,0,0,0,0,0,0];E.gn[7]=function(){E.qo.call(this);
var e="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[7].prototype=new E.qo;E.gn[7].prototype.Qa=function(e,Z){this.zn(["source","iwh","kern"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1fv(b.kern,Z.aq9);this.Iw([b.source,e])};E.gn[6]=function(e){E.qo.call(this);
var Z=e[0],F=e[1],b=e[2],_="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",d=ch.Oa(_);
d=d.replaceAll("PRC",b+".0");d=d.replaceAll("DIR",["x,0","0,x"][F]);this.c8(d,E.KM.ju)};E.gn[6].prototype=new E.qo;
E.gn[6].prototype.Qa=function(e,Z){this.zn(["source","iwh","rad"]);var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);
F.uniform1f(b.rad,Z.JZ);this.Iw([b.source,e])};E.gn[4]=function(e){E.qo.call(this);var Z=e[0],F=e[1],b="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+e[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][F]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][Z]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][F]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(F==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.c8(b,E.KM.ju)};E.gn[4].prototype=new E.qo;E.gn[4].prototype.Qa=function(e,Z){this.zn(["source","iwh","rrad","tr"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1f(b.rrad,Z.RT);F.uniform1f(b.tr,Z.ahK);this.Iw([b.source,e]);
var _=F.LINEAR;_=F.NEAREST;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,_);
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,_);F.activeTexture(F.TEXTURE0)};E.gn[5]=function(){E.qo.call(this);
var e="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[5].prototype=new E.qo;E.gn[5].prototype.Qa=function(e,Z){this.zn(["source","ssum","iwh","amnt","edgf"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1f(b.amnt,Z.acz);F.uniform1f(b.edgf,Z.a3r);this.Iw([b.source,e,b.ssum,Z.apM])};
E.gn[3]=function(){E.qo.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[3].prototype=new E.qo;E.gn[3].prototype.Qa=function(e,Z){this.zn("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1f(b.tdep,Z.a1Y);F.uniform1f(b.rrad,Z.RT);F.uniform2fv(b.spec,Z.anX);
F.uniform3fv(b.nois,Z.ahr);F.uniformMatrix4fv(b.poly0,!1,Z.a68);F.uniformMatrix4fv(b.poly1,!1,Z.a4y);
this.Iw([b.source,e]);var _=F.LINEAR;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,_);
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,_);F.activeTexture(F.TEXTURE0)};E.gn[0]=function(){E.qo.call(this);
var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[0].prototype=new E.qo;E.gn[0].prototype.Qa=function(e,Z){this.zn(["source","iwh","ld","shine"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform3fv(b.ld,Z.abx);F.uniform1f(b.shine,Z.aju);this.Iw([b.source,e,b.tang,Z.gk])};
E.gn[1]=function(){E.qo.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[1].prototype=new E.qo;E.gn[1].prototype.Qa=function(e,Z){this.zn(["source","iwh","isc","bristle"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1f(b.isc,Z.aeo);F.uniform1f(b.bristle,Z.a7g);
this.Iw([b.source,e])};E.gn[2]=function(){E.qo.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.c8(ch.Oa(e),ch.Oa(E.filter.ju))};E.gn[2].prototype=new E.qo;E.gn[2].prototype.Qa=function(e,Z){this.zn(["source","tang","iwh","sigma","expo"]);
var F=E.Gl,b=this.Lb;F.uniform2fv(b.iwh,Z.de);F.uniform1f(b.sigma,Z.a5L);F.uniform1f(b.expo,Z.aqd);this.Iw([b.source,e,b.tang,Z.gk]);
var _=F.LINEAR;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,_);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,_);
F.activeTexture(F.TEXTURE0)};function V(){}V.b={};V.abf={};V.a45=function(){var e=[64,64,128,256,512,1024,2048],Z=[];
for(var l=0;l<e.length;l++){var F=e[l],b=document.createElement("canvas");b.width=F;b.height=F;Z.push(b.getContext("2d"))}return Z}();
V.LH=function(e,Z){var F,b=V.a45,l=1,_=Math.max(e,Z);while(l<b.length&&_>b[l].canvas.width)l++;if(l==b.length){F=b[0];
var d=F.canvas;d.width=e;d.height=Z}else{F=b[l];F.clearRect(0,0,e,Z)}return F};V.ug=function(e,Z,F){var b=new Uint32Array(Z*F);
b[0]=e[0];for(var _=1;_<Z;_++)b[_]=b[_-1]+e[_];for(var d=1;d<F;d++){var l=d*Z;b[l]=b[l-Z]+e[l];for(var _=1;
_<Z;_++)b[l+_]=e[l+_]+b[l+_-1]+b[l+_-Z]-b[l+_-Z-1]}return b};V.g7=function(e,Z,F,b,_,d){var S=(_-1)*Z,U=d*Z;
return e[U+b]-e[U+F-1]-e[S+b]+e[S+F-1]};V.fS=function(e,Z,F){var b={},_=0,d=0,S=new Uint32Array(e.buffer),U=S.length,r=Date.now();
for(var q=1;q<F-1;q++)for(var w=1;w<Z-1;w++){var X=q*Z+w,Q=S[X];if(Q>>>24<230)d++;if(b[Q]==null){b[Q]=!0;
_++}}if(d!=0||_<20)return!1;return!0};V.Ag=function(e,Z,F,b,_,d){if(_==null)_=d=0;b=Math.log(b)/Math.log(2);
b=Math.round(b);for(var l=0;l<F;l++)for(var S=0;S<Z;S++){var U=l*Z+S<<2,r=V.nL(l+d,S+_,b);e[U]=e[U+1]=e[U+2]=r;
e[U+3]=255}};V.nL=function(l,e,Z){return 255-((l>>>Z)+(e>>>Z)&1)*51};V.Z0=function(e){var Z=e.toString(16);
while(Z.length<6)Z="0"+Z;return Z};V.T2=function(e){return parseInt(e,16)};V.NV=function(e){return.3*e.o+.59*e.z+.11*e.S};
V.gJ=function(e){return Math.max(e.o,e.z,e.S)-Math.min(e.o,e.z,e.S)};V.Mv=function(e,Z,F){return.3*e+.59*Z+.11*F};
V.abW=function(e,Z,F){return Math.max(e,Z,F)-Math.min(e,Z,F)};V.ew=function(e,Z){var F=Z-e,b=Math.abs(F),_=F-1,d=F+1;
if(Math.abs(_)<b)F=_;else if(Math.abs(d)<b)F=d;return F};V.aZ=function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055};
V.PZ=function(e){return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};V.ac2=function(e,Z){var F=Math.min(e.length,Z.length);
for(var l=0;l<F;l+=4){var b=e[l],_=e[l+1],d=e[l+2];Z[l]=16+Math.floor(65.481/255*b+128.553/255*_+24.966/255*d+.5);
Z[l+1]=128-Math.floor(37.797/255*b-74.203/255*_+112/255*d+.5);Z[l+2]=128+Math.floor(112/255*b-93.786/255*_-18.214/255*d+.5);
Z[l+3]=e[l+3]}};V.a0O=function(e,Z,F){var b,_,d,S=Math.max(e,Z,F),U=Math.min(e,Z,F);d=S;if(S!=0)_=(S-U)/S;
else _=0;if(_==0)b=0;else{var r=S-U,q=(S-e)/r,w=(S-Z)/r,X=(S-F)/r;if(e==S)b=X-w;else if(Z==S)b=2+q-X;
else b=4+w-q;b*=1/6;if(b<0)b=b+1}return{zA:b,ME:_,S:d}};V.a58=function(e,Z,F){var b=0,_=0,d=0;if(Z==0)b=_=d=F;
else{var S=(e-Math.floor(e))*6,U=Math.floor(S),r=S-Math.floor(S),q=F*(1-Z),w=F*(1-Z*r),X=F*(1-Z*(1-r));
switch(U){case 0:b=F;_=X;d=q;break;case 1:b=w;_=F;d=q;break;case 2:b=q;_=F;d=X;break;case 3:b=q;_=w;
d=F;break;case 4:b=X;_=q;d=F;break;case 5:b=F;_=q;d=w;break}}return{o:b,z:_,S:d}};V.Q0=function(e,Z,F){var b=Math.max(e,Z,F),_=Math.min(e,Z,F),d=0,S=0,U=(b+_)*.5;
if(b!=_){var r=b-_;S=U>.5?r/(2-(b+_)):r/(b+_);switch(b){case e:d=(Z-F)/r+(Z<F?6:0);break;case Z:d=(F-e)/r+2;
break;case F:d=(e-Z)/r+4;break}d*=1/6}return{zA:d,ME:S,HX:U}};V.FD=function(e,Z,F){var b,_,d;if(Z==0)b=_=d=F;
else{var S=F<.5?F*(1+Z):F+Z-F*Z,U=2*F-S;b=V.Sj(U,S,e+1/3);_=V.Sj(U,S,e);d=V.Sj(U,S,e-1/3)}return{o:b,z:_,S:d}};
V.Sj=function(e,Z,F){if(F<0)F+=1;if(F>1)F-=1;if(F<1/6)return e+(Z-e)*6*F;if(F<1/2)return Z;if(F<2/3)return e+(Z-e)*(2/3-F)*6;
return e};V.Sq=function(e,Z,F){var b=Math.max(e,Z,F),_=Math.min(e,Z,F),d,S,U=b,r=b-_;S=b==0?0:r/b;if(b==_)d=0;
else{switch(b){case e:d=(Z-F)/r+(Z<F?6:0);break;case Z:d=(F-e)/r+2;break;case F:d=(e-Z)/r+4;break}d*=1/6}return{zA:d,ME:S,Bi:U}};
V.Mq=function(e,Z,F){var b,_,d,l,S,U,r,q;l=Math.floor(e*6);S=e*6-l;U=F*(1-Z);r=F*(1-S*Z);q=F*(1-(1-S)*Z);
switch(l%6){case 0:b=F,_=q,d=U;break;case 1:b=r,_=F,d=U;break;case 2:b=U,_=F,d=q;break;case 3:b=U,_=r,d=F;
break;case 4:b=q,_=U,d=F;break;case 5:b=F,_=U,d=r;break}return{o:b,z:_,S:d}};V.D4=function(){var e=[],Z=[];
for(var l=0;l<2e3;l++){var F=l/1e3;e[l]=V.PZ(F);Z[l]=F>.008856?Math.pow(F,1/3):(903.3*F+16)*(1/116)}return[e,Z]}();
V.gc=function(e,Z,F){var b=V.D4[0],_=V.D4[1];e=b[~~(e*(1e3/255))];Z=b[~~(Z*(1e3/255))];F=b[~~(F*(1e3/255))];
var d=V.tc.aeW,S=d[0]*e+d[1]*Z+d[2]*F,U=d[4]*e+d[5]*Z+d[6]*F,r=d[8]*e+d[9]*Z+d[10]*F;S=S*(100/96.72);
U=U*(100/100);r=r*(100/81.427);return V.bi(S,U,r)};V.bi=function(e,Z,F){var b=V.D4[1],_=b[~~(e*1e3)],d=b[~~(Z*1e3)],S=b[~~(F*1e3)];
return{qv:116*d-16,Y0:500*(_-d),S:200*(d-S)}};V.Cu=function(e,Z,F){var b=903.3,_=.008856,d=(e+16)/116,S=d*d*d,U=d-F/200,r=U*U*U,q=Z/500+d,w=q*q*q,X=r>_?r:(116*U-16)/b,Q=S>_?S:(116*d-16)/b,c=w>_?w:(116*q-16)/b,u=c*96.72,n=Q*100,k=X*81.427,B=V.tc.Ey(V.tc.wA,[u/100,n/100,k/100,0]);
for(var l=0;l<4;l++)B[l]=Math.max(0,Math.min(255,V.aZ(B[l])*255));return{o:B[0],z:B[1],S:B[2]}};V.Ch=function(e,Z,F,b,_){var d=e.qv,S=e.Y0,U=e.S,r=(d<Z.qv?Z.qv-d:F.qv<d?F.qv-d:0)*(1/100),q=(S<Z.Y0?Z.Y0-S:F.Y0<S?F.Y0-S:0)*(1/116),w=(U<Z.S?Z.S-U:F.S<U?F.S-U:0)*(1/116),X=Math.sqrt(r*r+q*q+w*w)*1.35;
return X<=b?Math.min(1,1.17*(1-X*_)):0};V.QE=function(e,Z,F){var b=e.length,_=.3,d=.59,S=.11;if(F){_=F[0];
d=F[1];S=F[2]}for(var l=0;l<b;l+=4)Z[l>>2]=~~(e[l+0]*_+e[l+1]*d+e[l+2]*S+.5)};V.jh=function(e,Z){var F=Z.length;
for(var l=0;l<F;l+=4){var b=e[l>>>2];Z[l]=b;Z[l+1]=b;Z[l+2]=b}};V.My=function(e,Z){var F=e.Y0,b=e.o,_=e.z,d=e.S,S=Math.min(e.Y0.length,Z.buffer.byteLength>>>2),U=4*Math.floor(S/4),r=new Uint32Array(Z.buffer),q=new Uint32Array(F.buffer),w=new Uint32Array(b.buffer),X=new Uint32Array(_.buffer),Q=new Uint32Array(d.buffer);
for(var l=0;l<U;l+=4){var c=q[l>>2],u=Q[l>>2],n=X[l>>2],k=w[l>>2];r[l]=c<<24|(u&255)<<16|(n&255)<<8|k&255;
r[l+1]=(c&65280)<<16|(u&65280)<<8|n&65280|(k&65280)>>>8;r[l+2]=(c&16711680)<<8|u&16711680|(n&16711680)>>>8|(k&16711680)>>>16;
r[l+3]=c&4278190080|(u&4278190080)>>>8|(n&4278190080)>>>16|(k&4278190080)>>>24}for(var l=U;l<S;l++)r[l]=F[l]<<24|d[l]<<16|_[l]<<8|b[l]};
V.w2=function(e,Z){var F=Z.Y0,b=Z.o,_=Z.z,d=Z.S,S=Math.min(Z.Y0.length,e.buffer.byteLength>>>2),U=4*Math.floor(S/4),r=new Uint32Array(e.buffer),q=new Uint32Array(F.buffer),w=new Uint32Array(b.buffer),X=new Uint32Array(_.buffer),Q=new Uint32Array(d.buffer);
for(var l=0;l<U;l+=4){var c=r[l],u=r[l+1],n=r[l+2],k=r[l+3];w[l>>2]=c&255|(u&255)<<8|(n&255)<<16|k<<24;
X[l>>2]=(c&65280)>>8|u&65280|(n&65280)<<8|(k&65280)<<16;Q[l>>2]=(c&16711680)>>16|(u&16711680)>>8|n&16711680|(k&16711680)<<8;
q[l>>2]=c>>>24|u>>>24<<8|n>>>24<<16|k&4278190080}for(var l=U;l<S;l++){var B=r[l];b[l]=B>>0&255;_[l]=B>>8&255;
d[l]=B>>16&255;F[l]=B>>24&255}};V.yC=function(e,Z,F){var b=new Uint8Array(e.buffer),_=Math.min(b.length/4,Z.length);
for(var l=0;l<_;l++){Z[l]=b[(l<<2)+F]}};V.s$=function(e,Z,F){var b=new Uint8Array(Z.buffer),_=new Uint32Array(e.buffer),d=Math.min(b.length/4,e.length),l=0;
while(l+4<d){var S=_[l>>>2];b[(l<<2)+F]=S&255;b[(l<<2)+F+4]=S>>>8&255;b[(l<<2)+F+8]=S>>>16&255;b[(l<<2)+F+12]=S>>>24;
l+=4}while(l<d){b[(l<<2)+F]=e[l];l++}};V.oi=function(e,Z,F){if(F==null)F=0;var b=new Uint32Array(e.buffer),_=b.length;
for(var l=0;l<_;l++)b[l]=b[l]&F|Z};V.aqJ=function(e,Z,F,b,_){if(_==null)_=0;var d=new Uint32Array(e.buffer);
F=F.QP(Z);var S=F.x-Z.x,U=F.y-Z.y,r=F.w,q=F._,w=Z.w;for(var X=0;X<q;X++){var l=(U+X)*w+S;for(var Q=0;
Q<r;Q++){d[l]=d[l]&_|b;l++}}};V.Fk=function(e,Z){var F=Math.min(e.buffer.byteLength,Z.buffer.byteLength),b=F>>>2,e=new Uint32Array(e.buffer,0,b),Z=new Uint32Array(Z.buffer,0,b);
Z.set(e)};V.Tn=function(e,Z){var F=e.buffer.byteLength,b=Z.buffer.byteLength,_=new Uint32Array(e.buffer,0,F>>2),d=new Uint32Array(Z.buffer,0,b>>2);
if(F!=b)return!1;var S=_.length;for(var l=0;l<S;l++)if(d[l]!=_[l])return!1;return!0};V.eG=function(e){var Z=new Uint32Array(e.buffer),F=Z.length;
for(var l=0;l<F;l++)Z[l]=~Z[l]};V.ae5=function(e){var Z=e.length;for(var l=0;l<Z;l+=4){e[l]=~e[l];e[l+1]=~e[l+1];
e[l+2]=~e[l+2]}};V.aa1=function(e){var Z=e.length;for(var l=3;l<Z;l+=4)e[l]=~e[l]};V.atk=function(e){return e+(e%4==0?0:4-e%4)};
V.J=function(e,Z){if(Z==null)Z=!1;if(!Z)e=V.atk(e);try{var F=new Uint8Array(e)}catch(gA){alert("Not enough RAM! (need "+Math.round(e/(1<<20))+" MB)",7e3);
throw"low_ram"}return F};V.nP=function(e){var Z=e.length,F=e[Z-2],b=e[Z-1];while(b.w>=2&&b._>=2){var _=V.ht(F,b);
e.push(_.XT,_.rect);F=_.XT;b=_.rect}};V.rW=function(e){var Z=e.length,F=e[Z-2],b=e[Z-1];while(b.w>=2&&b._>=2){var _=V.Sg(F,b);
e.push(_.XT,_.rect);F=_.XT;b=_.rect}};V.ht=function(e,Z,F){var b=Z.w,_=Z._,d=b>>1,S=_>>1,U=new e3(Z.x,Z.y,d,S),r=F&&F.length==d*S*4?F:V.J(d*S*4),q=new Uint32Array(e.buffer),w=new Uint32Array(r.buffer);
for(var X=0;X<S;X++)for(var Q=0;Q<d;Q++){var c=X*d+Q,u=(X<<1)*b+(Q<<1),n=q[u],k=q[u+1],B=q[u+b],o=q[u+b+1],T=n>>>24,z=k>>>24,W=B>>>24,$=o>>>24,R=T+z+W+$;
if(R==1020){var P=(n>>>0&255)+(k>>>0&255)+(B>>>0&255)+(o>>>0&255)+2>>>2,H=(n>>>8&255)+(k>>>8&255)+(B>>>8&255)+(o>>>8&255)+2>>>2,y=(n>>>16&255)+(k>>>16&255)+(B>>>16&255)+(o>>>16&255)+2>>>2;
w[c]=255<<24|y<<16|H<<8|P}else if(R==0)w[c]=0;else{var P=(n>>>0&255)*T+(k>>>0&255)*z+(B>>>0&255)*W+(o>>>0&255)*$,H=(n>>>8&255)*T+(k>>>8&255)*z+(B>>>8&255)*W+(o>>>8&255)*$,y=(n>>>16&255)*T+(k>>>16&255)*z+(B>>>16&255)*W+(o>>>16&255)*$,h=1/R;
P=~~(P*h+.5);H=~~(H*h+.5);y=~~(y*h+.5);w[c]=R+2>>>2<<24|y<<16|H<<8|P}}return{rect:U,XT:r}};V.TT=function(e,Z,F){var b=Z.w,_=Z._,d=b>>1,S=_>>1,U=new e3(Z.x,Z.y,d,S),r=F&&F.length==d*S*4?F:V.J(d*S*4),q=new Uint32Array(e.buffer),w=new Uint32Array(r.buffer);
for(var X=0;X<S;X++)for(var Q=0;Q<d;Q++){var c=X*d+Q,u=(X<<1)*b+(Q<<1),n=q[u],k=q[u+1],B=q[u+b],o=q[u+b+1],T=2+(n>>>0&255)+(k>>>0&255)+(B>>>0&255)+(o>>>0&255)>>>2,z=2+(n>>>8&255)+(k>>>8&255)+(B>>>8&255)+(o>>>8&255)>>>2,W=2+(n>>>16&255)+(k>>>16&255)+(B>>>16&255)+(o>>>16&255)>>>2,$=2+(n>>>24&255)+(k>>>24&255)+(B>>>24&255)+(o>>>24&255)>>>2;
w[c]=$<<24|W<<16|z<<8|T}return{rect:U,XT:r}};V.ar7=function(e,Z,F){var b=Z.w,_=Z._,d=2*Math.floor(b/3),S=2*Math.floor(_/3),U=new e3(Z.x,Z.y,d,S),r=F&&F.length==d*S*4?F:V.J(d*S*4),q=new Uint32Array(e.buffer),w=new Uint32Array(r.buffer);
for(var X=0;X<S;X+=2)for(var Q=0;Q<d;Q+=2){var c=X*d+Q,u=(X*3>>>1)*b+(Q*3>>>1),n=q[u],k=q[u+1],B=q[u+2],o=q[u+b],T=q[u+1+b],z=q[u+2+b],W=q[u+b+b],$=q[u+1+b+b],R=q[u+2+b+b],P=n>>>24<<2,H=(n>>>16&255)*P,y=(n>>>8&255)*P,h=(n&255)*P,m=k>>>24<<1,t=(k>>>16&255)*m,j=(k>>>8&255)*m,x=(k&255)*m,C=B>>>24<<2,L=(B>>>16&255)*C,f=(B>>>8&255)*C,D=(B&255)*C,v=o>>>24<<1,A=(o>>>16&255)*v,M=(o>>>8&255)*v,Y=(o&255)*v,J=T>>>24,I=(T>>>16&255)*J,p=(T>>>8&255)*J,a=(T&255)*J,er=z>>>24<<1,c8=(z>>>16&255)*er,O=(z>>>8&255)*er,dF=(z&255)*er,gl=W>>>24<<2,e0=(W>>>16&255)*gl,bv=(W>>>8&255)*gl,gm=(W&255)*gl,iW=$>>>24<<1,jx=($>>>16&255)*iW,aC=($>>>8&255)*iW,d9=($&255)*iW,bS=R>>>24<<2,jo=(R>>>16&255)*bS,g7=(R>>>8&255)*bS,dI=(R&255)*bS,gn=P+m+v+J,hI=C+m+er+J,d$=gl+iW+v+J,eX=bS+iW+er+J,d3=gn==0?0:1/gn,cJ=hI==0?0:1/hI,dM=d$==0?0:1/d$,dh=eX==0?0:1/eX,jh=0,aK=0,ca=0,iY=0;
jh=~~(.5+(h+x+Y+a)*d3);aK=~~(.5+(y+j+M+p)*d3);ca=~~(.5+(H+t+A+I)*d3);iY=~~(.5+gn*(1/9));w[c]=iY<<24|ca<<16|aK<<8|jh;
jh=~~(.5+(D+x+dF+a)*cJ);aK=~~(.5+(f+j+O+p)*cJ);ca=~~(.5+(L+t+c8+I)*cJ);iY=~~(.5+hI*(1/9));w[c+1]=iY<<24|ca<<16|aK<<8|jh;
jh=~~(.5+(gm+d9+Y+a)*dM);aK=~~(.5+(bv+aC+M+p)*dM);ca=~~(.5+(e0+jx+A+I)*dM);iY=~~(.5+d$*(1/9));w[c+d]=iY<<24|ca<<16|aK<<8|jh;
jh=~~(.5+(dI+d9+dF+a)*dh);aK=~~(.5+(g7+aC+O+p)*dh);ca=~~(.5+(jo+jx+c8+I)*dh);iY=~~(.5+eX*(1/9));w[c+d+1]=iY<<24|ca<<16|aK<<8|jh}return{rect:U,XT:r}};
V.ada=function(e,Z,F){var b=Z.w,_=Z._,d=2*Math.floor(b/3),S=2*Math.floor(_/3),U=new e3(Z.x,Z.y,d,S),r=F&&F.length==d*S*4?F:V.J(d*S*4),q=new Uint32Array(e.buffer),w=new Uint32Array(r.buffer);
for(var X=0;X<S;X+=2)for(var Q=0;Q<d;Q+=2){var c=X*d+Q,u=(X*3>>>1)*b+(Q*3>>>1),n=q[u],k=q[u+1],B=q[u+2],o=q[u+b],T=q[u+1+b],z=q[u+2+b],W=q[u+b+b],$=q[u+1+b+b],R=q[u+2+b+b],P=(n>>>16&255)<<2,H=(n>>>8&255)<<2,y=(n&255)<<2,h=(k>>>16&255)<<1,m=(k>>>8&255)<<1,t=(k&255)<<1,j=(B>>>16&255)<<2,x=(B>>>8&255)<<2,C=(B&255)<<2,L=(o>>>16&255)<<1,f=(o>>>8&255)<<1,D=(o&255)<<1,v=T>>>16&255,A=T>>>8&255,M=T&255,Y=(z>>>16&255)<<1,J=(z>>>8&255)<<1,I=(z&255)<<1,p=(W>>>16&255)<<2,a=(W>>>8&255)<<2,er=(W&255)<<2,c8=($>>>16&255)<<1,O=($>>>8&255)<<1,dF=($&255)<<1,gl=(R>>>16&255)<<2,e0=(R>>>8&255)<<2,bv=(R&255)<<2,gm=0,iW=0,jx=0;
gm=~~(.5+(y+t+D+M)*(1/9));iW=~~(.5+(H+m+f+A)*(1/9));jx=~~(.5+(P+h+L+v)*(1/9));w[c]=255<<24|jx<<16|iW<<8|gm;
gm=~~(.5+(C+t+I+M)*(1/9));iW=~~(.5+(x+m+J+A)*(1/9));jx=~~(.5+(j+h+Y+v)*(1/9));w[c+1]=255<<24|jx<<16|iW<<8|gm;
gm=~~(.5+(er+dF+D+M)*(1/9));iW=~~(.5+(a+O+f+A)*(1/9));jx=~~(.5+(p+c8+L+v)*(1/9));w[c+d]=255<<24|jx<<16|iW<<8|gm;
gm=~~(.5+(bv+dF+I+M)*(1/9));iW=~~(.5+(e0+O+J+A)*(1/9));jx=~~(.5+(gl+c8+Y+v)*(1/9));w[c+d+1]=255<<24|jx<<16|iW<<8|gm}return{rect:U,XT:r}};
V.DA=function(e){var Z=255,F=e.length;F-=F&31;for(var l=3;l<F;l+=32)Z=Z&e[l]&e[l+4]&e[l+8]&e[l+12]&e[l+16]&e[l+20]&e[l+24]&e[l+28];
return Z!=255};V.aqW=function(e,Z,F,b){var _=V.ht,d=V.ar7,U=0;if(!V.DA(e)){_=V.TT;d=V.ada}var S={XT:e,rect:Z},r=F;
while(r<.499){U++;r*=2}for(var l=0;l<U;l++)S=_(S.XT,S.rect,b);if(r<.5001)S=_(S.XT,S.rect,b);else S=d(S.XT,S.rect,b);
return S};V.aeh=function(e,Z,F,b){var _=V.Sg,d=V.yS,S={XT:e,rect:Z},U=0,r=F;while(r<.499){U++;r*=2}for(var l=0;
l<U;l++)S=_(S.XT,S.rect,b);if(r<.5001)S=_(S.XT,S.rect,b);else S=d(S.XT,S.rect,b);return S};V.Sg=function(e,Z,F){var b=Z.w,_=Z._,d=b>>1,S=_>>1,U=new e3(Z.x,Z.y,d,S);
if(e==null)return{rect:U};var r=F&&F.length>=d*S?F:V.J(d*S);for(var q=0;q<S;q++){var w=q*d;for(var X=0;
X<d;X++){var Q=(q<<1)*b+(X<<1);r[w+X]=2+e[Q]+e[Q+1]+e[Q+b]+e[Q+b+1]>>>2}}return{rect:U,XT:r}};V.yS=function(e,Z,F){var b=Z.w,_=Z._,d=2*Math.floor(b/3),S=2*Math.floor(_/3),U=new e3(Z.x,Z.y,d,S);
if(e==null)return{rect:U};var r=F&&F.length>=d*S?F:V.J(d*S);for(var q=0;q<S;q+=2)for(var w=0;w<d;w+=2){var X=q*d+w,Q=(q*3>>>1)*b+(w*3>>>1),c=e[Q]<<2,u=e[Q+1]<<1,n=e[Q+2]<<2,k=e[Q+b]<<1,B=e[Q+1+b],o=e[Q+2+b]<<1,T=e[Q+b+b]<<2,z=e[Q+1+b+b]<<1,W=e[Q+2+b+b]<<2;
r[X]=~~(.5+(c+u+k+B)*(1/9));r[X+1]=~~(.5+(n+u+o+B)*(1/9));r[X+d]=~~(.5+(T+z+k+B)*(1/9));r[X+d+1]=~~(.5+(W+z+o+B)*(1/9))}return{rect:U,XT:r}};
V.l2=function(e,Z,F,b,_){var d=Z.QP(b);if(_)d=d.QP(_);var S=Math.max(0,d.x-Z.x),U=Math.max(0,d.x-b.x),r=Math.max(0,d.y-Z.y),q=Math.max(0,d.y-b.y),w=d.w,X=d._;
for(var l=0;l<X;l++){var Q=(r+l)*Z.w+S,c=(q+l)*b.w+U;for(var u=0;u<w;u++){F[c+u]=e[Q+u]}}};V.vc=function(e,Z,F,b){if(Z.Tn(b)){V.s$(e,F,3);
return}var _=Z.QP(b),d=Math.max(0,_.x-Z.x),S=Math.max(0,_.x-b.x),U=Math.max(0,_.y-Z.y),r=Math.max(0,_.y-b.y),q=_.w,w=_._;
for(var l=0;l<w;l++){var X=(U+l)*Z.w+d,Q=(r+l)*b.w+S;for(var c=0;c<q;c++)F[(Q+c<<2)+3]=e[X+c]}};V.MT=function(e,Z,F,b){var _=Z.QP(b),d=Math.max(0,_.x-Z.x),S=Math.max(0,_.x-b.x),U=Math.max(0,_.y-Z.y),r=Math.max(0,_.y-b.y),q=_.w,w=_._;
for(var l=0;l<w;l++){var X=(U+l)*Z.w+d,Q=(r+l)*b.w+S;for(var c=0;c<q;c++)F[Q+c]=e[(X+c<<2)+3]}};V.Rf=function(e,Z,F,b,_){if(Z.Tn(b)&&(_==null||_.Tn(b))){V.Fk(e,F);
return}e=new Uint32Array(e.buffer),F=new Uint32Array(F.buffer);var d=Z.QP(b);if(_)d=d.QP(_);var S=Math.max(0,d.x-Z.x),U=Math.max(0,d.x-b.x),r=Math.max(0,d.y-Z.y),q=Math.max(0,d.y-b.y),w=d.w,X=d._,Q=w&3,c=Q==0?w:w-Q;
for(var l=0;l<X;l++){var u=(r+l)*Z.w+S,n=(q+l)*b.w+U;F.set(new Uint32Array(e.buffer,u*4,w),n)}};V.n7=function(e,Z,F,b){var _=Z.QP(b),d=Math.max(0,_.x-Z.x),S=Math.max(0,_.x-b.x),U=Math.max(0,_.y-Z.y),r=Math.max(0,_.y-b.y),q=_.w,w=_._,X=e.Y0,Q=e.o,c=e.z,u=e.S,n=F.Y0,k=F.o,B=F.z,o=F.S;
for(var l=0;l<w;l++){var T=(U+l)*Z.w+d,z=(r+l)*b.w+S;for(var W=0;W<q;W++){n[z+W]=X[T+W];k[z+W]=Q[T+W];
B[z+W]=c[T+W];o[z+W]=u[T+W]}}};V.hP=function(e){var Z=e.length;for(var l=0;l<Z;l+=4){var F=e[l+3];if(F==255)continue;
e[l]=~~(e[l]*F*(1/255)+.5);e[l+1]=~~(e[l+1]*F*(1/255)+.5);e[l+2]=~~(e[l+2]*F*(1/255)+.5)}};V.Wo=function(e){var Z=e.length;
for(var l=0;l<Z;l+=4){var F=e[l+3];if(F==0||F==255)continue;var b=255/F;e[l]=~~(e[l]*b+.5);e[l+1]=~~(e[l+1]*b+.5);
e[l+2]=~~(e[l+2]*b+.5)}};V.ZK=function(e,Z){for(var l=0;l<e.length;l++)if(e[l]!=Z)return!1;return!0};
V.$d=function(e){return e+1+(e>>>8)>>>8};V.round=function(e,Z){if(Z==null)Z=128;var F=e.length;for(var l=0;
l<F;l++)e[l]=e[l]<Z?0:255};V.lk=function(e,Z){var F=e.length;for(var l=0;l<F;l++)e[l]=Math.round(e[l]*Z)};
V.vd=function(e,Z){var F=new Uint32Array(e.buffer),b=new Uint32Array(Z.buffer),_=F.length;for(var l=0;
l<_;l++){var d=F[l],S=b[l];b[l]=V.$d((d>>>24)*(S>>>24))<<24|V.$d((d>>>16&255)*(S>>>16&255))<<16|V.$d((d>>>8&255)*(S>>>8&255))<<8|V.$d((d&255)*(S&255))}};
V.ne=function(e,Z){var F=e.length;for(var l=0;l<F;l++)Z[(l<<2)+3]=V.$d(Z[(l<<2)+3]*e[l])};V.a3a=function(e,Z,F,b){var _=Math.max(0,b.x-Z.x),d=Math.max(0,Z.x-b.x),S=Math.max(0,b.y-Z.y),U=Math.max(0,Z.y-b.y),r=Math.min(Z.x+Z.w,b.x+b.w)-Math.max(Z.x,b.x),q=Math.min(Z.y+Z._,b.y+b._)-Math.max(Z.y,b.y);
for(var l=0;l<q;l++){var w=(S+l)*Z.w+_,X=(U+l)*b.w+d;for(var Q=0;Q<r;Q++){F[X]=V.$d(F[X]*e[w]);w++;X++}}};
V.xW=function(e,Z,F,b){var _=Math.max(0,b.x-Z.x),d=Math.max(0,Z.x-b.x),S=Math.max(0,b.y-Z.y),U=Math.max(0,Z.y-b.y),r=Math.min(Z.x+Z.w,b.x+b.w)-Math.max(Z.x,b.x),q=Math.min(Z.y+Z._,b.y+b._)-Math.max(Z.y,b.y);
for(var l=0;l<q;l++){var w=(S+l)*Z.w+_,X=((U+l)*b.w+d<<2)+3;for(var Q=0;Q<r;Q++){F[X]=V.$d(F[X]*e[w]);
w++;X+=4}}};V.jt=function(e,Z,F,b){var _=Math.max(0,b.x-Z.x),d=Math.max(0,Z.x-b.x),S=Math.max(0,b.y-Z.y),U=Math.max(0,Z.y-b.y),r=Math.min(Z.x+Z.w,b.x+b.w)-Math.max(Z.x,b.x),q=Math.min(Z.y+Z._,b.y+b._)-Math.max(Z.y,b.y);
for(var l=0;l<q;l++){var w=((S+l)*Z.w+_<<2)+3,X=((U+l)*b.w+d<<2)+3;for(var Q=0;Q<r;Q++){F[X]=V.$d(F[X]*e[w]);
w+=4;X+=4}}};V.aB=function(e){var Z=new Float64Array(256),F=new Float64Array(256),b=new Float64Array(256),_=new Float64Array(256),d=e.length,S=0;
for(var l=0;l<d;l+=4){var U=e[l+3],r=U*(1/255);F[e[l+0]]+=r;b[e[l+1]]+=r;_[e[l+2]]+=r;S+=U}for(var l=0;
l<256;l++)Z[l]=F[l]+b[l]+_[l];return[Z,F,b,_,d>>>2,S/255]};V.w4=function(e,Z){var F=new Uint32Array(e.buffer),b=F.length;
for(var l=0;l<b;l++){var _=F[l],d=_&255,S=_>>8&255,U=_>>16&255,r=_>>24&255;F[l]=Z[d]|Z[S]<<8|Z[U]<<16|Z[r]<<24}};
V.asU=function(e,Z,F,b,_,d,S){var U=new Uint32Array(e.buffer),r=new Uint32Array(Z.buffer),q=U.length,w=0;
while(256<<w<F.length)w++;if(!S&&!d){for(var l=0;l!=q;l++){var X=U[l],Q=(X&255)<<w,c=(X>>>8&255)<<w,u=(X>>>16&255)<<w,n=F[Q],k=b[c],B=_[u];
r[l]=n|k<<8|B<<16|X&4278190080}return}for(var l=0;l<q;l++){var X=U[l],Q=(X&255)<<w,c=(X>>>8&255)<<w,u=(X>>>16&255)<<w;
if(d)Q=c=u=Math.round(Q*.3+c*.59+u*.11);var n=F[Q],k=b[c],B=_[u];if(S){var o=V.Mv(Q,c,u),T=V.Mv(n,k,B);
if(o>T){var z=(o-T)/(255-T);n+=z*(255-n);k+=z*(255-k);B+=z*(255-B)}else if(T==0)n=k=B=0;else{var z=o/T;
n=z*n;k=z*k;B=z*B}}r[l]=n|k<<8|B<<16|X&4278190080}};V.HR=function(e,Z){var F=Z.w,b=Z._,top=0,_=0,d=0,S=0,U=0;
U=0;for(var r=0;r<b;r++){var q=r*F;for(var l=0;l<F;l++)U|=e[q+l];if(U!=0)break;top++}if(top==b)return new e3(0,0,0,0);
U=0;for(var r=b-1;r>=0;r--){var q=r*F;for(var l=0;l<F;l++)U|=e[q+l];if(U!=0)break;d++}var w=b-d;U=0;
for(var l=0;l<F;l++){for(var r=top;r<w;r++)U|=e[r*F+l];if(U!=0)break;_++}U=0;for(var l=F-1;l>=0;l--){for(var r=top;
r<w;r++)U|=e[r*F+l];if(U!=0)break;S++}var X=new e3(Z.x+_,Z.y+top,F-_-S,b-top-d);return X};V.ip=function(e,Z,F,b){if(b==null)b=[!0,!0,!0,!0];
if(F==null)F=0;var _=new Uint32Array(e.buffer),d=Z.w,S=Z._,top=0,U=0,r=0,q=0,w=!1,X=[_[0],_[_.length-1],0][F];
w=!1;if(b[0])for(var Q=0;Q<S;Q++){var c=Q*d;for(var l=0;l<d;l++)if(_[c+l]!=X)w=!0;if(w)break;top++}w=!1;
if(b[2])for(var Q=S-1;Q>=0;Q--){var c=Q*d;for(var l=0;l<d;l++)if(_[c+l]!=X)w=!0;if(w)break;r++}w=!1;
if(b[1])for(var l=0;l<d;l++){for(var Q=0;Q<S;Q++)if(_[Q*d+l]!=X)w=!0;if(w)break;U++}w=!1;if(b[3])for(var l=d-1;
l>=0;l--){for(var Q=0;Q<S;Q++)if(_[Q*d+l]!=X)w=!0;if(w)break;q++}var u=new e3(Z.x+U,Z.y+top,d-U-q,S-top-r);
return u.BJ()?new e3(0,0,0,0):u};V.M5=function(e){var Z=V.HR(e.channel,e.rect);if(Z.Tn(e.rect))return;
var F=V.J(Z.Z());V.l2(e.channel,e.rect,F,Z);e.channel=F;e.rect=Z};V.bD=function(e){var Z=V.J(e.buffer.length>>2);
V.yC(e.buffer,Z,3);var F=V.HR(Z,e.rect);if(F.Tn(e.rect))return;var b=new V.J(F.Z()*4);V.Rf(e.buffer,e.rect,b,F);
e.buffer=b;e.rect=F};V.extend=function(e,Z,F){if(e.rect.tv(Z))return;var b=e.rect.Us(Z),_=V.J(b.Z());
if(F!=null)_.fill(F);V.l2(e.channel,e.rect,_,b);e.rect=b;e.channel=_};V.akE=function(e,Z){if(Z.BJ()||e.rect.tv(Z))return;
var F=e.rect.Us(Z),b=V.J(F.Z()*4);V.Rf(e.buffer,e.rect,b,F);e.rect=F;e.buffer=b};V.Ak=function(e,Z,F){if(!F.rI(e))return!1;
var b=Math.floor(e.x)-F.x,_=Math.floor(e.y)-F.y,l=_*F.w+b;return Z[l]>128};V.a0z=function(e,Z,F){if(!F.rI(e))return!1;
var b=Math.floor(e.x)-F.x,_=Math.floor(e.y)-F.y,l=_*F.w+b;return Z[4*l+3]>128};V.sc=function(e){if(V.wq.length<e){V.wq=V.J(e);
V.wq.fill(255)}return V.wq};V.wq=V.J(0);V.eJ=function(e){if(V.gx.length<e)V.gx=V.J(e);return V.gx};V.gx=V.J(0);
V.xV=function(e){this.Y0=V.J(e);this.o=V.J(e);this.z=V.J(e);this.S=V.J(e)};V.xV.prototype.clone=function(){var e=this.Y0.length,Z=new V.xV(1);
Z.Y0=this.Y0.slice(0);Z.o=this.o.slice(0);Z.z=this.z.slice(0);Z.S=this.S.slice(0);return Z};V.b.afJ=function(e,Z,F,b,_){var d=_[0]+1,S=_[1],U=Math.abs(S-25)/4,r=_[2],q=r%2+r*r>>1,w=V.b.q;
w.c8(Z,F);var X=w.Bz(1),Q=w.Bz(1),c=w.Bz(1);w.vf(e,b,r,r,q);w.$H(b);w.bu(b,X);w.JA(X,Q,d,d,1);w.JA(X,c,d,d,d*d);
w.sub(c,Q);w.vd(Q,U);(S<25?w.sub:w.add)(X,Q);w.Bv(Q,b);w.qS(b)};V.b.a4a=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=_[0]*2.55,U=_[1],r=U>>1,q=_[2]*.25,w=d.Bz(4),X=d.Bz(1),Q=d.Bz(1);d.P8(e,w,U,1,!0,r);
d.P8(e,b,U,1,!1,r);d.$g(e,X);d.kB(X,S);d._F(X,Q,3);d.HT(b,Q,w);d.d8(w,b,q)};V.b.a1P=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=_[0]*-3+80,U=_[1]*-3+80,r=_[2]/2+.5,q=_[4],w=_[5],X=d.Bz(1),Q=d.Bz(1),c=d.Bz(1),u=d.Bz(1),n=d.Bz(4),k=d.Bz(4);
d.$g(e,X);d.Fk(X,Q);d.Nt(X,U,5);d.Ut(X,.4,0);d._F(X,c,3);d.VE(c,X,9,3,!0,27);d.Fk(Q,c);d.eG(c);var B=d.be(S,5,c);
for(var l=0;l<d.zZ;l++){Q[l]=B[255-Q[l]]}d.Ut(Q,.4,0);d.Fk(Q,c);d._F(c,u,2);d.VE(u,c,5,3,!1,15);d.vd(X,r);
d.vd(c,r);d.Sw(b,2155905279);d.Sw(k,q);d.Sw(n,w);d.HT(k,X,b);d.HT(n,c,b)};V.b.a8a=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=new Uint8Array(256),U=5+10*_[1];U+=_[1]>3?(_[1]-3)*10:0;var r=~~(_[2]*.73)+50,q=Math.min(r+U,128),w=q-r,X=-255*r;
for(var l=0;l<256;l++){var Q=l*65;S[l]=d.BR(X/w);X+=255}var c=d.Bz(1),u=d.Bz(1),n=d.Bz(1);d.$g(e,c);
d.Fk(c,n);d._F(c,u,2*_[0]+1);d.sub(u,c);d.vd(c,65);d.VE(c,u,9,3,!0,20);for(var l=0;l<d.zZ;l++){var k=n[l],B=u[l];
c[l]=B>0?~~((B*k+(255-B)*128)/255):128}d._F(c,u,3);d.VE(u,c,15,2,!0,16);d.VE(u,n,15,2,!1,15);d.PA(c,n);
d.cF(n,u,2);d.Kk(u,S);d._F(u,c,2);d.rC(c,b)};V.b.alT=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=2*_[0]+1,U=d.Oe[_[1]],r=_[2]*5.1,q=_[3],w=d.Bz(1),X=d.Bz(1),Q=d.Bz(4),c=d.Bz(4);
d.Sw(Q,q);d.$H(Q,b);d.Eq(w,r);d.Bv(w,b);d.qS(b,Q);d.$g(e,X);d._F(X,w,S);d.sub(w,X);d.vd(X,U);d.VE(X,w,9,3,!0,20);
d.HT(e,w,Q);d.mn(Q,b,3);d.P8(b,Q,15,2,!0,16);d.P8(b,c,15,2,!1,16);d.PA(Q,c);d.d8(c,b,2)};V.b.arz=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=(15-_[0])/4+1,U=(15-_[1])/4+1,r=_[2],q=_[3],w=d.kc(_[4]),X=_[5]+1,Q=_[6],c=_[7],u=_[8],n=d.Bz(1),k=d.Bz(1),B=d.Bz(1),o=d.Bz(1),T=d.Bz(4),z=d.Bz(4);
d.Jl(B,r,q,Q);d.$g(e,k);d._F(k,n,5);d.Nn(B,n,o,X,w);d.vd(o,S);d.qT(o,2);d.eG(n);d.Nn(B,n,k,X,w);d.vd(k,U);
d.qT(k,2);d.Sw(T,2155905279);d.Sw(z,c);d.Sw(b,u);d.HT(T,k,z);d.HT(z,o,b)};V.b.a2o=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=_[0],U=_[1]/10,r=_[2]/10,q=d.Bz(1),w=d.Bz(1),X=d.Bz(1),Q=d.cL(),c=d.cL(),u=d.cL();
d.i7(q);d._F(q,w,11);d._F(w,q,11);d.SY(q,Q);d.UC(e,q);d.Fk(q,X);d._F(q,w,9);d._F(w,q,9);d.SY(q,c);d.Im(c,u,5);
d.Im(u,c,5);d.rU(Q,.8);d.aaf(Q,c,.8,.9);d.E2(c,q,S);d.JA(q,w,2,2,1);d.JA(w,q,2,2,3);d.JA(q,w,2,2,3);
d.JA(X,q,5,5,13);d.jD(w,q,w,U);d.VN(q,w,w,r);d.Nn(w,w,q,5,1);d.$H(e,b);d.Bv(q,b);d.qS(b)};V.b.aen=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=_[0],U=_[1]/2,r=_[2],q=S/2,w=d.Bz(4),X=d.Bz(4);d.Fk(e,b);for(var Q=0;Q<r;Q++){d.P8(b,w,S,1,!0,q);
d.P8(b,X,S,1,!1,q);d.PA(X,w);d.mn(w,X,2);d.d8(X,b,U)}};V.b.aso=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);
var S=_[0]*10,U=_[1]*4.9,r=_[2]*4.9,q=d.Bz(1),w=d.Bz(1),X=d.Bz(4),Q=d.Bz(4);d.$g(e,q);d.kB(q,d.a4P(q,S));
d._F(q,w,3);d.P8(e,X,5,1,!1,1);d.P8(e,b,15,2,!0,16);d.HT(b,w,X);d.$H(X,b);d.bu(b,q);d.Nt(q,U,r);d.Bv(q,b);
d.qS(b)};V.b.a9O=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[4]);var S=_[0]/20,U=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][_[1]],r=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][_[2]],q=_[3],w=new Int16Array(256);
for(var l=0;l<256;l++){w[l]=~~((l-128)*S)}var X=d.Bz(1),Q=d.Bz(1),c=d.Bz(4);d.$g(e,X);d._F(X,Q,25);d.vd(Q,U);
d.qT(Q,r);d._F(Q,X,25);d.i7(Q);d.Qk(X,Q,w);d.Fk(e,b);d.Sw(c,q);d.HT(c,X,b)};V.b.a1W=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=_[0]+5,U=15-_[1],r=S*S/2,q=1-(3-_[2])/10,w=~~(U*U*q-1),X=~~(U*U*(1-q));if(X==0)X=1;var Q=d.Bz(1),c=d.Bz(1),u=d.Bz(1),n=d.Bz(4);
d.$g(e,u);d.JA(u,Q,S,S,r);d._F(u,c,S);d.sub(Q,c);d.kB(c,1);d.vf(e,n,U,U,w);d.vf(e,b,U,U,X);d.HT(n,c,b)};
V.b.a8z=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[3]);var S=(20-_[0])*.05,U=_[1]*-2.75+60,r=65-U,q=_[2]/10,w=d.Bz(1),X=d.Bz(1);
d.UC(e,X);var Q=d.be(U,r,X);d.$H(e,b);d.bu(b,X);d.i7(w);d.UG(X,w,S);d.Kk(X,Q);d.vd(X,_[2]/10);d.add(w,X);
d.Bv(X,b);d.qS(b)};V.b.anO=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=5+_[0],U=15-_[1],r=_[2],q=S*S/2+S*S%2*1,w=1-(3-_[2])/10,X=~~(U*U*w-1),Q=~~(U*U*(1-w));
if(Q==0)Q=1;var c=d.Bz(1),u=d.Bz(1),n=d.Bz(1),k=d.Bz(1),B=d.Bz(1);d.UC(e,u);d.cF(u,c,3);d.JA(c,u,2,2,1);
var o=d.be(20,20,u);d.Kk(u,o);d._F(u,B,5);d.JA(B,c,S,S,q);d.JA(B,u,U,U,X);d.JA(B,n,U,U,Q);d._F(B,k,S);
d.sub(c,k);d.kB(k,1);d.kY(u,k,n);d.$H(e,b);d.Bv(n,b);d.qS(b)};V.b.a2_=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[5]);var S=d.zZ,U=d.XS,r=_[0],q=_[1],w=_[2],X=_[3],Q=_[4],c=.05*r+1,u=r/100,n=r>>1,k=2*r-100,B=+(q==9),o=+(q==7),T=[4,1][B],z=[3,2][B],W=[1,2][o],$=[2,1][o],R=[50,75][B],P=q<4?w:(w>>1)+50,H=d.Vt(R,P),y=d.k6(X),h=d.k6(Q),m=d.Bz(4),t=d.Bz(4),j=d.Bz(1),x=d.Bz(1);
function C(b,H){if(P!=50){d.bh(b,H)}}function L(e,c8){for(var l=0;l<S;l++){e[l]=d.BR(e[l]+(c8[l]-128)*u)}}function f(e,c8){for(var l=0,O=0;
l<S;l++){e[O]=d.BR(e[O]+(c8[O]-128)*u);e[O+1]=d.BR(e[O+1]+(c8[O+1]-128)*u);e[O+2]=d.BR(e[O+2]+(c8[O+2]-128)*u);
O+=4}}function D(e,b){d.i7(t);d.Fk(e,b);f(b,t);C(b,H)}function v(c8){var O=0;for(var dF=0;dF<12;dF++)O+=d.random();
return d.BR(n*(O-6)+c8)}function A(e,b){d.Fk(e,b);for(var l=0;l<U;l+=4){b[l]=v(b[l]);b[l+1]=v(b[l+1]);
b[l+2]=v(b[l+2])}C(b,H)}function M(e,b){d.Fk(e,b);for(var l=0;l<U;l+=4){if(d.random()<u){b[l]=y[0];b[l+1]=y[1];
b[l+2]=y[2]}}C(b,H)}function Y(e,b){d.i7(m);d.vf(m,t,z,z,T);d.Fk(e,m);f(m,t);d.vf(m,b,5,5,13);C(b,H)}function J(e,b){d.i7(t);
d.Fk(e,m);f(m,t);C(b,H);d.vf(m,b,z,z,T)}function I(e,b){d.Fk(e,m);C(b,H);d.$g(m,j);for(var l=0,c8=0;
l<S;l++){var O=((k-j[l]+255)*128.5+.5)/32767;if(d.random()<=O){b[c8++]=h[0];b[c8++]=h[1];b[c8++]=h[2]}else{b[c8++]=y[0];
b[c8++]=y[1];b[c8++]=y[2]}b[c8]=e[c8];c8++}}function p(e,b){d.$H(e,b);d.bu(b,j);d.cF(j,x,c);d.JA(x,j,z,z,T);
d.Kk(j,H);d.Bv(j,b);d.qS(b)}function a(e){var c8=0;if(q==8){for(var O=0;O<Z;O++){e[c8++]=~~(d.random()*255)}for(var l=1;
l<F;l++){for(var O=0;O<Z;O++){e[c8++]=e[O]}}}else{for(var l=0;l<F;l++){var dF=~~(d.random()*255);for(var O=0;
O<Z;O++){e[c8++]=dF}}}}function er(e,b){d.$g(e,j);d.i7(x);L(j,x);a(x);L(j,x);d.mn(e,m,9);d.mn(m,t,9);
d._F(j,x,2);d.Kk(x,H);d._F(x,j,2);d.$H(t,b);d.Bv(j,b);d.qS(b)}[D,A,M,Y,Y,J,I,er,er,p][q](e,b)};V.b.a65=function(e,Z,F,b,_){var d=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],S=V.b.q,n=0,k,l,W,$,R,P=0,H=1,y=255;
S.c8(Z,F);S.dO(_[3]);var U=S.Bz(1),r=S.Bz(1);S.$g(e,U);var q=_[0],w=_[1],X=w<=50?d[w]/255:1+(255-d[101-w])/255,Q=_[2],c=U.length,u=new Float32Array(c),B=1+1/10*q,o=(1-1/B)/2,T=16/256,z=Z-1;
for(l=0;l<S.zZ;l++){u[l]=U[l]/255;r[l]=q==1?S.random()<1/255?y:H:H}function h(m,t){var j=m*Z+t;if(r[j]!=H||m>=F||t>=Z){return}var $=u[j],x=X-$,C=S.random(),L=C/B+o;
if(n==0||Math.abs(R-$)>T){k=L<=x?P:y;n=~~(S.random()*q)}else if(.1<C){n--}else{n=0}r[j]=k;R=$}if(Q==0){for(l=0;
l<Z;l++){for(W=0;W<Z;W++){$=l+W;if($>=Z)break;h(W,z-$)}n=0}for(l=1;l<F;l++){for(W=0;W<F;W++){$=l+W;if($>=F||W>=Z)break;
h($,z-W)}n=0}}else if(Q==1){for(l=0;l<F;l++){for(W=0;W<Z;W++){h(l,W)}n=0}}else if(Q==2){for(l=0;l<Z;
l++){for(W=0;W<Z;W++){$=l+W;if($>=Z)break;h(W,$)}n=0}for(l=1;l<F;l++){for(W=0;W<F;W++){$=l+W;if($>=F||W>=Z)break;
h($,W)}n=0}}else{for(l=0;l<Z;l++){for(W=0;W<F;W++){h(W,l)}n=0}}S.rC(r,b)};V.b.aib=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=_[0],U=_[1],r=_[2],q=d.Bz(1),w=d.Bz(1),X=d.Bz(1),Q=d.Bz(4),c=d.Bz(4);d.$g(e,q);d.JA(q,w,3,3,1);
d.JA(q,X,3,3,9);d.sub(X,w);d._F(w,q,3);d.Nt(q,40,10);d.P8(e,b,S,2,!1,S);d.P8(e,Q,S,2,!0,S);d.Sw(c,255);
d.HT(b,q,c);d.HT(c,q,Q);d.d8(Q,b,1);d.$H(b);d.bu(b,q);d.Nt(q,U,r);d.Bv(q,b);d.qS(b)};V.b.abi=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=_[0],U=_[1],r=_[2]/10;S=S+U;var q=d.Bz(1),w=d.Bz(1),X=d.cL(),Q=d.cL();d.i7(q);
d._F(q,w,11);d._F(w,q,11);d.SY(q,X);d.Im(X,Q,5);d.Im(Q,X,5);d.rU(Q,.97);d.E2(Q,q,S);d.JA(q,w,U,U,1);
d.UC(e,q);d.jD(w,q,w,.6);d.VN(q,w,w,r);d.Nn(w,w,q,5,1);d.$H(e,b);d.Bv(q,b);d.qS(b)};V.b.afx=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=Math.abs(_[0]),U=S+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][S],r=2*S+1,q=_[1]/10,w=q*13/15,X=d.Bz(1),Q=d.Bz(1),c=d.Bz(1),u=d.Bz(1),n=d.Bz(4),k=d.Bz(4),B=d.Bz(4),o=d.Bz(4),T=d.Bz(4);
d.$g(e,X);if(_[0]>=0){d.eG(X)}d.Fk(X,c);d._F(X,u,U);d._F(u,X,U);d.vd(X,q);d.Fk(X,Q);d._F(X,u,r);d._F(u,X,r);
d.vd(X,w);d.Sw(B,_[2]);d.Sw(o,_[3]);d.Sw(T,_[4]);d.HT(B,X,o,n);d.HT(T,Q,n,k);d.HT(o,c,k,b);d.bu(e,c,3);
d.Bv(c,b,3)};V.b.akz=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[5]);var S=_[0]*5.1,U=_[1]/100,r=d.Yq[_[2]],q=d.Bz(1),w=d.Bz(1),X=d.Bz(1);
d.$g(e,q);d.Eq(w,255);d.i7(X);d.kB(q,S);d.UG(w,q,.7);d.UG(X,q,U);d.Nn(q,q,w,5,r);d.Fk(e,b);d.ahk(b,S,_[4],_[3]);
d.$H(b);d.Bv(w,b);d.qS(b)};V.b.aqZ=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=_[0],U=4-_[1],r=11-_[2],q=d.Bz(1),w=d.Bz(1),X=d.Bz(4);
d.UC(e,w);for(var l=0;l<U;l++){d.Fk(w,q);d.nh(q,w,S,S)}d.mn(e,X,S);d.$H(X,X);d.Bv(w,X);d.qS(X,X);(r<11?d.abD:d.Fk)(X,b,r)};
V.b.aql=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[2]);var S=_[0]+5,U=~~(S/5+1),r=~~(S/2)+1,q=r*r,w=~~(S/3),X=d.Yq[_[1]],Q=new Array(256);
for(var l=0;l<256;l++){Q[l]=~~(.2*(l-128))}var c=d.Bz(1),u=d.Bz(1);d.ab5(e,b,S);d.$H(b);d.bu(b,c);d.i7(u);
d.Qk(c,u,Q);d.ap1(u,S,S,U,U);d.jD(c,u,c,1);d._F(c,u,w);d._F(u,c,w);d.JA(c,u,r,r,q);d.Nn(u,u,c,5,X);d.Bv(c,b);
d.qS(b)};V.b.aqQ=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=d.Bz(1),U=d.Bz(1),r=d.Bz(1),q=d.cL(),w=d.cL();
d.$g(e,S);d._F(S,U,_[2]);d.kB(U,_[0]*5.1);d.JA(U,S,2,2,4);d._F(S,U,3);d._F(U,S,3);d.Fk(S,r);d._F(S,U,5);
d._F(U,S,5);d.SY(S,q);d.Im(q,w,5);d.Im(w,q,5);d.a9t(q,U,_[1]);d.eG(U);d.jD(r,U,r,1);d.rC(r,b)};V.b.aj3=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=1<<7-_[2],U=d.Bz(1),r=d.Bz(1),q=d.Bz(1);d.UC(e,r);d._F(r,U,3);d.Fk(U,r);d._F(U,q,_[0]+5);
d.sub(q,r);d.Nt(r,1,_[1]);d.vd(U,1/S);d.vd(U,S);d.sub(U,r);d.$H(e,b);d.Bv(r,b);d.qS(b)};V.b.ard=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=d.Bz(1),U=d.Bz(1),r=d.Bz(1);d.$g(e,S);d.aiz(U,_[0]/50);d._F(U,r,3);d.JA(S,U,9,9,41);
d.Nt(U,_[1],_[2]);d.jD(U,r,r,.75);d.VN(U,r,U,.5);d.Fk(U,S);d.JA(S,r,3,3,8);d.jD(r,U,r,.75);d.vd(r,1.2);
d.cF(r,S,1);d._F(S,r,2);d.cF(r,S,2);d.vd(S,1.2);d._F(S,r,2);d.rC(r,b)};V.b.akK=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=_[0]+9,U=_[1]/2,r=_[2],q=_[3],w=d.kc(_[4]),X=_[5]+1,Q=_[6],c=d.Bz(1),u=d.Bz(1),n=d.Bz(4),k=d.Bz(4);
d.Jl(u,r,q,Q);d.mg(e,b,S,1,1);d.mg(b,n,S,1,1);d.aaK(n,n,k,7,U);d.vd(k,1.2);d.qT(k,1.2);d.Nn(u,c,c,X,w);
d.vd(c,3);d.Fk(e,b);d.HT(k,c,b)};V.b.an0=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[3]);var S=_[0]+4,U=S*2/5+(S%5|0);
S--;var r=_[1]*-2.75+60,q=65-r,w=_[2]/10,X=d.Bz(1),Q=d.Bz(1);d.i7(X);d.UC(e,Q);var c=d.be(r,q,Q);d.$H(e,b);
d.bu(b,Q);d.UG(Q,X,.8);d.Kk(Q,c);d.vd(Q,w);d.add(X,Q);d.VE(Q,X,S,3,!1,U);d.Bv(X,b);d.qS(b)};V.b.ase=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=_[0]+5,U=(S*S>>1)+S%2,r=_[1]/10,q=_[2],w=(q*q>>1)+q%2,X=d.Bz(1),Q=d.Bz(1),c=d.Bz(1),u=d.Bz(4),n=d.Bz(4),k=d.Bz(4);
d.i7(c);d.$H(e,k);d.bu(k,X);d.UG(X,c,.8);d._F(c,X,3);d.cF(X,c,r);d.Bv(c,k);d.qS(k,k);d.$g(k,c);d.JA(c,X,S,S,U);
d._F(c,Q,S);d.sub(X,Q);d.kB(Q,1);d.vf(k,u,7,7,40);d.vf(k,n,7,7,10);d.HT(u,Q,n);d.vf(n,b,q,q,w)};V.b.acs=function(e,Z,F,b,_){var d=V.b.q,U=255,l,q;
d.c8(Z,F);var S=_[0];if(S<2)U=S;else if(S<12)U=5*S-5;else if(S<47)U=2*S+28;else if(S<50){l=S-47;U=125+12.5*l+12.5*l*l}var r=new Uint8Array(256);
for(l=75,q=15;l<256;l++,q+=24)r[l]=Math.min(255,q);var w=d.Bz(1),X=d.Bz(1),Q=d.Bz(1);d.$g(e,w);d._F(w,X,11);
d._F(X,Q,11);d.sub(Q,w);d.vd(w,8);d.sub(Q,w);d.kB(w,U);d.eG(w);d._F(w,X,5);d.kB(X,51);d._F(X,w,_[1]);
d._F(w,X,_[1]);d.eG(X);d.Kk(X,r);d.rC(X,b)};V.b.ags=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=d.Oe[_[1]],U=_[2],r=U*1.5,q=d.Bz(1),w=d.Bz(1),X=d.Bz(1);
d.UC(e,q);d.VE(q,w,15,2,!0,15);d.Fk(w,X);d.Nt(X,U,r);d._F(X,q,3);d._F(w,X,_[0]);d.sub(X,w);d.vd(w,S);
d.sub(q,w);d._F(w,q,3);d.VE(q,w,3,1,!1,1);d.mn(e,b,15);d.$H(b);d.Bv(w,b);d.qS(b)};V.b.ao0=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);d.dO(_[3]);var S=_[0]*5.1,U=16-_[1],r=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][_[2]],q=d.Bz(1),w=d.Bz(1),X=d.Bz(1);
d.$g(e,q);d.kB(q,S);d._F(q,w,U);d._F(w,q,U);d.i7(X);d.VN(q,X,X,1);d.jD(q,X,q,.75);d.vd(q,r);d.qT(q,r);
d.JA(q,w,2,2,2);d.rC(w,b)};V.b.acN=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);var S=_[0]+9,U=_[1]+9,r=_[2],q=_[3],w=d.kc(_[4]),X=_[5]+1,Q=_[6],c=d.Bz(1),u=d.Bz(1),n=d.Bz(1),k=d.Bz(1),B=d.Bz(1),o=d.Bz(4);
d.UC(e,c);d.nh(c,n,S,S);d._F(n,c,U);d.Fk(n,B);d.Fk(c,k);d.sub(B,k);d.sub(c,B);d.add(B,k);d.vd(k,10);
d.Jl(u,r,q,Q);d.Nn(u,c,B,X,w);d.kY(B,k,n,.8);d.mn(e,o,9);d.mn(o,b,9);d.$H(b);d.Bv(n,b);d.qS(b)};V.b.a6O=function(e,Z,F,b,_){var d=V.b.q;
d.c8(Z,F);var S=16-_[0],U=_[1]*8,r=1-(3-_[2])/10,q=~~(S*S*r-1),w=~~(S*S*(1-r));if(w==0)w=1;var X=d.Bz(1),Q=d.Bz(1),c=d.Bz(1),u=d.Bz(4);
d.$g(e,c);d.JA(c,X,7,7,25);d._F(c,Q,7);d.sub(X,Q);d.kB(Q,1);d.vf(e,u,S,S,q);d.vf(e,b,S,S,w);d.HT(u,Q,b);
d.$H(b);d.bu(b,X);d.JA(X,c,3,3,1);d.JA(X,Q,3,3,9);d.sub(Q,c);d.Fk(c,Q);d.sub(X,c);d.sub(c,Q);d.JA(Q,X,3,3,8);
d.Nt(X,U,1);d.Bv(X,b);d.qS(b)};V.b.aeJ=function(e,Z,F,b,_){var d=V.b.q;d.c8(Z,F);d.dO(_[3]);var S=_[0],U=_[1],r=_[2],q=S>>1,w=Math.max(~~(S/5),1),X=Math.max(~~(S*2/3),1),Q=d.Vt(U,r),c=d.Bz(1),u=d.Bz(1),n=d.Bz(1),k=d.Bz(1),B=d.Bz(4);
d.UC(e,c);d.zO(2147483647,4,2,2,0,255,u);d.zO(4,2147483647,2,2,0,255,k);d.i7(n);d.VN(u,n,u,1);d.VN(k,n,k,1);
d.VN(u,c,u,1);d.VN(k,c,k,1);d.mn(e,B,q);d.mn(B,b,q);d.JA(u,c,1,S,w);d.JA(c,u,3,S,X);d.JA(k,c,S,1,w);
d.JA(c,k,S,3,X);d.PA(u,k);d.$H(b);d.Bv(k,b);d.qS(b);d.bh(b,Q)};V.b.q={};V.b.q.bo=0;V.b.q.zA=0;V.b.q.zZ=0;
V.b.q.ak=0;V.b.q.XS=0;V.b.q.c8=function(e,Z){var F=e*Z,self=V.b.q;self.bo=e;self.zA=Z;self.zZ=F;self.ak=F<<1;
self.XS=F<<2};V.b.q.dO=function(e){V.b.q.random=function(){var Z=e+=1831565813;Z=Math.imul(Z^Z>>>15,Z|1);
Z^=Z+Math.imul(Z^Z>>>7,Z|61);return((Z^Z>>>14)>>>0)/4294967296}};V.b.q.Bz=function(e){var Z=V.b.q;return new Uint8Array([-1,Z.zZ,Z.ak,-1,Z.XS][e])};
V.b.q.cL=function(){return new Int32Array(V.b.q.ak)};V.b.q._F=function(e,Z,F,b){if(b==null)b=F;var self=V.b.q,_=self.bo,d=self.zA;
V.OS.Oo(e,Z,new e3(0,0,_,d),F>>>1);return};V.b.q.Im=function(e,Z,F,b){var self=V.b.q,_=new Int32Array(self.zZ),d=new Int32Array(self.zZ);
for(var l=0;l<2;l++){self.bu(e,_,l,2);self._F(_,d,F,b);self.Bv(d,Z,l,2)}};V.b.q.mn=function(e,Z,F,b){var self=V.b.q,_=self.Bz(1),d=self.Bz(1);
for(var l=0;l<4;l++){self.bu(e,_,l);if(l<3)self._F(_,d,F,b);else d=_;self.Bv(d,Z,l)}};V.b.q.mg=function(e,Z,F,b,_){var self=V.b.q,d=self.bo,S=self.zA,U=F+b-1,r=F>>1,q=U>>1,w=0,X=F*b,Q=new Int32Array(F);
for(var l=0;l<S;l++){var c=0,u=0,n=0;for(var k=0;k<F;k++){var B=_?U-k-b:k;for(var o=B,T=b+B;o<T;o++){var z=0-q+o,W=l-r+k;
if(o==B){Q[k]=z}if(z<0)z=0;else if(z>=d)z=d-1;if(W<0)W=0;else if(W>=S)W=S-1;var $=d*W+z<<2;c+=e[$];u+=e[$+1];
n+=e[$+2]}}Z[w++]=~~(c/X);Z[w++]=~~(u/X);Z[w++]=~~(n/X);Z[w]=e[w];w++;for(var R=1;R<d;R++){for(var k=0;
k<F;k++){var W=l-r+k,B=Q[k]+1;Q[k]=B;var P=B-1,H=B+b-1;if(W<0)W=0;else if(W>=S)W=S-1;if(P<0)P=0;else if(P>=d)P=d-1;
if(H<0)H=0;else if(H>=d)H=d-1;var y=W*d+P<<2,h=W*d+H<<2;c=c+e[h]-e[y];u=u+e[h+1]-e[y+1];n=n+e[h+2]-e[y+2]}Z[w++]=~~(c/X);
Z[w++]=~~(u/X);Z[w++]=~~(n/X);Z[w]=e[w];w++}}};V.b.q.VE=function(e,Z,F,b,_,d){var self=V.b.q,S=self.bo,U=self.zA,r=F+b-1,q=F>>1,w=r>>1,X=0,Q=new Int32Array(F),c=new Int32Array(256),u=new Int32Array(16);
for(var l=0;l<U;l++){c.fill(0);u.fill(0);for(var n=0;n<F;n++){var k=_?r-n-b:n;for(var B=k,o=b+k;B<o;
B++){var T=0-w+B,z=l-q+n;if(B==k){Q[n]=T}if(T<0)T=0;else if(T>=S)T=S-1;if(z<0)z=0;else if(z>=U)z=U-1;
c[e[z*S+T]]++;u[e[z*S+T]>>>4]++}}Z[X++]=V.b.q.f7(u,c,d);for(var W=1;W<S;W++){for(var n=0;n<F;n++){var z=l-q+n,k=Q[n]+1;
Q[n]=k;var $=k-1,R=k+b-1;if(z<0)z=0;else if(z>=U)z=U-1;if($<0)$=0;else if($>=S)$=S-1;if(R<0)R=0;else if(R>=S)R=S-1;
var P=e[z*S+$],H=e[z*S+R];c[P]--;c[H]++;u[P>>>4]--;u[H>>>4]++}Z[X++]=V.b.q.f7(u,c,d)}}};V.b.q.P8=function(e,Z,F,b,_,d){var self=V.b.q,S=self.Bz(1),U=self.Bz(1);
for(var l=0;l<4;l++){self.bu(e,S,l);if(l<3)self.VE(S,U,F,b,_,d);else U=S;self.Bv(U,Z,l)}};V.b.q.JA=function(e,Z,F,b,_){_=Math.min(b*F,_);
var self=V.b.q,d=self.bo,S=self.zA,U=b>>1,r=F>>1,q=0,w=new Int32Array(b),X=new Int32Array(256),Q=new Int32Array(16);
for(var l=0;l<S;l++){X.fill(0);Q.fill(0);for(var c=0;c<b;c++){for(var u=0,n=F;u<n;u++){var k=0-r+u,B=l-U+c;
if(u==0){w[c]=k}if(k<0)k=0;else if(k>=d)k=d-1;if(B<0)B=0;else if(B>=S)B=S-1;X[e[B*d+k]]++;Q[e[B*d+k]>>>4]++}}Z[q++]=V.b.q.f7(Q,X,_);
for(var o=1;o<d;o++){for(var c=0;c<b;c++){var B=l-U+c,T=w[c]+1;w[c]=T;var z=T-1,W=T+F-1;if(B<0)B=0;else if(B>=S)B=S-1;
if(z<0)z=0;else if(z>=d)z=d-1;if(W<0)W=0;else if(W>=d)W=d-1;var $=e[B*d+z],R=e[B*d+W];X[$]--;X[R]++;
Q[$>>>4]--;Q[R>>>4]++}Z[q++]=V.b.q.f7(Q,X,_)}}};V.b.q.f7=function(e,Z,F){var b=0,_=0;while(b+e[_>>>4]<F){b+=e[_>>>4];
_+=16}for(;_<256;_++){b+=Z[_];if(b>=F)break}return _};V.b.q.vf=function(e,Z,F,b,_){var self=V.b.q,d=self.Bz(1),S=self.Bz(1);
for(var l=0;l<4;l++){self.bu(e,d,l);if(l<3)self.JA(d,S,F,b,_);else S=d;self.Bv(S,Z,l)}};V.b.q.cF=function(e,Z,F){var self=V.b.q,b=self.bo,_=self.zA,d=0;
for(var l=0;l<_;l++){var S=l*b,U=(l-1)*b,r=(l+1)*b;if(U<0)U=S;if(r>=_)r=S;for(var q=0;q<b;q++){var w=q-1,X=q+1;
if(w<0)w=q;if(X>=b)X=q;var Q=S+w,c=S+X,u=U+q,n=r+q,k=S+q,B=e[Q],o=e[c],T=e[u],z=e[n],W=e[k],$=W+(W*4*F+.5);
$=$-((B+o+z+T)*F+.5);Z[d++]=self.BR($)}}};V.b.q.d8=function(e,Z,F){var self=V.b.q,b=self.Bz(1),_=self.Bz(1);
for(var l=0;l<4;l++){self.bu(e,b,l);if(l<3)self.cF(b,_,F);else _=b;self.Bv(_,Z,l)}};V.b.q.abD=function(e,Z,F){var self=V.b.q,b=self.bo,_=self.zA,d=0,S=F+4;
for(var l=0;l<_;l++){var U=l*b,r=(l-1)*b,q=(l+1)*b;if(r<0)r=U;if(q>=_)q=U;for(var w=0;w<b;w++){var X=w-1,Q=w+1;
if(X<0)X=w;if(Q>=b)Q=w;var c=U+X<<2,u=U+Q<<2,n=r+w<<2,k=q+w<<2,B=U+w<<2;for(var o=0;o<3;o++){var T=e[c+o],z=e[u+o],W=e[n+o],$=e[k+o],R=e[B+o];
Z[d++]=(R*F+T+z+$+W)/S}Z[d]=e[d];d++}}};V.b.q.nh=function(e,Z,F,b){var self=V.b.q,_=self.bo,d=self.zA,S=F>>1,U=b>>1,r=0,q=new Int32Array(F),w=new Int32Array(256);
for(var l=0;l<d;l++){w.fill(0);for(var X=0;X<F;X++){for(var Q=0,c=b;Q<c;Q++){var u=0-U+Q,n=l-S+X;if(Q==0){q[X]=u}if(u<0)u=0;
else if(u>=_)u=_-1;if(n<0)n=0;else if(n>=d)n=d-1;w[e[n*_+u]]++}}var k=0,B=0;for(var o=0;o<256;o++){if(k<w[o]){B=o;
k=w[o]}}Z[r++]=B;for(var T=1;T<_;T++){for(var X=0;X<F;X++){var n=l-S+X,z=q[X]+1;q[X]=z;var W=z-1,$=z+b-1;
if(n<0)n=0;else if(n>=d)n=d-1;if(W<0)W=0;else if(W>=_)W=_-1;if($<0)$=0;else if($>=_)$=_-1;w[e[n*_+W]]--;
w[e[n*_+$]]++}k=0;B=0;for(var o=0;o<256;o++){if(k<w[o]){B=o;k=w[o]}}Z[r++]=B}}};V.b.q.afZ=[function(e,Z,F,b,_,d,S,U,r,q){return _+(e+Z+F)*q-(r+U+S)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(Z+F+d)*q-(U+S+b)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(F+d+r)*q-(S+b+e)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(d+r+U)*q-(b+e+Z)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(r+U+S)*q-(e+Z+F)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(U+S+b)*q-(Z+F+d)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(S+b+e)*q-(F+d+r)*q},function(e,Z,F,b,_,d,S,U,r,q){return _+(b+e+Z)*q-(d+r+U)*q}];
V.b.q.Nn=function(e,Z,F,b,_){var self=V.b.q,d=self.bo,S=self.zA,U=d,r=self.afZ[b-1];for(var l=0;l<S;
l++){var q=(l>0?l-1:0)*U,w=l*U,X=(l<S?l+1:l)*U;for(var Q=0;Q<d;Q++){var c=Q>0?Q-1:0,u=Q<d?Q+1:Q,n=w+Q,k=e[q+c],B=e[q+Q],o=e[q+u],T=e[w+c],z=Z[n],W=e[w+u],$=e[X+c],R=e[X+Q],P=e[X+u];
F[n]=self.BR(r(k,B,o,T,z,W,$,R,P,_))}}};V.b.q.aaK=function(e,Z,F,b,_){var self=V.b.q,d=self.Bz(1),S=self.Bz(1),U=self.Bz(1);
for(var l=0;l<3;l++){self.bu(e,d,l);self.bu(Z,S,l);self.Nn(d,S,U,b,_);self.Bv(U,F,l)}self.bu(Z,d,3);
self.Bv(d,F,3)};V.b.q.$g=function(e,Z){var F=e.length,b=0;for(var l=0;l<F;l++){Z[b++]=~~((e[l++]+e[l++]+e[l++]+2)/3)}};
V.b.q.rC=function(e,Z){var F=Z.length,b=0;for(var l=0;l<F;l++){var _=e[l];Z[b++]=_;Z[b++]=_;Z[b++]=_;
Z[b++]=255}if(Z[0]==255)Z[0]--;else Z[0]++};V.b.q.UC=function(e,Z){var F=Z.length,b=0;for(var l=0;l<F;
l++){var _=e[b++],d=e[b++],S=e[b++];b++;if(d>_)_=d;if(S>_)_=S;Z[l]=_}};V.b.q.$H=function(e,Z){if(Z==null)Z=e;
var F=e.length;for(var b=0;b<F;b+=4){var _=e[b],d=e[b+1],S=e[b+2],U=_,r=0,q=_,X;if(d<=_){_=d}else{r=1;
q=d}if(S<=q){if(_>S){_=S}}else{r=2;q=S}var w=q-_;if(w!=0){if(r==0){X=~~(43*(d-S)/w)}else if(r==1){X=~~(43*(S+2*w-U)/w)}else{X=43*(U+4*w-d)/w}if(X<0){X=255&X-1}Z[b]=X;
Z[b+1]=~~(255*w/q)}else{Z[b]=w;Z[b+1]=w}Z[b+2]=q;Z[b+3]=e[b+3]}};V.b.q.qS=function(e,Z){if(Z==null)Z=e;
var F=e.length;for(var b=0;b<F;b+=4){var _=e[b],d=e[b+1],S=e[b+2];if(d){if(_==255)_=0;var U=~~(6*_/255),r=~~(-255*U+6*_);
if(U==0){Z[b]=S;Z[b+1]=~~(S*(255-d*(255-r)/255)/255);Z[b+2]=~~(S*(255-d)/255)}else if(U==1){Z[b]=~~(S*(255-d*r/255)/255);
Z[b+1]=S;Z[b+2]=~~(S*(255-d)/255)}else if(U==2){Z[b]=~~(S*(255-d)/255);Z[b+1]=S;Z[b+2]=~~(S*(255-d*(255-r)/255)/255)}else if(U==3){Z[b]=~~(S*(255-d)/255);
Z[b+1]=~~(S*(255-d*r/255)/255);Z[b+2]=S}else if(U==4){Z[b]=~~(S*(255-d*(255-r)/255)/255);Z[b+1]=~~(S*(255-d)/255);
Z[b+2]=S}else{Z[b]=S;Z[b+1]=~~(S*(255-d)/255);Z[b+2]=~~(S*(255-d*r/255)/255)}}else{Z[b]=S;Z[b+1]=S;Z[b+2]=S}Z[b+3]=e[b+3]}};
V.b.q.Bv=function(e,Z,F,b){if(F==null)F=2;if(b==null)b=4;var _=e.length;for(var l=0;l<_;l++){Z[F]=e[l];
F+=b}};V.b.q.bu=function(e,Z,F,b){if(F==null)F=2;if(b==null)b=4;var _=Z.length;for(var l=0;l<_;l++){Z[l]=e[F];
F+=b}};V.b.q.kY=function(e,Z,F,b){if(b==null)b=1;var _=Z.length,d=0,S;for(var d=0;d<_;d++){S=Z[d];if(S){S*=b;
F[d]=~~((S*e[d]+(255-S)*F[d])/255)}}};V.b.q.HT=function(e,Z,F,b){if(b==null)b=F;var _=Z.length,d=0,S,U;
for(var l=0;l<_;l++){S=Z[l];if(S){U=255-S;b[d]=~~((S*e[d]+U*F[d])/255);b[d+1]=~~((S*e[d+1]+U*F[d+1])/255);
b[d+2]=~~((S*e[d+2]+U*F[d+2])/255)}b[d+3]=e[d+3];d+=4}};V.b.q.jD=function(e,Z,F,b){var _=~~(b*255),d=F.length;
for(var l=0;l<d;l++){F[l]=((255-_*(255-e[l])/255)*Z[l]+e[l]*(_*(255-e[l])/255))/255}};V.b.q.VN=function(e,Z,F,b){var _=~~(b*255),d=F.length;
for(var l=0;l<d;l++){F[l]=((255-_*e[l]/255)*Z[l]+e[l]*(_*e[l]/255))/255}};V.b.q.UG=function(e,Z,F){var b=Z.length;
for(var l=0;l<b;l++){Z[l]=~~(e[l]*F+.5)+(Z[l]-~~(Z[l]*F+.5))}};V.b.q.sub=function(e,Z){var F=e.length;
for(var l=0;l<F;l++){Z[l]=Math.max(e[l]-Z[l],0)}};V.b.q.add=function(e,Z){var F=e.length;for(var l=0;
l<F;l++){Z[l]=Math.min(e[l]+Z[l],255)}};V.b.q.PA=function(e,Z){var F=e.length;for(var l=0;l<F;l++){Z[l]=e[l]+Z[l]>>1}};
V.b.q.Fk=function(e,Z){var F=e.length;for(var l=0;l<F;l++){Z[l]=e[l]}};V.b.q.Kk=function(e,Z){var F=e.length;
for(var l=0;l<F;l++){e[l]=Z[e[l]]}};V.b.q.bh=function(e,Z){var F=V.b.q.XS;for(var l=0;l<F;l+=4){var b=e[l],_=e[l+1],d=e[l+2],S=b;
if(_>b)S=_;if(d>b)S=d;var U=Z[S];if(U){e[l]=~~(U*b/S);e[l+1]=~~(U*_/S);e[l+2]=~~(U*d/S)}else{e[l]=U;
e[l+1]=U;e[l+2]=U}}};V.b.q.vd=function(e,Z){for(var l=0,F=e.length;l<F;l++){e[l]=Math.min(255,~~(.5+e[l]*Z))}};
V.b.q.qT=function(e,Z){for(var l=0,F=e.length;l<F;l++){e[l]=255-Math.min(255,~~(.5+(255-e[l])*Z))}};
V.b.q.eG=function(e){var Z=e.length;for(var l=0;l<Z;l++){e[l]=255-e[l]}};V.b.q.kB=function(e,Z,F,b){if(F==null)F=0;
if(b==null)b=255;for(var l=0,_=e.length;l<_;l++){e[l]=e[l]>=Z?b:F}};V.b.q.k6=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};
V.b.q.ahk=function(e,Z,F,b){if(F==null)F=255;if(b==null)b=4278190335;var _=V.b.q,d=_.XS,S=_.k6(F),U=_.k6(b);
for(var l=0;l<d;l+=4){var r=~~((e[l]+e[l+1]+e[l+2]+2)/3);if(r>=Z){e[l]=S[0];e[l+1]=S[1];e[l+2]=S[2]}else{e[l]=U[0];
e[l+1]=U[1];e[l+2]=U[2]}}};V.b.q.Sw=function(e,Z){var F=V.b.q,b=F.XS,_=F.k6(Z);for(var l=0;l<b;){e[l++]=_[0];
e[l++]=_[1];e[l++]=_[2];e[l++]=_[3]}};V.b.q.Eq=function(e,Z){var F=e.length;for(var l=0;l<F;){e[l++]=Z}};
V.b.q.Vt=function(e,Z){e=e>5?(100-Math.max(4,e))/100:.95;Z=Z!=100?Math.max(4,Z)/100:.9995;var F=new Uint8Array(256),b=Z>.5?.5/(1-Z):Z*2,_=~~(b*256),d=~~((.5-e*b)*256)<<8;
for(var l=0;l<256;l++){F[l]=V.b.q.BR(d>>8);d+=_}return F};V.b.q.i7=function(e){for(var l=0,Z=V.b.q,F=e.length;
l<F;l++){e[l]=~~(Z.random()*256)}};V.b.q.aiz=function(e,Z){for(var l=0,F=V.b.q,b=e.length;l<b;l++){e[l]=F.random()<Z?255:0}};
V.b.q.Ut=function(e,Z,F){for(var l=0,b=V.b.q,_=e.length;l<_;l++){if(b.random()<Z)e[l]=F}};V.b.q.Qk=function(e,Z,F){var b=e.length;
for(var l=0;l<b;l++){e[l]=V.b.q.BR(e[l]+F[Z[l]])}};V.b.q.Be=function(e){var Z=new Uint32Array(256);for(var l=0,F=e.length;
l<F;l++){Z[e[l]]++}return Z};V.b.q.be=function(e,Z,F){var self=V.b.q,b=self.Be(F),_=self.zZ/100,d=new Uint8Array(256),S=_*e,U=_*Z,r=0,q=-1,w=256;
do{r+=b[++q]}while(r<=S);r=0;do{r+=b[--w]}while(r<=U);if(w-q<=0)w=q+1;if(w>255){w=255;q=254}var X=255/(w-q),Q=-q;
for(var l=0;l<256;l++){d[l]=self.BR(X*Q+.5);Q++}return d};V.b.q.Nt=function(e,Z,F){var b=V.b.q;b.Kk(e,b.be(Z,F,e))};
V.b.q.a4P=function(e,Z){var self=V.b.q,F=self.Be(e),b=self.zZ*Z/100,_=0,d=-1;do{_+=F[++d]}while(_<=b);
return d};V.b.q.SY=function(e,Z){var F=0,self=V.b.q,b=self.bo,_=self.zA,d=1/Math.PI,S=d*255;for(var l=0;
l<_;l++){var U=l+1;if(U==_)U--;var r=l*b,q=~~((1-(l+1)/_)*255);for(var w=0;w<b;w++){var X=w+1;if(X==b)X--;
var Q=e[r+w],c=e[r+X],u=e[U*b+w];if(Q-u==0){Z[F++]=q}else{var n=Q-u+255;if(n==255){n=0}else{n=~~(Math.atan2(1/(255-n),1)*S+.5);
if(n<0)n+=255}Z[F++]=n}if(Q-c==0){Z[F++]=~~((1-(w+1)/b)*255)}else{var n=Q-c+255;if(n==255){n=0}else{n=~~(Math.atan2(1/(255-n),1)*S+.5);
if(n<0)n+=255}Z[F++]=n}}}};V.b.q.rU=function(e,Z){var self=V.b.q,F=self.bo,b=self.zA,_=0;for(var l=0;
l<b;l++){for(var d=0;d<F;d++){e[_]=~~(l*Z+.5)+~~(e[_]*(1-Z)+.5);_++;e[_]=~~(d*Z+.5)+~~(e[_]*(1-Z)+.5);
_++}}};V.b.q.aaf=function(e,Z,F,b){var self=V.b.q,_=self.bo,d=self.zA,S=0;for(var l=0;l<d;l++){for(var U=0;
U<_;U++){Z[S]=~~(Z[S]*(1-F)+.5)+~~(e[S]*b+.5);S++;Z[S]=~~(Z[S]*(1-F)+.5)+~~(e[S]*b+.5);S++}}};V.b.q.E2=function(e,Z,F){var self=V.b.q,b=self.bo,_=self.zA,d=0,S=0;
for(var l=0;l<_;l++){for(var U=0;U<b;U++){var r=e[d++],q=e[d++];Z[S++]=q%F>=2&&r%F>=2?255:0}}};V.b.q.zO=function(e,Z,F,b,_,d,S){var self=V.b.q,U=self.bo,r=self.zA,q=0,w=0,X=0;
for(var l=0;l<r;l++){var Q=l%e<F||r-F<=l;for(var c=0;c<U;c++){S[q++]=Q||c%Z<b||U-b<=c?_:d}}};V.b.q.Jl=function(e,Z,F,b){var self=V.b.q,_=self.bo,d=self.zA,S=bU.Jl(Z),U=S[0],r=S[1],q=V.J(U.Z()*4);
q.fill(4294967295);V.jh(r,q);var w=V.scale.sG(q,U.w,U._),X=V.scale.LG(w,null,_,d,F/100,F/100,0,0);V.yC(X,e,0);
if(b)V.eG(e)};V.b.q.BR=function(e){return~~Math.min(255,Math.max(0,e))};V.b.q.Oe=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
V.b.q.Yq=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];V.b.q.kc=function(e){return e>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][e-41]:e/40};
V.b.q.ab5=function(e,Z,F){var self=V.b.q,b=self.bo,_=self.zA,d=F,S=F>>1,U=S-1,r=d*d,q=0;for(var l=0;
l<_;l++){var w=0,X=0,Q=0,c=~~(l/F)*F,u=0;for(var n=0;n<d;n++){for(var k=0;k<d;k++){var B=u+k,o=c+n;if(B>=b)B=b-1;
if(o>=_)o=_-1;w+=e[o*b+B<<2];X+=e[(o*b+B<<2)+1];Q+=e[(o*b+B<<2)+2]}}var T=~~(w/r),z=~~(X/r),W=~~(Q/r);
Z[q]=T;Z[q+1]=z;Z[q+2]=W;Z[q+3]=e[q+3];q+=4;for(var $=1;$<b;$++){for(var n=0;n<d;n++){var R=$-1,P=R+d,o=c+n;
if(P>=b)P=b-1;if(o>=_)o=_-1;var H=o*b,y=H+P<<2,h=H+R<<2;w+=e[y]-e[h];X+=e[y+1]-e[h+1];Q+=e[y+2]-e[h+2]}if($%F==0){T=~~(w/r);
z=~~(X/r);W=~~(Q/r)}Z[q]=T;Z[q+1]=z;Z[q+2]=W;Z[q+3]=e[q+3];q+=4}}};V.b.q.ap1=function(e,Z,F,b,_){var self=V.b.q,d=self.bo,S=self.zA,U=0,r=0,q=0,w=0;
for(var l=w;l<S+w;l++){var X=l%Z>=b||l<b||S+w-b<=l;for(var Q=0;Q<d;Q++){e[U++]=X&&(Q%F>=_||Q<_||d-_<=Q)?255:0}}};
V.b.q.a9t=function(e,Z,F){var b=function(q,w){return w<=q?q/w&1?w-q%w:q%w:q},_=[function(U,r){return b(U,255)/255},function(U,r){return(255+b(U,255)-b(r,255))/510},function(U,r){return(255-b(r,255))/255},function(U,r){return(510-b(U,255)-b(r,255))/510},function(U,r){return(255-b(U,255))/255},function(U,r){return(255-b(U,255)+b(r,255))/510},function(U,r){return b(r,255)/255},function(U,r){return(b(U,255)+b(r,255))/510}][F],d=0,S=0;
for(var l=0;l<V.b.q.zZ;l++){var U=e[d++],r=e[d++];Z[S++]=~~(255*_(U,r))}};V.b.ai1=function(){var e=[],Z=new Uint8Array(512),F=new Float32Array(512),b=new Float32Array(512),_=[1,-1,1,-1,1,-1,0,0],d=[1,1,-1,-1,0,0,1,-1],S=0,U,u=0;
for(;S<256;S++)e[S]=S;while(S!=0){S--;U=Math.floor(Math.random()*S);e[U]^=e[S]^(e[S]=e[U])}function r(r){r=Math.floor(r*65536);
if(r<256){r|=r<<8}for(var l=0;l<256;l++){var B=l+256,o=e[l]^(l&1?r:r>>8)&255;Z[l]=Z[B]=o;o=o%8;F[l]=F[B]=_[o];
b[l]=b[B]=d[o]}}function q(B){return B*B*B*(B*(B*6-15)+10)}function w(B,o,T){return(1-T)*B+T*o}function X(B,o){return B&o}function Q(B,o){return B%o}function c(B,o,T,z,W){var $=Math.floor(B),R=Math.floor(o),S,P,H,y,h,m;
B=B-$;o=o-R;$=$&255;R=R&255;S=$+Z[R];y=F[S]*B+b[S]*o;S=$+Z[W(R+1,z)];H=F[S]*B+b[S]*(o-1);S=W($+1,T)+Z[R];
h=F[S]*(B-1)+b[S]*o;S=W($+1,T)+Z[W(R+1,z)];m=F[S]*(B-1)+b[S]*(o-1);P=q(B);return w(w(y,h,P),w(H,m,P),q(o))}function n(B,S,o){B[S]=o}function k(B,o,T,z,W){var $=Math.min(Math.min(o,256),Math.min(256,T)),R=$==256||$<8,P=8,H=new Uint32Array(P),y=new Uint32Array(P),h=new Float32Array(P),m=new Float32Array(P),t=1,j=1,x=R?X:Q,C=n,L;
for(var l=0;l<P;l++){L=j*1/$;if(R){y[l]=(1<<Math.ceil(Math.log2(T*L)))-1;H[l]=(1<<Math.ceil(Math.log2(o*L)))-1}else{y[l]=L*T;
H[l]=L*o}h[l]=t;m[l]=L;t*=.5;j=j<<1}r(Math.random());for(var f=0,S=0;f<T;f++){for(var D=0;D<o;D++){var v=0;
for(var A=0;A<P;A++){L=m[A];v+=c(D*L,f*L,H[A],y[A],x)*h[A]}C(z,S++,Math.round(Math.max(0,255*Math.min(1,.5+v*.5))))}}}return k}();
V.b.aho=function(){function e(Z,F,b,_){var d=new Uint8Array(Z.length>>>2),S=new Uint8Array(Z.length>>>2),U=new Uint8Array(Z.length);
for(var l=0;l<Z.length;l+=4){var r=Z[l+0]*.3+Z[l+1]*.59+Z[l+2]*.11;S[l>>>2]=r;U[l]=Z[l];U[l+1]=Z[l+1];
U[l+2]=Z[l+2]}V.Qb.ow(S,d,F,b);V.Qb.MP(Z,_,F,b,V.Qb.nl[1],0,!0);for(var l=0;l<Z.length;l+=4){U[l+3]=255-d[l>>>2]}for(var l=0,q=Z.length;
l<q;l+=4){var w=U[l+3]/255;_[l]=U[l]*w+_[l]*(1-w);_[l+1]=U[l+1]*w+_[l+1]*(1-w);_[l+2]=U[l+2]*w+_[l+2]*(1-w)}}return e}();
V.b.adB=function(){function e(d,S,U,r,q){var w=new Uint32Array(d.buffer),X=0;for(var l=0;l<U;l++){for(var Q=0;
Q<S;Q++,X+=4){var c=w[l*S+Q],u=c&255,n=c>>>8&255,k=c>>>16&255,B=c>>>24&255,o=~~(Math.random()*8),T=o%3,z=0,W=0;
if(o<3){W--}else if(o>4){W++}if(T==0){z--}else if(T==2){z++}var $=Q+z,R=l+W;if($<0)$=0;else if($>S-1)$=S-1;
if(R<0)R=0;else if(R>U-1)R=U-1;var c=w[R*S+$],P=c&255,H=c>>>8&255,y=c>>>16&255,h=c>>>24&255;r[X]=q(u,P);
r[X+1]=q(n,H);r[X+2]=q(k,y);r[X+3]=q(B,h)}}}function Z(d,S){return S}function F(d,S){return d>S?S:d}function b(d,S){return d<S?S:d}function _(d,S,U,r,q){var w=q[0];
if(w==0)e(d,S,U,r,Z);else if(w==1)e(d,S,U,r,F);else if(w==2)e(d,S,U,r,b);else if(w==3){console.error("Not implemented")}else console.error("Mew mew")}return _}();
V.b.a4z=function(){function e(Z,F,b,_,d){var S=d&&d[0]?d[0]:4,U,r,q,w,X,Q,c;for(var l=0;l<b;l++){var u=Math.max(l-S,0),n=Math.min(l+S,b-1);
for(var k=0;k<F;k++){var B=Math.max(k-S,0),o=Math.min(k+S,F-1);U=u*F+B<<2;w=Z[U];X=Z[U+1];Q=Z[U+2];c=Z[U+3];
U=u*F+o<<2;w+=Z[U];X+=Z[U+1];Q+=Z[U+2];c+=Z[U+3];U=n*F+B<<2;w+=Z[U];X+=Z[U+1];Q+=Z[U+2];c+=Z[U+3];U=n*F+o<<2;
w+=Z[U];X+=Z[U+1];Q+=Z[U+2];c+=Z[U+3];U=l*F+k<<2;_[U]=w+2>>>2;_[U+1]=X+2>>>2;_[U+2]=Q+2>>>2;_[U+3]=c+2>>>2}}}return e}();
V.b.aiZ=function(){function e(Z,F,b,_){var d=new Uint8Array(Z.length),S=new Uint8Array(Z.length>>>2),U=new Uint8Array(Z.length>>>2);
V.Qb.MP(Z,d,F,b,V.Qb.nl[2],0,!0);for(var l=0;l<Z.length;l+=4){var r=d[l+0]*.3+d[l+1]*.59+d[l+2]*.11;
S[l>>>2]=r;_[l+0]=Z[l+0];_[l+1]=Z[l+1];_[l+2]=Z[l+2];_[l+3]=Z[l+3]}V.Qb.ow(S,U,F,b);for(var l=0;l<Z.length;
l+=4){d[l+3]=~~(Math.max(0,255-U[l>>>2]-50)*(255/205))}for(var l=0,q=Z.length;l<q;l+=4){var w=d[l+3]/255;
_[l]=d[l]*w+_[l]*(1-w);_[l+1]=d[l+1]*w+_[l+1]*(1-w);_[l+2]=d[l+2]*w+_[l+2]*(1-w)}}return e}();V.b.ZB=function(){function e(o,T){return o[T]+o[T+1]+o[T+2]+o[T+3]}function Z(o,T){return o[T]+o[T+1]+o[T+2]+2*o[T+3]}function F(o,T,z,W){o[T]=z[W];
o[T+1]=z[W+1];o[T+2]=z[W+2];o[T+3]=z[W+3]}function b(o,T,z){o[T]=o[z];o[T+1]=o[z+1];o[T+2]=o[z+2];o[T+3]=o[z+3]}function _(o,T,z){o[z]=T[z];
o[z+1]=T[z+1];o[z+2]=T[z+2];o[z+3]=255-T[z+3]}function d(o){for(var l=0,T=o.length;l<T;l+=4){o[l+3]=255-o[l+3]}}function S(){var o=Math.random();
if(o>.5)return 0;if(o>.25)return 1;if(o>.1)return 2;if(o>.02143)return 3;if(o>.00445)return 4;if(o>65e-5)return 5;
if(o>415e-6)return 6;if(o>55e-6)return 7;return 8}function U(o,T,z,W,$,R){o[T]=z[W]+($[R]-z[W]>>1);o[T+1]=z[W+1]+($[R+1]-z[W+1]>>1);
o[T+2]=z[W+2]+($[R+2]-z[W+2]>>1);o[T+3]=z[W+3]+($[R+3]-z[W+3]>>1)}function r(o,T,z,W,$,R){o[T]=$[R]+z[W]>>1;
o[T+1]=$[R+1]+z[W+1]>>1;o[T+2]=$[R+2]+z[W+2]>>1;o[T+3]=$[R+3]+z[W+3]>>1}function q(o,T,z,W,$,R,P,H,y){var h=0,m=0,t=0,l,j=$[R],x;
U(H,0,o,T,o,z);for(l=0;l<j;l++){U(H,(l+1)*4,H,l*4,o,z)}m=(j+1)*4;t+=j;R--;F(o,T,H,m-4);W[R]=e(o,T);T-=y;
while(R>0&&W[R-1]<W[R]){x=H;H=P;P=x;h=m;r(H,0,o,T-y,P,0);for(l=4;l<h;l+=4){r(H,l,H,l-4,P,l)}j=$[R];for(l=t;
l<j;l++){U(H,m,H,m-4,P,h-4);m+=4;t++}R--;F(o,T,H,m-4);W[R]=e(o,T);T-=y}}function w(o,T,z,W,$){var R=T*4,P=0,H,y,h=new Uint8Array(T+1),m=new Uint8Array(10*4),t=new Uint8Array(10*4);
for(var l=0;l<z;l++){_(W,o,P);$[0]=e(W,P);h[0]=S();H=P;P+=4;for(var j=1;j<T;j++){_(W,o,P);$[j]=e(W,P);
y=S();h[j]=y;if($[j-1]<$[j]&&y>0){q(W,P-4,P,$,h,j,m,t,4)}P+=4}$[T]=$[0];h[T]=h[0];if($[T-1]<$[T]&&y>0){q(W,P,H,$,h,T,m,t,4)}}d(W)}function X(){var o=Math.random();
if(o>.659755)return 0;if(o>.1625)return 10;if(o>.06)return 20;if(o>.01)return 30;if(o>.0035)return 40;
if(o>65e-5)return 50;if(o>415e-6)return 60;if(o>55e-6)return 70;return 80}function Q(o,T,z,W,$,R){var P=X()+1,H=W[$];
for(var l=1;l<P;l++){if(0>$)break;if(W[$-l]<H){b(o,T,z)}else{break}T+=R}}function c(o,T,z,W,$){var R=T*4,P=0;
for(var l=0;l<z;l++){_(W,o,P);$[0]=e(W,P);P+=4;for(var H=1;H<T;H++){_(W,o,P);$[H]=e(o,P);if($[H-1]<$[H]){Q(W,P-4,P,$,H,-4)}P+=4}$[T]=$[0];
if($[H-1]<$[H]){Q(W,P-4,P-R,$,H,-4)}}d(W)}function u(o,T,z,W,$,R){var P=1,H,y,h=new Uint8Array(4),m,t=T;
while(Math.random()<1/P){t=T;if(W<=1)break;H=z[W];y=z[W-1];if(H<=y)break;F(h,0,o,t-R);m=!0;for(var l=W;
l<$;l++){if(y>z[l]){F(o,t-R,h,0);z[l-1]=y;m=!1;break}F(o,t-R,o,t);z[l-1]=z[l];t+=R}if(m){F(o,t-R,h,0);
z[$-1]=y}P++;W--;T-=R}}function n(o,T,z,W,$){var R=0,P=0,H=T*4;for(var l=0;l<z;l++){P=R;for(var y=0;
y<T;y++){_(W,o,R);$[y]=Z(W,R);R+=4}R=P;for(var y=1;y<T;y++){if($[y-1]<$[y]&&Math.random()<.66){u(W,R+4,$,y,T,4)}R+=4}R+=4}d(W)}function k(o,T,z,W,$){var R=$[0],P=$[1],H=new Uint16Array(T+1),y=o,h=W,m;
if(P){m=W.slice(0);B(o,W,T,z);y=W;h=m}if(R==0)w(y,T,z,h,H);else if(R==1)c(y,T,z,h,H);else if(R==2)n(y,T,z,h,H);
if(P){B(m,W,T,z)}}function B(o,T,z,W){for(var $=0;$<W;$++)for(var R=0;R<z;R++){var P=$*z+R<<2,H=$*z+(z-1-R)<<2;
T[H]=o[P];T[H+1]=o[P+1];T[H+2]=o[P+2];T[H+3]=o[P+3]}}return k}();V.b.mB=function(e,Z,F,b,_){var d=V.b.q,S=1,k=0,T=0;
d.c8(Z,F);d.dO(_[2]);var U=3<<13,r=Math.PI/2.43,q=r/256,w=Math.PI*2/256;function X(){var R=d.random()*256,P=d.random()*256;
return S*~~(Math.tan(r-R*q)*325*Math.cos(P*w)*256)+U>>16}S=_[0];var Q=_[1],c=(Q+2)/2,u=d.random()*255,n=d.Bz(1);
for(var l=0;l<F;l++){var B=d.BR(X()+u);for(var o=0;o<Z;o++){B=d.BR(X()+B);n[k++]=B}}k=Z;for(var l=1;
l<F;l++){var z=d.BR(X()+n[T++]);n[k++]=z;for(var o=1;o<Z;o++){var W=T+1;if(o+1==Z){W--}var $=(c+z+n[W]+n[T]*Q)/(Q+2);
z=d.BR(X()+$);n[k++]=z;T++}}d.rC(n,b)};var bp=function(){function e(J){J=J^61^J>>>16;J=J+(J<<3);J=J^J>>>4;
J=J*668265261;J=J^J>>>15;return J}var Z=function(){var Z=function(J){if(J){this.Y0=J}this.Y0=e(this.Y0);
return(this.Y0&16777215)*(1/16777215)};return Z};function F(J,I){if(I==null){I=[0,0]}return Math.sqrt((I[0]-J[0])*(I[0]-J[0])+(I[1]-J[1])*(I[1]-J[1]))}function b(J,I){if(I==null){I=[0,0]}return[-(I[1]-J[1])/F(J,I),(I[0]-J[0])/F(J,I)]}function _(J){return[Math.cos(J),Math.sin(J)]}function d(J){var I=F(J,[0,0]),p=[J[0]/I,J[1]/I],a=Math.atan(p[1]/p[0]);
if(p[0]>0&&p[1]<0){a+=2*Math.PI}else if(p[0]<0&&p[1]<0){a+=Math.PI}else if(p[0]<0&&p[1]>0){a+=Math.PI}return a}function S(J){var S=0;
for(var l=1;l<J.length/2;++l){S+=F([J[2*l],J[2*l+1]],[J[2*(l-1)],J[2*(l-1)+1]])}return S}function U(J,I,p){var a=new Float32Array(J.length),er=1/(J.length/2),c8=W(p);
for(var l=0;l<J.length/2;++l){var O=l*er,dF=O/2+.5,gl=1,e0=0;if(p.shape==2){gl=1/(2*dF)}if(p.shape==3){dF=(1-O)/2+.5;
gl=1/(2*dF)+.5}if(p.shape==4){dF=O;gl=Math.sin(3/2*Math.PI*dF)/4+1}if(p.shape==5){dF=(O-.5)*6;gl=(-Math.atan(dF)/1.25+1)/5+.6-.2*O}var bv=[null,null];
if(l==0){bv=b([J[2*l],J[2*l+1]],[J[2*(l+1)],J[2*(l+1)+1]])}else if(l==J.length/2-1){bv=b([J[2*(l-1)],J[2*(l-1)+1]],[J[2*l],J[2*l+1]])}else{bv=b([J[2*(l-1)],J[2*(l-1)+1]],[J[2*(l+1)],J[2*(l+1)+1]])}a[2*l]=J[2*l]+(gl*I+e0)*bv[0];
a[2*l+1]=J[2*l+1]+(gl*I+e0)*bv[1];if(p.style==2){a[2*l]+=$(2*l/a.length,c8,p)}}return a}function r(J,I,p){var a=new Float32Array(J.length),er=1/(J.length/2);
for(var l=0;l<J.length/2;++l){var c8=l*er,O=[null,null],dF=.6*p.k4*H(c8,I.aua)*p.Te/100,gl=.6*p.k4*H(c8,I.anu)*p.Te/100,e0=I.acT*dF+(1-I.acT)*gl;
if(l==0){O=b([J[2*l],J[2*l+1]],[J[2*(l+1)],J[2*(l+1)+1]])}else if(l==J.length/2-1){O=b([J[2*(l-1)],J[2*(l-1)+1]],[J[2*l],J[2*l+1]])}else{O=b([J[2*(l-1)],J[2*(l-1)+1]],[J[2*(l+1)],J[2*(l+1)+1]])}a[2*l]=J[2*l]+e0*O[0];
a[2*l+1]=J[2*l+1]+e0*O[1]}return a}function q(J){if(J.r$==1){return[.150684932,.205479452,.465753425,.178082192]}else if(J.r$==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var I=[],p=1/(t(J)-1);
for(var l=0;l<t(J)-1;++l){I.push(p)}return I}}function w(J,I,p){var a=[],er=I-J,c8=J;for(var l=0;l<p.length-1;
++l){a.push(c8+p[l]*er);c8=a[l]}return a}function X(J,I,p,a){var er=new Float32Array(p.length),c8=0,O={shape:Math.floor(a.random()*2.99),a6r:a.random()*.1+.15};
for(var l=0;l<p.length-1;++l){var dF=c8+p[l];er[l]=((1-dF)*J+dF*I)*B(a,dF,O);c8=dF}return er}function Q(J,I,p,a){var er=h(a),c8=a.random(),O=c8*20+(1-c8)*26,dF=new Float32Array(p.length),gl=0;
for(var l=0;l<p.length-1;++l){var e0=gl+p[l];dF[l]=(1-e0)*J+e0*I+er/O*(2/3*Math.sin(Math.PI*e0)+1/3*Math.sqrt(Math.sin(Math.PI*e0)));
gl=e0}return dF}function c(J,I,p){var a=[];for(var l=0;l<I.length-1;++l){a.push(I[l].slice());var er=l*(t(p)-1),c8=(l+1)*(t(p)-1),O=J[c8]-J[er];
for(var dF=er+1;dF<c8;++dF){var gl=W(p),e0=new Float32Array(I[0].length),bv=(J[dF]-J[er])/O;for(var gm=0;
gm<I[0].length/2;++gm){e0[2*gm]=(1-bv)*I[l][2*gm]+bv*I[l+1][2*gm];e0[2*gm+1]=(1-bv)*I[l][2*gm+1]+bv*I[l+1][2*gm+1];
if(p.style==2){e0[2*gm]+=$(2*gm/I[0].length,gl,p)}}a.push(e0)}}a.push(I[I.length-1]);return a}function u(J,I,p){var a=new Array(I.length),er=v(J),O=null;
for(var l=0;l<I.length;++l){a[l]=U(er,(I[l]-.5)*p.Te,p)}var c8=1+.05*p.agy*h(p)/h({r$:1});for(var l=0;
l<I.length;++l){if(I[l]==0){O=l}}for(var l=0;l<I.length;++l){var dF=(p.random()-.5)*2,gl=Math.round(p.random()*9+1),e0=new Float32Array(gl*2+2);
for(var bv=0;bv<=gl;++bv){e0[2*bv]=a[l][0]-(a[l][2*bv]-a[l][0]);e0[2*bv+1]=a[l][1]-(a[l][2*bv+1]-a[l][1])}if(l==O){dF*=.1}for(var bv=(a[l].length-1)/2;
bv>gl;--bv){a[l][2*bv]=(1-dF)*a[l][2*bv]+dF*(a[l][2*(bv-gl)]+c8*(a[l][2*bv]-a[l][2*(bv-gl)]));a[l][2*bv+1]=(1-dF)*a[l][2*bv+1]+dF*(a[l][2*(bv-gl)+1]+c8*(a[l][2*bv+1]-a[l][2*(bv-gl)+1]))}for(var bv=gl-1;
bv>=0;--bv){a[l][2*bv]=(1-dF)*a[l][2*bv]+dF*(e0[2*(gl-bv)]+c8*(a[l][2*bv]-e0[2*(gl-bv)]));a[l][2*bv+1]=(1-dF)*a[l][2*bv+1]+dF*(e0[2*(gl-bv)+1]+c8*(a[l][2*bv+1]-e0[2*(gl-bv)+1]))}}var gm=P(I,p);
if(p.k4>0){var iW=0;for(var l=0;l<I.length;++l){if(l==0){iW+=I[l]}else{iW+=Math.abs(I[l]-I[l-1])}var jx=iW-Math.floor(iW),aC=1;
if(jx==0){aC=0}a[l]=r(a[l],{aua:gm[Math.floor(iW)],anu:gm[Math.floor(iW)+aC],acT:jx},p)}}return a}function n(J,I){var p=C(I,J),a=L(I,J),er=[],c8=[],O=[],dF=q(J);
for(var l=0;l<I.length-1;++l){er.push(I[l]);c8.push(p[l]);O.push(a[l]);var gl=w(I[l],I[l+1],dF),e0=X(p[l],p[l+1],dF,J),bv=Q(a[l],a[l+1],dF,J);
for(var gm=0;gm<gl.length;++gm){er.push(gl[gm]);c8.push(e0[gm]);O.push(bv[gm])}}er.push(I[I.length-1]);
c8.push(p[p.length-1]);O.push(a[a.length-1]);return{at4:er,a0V:c8,HE:O}}function k(J,I,p,a){var er=new Float32Array(2*a),c8=J.length/2,O=c8-I,dF=p*O,gl=dF/a;
for(var l=0;l<a;++l){var e0=Math.floor(I+l*gl),bv=Math.ceil(I+l*gl),p=I+l*gl,gm=bv-e0,iW=1,jx=0;if(gm!=0){iW=(bv-p)/gm;
jx=(p-e0)/gm}er[2*l]=iW*J[2*e0]+jx*J[2*bv];er[2*l+1]=iW*J[2*e0+1]+jx*J[2*bv+1]}return er}function B(J,I,p){var a=p.a6r,er=I*2*Math.PI,c8=er,O=0;
if(p.shape==0){O=(Math.sin(2*c8+Math.PI/2)+1)/2}else if(p.shape==1){O=(Math.sin(c8+Math.PI/2)+1)/2}else{O=(4*Math.sin(3/4*c8+Math.PI)+Math.sin(Math.PI/2+2*c8)-2*c8/Math.PI+6)/7}return Math.min(1,1-a+a*O)}function o(J,I,p,a){var er=[];
for(var l=0;l<J.length;++l){er.push(k(J[l],I[l],p[l],a))}return er}function T(J,I,p){var a=[];for(var l=0;
l<J.length;++l){var er=_(2*Math.PI*p.random()),c8=_(2*Math.PI*p.random()),O=p.NP*.5*j({r$:1})/j(p),dF=O*p.Te/200,gl=O*I/500,e0=new Float32Array(J[0].length);
for(var bv=0;bv<J[0].length/2;++bv){var gm=_(2*Math.PI*p.random()),iW=2*bv/J[0].length;e0[2*bv]=J[l][2*bv]+dF*(gm[0]+((1-iW)*er[0]+iW*c8[0]));
e0[2*bv+1]=J[l][2*bv+1]+gl*(gm[1]+((1-iW)*er[1]+iW*c8[1]))}a.push(e0)}return a}function z(J,I,p){var a=p.$e,er=2/a,c8=[1/10,1/30,1/40,1/45,1/100],O=c8[p.r$-1],dF=4*(p.opacity/25*er*O)*(1-p.NP/150),gm=0,jx=0;
if(p.style==3){return dF*.09}var gl=2.2*(J-.5),e0=gl*gl*gl*gl+.27+Math.max(0,(p.opacity-50)/15),bv=2*(Math.sin(3*Math.PI*I)/(Math.PI*I+2)+1.1)-I/2;
I=2*I;if(I<.41){var iW=2*Math.PI*I/.41;gm=(Math.sin(iW-Math.PI/2)+1)/4+.5}else if(I<.77){var iW=2*Math.PI*(I-.41)/.36;
gm=(Math.sin(iW-Math.PI/2)+1)/4+.5-iW/2/Math.PI*.5}else{var iW=2*Math.PI*(I-.77)/.23;gm=(Math.sin(iW-Math.PI/2)+1)/2*.12}gm*=3;
gm+=Math.max(0,(p.opacity-50)/15);if(p.type==6){jx=bv}else{jx=gm}return dF*e0*jx}function W(J){return{B:J.random()*7/2+.5,c6:J.random()*2*Math.PI}}function $(J,I,p){return p.Te/300*t({r$:1})/t(p)*10*(Math.sin(I.B*2*Math.PI*J+I.c6)+10*(p.random()-.5))}function R(J){var I=Math.exp(-J.k4/25);
return{B:J.random()*3/2+.5,c6:J.random()*2*Math.PI,Id:(J.random()-.5)*10*I}}function P(J,I){var p=Math.ceil(f(J)),a=[];
for(var l=0;l<=p;++l){a.push(R(I))}return a}function H(J,I){var p=I.B*4*Math.PI*J+I.c6;return Math.exp(-1/2*Math.PI*J)*Math.cos(p)*Math.cos(p)*Math.cos(p)*Math.cos(p)*Math.cos(p)+J*I.Id-I.Id/4}function y(J,I,p,a,er){var c8=0,O=j(I)-1;
for(var l=0;l<O;++l){for(var dF=0;dF<J.length-1;dF+=t(I)-1){for(var gl=l;gl<J[0].length/2-O;gl+=O){for(var e0=dF;
e0<dF+(t(I)-1);++e0){p[er+c8]=z(e0*(I.$e-1)/(J.length-1)%1,gl/J[0].length,I);var bv=0,gm=0;if(I.type==6&&e0!=0&&e0!=J.length-1){gm=(J[e0][2*(gl+1)+1]-J[e0][2*gl+1])/2;
bv=(J[e0][2*(gl+1)]-J[e0][2*gl])/2}a[8*er+8*c8]=J[e0][2*gl]+bv;a[8*er+8*c8+1]=J[e0][2*gl+1]+gm;a[8*er+8*c8+2]=J[e0][2*(gl+O)]+bv;
a[8*er+8*c8+3]=J[e0][2*(gl+O)+1]+gm;a[8*er+8*c8+4]=J[e0+1][2*(gl+O)];a[8*er+8*c8+5]=J[e0+1][2*(gl+O)+1];
a[8*er+8*c8+6]=J[e0+1][2*gl];a[8*er+8*c8+7]=J[e0+1][2*gl+1];++c8}}}}}function h(J){var I=[100,300,500,700,1e3];
return I[J.r$-1]}function m(J){var I=[30,70,100,140,300];return I[J.r$-1]}function t(J){var I=[5,7,26,40,100];
return I[J.r$-1]}function j(J){if(J.r$==1){return 4}else if(J.r$==2){return 8}else{return Math.floor(m(J)/9)}}function x(J){var I=J.$e,p=new Float32Array(I),a=null;
for(var l=0;l<I;++l){p[l]=J.random()}if(J.$e<=3){p[0]=0;p[J.$e-1]=1}else{for(var l=0;l<2;++l){var er=Math.floor(J.random()*I);
if(a==null||a!=er){p[er]=l;a=er}else{p[er+1]=l}}}return p}function C(J,I){var p=[],a=.2,c8=0;for(var l=0;
l<J.length;++l){var er=I.random()*(1-a)+a;p.push(er)}var O=Math.min(3,I.$e);for(var l=0;l<J.length;++l){if(p[l]>.9){++c8}}while(c8<O){var dF=Math.floor(I.random()*J.length);
if(p[dF]<=.9){p[dF]=.9+.1*I.random();++c8}}return p}function L(J,I){var p=h(I),a=h({r$:1}),er=[];for(var l=0;
l<J.length;++l){er.push(Math.max(1,(I.random()*10+2)*p/a))}return er}function f(J){var I=0;for(var l=0;
l<J.length;++l){if(l==0){I+=J[l]}else{I+=Math.abs(J[l]-J[l-1])}}return I}function D(J,I){if(J.length/2-1==h(I)){return J}var p=new Float32Array(2*(h(I)+1)),a=(J.length-2)/(p.length-2);
for(var l=0;l<p.length/2;++l){var er=l*a,c8=Math.floor(er),O=Math.ceil(er),dF=O-c8,gl=1,e0=0;if(dF!=0){gl=(O-er)/dF;
e0=(er-c8)/dF}p[2*l]=gl*J[2*c8]+e0*J[2*O];p[2*l+1]=gl*J[2*c8+1]+e0*J[2*O+1]}return p}function v(J,I){var p=J.length/2,a=S(J),er=a/p,c8=!1,gl=0,e0=0,bv=1;
if(I){var O=Math.floor(a/I.ap5),dF=I.ap5;if(I.afl&&J[0]==J[J.length-2]&&J[1]==J[J.length-1]){c8=!0;dF=a/(O+1)}if(I.type==2&&!c8&&dF*O+I.length>a){p=O+1}else{p=O+2}er=dF}var gm=new Float32Array(p*2);
gm[0]=J[0];gm[1]=J[1];for(var l=1;l<p;++l){while(gl<=l*er){e0=gl;gl+=F([J[2*bv],J[2*bv+1]],[J[2*(bv-1)],J[2*(bv-1)+1]]);
++bv}var iW=1-(l*er-e0)/(gl-e0);gm[2*l]=(1-iW)*J[2*bv]+iW*J[2*(bv-1)];gm[2*l+1]=(1-iW)*J[2*bv+1]+iW*J[2*(bv-1)+1]}gm[gm.length-2]=J[J.length-2];
gm[gm.length-1]=J[J.length-1];return gm}function A(J,I){var p=v(J,I),a=[];for(var l=0;l<(p.length-2)/2;
++l){var er=[];er.push(p[2*l]);er.push(p[2*l+1]);var c8=F([p[2*(l+1)],p[2*(l+1)+1]],[p[2*l],p[2*l+1]]),O=[(p[2*(l+1)]-p[2*l])/c8,(p[2*(l+1)+1]-p[2*l+1])/c8],dF=_((I.a5s-90)/360*2*Math.PI),gl=O;
if(I.type==3){gl=dF}else if(I.type==4){gl=_(d(O)+d(dF))}else if(I.type==5){gl=_(((I.random()-.5)*I.a5s-90)/360*2*Math.PI)}var e0=I.length;
if(I.a42){e0=2*I.random()*I.length}er.push(p[2*l]+gl[0]*e0);er.push(p[2*l+1]+gl[1]*e0);a.push(er)}return a}function M(J){if(J.atm){J.Mo=100*Math.random()}else{J.Mo=J.a7x}J.random=new Z;
J.random(J.Mo);if(J.type==6){J.$e=2;J.shape=5;J.agy=0}}function Y(J,I){J=D(J,I);var p=[J],e0=0;if(I.type>=2&&I.type<6){p=A(J,I)}var a=j(I)-1,er=m(I)-a,c8=(I.$e-1)*(t(I)-1),O=p.length*er*c8,dF=new Float32Array(O),gl=new Float32Array(8*O);
for(var l=0;l<p.length;++l){for(var bv=0;bv<1e4;++bv){I.Mo=e(I.Mo)}I.random(I.Mo);var J=D(p[l],I),gm=x(I),iW=f(gm),jx=u(J,gm,I),aC=n(I,gm),d9=c(aC.at4,jx,I);
d9=o(d9,aC.HE,aC.a0V,m(I));if(I.NP>0){d9=T(d9,S(p[l]),I)}y(d9,I,dF,gl,e0);e0+=er*c8}return[dF,gl]}var bp=function(J){var I=performance.now(),p=J[0],a=J[1];
M(a);var er=[new Float32Array(0),new Float32Array(0)];for(var l=0;l<p.length;++l){a.Mo=e(a.Mo);var c8=Y(p[l],a),O=new Float32Array(er[0].length+c8[0].length),dF=new Float32Array(er[1].length+c8[1].length);
O.set(er[0]);O.set(c8[0],er[0].length);er[0]=O;dF.set(er[1]);dF.set(c8[1],er[1].length);er[1]=dF}var gl=performance.now();
if(a.a96){console.tf("Geometry: "+String(gl-I)+"ms")}return er};return bp}(),a_=function(){function e(_,d){var S=[],U=0,r=d.length,q=0,w=0,X=new e3,Q=0,c=1e9;
for(w=0;w<r;w++){var u=w*8,n=d[w];if(n<c)c=n;var k=_[u+0],B=_[u+1],o=_[u+2],T=_[u+3],z=_[u+4],W=_[u+5],$=_[u+6],R=_[u+7],P=Math.min(k,o,z,$),H=Math.max(k,o,z,$),y=Math.min(B,T,W,R),h=Math.max(B,T,W,R),m=new e3(P,y,H-P,h-y),t=m.Us(X),j=Q+n;
if(w-q<10&&(w==q||t.Z()*.8<m.Z()+X.Z())){X=t;Q=j}else{S.push(w-q);q=w;X=m;Q=n;c=n}}if(w!=q)S.push(w-q);
return S}function Z(_,d,S,U,r,q){var w=document.createElement("canvas"),B=0,O=.8;w.width=d;w.height=S;
var X=w.getContext("2d"),Q=r[0],c=r[1],u=new Float64Array(d*S),n=Date.now(),k=e(c,Q);for(var o=0;o<k.length;
o++){var T=B,z=B+k[o],R=1e9,H=1e9,C=0;B=z;var W=T*8,$=z*8,P=-R,y=-H;for(var h=W;h<$;h+=2){var m=c[h],t=c[h+1];
if(m<R)R=m;if(m>P)P=m;if(t<H)H=t;if(t>y)y=t}R=Math.floor(R);P=Math.ceil(P);H=Math.floor(H);y=Math.ceil(y);
var j=P-R,x=y-H;for(var L=T;L<z;L++)C+=Q[L];for(var h=W;h<$;h+=8){var f=Q[h>>>3],D=c[h+0],v=c[h+1],A=c[h+2],M=c[h+3],Y=c[h+4],J=c[h+5],I=c[h+6],p=c[h+7];
X.fillStyle="rgba(0,0,0,"+f/C+")";X.beginPath();X.moveTo(D,v);X.lineTo(A,M);X.lineTo(Y,J);X.lineTo(I,p);
X.closePath();X.fill()}var a=X.getImageData(R,H,j,x).data;for(var t=0;t<x;t++)for(var m=0;m<j;m++){var l=t*j+m,er=a[l*4+3],c8=(H+t)*d+R+m;
if(er!=0)u[c8]+=er*C}X.clearRect(R,H,j,x)}var dF=q[1].color,gl=Math.pow(dF.o/255,O),e0=Math.pow(dF.z/255,O),bv=Math.pow(dF.S/255,O),gm=new e3(0,0,d,S),iW=V.J(d*S*4);
for(var t=0;t<S;t++)for(var m=0;m<d;m++){var l=t*d+m,L=l*4,Q=u[l]*(1/255);iW[L]=b(gl,Q);iW[L+1]=b(e0,Q);
iW[L+2]=b(bv,Q);iW[L+3]=Math.min(255,Q*255)}V.a.sB("norm",iW,gm,U,gm,gm,1)}var F=new Uint8Array(2e3);
for(var l=0;l<2e3;l++)F[l]=255*Math.min(1,Math.log(l/700+1));function b(_,d){return F[Math.min(1500,~~(_*d*1e3))]}return Z}();
V.gF={amm:function(e,Z){var l=e.length;e.push(Z);var F=l>>>1;while(F!=0&&e[l][0]<e[F][0]){var b=e[l];
e[l]=e[F];e[F]=b;l=F;F=l>>>1}},ap4:function(e){if(e.length==2)return e.pop();var top=e[1],l=1;e[1]=e.pop();
var Z=e.length;while(!0){var F=l<<1,b=F+1,_=l;if(F<Z&&e[F][0]<e[_][0])_=F;if(b<Z&&e[b][0]<e[_][0])_=b;
if(_==l)break;var d=e[l];e[l]=e[_];e[_]=d;l=_}return top},a07:function(e){for(var l=1;l<e.length;l++){var Z=l,F=1e9;
while(Z!=0){var b=e[Z][0];if(b>F){console.log(l);throw"e"}F=b;Z=Z>>>1}}}};V.a={};V.a._q=new Float64Array(256);
V.a.Hg=new Uint8Array(256*256);V.a.KJ=new Uint8Array(256*256);(function(){for(var l=0;l<256;l++)V.a._q[l]=255/l;
for(var l=0;l<256;l++)for(var e=0;e<256;e++)V.a.Hg[l*256+e]=l==0?0:Math.round(e*255/l);for(var l=0;l<256;
l++)for(var e=0;e<256;e++)V.a.KJ[l*256+e]=Math.round(l*(255-e)/255)}());V.a.sB=function(e,Z,F,b,_,d,S,U){if(U==null)U=d4.ck();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){S=S*U.fill;U.fill=1;U.style=!1}var r="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),q="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),w=V.a[e+"F"];
if(U.lm==null&&e=="norm")V.a.a7q(Z,F,b,_,d,S,w,U.FA?1:0);else if(e=="diss")V.a.auh(Z,F,b,_,d,S,w,U.FA?1:0);
else if(r.indexOf(e)!=-1)V.a.ao7(Z,F,b,_,d,S,w,U);else if(q.indexOf(e)!=-1)V.a.atb(Z,F,b,_,d,S,w,U)};
V.a.anJ=function(e,Z,F){var b=e*F+1-F;return b<.001?0:1-Math.min(1,(1-Z)/b)};V.a.aj8=function(e,Z,F){return e*F==1?1:Math.min(1,Z/(1-e*F))};
V.a.T7=function(e){return e<=.25?((16*e-12)*e+4)*e:Math.sqrt(e)};V.a.normF=function(e,Z,F){return e};
V.a.darkF=function(e,Z,F){return Math.min(e,Z)};V.a["mul F"]=function(e,Z,F){return e*Z};V.a.idivF=function(e,Z,F){var b=e*F+1-F;
return Z==1?1:1-Z>=b?0:1-(1-Z)/b};V.a.lbrnF=function(e,Z,F){return Math.max(0,e*F+Z-F)};V.a.dkClF=function(e,Z,F){var b=V.NV(e)<V.NV(Z)?e:Z;
F.o=b.o;F.z=b.z;F.S=b.S;return F};V.a.liteF=function(e,Z,F){return Math.max(e,Z)};V.a.scrnF=function(e,Z,F){return Z+e-Z*e};
V.a["div F"]=function(e,Z,F){e*=F;return Z==0?0:Z>=1-e?1:Z/(1-e)};V.a.lddgF=function(e,Z,F){e*=F;return Math.min(1,e+Z)};
V.a.lgClF=function(e,Z,F){var b=V.NV(e)>V.NV(Z)?e:Z;F.o=b.o;F.z=b.z;F.S=b.S;return F};V.a.overF=function(e,Z,F){return V.a.hLitF(Z,e,F)};
V.a.sLitF=function(e,Z,F){return e<=.5?Z-(1-2*e)*Z*(1-Z):Z+(2*e-1)*(V.a.T7(Z)-Z)};V.a.hLitF=function(e,Z,F){return e<=.5?V.a["mul F"](2*e,Z,F):V.a.scrnF(2*e-1,Z,F)};
V.a.vLitF=function(e,Z,F){return e<=.5?V.a.anJ(2*e,Z,F):V.a.aj8(2*e-1,Z,F)};V.a.lLitF=function(e,Z,F){return e<=.5?V.a.lbrnF(2*e,Z,F):V.a.lddgF(2*e-1,Z,F)};
V.a.pLitF=function(e,Z,F){return e<=.5?V.a.darkF(2*e,Z,F):V.a.liteF(2*e-1,Z,F)};V.a.hMixF=function(e,Z,F){if(F>.99)return e+Z<1?0:1;
return Math.min(1,Math.max(0,(Z+e*F-F)/(1-F+1e-6)))};V.a.diffF=function(e,Z,F){e*=F;return Math.abs(e-Z)};
V.a.smudF=function(e,Z,F){return e+Z-2*e*Z};V.a.fsubF=function(e,Z,F){return Math.max(Z-e,0)};V.a.fdivF=function(e,Z,F){return Math.min(Z/e,1)};
V.a["hue F"]=function(e,Z,F){V.a.mh(e,V.gJ(Z),F);V.a.ds(F,V.NV(Z),F)};V.a["sat F"]=function(e,Z,F){V.a.mh(Z,V.gJ(e),F);
V.a.ds(F,V.NV(Z),F)};V.a.colrF=function(e,Z,F){V.a.ds(e,V.NV(Z),F)};V.a["lum F"]=function(e,Z,F){V.a.ds(Z,V.NV(e),F)};
V.a.ds=function(e,Z,F){var b=Z-V.NV(e);F.o=e.o+b;F.z=e.z+b;F.S=e.S+b;V.a.a9A(F)};V.a.a9A=function(e){var Z=e.o,F=e.z,b=e.S,_=V.Mv(Z,F,b),gi=Math.min(Z,F,b),d=Math.max(Z,F,b);
if(gi<0){var S=_/(_-gi);Z=_+(Z-_)*S;F=_+(F-_)*S;b=_+(b-_)*S}if(d>1){var S=(1-_)/(d-_);Z=_+(Z-_)*S;F=_+(F-_)*S;
b=_+(b-_)*S}e.o=Z;e.z=F;e.S=b};V.a.mh=function(e,Z,F){var b=V.a.a1n,_=e.o,d=e.z,S=e.S;if(_==d&&d==S){F.o=F.z=F.S=0}else if(_>d){if(_>S){if(d>S){F.o=Z;
F.z=b(_,d,S,Z);F.S=0}else{F.o=Z;F.S=b(_,S,d,Z);F.z=0}}else{F.S=Z;F.o=b(S,_,d,Z);F.z=0}}else{if(_<S){if(d>S){F.z=Z;
F.S=b(d,S,_,Z);F.o=0}else{F.S=Z;F.z=b(S,d,_,Z);F.o=0}}else{F.z=Z;F.o=b(d,_,S,Z);F.S=0}}};V.a.a1n=function(e,Z,F,b){return(Z-F)*b/(e-F)};
V.a.a7q=function(e,Z,F,b,_,d,S,U){var r=Z.QP(b).QP(_),q=Math.max(0,r.x-Z.x),w=Math.max(0,r.x-b.x),X=Math.max(0,r.y-Z.y),Q=Math.max(0,r.y-b.y),c=r.w,u=r._,n=Z.w,k=b.w,B=V.a.Hg,o=V.a.KJ,T=new Uint32Array(e.buffer),z=new Uint32Array(F.buffer);
for(var l=0;l<u;l++){var W=(X+l)*n+q,$=(Q+l)*k+w;for(var R=0;R<c;R++){var P=T[W+R],L=1;if(P>>>24==0)continue;
if(P>>>24==255&&d==1&&U==0){z[$+R]=T[W+R];continue}var H=z[$+R],y=P&255,h=P>>>8&255,m=P>>>16&255,t=H&255,j=H>>>8&255,x=H>>>16&255,C=d,f=(H>>>24)*(1/255);
if(U==0){C=(P>>>24)*d*(1/255);L=f}var D=L*(1-C),v=C+D,A=1/v;z[$+R]=~~(.5+(U*f+(1-U)*v)*255)<<24|~~(.5+(m*C+x*D)*A)<<16|~~(.5+(h*C+j*D)*A)<<8|~~(.5+(y*C+t*D)*A)}}};
V.a.aqI=function(e,Z,F,b,_,d){var S=Z.QP(b).QP(_),U=Math.max(0,S.x-Z.x),r=Math.max(0,S.x-b.x),q=Math.max(0,S.y-Z.y),w=Math.max(0,S.y-b.y),X=S.w,Q=S._,c=Z.w,u=b.w,n=V.a.Hg,k=V.a.KJ,B=new Uint32Array(e.buffer),o=new Uint32Array(F.buffer),T=Math.floor(Math.random()*16777215),z=0;
for(var l=0;l<Q;l++){var W=(q+l)*c+U,$=(w+l)*u+r;for(var R=0;R<X;R++){var P=B[W+R];if(P>>>24==0)continue;
if(P>>24==255&&d==1){o[$+R]=P;continue}var H=o[$+R],y=(P>>>24)*d*(1/255),h=(H>>>24)*(1/255),m=h*(1-y),t=y+m,j=P&255,x=P>>>8&255,C=P>>>16&255,L=H&255,f=H>>>8&255,D=H>>>16&255;
z>>>=8;if((R&3)==0)z=V.a.w8($+R+T);var v=t==0?0:1/t,A=Math.floor(t*(256*255))+(z&255)>>>8,M=Math.floor((C*y+D*m)*v+.5),Y=Math.floor((x*y+f*m)*v+.5),J=Math.floor((j*y+L*m)*v+.5);
o[$+R]=A<<24|M<<16|Y<<8|J}}};V.a.Vo=function(e,Z,F,b,_,d,S,U){var r=V.Mv(e,Z,F),q=V.Mv(b,_,d),w=Math.min,X=V.a.afw,Q=X(r,U,0);
Q=w(Q,X(e,U,8));Q=w(Q,X(Z,U,16));Q=w(Q,X(F,U,24));var c=X(q,U,4);c=w(c,X(b,U,12));c=w(c,X(_,U,20));c=w(c,X(d,U,28));
c=Math.max(c,1-S);var u=Math.min(Q,c);return u<0?0:u>1?1:u};V.a.afw=function(e,Z,l){return Math.min((e-Z[l])*Z[l+1],(e-Z[l+3])*Z[l+2])};
V.a.ao7=function(e,Z,F,b,_,d,S,U){var r=1/255,q=r*d,w=U.FA?1:0,X=U.fill,Q=U.style,c=Z.QP(b).QP(_),u=Math.max(0,c.x-Z.x),n=Math.max(0,c.x-b.x),k=Math.max(0,c.y-Z.y),B=Math.max(0,c.y-b.y),o=c.w,T=c._,z=Z.w,W=b.w,$=new Uint32Array(e.buffer),R=new Uint32Array(F.buffer);
for(var l=0;l<T;l++){var P=(k+l)*z+u,H=(B+l)*W+n;for(var y=0;y<o;y++,P++,H++){var h=$[P],v=1;if(h>>>24==0)continue;
var m=R[H],t=(h&255)*r,j=(h>>>8&255)*r,x=(h>>>16&255)*r,C=(m&255)*r,L=(m>>>8&255)*r,f=(m>>>16&255)*r,D=d;
if(w==0){D=(h>>>24)*q;v=(m>>>24)*r}if(U.lm)D*=V.a.Vo(t,j,x,C,L,f,v,U.lm);var A=v*(1-D),M=D+A,Y=M==0?0:255/M,J=Q?1:D,I=((1-v)*D*t+(1-J)*v*C+J*v*S(t,C,(1+D-J)*X))*Y,p=((1-v)*D*j+(1-J)*v*L+J*v*S(j,L,(1+D-J)*X))*Y,a=((1-v)*D*x+(1-J)*v*f+J*v*S(x,f,(1+D-J)*X))*Y;
M=D*X+v*(1-D*X);var er=~~(M*255+.5);R[H]=w*(m>>>24)+(1-w)*er<<24|a<<16|p<<8|I}}};V.a.atb=function(e,Z,F,b,_,d,S,U){var r=1/255,q=r*d,w=U.FA?1:0,X=Z.QP(b).QP(_),Q=Math.max(0,X.x-Z.x),c=Math.max(0,X.x-b.x),u=Math.max(0,X.y-Z.y),n=Math.max(0,X.y-b.y),k=X.w,B=X._,o=new Uint32Array(e.buffer),T=new Uint32Array(F.buffer),z={o:0,z:0,S:0},W={o:0,z:0,S:0},$={o:0,z:0,S:0};
for(var l=0;l<B;l++){var R=(u+l)*Z.w+Q,P=(n+l)*b.w+c;for(var H=0;H<k;H++,R++,P++){var y=o[R],h=T[P],m=(y&255)*r,t=(y>>>8&255)*r,j=(y>>>16&255)*r,x=(h&255)*r,C=(h>>>8&255)*r,L=(h>>>16&255)*r,f=d,D=1;
if(w==0){f=(y>>>24)*q;D=(h>>>24)*r}if(U.lm)f*=V.a.Vo(m,t,j,x,C,L,D,U.lm);var v=D*(1-f),A=f+v,M=255/A;
z.o=m;z.z=t;z.S=j;W.o=x;W.z=C;W.S=L;S(z,W,$);var Y=(((1-D)*m+D*$.o)*f+x*v)*M,J=(((1-D)*t+D*$.z)*f+C*v)*M,I=(((1-D)*j+D*$.S)*f+L*v)*M,p=w*(h>>>24)+(1-w)*Math.round(A*255);
T[P]=p<<24|I<<16|J<<8|Y}}};V.a.QO=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;e=e^e>>15;
return(e&16777215)*(1/16777215)};V.a.w8=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;
e=e^e>>>15;return e};V.a.XW=function(e){this.dO=e};V.a.XW.prototype.get=function(){var e=this.dO=V.a.w8(this.dO);
return(e&16777215)*(1/16777215)};V.a.auh=function(e,Z,F,b,_,d,S,U){var r=1/255,q=r*d,w=Math.round(d*(256*256*256/255)),X=Z.QP(b).QP(_),Q=Math.max(0,X.x-Z.x),c=Math.max(0,X.x-b.x),u=Math.max(0,X.y-Z.y),n=Math.max(0,X.y-b.y),k=X.w,B=X._,o=new Uint32Array(e.buffer),T=new Uint32Array(F.buffer);
for(var l=0;l<B;l++){var z=(u+l)*Z.w+Q,W=(n+l)*b.w+c;for(var $=0;$<k;$++,z++,W++){var R=o[z],P=T[W],H=U*255+(1-U)*(R>>>24);
if((V.a.w8(z)&16777215)>=H*w)continue;T[W]=R&16777215|U*(P>>>24)+(1-U)*255<<24}}};V.a.a9X=function(e,Z,F){for(var l=0;
l<e.length;l+=4){var b=F[l>>>2];if(b==0)continue;var _=b*(1/255),d=1/_,S=Z[l],U=Z[l+1],r=Z[l+2],q=e[l],w=e[l+1],X=e[l+2];
Z[l]=Math.min(255,Math.max(0,Math.round((S-(1-_)*q)*d)));Z[l+1]=Math.min(255,Math.max(0,Math.round((U-(1-_)*w)*d)));
Z[l+2]=Math.min(255,Math.max(0,Math.round((r-(1-_)*X)*d)));Z[l+3]=255}};V.a.i5=function(e,Z,F,b,_,d,S,U,r,q,w){if(q==null)q=!1;
if(w==null)w=[1,1,1];var X=255<<24|w[2]*16711680|w[1]*65280|w[0]*255,Q=~X;if(_&&!Z.Tn(d)){var c=V.J(Z.Z()*4);
c.fill(S);V.l2(_,d,c,Z);_=c;d=Z}if(q){if(_==null)V.a.aqq(e,Z,F,b,_,U,r,X,Q);else V.a.a8Z(e,Z,F,b,_,U,r)}else{if(_==null)V.a.a7h(e,Z,F,b,_,U,r,X,Q);
else V.a.a6i(e,Z,F,b,_,U,r)}};V.a.a7h=function(e,Z,F,b,_,d,S,U,r){var q=1/255,w=Z.QP(b).QP(d),X=Math.max(0,w.x-Z.x),Q=Math.max(0,w.x-b.x),c=Math.max(0,w.y-Z.y),u=Math.max(0,w.y-b.y),n=w.w,k=w._,B=new Uint32Array(e.buffer),o=new Uint32Array(F.buffer),T=V.a.Hg,z=S*255&255;
for(var l=0;l<k;l++){var W=(c+l)*Z.w+X,$=(u+l)*b.w+Q;for(var R=0;R<n;R++,W++,$++){var P=B[W],H=o[$],y=P>>>24,h=H>>>24,m=V.$d(z*y+(255-z)*h),t=V.$d(y*z),j=V.$d(h*(255-z)),x=P&255,C=P>>>8&255,L=P>>>16&255,f=H&255,D=H>>>8&255,v=H>>>16&255,A=t*x+f*j,M=t*C+D*j,Y=t*L+v*j;
A=T[m<<8|V.$d(A)];M=T[m<<8|V.$d(M)];Y=T[m<<8|V.$d(Y)];var J=m<<24|Y<<16|M<<8|A;o[$]=r&H|U&J}}};V.a.aqq=function(e,Z,F,b,_,d,S,U,r){var q=1/255,w=Z.QP(b).QP(d),X=Math.max(0,w.x-Z.x),Q=Math.max(0,w.x-b.x),c=Math.max(0,w.y-Z.y),u=Math.max(0,w.y-b.y),n=w.w,k=w._,B=new Uint32Array(e.buffer),o=new Uint32Array(F.buffer),T=V.a.Hg,z=S*16777215&16777215;
for(var l=0;l<k;l++){var W=(c+l)*Z.w+X,$=(u+l)*b.w+Q;for(var R=0;R<n;R++,W++,$++){if((V.a.w8(W)&16777215)<z){o[$]=r&o[$]|U&B[W]}}}};
V.a.a6i=function(e,Z,F,b,_,d,S){var U=1/255,r=Z.QP(b).QP(d),q=Math.max(0,r.x-Z.x),w=Math.max(0,r.x-b.x),X=Math.max(0,r.y-Z.y),Q=Math.max(0,r.y-b.y),c=r.w,u=r._,n=new Uint32Array(e.buffer),k=new Uint32Array(F.buffer),B=V.a.Hg;
for(var l=0;l<u;l++){var o=(X+l)*Z.w+q,T=(Q+l)*b.w+w;for(var z=0;z<c;z++,o++,T++){var W=_[o]*S&255;if(W==0)continue;
if(W==255){k[T]=n[o];continue}var $=n[o],R=k[T],P=$>>>24,H=R>>>24,y=V.$d(W*P+(255-W)*H),h=V.$d(P*W),m=V.$d(H*(255-W)),t=$&255,j=$>>>8&255,x=$>>>16&255,C=R&255,L=R>>>8&255,f=R>>>16&255,D=B[y<<8|V.$d(h*t+C*m)],v=B[y<<8|V.$d(h*j+L*m)],A=B[y<<8|V.$d(h*x+f*m)];
k[T]=y<<24|A<<16|v<<8|D}}};V.a.a8Z=function(e,Z,F,b,_,d,S){var U=1/255,r=Z.QP(b).QP(d),q=Math.max(0,r.x-Z.x),w=Math.max(0,r.x-b.x),X=Math.max(0,r.y-Z.y),Q=Math.max(0,r.y-b.y),c=r.w,u=r._,n=new Uint32Array(e.buffer),k=new Uint32Array(F.buffer),B=V.a.Hg,o=Math.round(S*257);
for(var l=0;l<u;l++){var T=(X+l)*Z.w+q,z=(Q+l)*b.w+w;for(var W=0;W<c;W++,T++,z++){var $=_[T]*o;if((V.a.w8(T)&65535)<$)k[z]=n[T]}}};
V.a.tL=function(e,Z,F,b,_,d,S){var U=1/255,r=Z.QP(b).QP(d),q=Math.max(0,r.x-Z.x),w=Math.max(0,r.x-b.x),X=Math.max(0,r.y-Z.y),Q=Math.max(0,r.y-b.y),c=r.w,u=r._,n=new Uint32Array(e.buffer),k=new Uint32Array(F.buffer),B=Math.floor(Math.random()*b.Z()),o=V.a.abT;
for(var l=0;l<u;l++){var T=(X+l)*Z.w+q,z=(Q+l)*b.w+w;for(var W=0;W<c;W++){var $=_[T+W]*S;if($==0)continue;
if($==255){k[z+W]=n[T+W];continue}var R=n[T+W],P=k[z+W],H=R>>>24,y=P>>>24,h=H*$*(1/255),m=y*(255-$)*(1/255),t=R&255,j=R>>>8&255,x=R>>>16&255,C=P&255,L=P>>>8&255,f=P>>>16&255,D=V.a.w8(z+W+B),v=Math.floor((h+m)*256+.5)+(D>>>0&255)>>>8,A=v==0?0:256/(h+m),M=t*h+C*m,Y=j*h+L*m,J=x*h+f*m,I=Math.floor(M*A+.5)+(D>>>8&255)>>>8,p=Math.floor(Y*A+.5)+(D>>>16&255)>>>8,a=Math.floor(J*A+.5)+(D>>>24&255)>>>8;
k[z+W]=v<<24|a<<16|p<<8|I}}};V.a.abT=function(e){return Math.floor(e+Math.random())};V.a.Ur=function(e,Z,F,b,_,d,S){var U=1/255,r=Z.QP(b).QP(d),q=Math.max(0,r.x-Z.x),w=Math.max(0,r.x-b.x),X=Math.max(0,r.y-Z.y),Q=Math.max(0,r.y-b.y),c=r.w,u=r._;
for(var l=0;l<u;l++){var n=(X+l)*Z.w+q,k=(Q+l)*b.w+w;for(var B=0;B<c;B++,n++,k++){var o=S*_[n]*U;if(o==0)continue;
if(o==1){F[k]=e[n];continue}F[k]=e[n]*o+F[k]*(1-o)}}};V.zP={};V.zP.ali=function(e,Z,F,b,_,d){V.zP.bW(e,Z,F,b,_,d,null,0)};
V.zP.aaC=function(e,Z,F,b,_){V.zP.bW(e,Z,F,b,_,null,null,0)};V.zP.a8Y=function(e,Z,F,b,_,d,S){V.zP.bW(e,Z,F,b,_,null,d,S*.5)};
V.zP.bW=function(e,Z,F,b,_,d,S,U){var r=0,m=0,t=1e9,j=0,x=1e9,C=0,L=1e9,f=0,D=0,v=0,A=0;if(d){r=_*.5;
_=3+Math.round((_-3)*.75)}if(S){_=Math.round(_*2.2)}var q=1/_,w=Math.floor(Z*q)+1,X=Math.floor(F*q)+1,Q=[],c=new Uint8Array(w*X*4),u=S?.5:1,n=d?64:0;
for(var k=0;k<X;k++){var B=S?.5*(k&1):0;for(var o=0;o<w;o++){var T=(o+Math.random()*u+B)*_,z=(k+Math.random()*u)*_;
Q.push(T,z);var W=Math.min(Z-1,Math.floor(T)),$=Math.min(F-1,Math.floor(z)),R=($*Z+W)*4,P=(k*w+o)*4;
for(var l=0;l<4;l++)c[P+l]=Math.max(0,Math.min(255,Math.floor(e[R+l]+(Math.random()-.5)*n)))}}var H=d?d:S?S:[0,0,0],y=w*X*2,h=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1];
for(var k=0;k<F;k++){v=0;for(var o=0;o<Z;o++){var M=o+.5,Y=k+.5,J=Math.floor(Y*q),I=Math.floor(M*q),p=J*w+I,c8=0,O=0;
if(v>1+U){t=V.zP.BP(Q,m,M,Y);f=Math.sqrt(t);v--;A++}else{t=x=L=1e9;for(var l=0;l<h.length;l++){var a=(p+h[l])*2;
if(a<0||a>=y)continue;var er=V.zP.BP(Q,a,M,Y);if(er<L){if(er<x){if(er<t){C=j;L=x;j=m;x=t;m=a;t=er}else{C=j;
L=x;j=a;x=er}}else{C=a;L=er}}}f=Math.sqrt(t);D=Math.sqrt(x);v=D-(f+D)*.5}if(S==null){var dF=(f+D)*.5,gl=d?Math.max(0,dF-r):0;
c8=Math.max(0,Math.min(1,.5+dF-f-gl));O=Math.max(0,Math.min(1,1-(.5+dF-f)-gl))}else{var e0=Math.min(V.zP.j8(Q,m,j,M,Y),V.zP.j8(Q,m,C,M,Y));
c8=Math.max(0,Math.min(1,e0-U*.5));if(M<U||Z-U<M||Y<U||F-U<Y)c8=0;O=0}var bv=1-O-c8,P=k*Z+o<<2,gm=m<<1,iW=j<<1;
b[P+0]=Math.floor(.5+c8*c[gm+0]+O*c[iW+0]+bv*H[0]);b[P+1]=Math.floor(.5+c8*c[gm+1]+O*c[iW+1]+bv*H[1]);
b[P+2]=Math.floor(.5+c8*c[gm+2]+O*c[iW+2]+bv*H[2]);b[P+3]=e[P+3]}}};V.zP.BP=function(e,Z,F,b){var _=F-e[Z],d=b-e[Z+1];
return _*_+d*d};V.zP.j8=function(e,Z,F,b,_){var d=e[Z],S=e[Z+1],U=e[F],r=e[F+1],q=(d+U)*.5,w=(S+r)*.5,X=q+(r-S),Q=w-(U-d),c=Q-w,u=X-q;
return Math.abs(c*b-u*_+X*w-Q*q)/Math.sqrt(u*u+c*c)};V.OS={};V.OS.Fv=function(e){if(V.OS.Ue.length<e)V.OS.Ue=V.J(e);
return V.OS.Ue};V.OS.Ue=V.J(0);V.OS.kE=function(e){if(V.OS.hH.length<e)V.OS.hH=new Float32Array(e);return V.OS.hH};
V.OS.hH=new Float32Array(0);V.OS.$x=function(e,Z,F,b){var _=F.w,d=F._;V.OS.ace(e,Z,_,d,b)};V.OS.xx=function(e,Z,F,b){var _=F.w,d=F._;
V.OS.abC(e,Z,_,d,b)};V.OS.$I=function(e,Z,F){var b=Z.w,_=Z._;V.OS.aei(e,b,_,F)};V.OS.BA=function(e,Z,F,b,_){var d=F.w,S=F._;
V.OS.ab8(e,Z,d,S,b,_)};V.OS.Oo=function(e,Z,F,b){var _=F.w,d=F._;b=Math.round(b);var S=V.OS.Fv(_*d);
V.Fk(e,Z);V.OS.jB(Z,S,_,d,b)};V.OS.e6=function(e,Z,F){var b=Z.w,_=Z._;F=Math.round(F);var d=V.OS.Fv(b*_*4);
V.OS.yP(e,d,b,_,F)};V.OS.yF=function(e,Z,F,b){var _=F.w,d=F._;b=Math.round(b);var S=V.OS.kE(_*d);V.Fk(e,Z);
V.OS.io(Z,S,_,d,b)};V.OS.MN=function(e,Z,F){var b=Z.w,_=Z._;F=Math.round(F);var d=V.OS.Fv(b*_*4);V.OS.dd(e,d,b,_,F);
V.Fk(d,e)};V.OS.dC=function(e,gi){var Z=Math.sqrt(12*e*e/gi+1),F=Math.floor(Z);if(F%2==0)F--;var b=F+2,_=(12*e*e-gi*F*F-4*gi*F-3*gi)/(-4*F-4),d=Math.round(_),S=[];
for(var l=0;l<gi;l++)S.push(l<d?F:b);return S};V.OS.ace=function(e,Z,F,b,_){var d=V.OS.dC(_,3),S=V.OS.Fv(F*b);
V.Fk(e,Z);V.OS.jB(Z,S,F,b,d[0]-1>>1);V.OS.jB(Z,S,F,b,d[1]-1>>1);V.OS.jB(Z,S,F,b,d[2]-1>>1)};V.OS.abC=function(e,Z,F,b,_){var d=V.OS.dC(_,2),S=V.OS.Fv(F*b);
V.Fk(e,Z);V.OS.jB(Z,S,F,b,d[0]-1>>1);V.OS.jB(Z,S,F,b,d[1]-1>>1)};V.OS.aei=function(e,Z,F,b){var _=V.OS.dC(b,3),d=V.OS.Fv(Z*F*4);
V.OS.yP(e,d,Z,F,_[0]-1>>1);V.OS.yP(e,d,Z,F,_[1]-1>>1);V.OS.yP(e,d,Z,F,_[2]-1>>1)};V.OS.ab8=function(e,Z,F,b,_,d){if(d==null)d=3;
var S=V.OS.dC(_,d),U=V.OS.kE(F*b);V.Fk(e,Z);for(var l=0;l<d;l++)V.OS.io(Z,U,F,b,(S[l]-1)/2)};V.OS.jB=function(e,Z,F,b,_){V.OS.acm(e,Z,F,b,_);
V.OS.ai9(Z,e,F,b,_)};V.OS.yP=function(e,Z,F,b,_){V.OS.dd(e,Z,F,b,_);V.OS.a3i(Z,e,F,b,_)};V.OS.io=function(e,Z,F,b,_){V.OS.a6b(e,Z,F,b,_);
V.OS.atL(Z,e,F,b,_)};V.OS.DB=[];V.OS.m5=function(e){if(V.OS.DB[e])return V.OS.DB[e];var Z=1/(e+e+1),F=(e+e+1)*256,b=V.J(F);
for(var l=0;l<F;l++)b[l]=Math.round(l*Z);V.OS.DB[e]=b;return b};V.OS.acm=function(e,Z,F,b,_){var d=1/(_+_+1),S=F-_-_-1,U=V.OS.m5(_);
for(var l=0;l<b;l++){var r=l*F,q=r,w=r+_,X=e[r],Q=e[r+F-1],c=(_+1)*X;for(var u=0;u<_;u++)c+=e[r+u];for(var u=0;
u<=_;u++){c+=e[w+u]-X;Z[r+u]=U[c]}w+=_+1;r+=_+1;for(var u=0;u<S;u++){c+=e[w+u]-e[q+u];Z[r+u]=U[c]}w+=S;
q+=S;r+=S;for(var u=F-_;u<F;u++){c+=Q-e[q++];Z[r++]=U[c]}}};V.OS.dd=function(e,Z,F,b,_){var d=F<<2,S=_<<2,U=1/(_+_+1),r=F-_-_-1,q=r<<2,w=V.OS.m5(_);
for(var l=0;l<b;l++){var X=l*d,Q=X,c=X+S,u=X+d,n=e[X],k=e[X+1],B=e[X+2],o=e[X+3],T=(_+1)*n,z=(_+1)*k,W=(_+1)*B,$=(_+1)*o;
for(var R=0;R<S;R+=4){T+=e[X+R];z+=e[X+R+1];W+=e[X+R+2];$+=e[X+R+3]}for(var R=0;R<=S;R+=4){T+=e[c]-n;
Z[X]=w[T];z+=e[c+1]-k;Z[X+1]=w[z];W+=e[c+2]-B;Z[X+2]=w[W];$+=e[c+3]-o;Z[X+3]=w[$];c+=4;X+=4}for(var R=0;
R<q;R+=4){T+=e[c+R]-e[Q+R];Z[X+R]=w[T];z+=e[c+R+1]-e[Q+R+1];Z[X+R+1]=w[z];W+=e[c+R+2]-e[Q+R+2];Z[X+R+2]=w[W];
$+=e[c+R+3]-e[Q+R+3];Z[X+R+3]=w[$]}c+=q;Q+=q;X+=q;n=e[u-4];k=e[u-3];B=e[u-2];o=e[u-1];for(var R=F-_;
R<F;R++){T+=n-e[Q];Z[X]=w[T];z+=k-e[Q+1];Z[X+1]=w[z];W+=B-e[Q+2];Z[X+2]=w[W];$+=o-e[Q+3];Z[X+3]=w[$];
Q+=4;X+=4}}};V.OS.a6b=function(e,Z,F,b,_){var d=1/(_+_+1),S=F-_-_-1;for(var l=0;l<b;l++){var U=l*F,r=U,q=U+_,w=e[U],X=e[U+F-1],Q=(_+1)*w;
for(var c=0;c<_;c++)Q+=e[U+c];for(var c=0;c<=_;c++){Q+=e[q+c]-w;Z[U+c]=Q*d}q+=_+1;U+=_+1;for(var c=0;
c<S;c++){Q+=e[q+c]-e[r+c];Z[U+c]=Q*d}q+=S;r+=S;U+=S;for(var c=F-_;c<F;c++){Q+=X-e[r++];Z[U++]=Q*d}}};
V.OS.ai9=function(e,Z,F,b,_){var d=1/(_+_+1),S=b-_-_-1,U=V.OS.m5(_);for(var l=0;l<F;l++){var r=l,q=r,w=r+_*F,X=e[r],Q=e[r+F*(b-1)],c=(_+1)*X;
for(var u=0;u<_;u++)c+=e[r+u*F];for(var u=0;u<=_;u++){c+=e[w]-X;Z[r]=U[c];w+=F;r+=F}for(var u=0;u<S;
u++){var n=u*F;c+=e[w+n]-e[q+n];Z[r+n]=U[c]}q+=S*F;w+=S*F;r+=S*F;for(var u=b-_;u<b;u++){c+=Q-e[q];Z[r]=U[c];
q+=F;r+=F}}};V.OS.a3i=function(e,Z,F,b,_){var d=F<<2,S=_<<2,U=1/(_+_+1),r=b-_-_-1,q=r<<2,w=V.OS.m5(_);
for(var l=0;l<F;l++){var X=l<<2,Q=X,c=X+_*d,u=X+d*(b-1),n=e[X],k=e[X+1],B=e[X+2],o=e[X+3],T=(_+1)*n,z=(_+1)*k,W=(_+1)*B,$=(_+1)*o;
for(var R=0;R<_;R++){var P=X+R*d;T+=e[P];z+=e[P+1];W+=e[P+2];$+=e[P+3]}for(var R=0;R<=_;R++){T+=e[c]-n;
Z[X]=w[T];z+=e[c+1]-k;Z[X+1]=w[z];W+=e[c+2]-B;Z[X+2]=w[W];$+=e[c+3]-o;Z[X+3]=w[$];c+=d;X+=d}for(var R=0;
R<r;R++){var H=R*d;T+=e[c+H]-e[Q+H];Z[X+H]=w[T];z+=e[c+H+1]-e[Q+H+1];Z[X+H+1]=w[z];W+=e[c+H+2]-e[Q+H+2];
Z[X+H+2]=w[W];$+=e[c+H+3]-e[Q+H+3];Z[X+H+3]=w[$]}Q+=r*d;c+=r*d;X+=r*d;n=e[u];k=e[u+1];B=e[u+2];o=e[u+3];
for(var R=b-_;R<b;R++){T+=n-e[Q];Z[X]=w[T];z+=k-e[Q+1];Z[X+1]=w[z];W+=B-e[Q+2];Z[X+2]=w[W];$+=o-e[Q+3];
Z[X+3]=w[$];Q+=d;X+=d}}};V.OS.atL=function(e,Z,F,b,_){var d=1/(_+_+1),S=b-_-_-1;for(var l=0;l<F;l++){var U=l,r=U,q=U+_*F,w=e[U],X=e[U+F*(b-1)],Q=(_+1)*w;
for(var c=0;c<_;c++)Q+=e[U+c*F];for(var c=0;c<=_;c++){Q+=e[q]-w;Z[U]=Q*d;q+=F;U+=F}for(var c=0;c<S;c++){var u=c*F;
Q+=e[q+u]-e[r+u];Z[U+u]=Q*d}r+=S*F;q+=S*F;U+=S*F;for(var c=b-_;c<b;c++){Q+=X-e[r];Z[U]=Q*d;r+=F;U+=F}}};
V.u5={};V.u5.J=function(e,Z,F,b){var _=[];for(var d=0;d<4;d++)for(var S=0;S<4;S++)_.push(e+F*S/3,Z+b*d/3);
return _};V.u5.rp=function(e,Z){var F=e.slice(0);for(var l=0;l<4;l++)for(var b=0;b<4;b++){var _=2*(l*4+b),d=2*(b*4+(3-l));
if(Z){var S=_;_=d;d=S}F[d]=e[_];F[d+1]=e[_+1]}return F};V.u5.f5=V.J(0);V.u5.drawImage=function(e,Z,F,b,_,d,S){var U=!1,r=Date.now(),q=2,w=F+2*q,X=b+2*q,Q=new e3(q,q,F,b),c=Q.clone(),o=50;
c.qN(q,q);var u=V.u5.f5;if(u.length!=c.Z()*4)u=V.u5.f5=V.J(c.Z()*4);else u.fill(0);V.Rf(Z,Q,u,c);if(U)console.log(Date.now()-r,"copy rect");
r=Date.now();V.hP(u);if(U)console.log(Date.now()-r,"multiply alpha");r=Date.now();var n=[],k=[],B=[];
for(var T=0;T<o+1;T++)for(var z=0;z<o+1;z++){var W=z/o,$=T/o;n.push(w*W,X*$);if(z<o&&T<o){var R=T*(o+1)+z,P=R+1,H=R+o+1,y=H+1;
k.push(R,P,H);k.push(H,P,y)}var h=V.u5.aea(e,W,$);B.push(-h)}var m=n.slice(0);V.u5.A(e,m,new e3(q,q,F,b));
V.H.A(m,new jg(1,0,0,1,-d.x,-d.y),m);if(U)console.log(Date.now()-r,"mesh built");r=Date.now();var t=d.w,j=d._;
V.T5.b9(u,w,X,_,t,j,n,m,B,k);if(U)console.log(Date.now()-r,"rendered");r=Date.now();V.Wo(_);if(U)console.log(Date.now()-r,"divided");
r=Date.now()};V.u5.O8=new Array(10);V.u5.a6M=function(e,Z){var F=200,b=0,_=0,d=1e9,S=V.u5.O8;for(var U=0;
U<F+1;U++)for(var r=0;r<F+1;r++){var q=r/F,w=U/F;V.u5.pR(e,q,w,S);var X=S[8]-Z.x,Q=S[9]-Z.y,c=X*X+Q*Q;
if(c<d){d=c;b=q;_=w}}return[b,_]};V.u5.A=function(e,Z,F){var b=F.x,_=F.y,d=1/F.w,S=1/F._,U=V.u5.O8;for(var r=0;
r<Z.length;r+=2){var q=(Z[r]-b)*d,w=(Z[r+1]-_)*S;V.u5.pR(e,q,w,U);Z[r]=U[8];Z[r+1]=U[9]}};V.u5.aea=function(e,Z,F){var b,_,d,S,U=V.u5.O8;
V.u5.a1J(e,Z,F,U);b=U[8];_=U[9];V.u5.aa0(e,Z,F,U);d=U[8];S=U[9];return b*S-_*d};V.u5.pR=function(e,Z,F,b){V.u5.Ua(b,0,F);
V.u5.Ua(b,4,Z);V.u5.Az(e,b)};V.u5.a1J=function(e,Z,F,b){V.u5.Ua(b,0,F);V.u5.i$(b,4,Z);V.u5.Az(e,b)};
V.u5.aa0=function(e,Z,F,b){V.u5.i$(b,0,F);V.u5.Ua(b,4,Z);V.u5.Az(e,b)};V.u5.i$=function(e,l,Z){var F=1-Z;
e[l]=-3*(F*F);e[l+1]=3*(F*F)-6*(Z*F);e[l+2]=6*(Z*F)-3*(Z*Z);e[l+3]=3*(Z*Z)};V.u5.Ua=function(e,l,Z){var F=1-Z;
e[l]=F*(F*F);e[l+1]=3*Z*(F*F);e[l+2]=3*(Z*Z)*F;e[l+3]=Z*Z*Z};V.u5.Az=function(e,Z){var F=0,b=0,_=0,d=Z[0],S=Z[1],U=Z[2],r=Z[3],q=Z[4],w=Z[5],X=Z[6],Q=Z[7];
_=d*q;F+=e[0]*_;b+=e[1]*_;_=d*w;F+=e[2]*_;b+=e[3]*_;_=d*X;F+=e[4]*_;b+=e[5]*_;_=d*Q;F+=e[6]*_;b+=e[7]*_;
_=S*q;F+=e[8]*_;b+=e[9]*_;_=S*w;F+=e[10]*_;b+=e[11]*_;_=S*X;F+=e[12]*_;b+=e[13]*_;_=S*Q;F+=e[14]*_;b+=e[15]*_;
_=U*q;F+=e[16]*_;b+=e[17]*_;_=U*w;F+=e[18]*_;b+=e[19]*_;_=U*X;F+=e[20]*_;b+=e[21]*_;_=U*Q;F+=e[22]*_;
b+=e[23]*_;_=r*q;F+=e[24]*_;b+=e[25]*_;_=r*w;F+=e[26]*_;b+=e[27]*_;_=r*X;F+=e[28]*_;b+=e[29]*_;_=r*Q;
F+=e[30]*_;b+=e[31]*_;Z[8]=F;Z[9]=b};V.Ns={};V.Ns.apW=function(e,Z,F){var b=Date.now(),_=new ArrayBuffer(Z*F*16),d=V.Ns.al5(e,Z,F,_),S=V.Ns.asw(Z,F,_);
return{vt:S,HX:d}};V.Ns.ams=function(e,Z,F){var b=Math.round(e.length/8),_=new Uint32Array(b),d=new Uint8Array(b),S=new Uint32Array(b);
V.oi(_,4294967295,0);_[F]=0;var U=new bs(b);U.push(F,_[F]);var r={vt:e,HX:Z,h3:_,PC:d,HI:S,qv:U,a4Q:F};
return r};V.Ns._P=function(e,Z){var F=e.vt,b=e.HX,_=e.h3,d=e.PC,S=e.HI,U=e.qv;while(!U.BJ()&&(Z==null||d[Z]==0)){var r=U.pop();
d[r]=1;for(var l=0;l<8;l++){var q=F[8*r+l],w=r+q;if(q==0||d[w])continue;var X=_[r]+b[8*r+l];if(U.contains(w)&&X<_[w])U.remove(w,_[w]);
if(!U.contains(w)){_[w]=X;S[w]=r;U.push(w,_[w])}}}};function bs(e){this.bC=new Uint32Array(e);this.list=[];
this.Fg=0;this.m1=4294967295}bs.prototype.BJ=function(){return this.Fg==0};bs.prototype.push=function(e,Z){var F=this.list;
if(F[Z]==null)F[Z]=[];F[Z].push(e);this.Fg++;this.bC[e]=F[Z].length-1+1;this.m1=Math.min(this.m1,Z)};
bs.prototype.pop=function(){this.Fg--;var e=this.list,Z=this.m1,F=e[Z].pop();if(e[Z].length==0)e[Z]=null;
this.db();this.bC[F]=0;return F};bs.prototype.contains=function(e){return this.bC[e]!=0};bs.prototype.remove=function(e,Z){this.Fg--;
var F=this.list,l=this.bC[e]-1;if(l==F[Z].length-1)F[Z].pop();else{var b=F[Z].pop();F[Z][l]=b;this.bC[b]=l+1}if(F[Z].length==0)F[Z]=null;
this.bC[e]=0;this.db()};bs.prototype.db=function(){if(this.Fg==0){this.m1=4294967295;return}var e=this.m1,Z=this.list;
while(Z[e]==null)e++;this.m1=e};V.Ns.alN=function(e,Z,F,b){var _=new Int16Array(b);for(var d=0;d<F;d++)for(var S=0;
S<Z;S++){var l=d*Z+S,U=0;if(1<S&&S<Z-2&&1<d&&d<F-2){U+=e[l-Z-Z];U+=e[l-Z-1]+2*e[l-Z]+e[l-Z+1];U+=e[l-2]+2*e[l-1]-16*e[l]+2*e[l+1]+e[l+2];
U+=e[l+Z-1]+2*e[l+Z]+e[l+Z+1];U+=e[l+Z+Z]}else U=-16*e[l];_[l]=U}return _};V.Ns.atW=function(e,Z,F,b){if(b==null)b=128;
var _=new Uint8Array(Z*F);for(var d=1;d<F-1;d++)for(var S=1;S<Z-1;S++){var l=d*Z+S;_[l]=V.Ns.abv(e[l],e[l-1],e[l+1],e[l-Z],e[l+Z],b)}return _};
V.Ns.abv=function(e,Z,F,b,_,d){var S=Math.abs(e);return e*Z<0&&S<Math.abs(Z)&&Math.abs(Z-e)>d||e*F<0&&S<Math.abs(F)&&Math.abs(F-e)>d||e*b<0&&S<Math.abs(b)&&Math.abs(b-e)>d||e*_<0&&S<Math.abs(_)&&Math.abs(_-e)>d?1:0};
V.Ns.aal=function(e,Z,F,b){var _=new Float32Array(b),d=0;new Uint32Array(b).fill(0);for(var S=0;S<F;
S++)for(var U=0;U<Z;U++){var r=0,q=0,l=S*Z+U,w=l*3;if(0<U&&U<Z-1)r=e[l+1]-e[l-1];if(0<S&&S<F-1)q=e[l+Z]-e[l-Z];
var X=_[w+2]=Math.sqrt(r*r+q*q);if(X!=0){var Q=1/X;_[w]=r*Q;_[w+1]=q*Q}if(X>d)d=X}var c=Z*F,u=d==0?0:1/d;
for(var l=0;l<c;l++)_[l*3+2]=1-_[l*3+2]*u;return _};V.Ns.a1q=function(e,Z,F){return F[~~((.5+.5*e)*255)]+F[~~((.5+.5*Z)*255)]};
V.Ns.al5=function(e,Z,F,b){var _=Date.now(),d=V.Ns.alN(e,Z,F,b),S=V.Ns.atW(d,Z,F),U=V.Ns.aal(e,Z,F,b),r=new Float32Array(256);
for(var l=0;l<256;l++)r[l]=Math.acos(-1+2*l/255)*(.95/Math.PI);var q=[-1,0,1,1,1,0,-1,-1],w=[-1,-1,-1,0,1,1,1,0];
for(var l=0;l<8;l++){var X=1/Math.sqrt(q[l]*q[l]+w[l]*w[l]);q[l]*=X;w[l]*=X}var Q=[q[0],w[0],q[1],w[1],q[2],w[2],q[3],w[3]],c=[-Z-1,-Z,-Z+1,1],u=new Uint8Array(Z*F*8);
new Uint32Array(u.buffer).fill(4294967295);var n=Z*F;for(var k=1;k<F-1;k++)for(var B=1;B<Z-1;B++){var o=k*Z+B,T=1-S[o],z=U[o*3+2],W=U[3*o+1],$=-U[3*o];
for(var R=0;R<4;R++){var P=o+c[R];V.Ns.aqF(o,P,R,u,S,U,T,z,W,$,Q,r)}}return u};V.Ns.aqF=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q=1-_[Z],c=(F&1)==0?1:Math.SQRT1_2,u=d[Z*3+2]*c,n=d[3*Z+1],k=-d[3*Z],B=U*c,o=w[F+F],T=w[F+F+1],z=r*o+q*T,W=n*o+k*T;
if(z+W<0){z=-z;W=-W}var $=V.Ns.a1q(z,W,X);b[(e<<3)+F]=V.Ns.fx(Q,$,u);b[(Z<<3)+F+4]=V.Ns.fx(S,$,B)};V.Ns.fx=function(e,Z,F){return 1+~~(.5+20*(.43*e+.43*Z+.14*F))};
V.Ns.asw=function(e,Z,F){var b=new Int16Array(F),_=b,l=0,d=0;new Uint32Array(F).fill(0);for(var S=0;
S<Z;S++)for(var U=0;U<e;U++){if(S>0&&U>0)_[d+0]=-e-1;if(S>0)_[d+1]=-e;if(S>0&&U<e-1)_[d+2]=-e+1;if(U<e-1)_[d+3]=1;
if(S<Z-1&&U<e-1)_[d+4]=e+1;if(S<Z-1)_[d+5]=e;if(S<Z-1&&U>0)_[d+6]=e-1;if(U>0)_[d+7]=-1;l++;d+=8}return b};
V.Qb={};V.Qb.OD=function(e){var Z=e.slice(0),F=0;for(var l=0;l<e.length;l++)F+=e[l];for(var l=0;l<e.length;
l++)Z[l]/=F;return Z};V.Qb.nl=[V.Qb.OD([1,2,1,2,16,2,1,2,1]),V.Qb.OD([1,2,1,2,4,2,1,2,1]),V.Qb.OD([0,-1,0,-1,8,-1,0,-1,0]),V.Qb.OD([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
V.Qb.MP=function(e,Z,F,b,_,d,S,U){if(S==null)S=!1;if(U==null)U=!1;var r=Math.floor(Math.sqrt(_.length)),q=r-1>>>1,w=new Uint32Array(e.buffer),Z=new Uint8ClampedArray(Z.buffer);
for(var l=0;l<b;l++)for(var X=0;X<F;X++){var Q=0,c=0,u=0,n=0;for(var k=0;k<r;k++)for(var B=0;B<r;B++){var o=_[k*r+B];
if(o==0)continue;var T=X-q+B,z=l-q+k;if(T<0)T=0;else if(T>F-1)T=F-1;if(z<0)z=0;else if(z>b-1)z=b-1;if(U&&w[z*F+T]>>>24==0){z=l;
T=X}var W=w[z*F+T];Q+=(W&255)*o;c+=(W>>>8&255)*o;u+=(W>>>16&255)*o;n+=(W>>>24&255)*o}if(S){if(Q<0)Q=-Q;
if(c<0)c=-c;if(u<0)u=-u;if(n<0)n=-n}if(U){Q=Math.max(0,Math.min(255,Q));c=Math.max(0,Math.min(255,c));
u=Math.max(0,Math.min(255,u));n=Math.max(0,Math.min(255,n))}var $=l*F+X<<2;Z[$]=~~(.5+Q);Z[$+1]=~~(.5+c);
Z[$+2]=~~(.5+u);Z[$+3]=255-d&Z[$+3]|d&~~(.5+n)}};V.Qb.Jw=function(e,Z,F,b){var _=e.length,d=new Uint8Array(_);
V.Qb.MP(e,Z,F,b,V.Qb.nl[4],0,!0);V.Qb.MP(e,d,F,b,V.Qb.nl[5],0,!0);for(var l=0;l<_;l+=4){var S=Z[l],U=Z[l+1],r=Z[l+2],q=Z[l+3],w=d[l],X=d[l+1],Q=d[l+2],c=d[l+3];
Z[l]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+w*w)));Z[l+1]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+X*X)));
Z[l+2]=255-Math.max(0,Math.min(255,Math.sqrt(r*r+Q*Q)))}};V.Qb.ow=function(e,Z,F,b){var _=e.length,d=new Uint8Array(_);
V.Qb.PL(e,Z,F,b,V.Qb.nl[4],!0);V.Qb.PL(e,d,F,b,V.Qb.nl[5],!0);for(var l=0;l<_;l++){var S=Z[l],U=d[l];
Z[l]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+U*U)))}};V.Qb.PL=function(e,Z,F,b,_,d){Z=new Uint8ClampedArray(Z.buffer);
var S=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1],U=b-1,r=F-1;for(var l=1;l<U;l++)for(var q=1;q<r;q++){var w=l*F+q,X=V.Qb.aP(e,w,F,_);
if(d){if(X<0)X=-X}Z[w]=~~(X+.5)}};V.Qb.aP=function(e,Z,F,b){return e[Z-F-1]*b[0]+e[Z-F]*b[1]+e[Z-F+1]*b[2]+e[Z-1]*b[3]+e[Z]*b[4]+e[Z+1]*b[5]+e[Z+F-1]*b[6]+e[Z+F]*b[7]+e[Z+F+1]*b[8]};
V.Qb.tp=function(e,Z,F,b,_){var d=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1],S=b-1,U=F-1;for(var l=1;l<S;l++)for(var r=1;
r<U;r++){var q=l*F+r;Z[q]=V.Qb.a2V(e,q,F,_)}};V.Qb.a2V=function(e,Z,F,b){return e[Z-F-1]*b[0]+e[Z-F]*b[1]+e[Z-F+1]*b[2]+e[Z-1]*b[3]+e[Z]*b[4]+e[Z+1]*b[5]+e[Z+F-1]*b[6]+e[Z+F]*b[7]+e[Z+F+1]*b[8]};
V.ga={};V.ga.wW=function(){function e(S,U,r,q,w,X,Q){if(w==0){U.set(S);return}var c=V.J(r*q),u=V.J(r*q);
if(V.DA(S)){Z(S,U,r,q,w,X,Q);var n=[V.ga.PN,V.ga.a7],k=n.indexOf(X),B=k!=-1?n[1-k]:X;V.yC(S,c,3);V.ga.Gu(c,u,r,q,w,B,Q);
V.s$(u,U,3)}else{for(var l=0;l<3;l++){V.yC(S,c,l);V.ga.Gu(c,u,r,q,w,X,Q);V.s$(u,U,l)}}}function Z(S,U,r,q,w,X,Q){var c=0,u=new ArrayBuffer(512*4*3),n=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)],k=1+2*Math.round(Math.sqrt(w)),B=k>>>1,o=new Array(k),T=new Array(k);
for(var l=0;l<k;l++){var u=new ArrayBuffer(512*4*3);o[l]=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)];
T[l]=o[l][0]}var z=X[0],W=X[1],$=n[0];for(var R=0;R<r;R++)if(R<w||R>r-w-k-1){$.fill(0);var P=Math.max(R-w,0),H=Math.min(r,R+w+1),y=H-P;
for(var h=0;h<w;h++)b($,S,h*r+P,h*r+H,1);for(var h=0;h<q;h++){var m=h-w-1,t=h+w;if(t<q)b($,S,t*r+P,t*r+H,1);
if(m>=0)b($,S,m*r+P,m*r+H,-1);var j=h*r+R<<2;c=$[300];if(c!=0)for(var l=0;l<3;l++)U[j+l]=z(n[l],S[j+l],c,Q)}}else{for(var l=0;
l<k;l++)T[l].fill(0);var P=R-w+B,H=R+w+1+B;for(var h=0;h<w;h++)F(T,S,h*r+P,h*r+H,1,B);for(var h=0;h<q;
h++){var m=h-w-1,t=h+w;if(m>=0)F(T,S,m*r+P,m*r+H,-1,B);if(t<q)F(T,S,t*r+P,t*r+H,1,B);var x=o[B];c=x[0][300];
for(var l=0;l<B;l++){var C=B-1-l,L=B+1+l,f=o[C],D=o[L],v=c+f[0][300],A=c+D[0][300],M=h*r+R+C<<2,Y=h*r+R+L<<2;
if(v!=0)for(var J=0;J<3;J++)U[M+J]=W(x[J],f[J],S[M+J],v,Q);if(A!=0)for(var J=0;J<3;J++)U[Y+J]=W(x[J],D[J],S[Y+J],A,Q)}var j=h*r+R+B<<2;
if(c!=0)for(var J=0;J<3;J++)U[j+J]=z(x[J],S[j+J],c,Q)}R+=k-1}}function F(S,U,r,q,w,X){var Q=_,c=r<<2,u=q<<2;
Q(S[X-1],U,r-1<<2,w);Q(S[X-1],U,q-1<<2,-w);Q(S[X+1],U,q<<2,w);Q(S[X+1],U,r<<2,-w);for(var l=1;l<X;l++){var n=S[X-l-1],k=S[X+l+1];
for(var B=0;B<=l;B++){var o=B<<2;Q(n,U,r-1-B<<2,w);Q(n,U,q-1-B<<2,-w);Q(k,U,q+B<<2,w);Q(k,U,r+B<<2,-w)}}b(S[X],U,r,q,w)}function b(S,U,l,r,q){var w=l<<2,X=r<<2;
while(w<X){_(S,U,w,q);w+=4}}function _(S,U,r,q){var w=q*U[r+3];S[300]+=w;d(S,U[r],0,w);d(S,U[r+1],512,w);
d(S,U[r+2],1024,w)}function d(S,U,r,q){S[r|U]+=q;S[r|256|U>>>4]+=q}return e}();V.ga.Gu=function(){function e(X,Q,c,u,n,k,B){if(n==0){Q.set(X);
return}if(n<=80)Z(X,Q,c,u,n,k,B);else d(X,Q,c,u,n,k,B)}function Z(X,Q,c,u,n,k,B){var o=0,T=new Int32Array(512),z=1+2*Math.round(Math.sqrt(n)),W=z>>>1,$=new Array(z);
for(var l=0;l<z;l++)$[l]=new Int32Array(512);var R=k[0],P=k[1];for(var H=0;H<c;H++)if(H<n||H>c-n-z-1){T.fill(0);
o=0;var y=Math.max(H-n,0),h=Math.min(c,H+n+1),m=h-y;for(var t=0;t<n;t++){o+=m;b(T,X,t*c+y,t*c+h,1)}for(var t=0;
t<u;t++){var j=t-n-1,x=t+n;if(j>=0){o-=m;b(T,X,j*c+y,j*c+h,-1)}if(x<u){o+=m;b(T,X,x*c+y,x*c+h,1)}var C=R(T,X[t*c+H],o,B);
Q[t*c+H]=C}}else{for(var l=0;l<z;l++)$[l].fill(0);o=0;var y=H-n+W,h=H+n+1+W,m=h-y;for(var t=0;t<n;t++){o+=m;
F($,X,t*c+y,t*c+h,1,W)}for(var t=0;t<u;t++){var j=t-n-1,x=t+n;if(j>=0){o-=m;F($,X,j*c+y,j*c+h,-1,W)}if(x<u){o+=m;
F($,X,x*c+y,x*c+h,1,W)}for(var l=0;l<W;l++){var L=W-1-l,f=W+1+l;Q[t*c+H+L]=P($[W],$[L],X[t*c+H+L],o,B);
Q[t*c+H+f]=P($[W],$[f],X[t*c+H+f],o,B)}Q[t*c+H+W]=R($[W],X[t*c+H+W],o,B)}H+=z-1}}function F(X,Q,c,u,n,k){var B=_;
B(X[k-1],Q[c-1],0,n);B(X[k-1],Q[u-1],0,-n);B(X[k+1],Q[u],0,n);B(X[k+1],Q[c],0,-n);for(var l=1;l<k;l++){var o=X[k-l-1],T=X[k+l+1];
for(var z=0;z<=l;z++){B(o,Q[c-1-z],0,n);B(o,Q[u-1-z],0,-n);B(T,Q[u+z],0,n);B(T,Q[c+z],0,-n)}}b(X[k],Q,c,u,n)}function b(X,Q,l,c,u){while(l<c)_(X,Q[l++],0,u)}function _(X,Q,c,u){X[c|Q]+=u;
X[c|256|Q>>>4]+=u}function d(X,Q,c,u,n,k,B){var o=0,T=new Int32Array(512),z=new Int32Array(1*c),W=new Int32Array(512*c),$=Math.min(n,c),R=Math.min(n,u),P=k[0];
for(var H=0;H<R;H++)S(W,z,X,c,H,1);for(var H=0;H<u;H++){if(H+n<u)S(W,z,X,c,H+n,1);if(H-n-1>=0)S(W,z,X,c,H-n-1,-1);
T.fill(0);o=0;for(var y=0;y<$;y++){o+=z[y];U(T,W,y)}for(var y=0;y<c;y++){var h=y-n-1,m=y+n;if(h>=0&&z[h]!=0){o-=z[h];
r(T,W,h)}if(m<c&&z[m]!=0){o+=z[m];U(T,W,m)}var t=o==0?0:P(T,X[H*c+y],o,B);Q[H*c+y]=t}}}function S(X,Q,c,u,n,k){var l=n*u;
for(var B=0;B<u;B++){_(X,c[l+B],B<<9,k);Q[B]+=k}}function U(X,Q,c){for(var l=0;l<16;l++){var u=Q[c<<9|256|l];
if(u==0)continue;X[256|l]+=u;var n=l<<4,k=c<<9|n;q(X,Q,n,k);q(X,Q,n+4,k+4);q(X,Q,n+8,k+8);q(X,Q,n+12,k+12)}}function r(X,Q,c){for(var l=0;
l<16;l++){var u=Q[c<<9|256|l];if(u==0)continue;X[256|l]-=u;var n=l<<4,k=c<<9|n;w(X,Q,n,k);w(X,Q,n+4,k+4);
w(X,Q,n+8,k+8);w(X,Q,n+12,k+12)}}function q(X,Q,c,u){X[c]+=Q[u];X[c+1]+=Q[u+1];X[c+2]+=Q[u+2];X[c+3]+=Q[u+3]}function w(X,Q,c,u){X[c]-=Q[u];
X[c+1]-=Q[u+1];X[c+2]-=Q[u+2];X[c+3]-=Q[u+3]}return e}();V.ga.a7=[function(e,Z,F,b){var l=15;while(e[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(e[l]==0&&l>0)l--;return l},function(e,Z,F,b,_){var l=15;while(e[256|l]+Z[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(e[l]+Z[l]==0&&l>0)l--;return l}];V.ga.PN=[function(e,Z,F,b){var l=0;while(e[256|l]==0&&l<15)l++;
l=l<<4;while(e[l]==0&&l<255)l++;return l},function(e,Z,F,b,_){var l=0;while(e[256|l]+Z[256|l]==0&&l<15)l++;
l=l<<4;while(e[l]+Z[l]==0&&l<255)l++;return l}];V.ga.eQ=.5;V.ga.tC=[function(e,Z,F,b){var _=~~(.5+V.ga.eQ*F),d=0,l=256;
while(d+e[l]<=_)d+=e[l++];l=l-256<<4;while(d<=_)d+=e[l++];return l-1},function(e,Z,F,b,_){var d=~~(.5+V.ga.eQ*b),S=0,l=256;
while(S+e[l]+Z[l]<=d){S+=e[l]+Z[l];l++}l=l-256<<4;while(S<=d){S+=e[l]+Z[l];l++}return l-1}];V.ga.pQ=[function(e,Z,F,b){var _=b[0],d=0,S=0,l=Math.max(0,Z-_),U=Math.min(256,Z+_+1);
while(l<U){var r=e[l];d+=l*r;S+=r;l++}return S==0?0:d/S},function(e,Z,F,b,_){var d=_[0],S=0,U=0,l=Math.max(0,F-d),r=Math.min(256,F+d+1);
while(l<r){var q=e[l]+Z[l];S+=l*q;U+=q;l++}return U==0?0:S/U}];V.N={};V.N.OL=function(e){var Z=i.Q.rt(e.Trnf),F=e.Sz.v,b=V.N.R5(Z,new e3(0,0,F.Wdth.v,F.Hght.v));
return V.N.tZ(b)};V.N.R5=function(e,Z){var F=e[0],b=e[1],_=e[2],d=e[3],S=e[6],U=e[7],r=e[4],q=e[5],w=0,X=0,Q=1,c=0,u=0,n=1,k=1,B=1;
if(Z){w=Z.x;X=Z.y;Q=Z.x+Z.w;c=Z.y;u=Z.x;n=Z.y+Z._;k=Z.x+Z.w;B=Z.y+Z._}return V.N.OJ(e,[w,X,Q,c,k,B,u,n])};
V.N.OJ=function(e,Z){var F=e[0],b=e[1],_=e[2],d=e[3],S=e[6],U=e[7],r=e[4],q=e[5],w=Z[0],X=Z[1],Q=Z[2],c=Z[3],u=Z[6],n=Z[7],k=Z[4],B=Z[5],o=[[w,X,1,0,0,0,-w*F,-X*F,F],[0,0,0,w,X,1,-w*b,-X*b,b],[Q,c,1,0,0,0,-Q*_,-c*_,_],[0,0,0,Q,c,1,-Q*d,-c*d,d],[u,n,1,0,0,0,-u*S,-n*S,S],[0,0,0,u,n,1,-u*U,-n*U,U],[k,B,1,0,0,0,-k*r,-B*r,r],[0,0,0,k,B,1,-k*q,-B*q,q]],T=[0,0,0,0,0,0,0,0],z=V.dg.kS(o,T);
if(z!=0)T=[0,0,0,0,0,0,0,0];return T};V.N.ps=function(e){return Math.abs(e[6])<1e-10&&Math.abs(e[7])<1e-10};
V.N.tZ=function(e){return new jg(e[0],e[3],e[1],e[4],e[2],e[5])};V.N.C5=function(e){return[e.Y0,e.d_,e.lr,e.S,e.rl,e.Xz,0,0]};
V.N.A=function(e,Z){var F=new Float64Array(2);for(var b=0;b<Z.length;b+=2){var _=Z[b],d=Z[b+1];V.N.im(_,d,e,F);
Z[b]=F[0];Z[b+1]=F[1]}};V.N.im=function(e,Z,F,b){var _=1/(F[6]*e+F[7]*Z+1);b[0]=(F[0]*e+F[1]*Z+F[2])*_;
b[1]=(F[3]*e+F[4]*Z+F[5])*_};V.N.y8=function(e,Z){var F=new Float64Array(2);V.N.im(Z.x,Z.y,e,F);return new bI(F[0],F[1])};
V.N.zQ=function(e,Z,F,b){e=new Uint32Array(e.buffer);Z=new Uint32Array(Z.buffer);for(var _=0;_<b;_++){for(var d=0;
d<F;d++){Z[d*b+_]=e[_*F+d]}}};V.N.aby=function(e,Z,F,b){e=new Uint32Array(e.buffer);Z=new Uint32Array(Z.buffer);
for(var _=0;_<b;_++){for(var d=0;d<F;d++){Z[_*F+d]=e[_*F+F-1-d]}}};V.N.pI=function(e){return Math.abs(e[6])<1e-9&&Math.abs(e[7])<1e-9};
V.N.n5=function(e){return Math.abs(e[0])<1e-9&&Math.abs(e[4])<1e-9||Math.abs(e[1])<1e-9&&Math.abs(e[3])<1e-9};
V.N.drawImage=function(e,Z,F,b,_,d,S,U,r){if(S==null)S=!1;if(U==null)U=!1;var q=V.N.eG(e),w=!0,X=0;for(var l=0;
l<8;l++){var Q=Math.round(e[l]);if(l!=2&&l!=5)X+=Math.abs(Q);if(Math.abs(Q-e[l])>1e-9)w=!1}var c=V.N.pI(e),u=V.N.n5(e)&&c,n=u?1:0;
if(S||w&&X==F+b&&c){V.N.acL(q,Z,F,b,_,d,U,c,r);return}var k=d.w,B=d._,o=new Float64Array(2);_=new Uint32Array(_.buffer);
Z=new Uint32Array(Z.buffer);for(var T=0;T<B;T++)for(var z=0;z<k;z++){var W=T*k+z,$,R,P,H,v=0,A=0,M=0,Y=0;
_[W]=0;var y=z+d.x+.5,h=T+d.y+.5;$=y;R=h;P=q;var m=P[0]*$+P[1]*R+P[2],t=P[3]*$+P[4]*R+P[5];if(!c){H=1/(P[6]*$+P[7]*R+1);
m*=H;t*=H}var j=m*F,x=t*b,C=j<-1||j>F+1||x<-1||x>b+1;if(U){j=Math.max(.001,Math.min(F-1,j));x=Math.max(.001,Math.min(b-1,x))}else if(C)continue;
var L=V.N.aov(e,F,b,y,h,m,t),f=Math.round(L*2.3);if(L<1.1){V.N.uU(j,x,Z,F,b,_,W,n);continue}if(!U&&(j<.6||j>F-.6||x<.6||x>b-.6)){f=Math.max(f,5)}if(U&&C)f=1;
var D=1/f,J=d.x+z,I=d.y+T;P=q;for(var l=0;l<f;l++)for(var p=0;p<f;p++){$=J+(l+.5)*D;R=I+(p+.5)*D;var j=P[0]*$+P[1]*R+P[2],x=P[3]*$+P[4]*R+P[5];
if(!c){H=1/(P[6]*$+P[7]*R+1);j*=H;x*=H}if(U){j=Math.max(.001,Math.min(.999,j));x=Math.max(.001,Math.min(.999,x))}else if(j<0||j>=1||x<0||x>=1)continue;
j=Math.floor(j*F);x=Math.floor(x*b);var a=x*F+j,er=Z[a],c8=er>>>24;v+=(er&255)*c8;A+=(er>>>8&255)*c8;
M+=(er>>>16&255)*c8;Y+=c8}if(Y!=0){var O=1/Y;v=~~(v*O+.5);A=~~(A*O+.5);M=~~(M*O+.5);Y=~~(Y*D*D+.5);_[W]=Y<<24|M<<16|A<<8|v}}};
V.N.aov=function(e,Z,F,b,_,d,S){var U=V.N.C_(e,b,_,d+1/Z,S),r=V.N.C_(e,b,_,d,S+1/F);return 1/Math.sqrt(Math.max(U,r))};
V.N.C_=function(e,Z,F,b,_){var d=1/(e[6]*b+e[7]*_+1),S=(e[0]*b+e[1]*_+e[2])*d-Z,U=(e[3]*b+e[4]*_+e[5])*d-F;
return S*S+U*U};V.N.acL=function(e,Z,F,b,_,d,S,U,r){if(U&&!S&&d.Z()>4e6&&r){V.N.aoB(e,Z,F,b,_,d,S,U,r);
return}var q=d.x+d.w,w=d.y+d._,X=0,Q=new Uint32Array(_.buffer),c=new Uint32Array(Z.buffer),u=e[0]*F,n=e[1]*F,k=e[2]*F,B=e[3]*b,o=e[4]*b,T=e[5]*b,z=e[6],W=e[7];
if(U&&!S)for(var $=d.y+.5;$<w;$++)for(var R=d.x+.5;R<q;R++){var P=u*R+n*$+k,H=B*R+o*$+T;if(0<P&&P<F&&0<H&&H<b){var y=~~H*F+~~P;
Q[X]=c[y]}else Q[X]=0;X++}else for(var $=d.y+.5;$<w;$++)for(var R=d.x+.5;R<q;R++){var h=1/(z*R+W*$+1),P=(u*R+n*$+k)*h,H=(B*R+o*$+T)*h;
if(S){P=Math.max(.001,Math.min(F-1,P));H=Math.max(.001,Math.min(b-1,H))}if(0<P&&P<F&&0<H&&H<b){var y=Math.floor(H)*F+Math.floor(P);
Q[X]=c[y]}else Q[X]=0;X++}};V.N.aoB=function(e,Z,F,b,_,d,S,U,r){var q=new Uint32Array(_.buffer),w=new Uint32Array(Z.buffer),W=0;
if(r&&(d.w&3)!=0)throw"e";var X=e[0]*F,Q=e[1]*F,c=e[2]*F,u=e[3]*b,n=e[4]*b,k=e[5]*b,B=e[6],o=e[7],T=d.w,z=d._,$=d.x+.5,R=d.y+.5,P=(T>>>2<<2)-1e-9,H=-.1+(z>>>1<<1)-1e-9,y=~~F,h=X==0?0:1/X,m=u==0?0:1/u;
for(var t=0;t<z;t++){var j=$*X+Q*(t+R)+c,x=$*u+n*(t+R)+k,C=0,L=T;if(X==0){}else if(h>0){C=Math.max(C,-j*h);
L=Math.min(L,(F-j)*h)}else{L=Math.min(L,-j*h);C=Math.max(C,(F-j)*h)}if(u==0){}else if(m>0){C=Math.max(C,-x*m);
L=Math.min(L,(b-x)*m)}else{L=Math.min(L,-x*m);C=Math.max(C,(b-x)*m)}if(L<0)L=0;if(C>L)C=L;C=Math.ceil(C);
L=~~L;W=~~(t*T);for(var f=0;f<C;f++)q[W++]=0;for(var f=C;f<L;f+=4){var D=X*f+j,v=u*f+x,A=~~v*y+~~D;q[W++]=q[W++]=q[W++]=q[W++]=w[A]}for(var f=L;
f<T;f++)q[W++]=0}};V.N.eG=function(e){var Z=e[4]-e[5]*e[7],F=e[2]*e[7]-e[1],b=e[1]*e[5]-e[2]*e[4],_=e[5]*e[6]-e[3],d=e[0]-e[2]*e[6],S=e[3]*e[2]-e[0]*e[5],U=e[3]*e[7]-e[4]*e[6],r=e[1]*e[6]-e[0]*e[7],q=1/(e[0]*e[4]-e[1]*e[3]);
return[Z*q,F*q,b*q,_*q,d*q,S*q,U*q,r*q]};V.N.vp=function(e,Z){var F=e[0],b=e[1],_=e[2],d=e[3],S=e[4],U=e[5],r=e[6],w=e[7],X=Z[0],Q=Z[1],c=Z[2],u=Z[3],n=Z[4],k=Z[5],B=Z[6],o=Z[7],T=[F*X+b*u+_*B,F*Q+b*n+_*o,F*c+b*k+_,d*X+S*u+U*B,d*Q+S*n+U*o,d*c+S*k+U,r*X+w*u+B,r*Q+w*n+o],z=1/(r*c+w*k+1);
for(var l=0;l<8;l++)T[l]*=z;return T};V.N.uU=function(e,Z,F,b,_,d,S,U){var r=e,q=Z,Q=0,c=0,u=0,n=0;e-=.499999;
Z-=.499999;var w=Math.floor(e),X=Math.floor(Z);if(U==0){var l=X*b+w,k=w>=0&&w<b,B=w+1>=0&&w+1<b,o=X>=0&&X<_,T=X+1>=0&&X+1<_;
if(k&&o)Q=F[l];if(B&&o)c=F[l+1];if(k&&T)u=F[l+b];if(B&&T)n=F[l+b+1]}else if(U==1){var z=w<0?0:w>b-1?b-1:w,W=w<-1?0:w>b-2?b-1:w+1,$=X<0?0:X>_-1?_-1:X,R=X<-1?0:X>_-2?_-1:X+1;
Q=F[$*b+z];c=F[$*b+W];u=F[R*b+z];n=F[R*b+W]}else{var z=(w+50*b)%b,W=(w+50*b)%b,$=(X+50*_)%_,R=(X+50*_)%_;
Q=F[$*b+z];c=F[$*b+W];u=F[R*b+z];n=F[R*b+W]}var P=e-w,H=Z-X,y=(1-H)*(1-P)*(Q>>>24),h=(1-H)*P*(c>>>24),m=H*(1-P)*(u>>>24),t=H*P*(n>>>24),j=y+h+m+t,x=y*(Q&255)+h*(c&255)+m*(u&255)+t*(n&255),C=y*(Q>>>8&255)+h*(c>>>8&255)+m*(u>>>8&255)+t*(n>>>8&255),L=y*(Q>>>16&255)+h*(c>>>16&255)+m*(u>>>16&255)+t*(n>>>16&255);
if(j==0)d[S]=0;else{var f=1/j;x=~~(x*f+.5);C=~~(C*f+.5);L=~~(L*f+.5);j=~~(j+.5);d[S]=j<<24|L<<16|C<<8|x}};
V.N.pv=function(e,Z,F,b,_,d){var S=e-.499999,U=Z-.499999,r=~~S,q=~~U,w=S-r,X=U-q,Q=(1-X)*(1-w),c=(1-X)*w,u=X*(1-w),n=X*w,k=q*b+r<<2,B=(q+1)*b+r<<2,o=Q*F[k]+c*F[k+4]+u*F[B]+n*F[B+4],T=Q*F[k+1]+c*F[k+5]+u*F[B+1]+n*F[B+5],z=Q*F[k+2]+c*F[k+6]+u*F[B+2]+n*F[B+6],W=Q*F[k+3]+c*F[k+7]+u*F[B+3]+n*F[B+7];
d[0]=o;d[1]=T;d[2]=z;d[3]=W};V.N.xy=function(e,Z,F,b,_){e-=.499999;Z-=.499999;var d=Math.floor(e),S=Math.floor(Z),U=e-d,r=Z-S,q=(1-r)*(1-U),w=(1-r)*U,X=r*(1-U),Q=r*U,c=(d+50*b)%b,u=(d+1+50*b)%b,n=(S+50*_)%_,k=(S+1+50*_)%_,B=F[n*b+c],o=F[n*b+u],T=F[k*b+c],z=F[k*b+u];
if(B==null||z==null)throw"e";return q*B+w*o+X*T+Q*z};V.N.Oq=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q=new Uint32Array(e.buffer),c=new Uint32Array(b.buffer),u=(1+2*q)/_,n=[],k=[];
for(var B=0;B<_;B++){var o=-.25+q-B*u;n.push(Math.cos(2*Math.PI*o)*X/w);n.push(Math.sin(2*Math.PI*o)/w)}S*=Z;
U*=F;for(var T=0;T<d;T++){var z=Math.pow(T/d,r)*d;for(var B=0;B<_;B++){var W=S+n[B<<1]*z,$=U+n[(B<<1)+1]*z,R=~~(.5+(W<0?0:W>Z-1?Z-1:W)),P=~~(.5+($<0?0:$>F-1?F-1:$));
c[T*_+B]=Q[P*Z+R]}}};V.N.Oc=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q=new Uint32Array(e.buffer),c=new Uint32Array(b.buffer),u=1/X,n=[],k=F*4,B=1/k;
for(var o=0;o<k+10;o++)n.push(Math.pow(o*B,1/r)*F*w);S*=_;U*=d;for(var o=0;o<d;o++)for(var T=0;T<_;T++){var z=u*(T-S),W=o-U,$=1.75-Math.atan2(W,z)*(1/(2*Math.PI));
$=$-~~$;$=($+q)*(1/(1+2*q));var R=Math.sqrt(z*z+W*W);R=n[~~(R*4)];V.N.uU($*Z+.5,R+.5,Q,Z,F,c,o*_+T,1)}};
V.N.LC=function(e,Z,F,b,_){var d=_[0],S=_[1];for(var U=0;U<S;U++)for(var r=0;r<d;r++){var q=_[2]*r+_[3]*U+_[4],w=_[5]*r+_[6]*U+_[7],X=U*d+r<<2,Q=w*Z+q<<2;
b[X]=e[Q+0];b[X+1]=e[Q+1];b[X+2]=e[Q+2];b[X+3]=e[Q+3]}};V.X={k1:function(e,Z){var F=~~(.499+e*Z);return F<0?0:F>Z?Z:F},aft:function(e,Z,F,b,_,d,S,U){var r=F[0],q=F[1],w=F[2],X=F[3],Q=b.w,c=b._,u=new Float64Array(Q*4+8),n=new Float64Array(Q*4+8);
for(var k=0,l=0;k<c;k++){var B=u;u=n;n=B;n.fill(0);for(var o=0;o<Q;o++,l++){var T=o+_,z=k+d,W=r*T+q*z,$=w*T+X*z,R=0,y=0;
if(U==0)R=W+.5;else if(U==1)R=2*Math.sqrt(W*W+$*$);else if(U==2)R=(Math.PI+Math.atan2(-$,-W))/(2*Math.PI);
else if(U==3)R=Math.abs(W*2);else if(U==4)R=2*(Math.abs(W)+Math.abs($));var P=V.X.k1(R,S)*4,H=o*4;for(var h=0;
h<4;h++){var m=Math.max(0,Math.min(254.999,Z[P+h]+u[H+4+h])),t=Math.floor(m);if(Math.random()<m-t)t++;
var j=m-t;u[H+8+h]=j*(7/16);n[H+0+h]=j*(3/16);n[H+4+h]=j*(5/16);n[H+8+h]=j*(1/16);y|=t<<h*8}e[l]=y}}},xP:[function(e,Z,F,b,_,d,S){var U=F[0],r=F[1],q=F[2],w=F[3],X=b.w,Q=b._;
for(var c=0,l=0;c<Q;c++)for(var u=0;u<X;u++,l++){var n=u+_,k=c+d,B=U*n+r*k,o=q*n+w*k,T=B+.5;e[l]=Z[V.X.k1(T,S)]}},function(e,Z,F,b,_,d,S){var U=F[0],r=F[1],q=F[2],w=F[3],X=b.w,Q=b._;
for(var c=0,l=0;c<Q;c++)for(var u=0;u<X;u++,l++){var n=u+_,k=c+d,B=U*n+r*k,o=q*n+w*k,T=2*Math.sqrt(B*B+o*o);
e[l]=Z[V.X.k1(T,S)]}},function(e,Z,F,b,_,d,S){var U=F[0],r=F[1],q=F[2],w=F[3],X=b.w,Q=b._;for(var c=0,l=0;
c<Q;c++)for(var u=0;u<X;u++,l++){var n=u+_,k=c+d,B=U*n+r*k,o=q*n+w*k,T=(Math.PI+Math.atan2(-o,-B))/(2*Math.PI);
e[l]=Z[V.X.k1(T,S)]}},function(e,Z,F,b,_,d,S){var U=F[0],r=F[1],q=F[2],w=F[3],X=b.w,Q=b._;for(var c=0,l=0;
c<Q;c++)for(var u=0;u<X;u++,l++){var n=u+_,k=c+d,B=U*n+r*k,o=q*n+w*k,T=Math.abs(B*2);e[l]=Z[V.X.k1(T,S)]}},function(e,Z,F,b,_,d,S){var U=F[0],r=F[1],q=F[2],w=F[3],X=b.w,Q=b._;
for(var c=0,l=0;c<Q;c++)for(var u=0;u<X;u++,l++){var n=u+_,k=c+d,B=U*n+r*k,o=q*n+w*k,T=2*(Math.abs(B)+Math.abs(o));
e[l]=Z[V.X.k1(T,S)]}}]};V.X.a0I=function(e,Z){return e+.5};V.X.aiu=function(e,Z){return 2*Math.sqrt(e*e+Z*Z)};
V.X.aqA=function(e,Z){return(Math.PI+Math.atan2(-Z,-e))/(2*Math.PI)};V.X.a2i=function(e,Z){return Math.abs(e*2)};
V.X.a4A=function(e,Z){return 2*(Math.abs(e)+Math.abs(Z))};V.X.v_=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q=e.Clrs,c=new Uint32Array(Z.buffer),u=1023,n=Q?V.X.cd(Q.v,r,q):null;
if(X&&Q){var k=V.X.a5c(e,n,u+1,S);V.X.aft(c,k,b,F,F.x-_,F.y-d,u,U)}else{var B=Q?V.X.R$(e,n,u+1,S):V.X.O_(e,u+1,S);
if(U<5){V.X.xP[U](c,B,b,F,F.x-_,F.y-d,u)}else{var o=new Uint8Array(B.buffer),T=F.w,z=F._,W=w.aO-w.uv,$=1/W,R=w.P9.w-F.w>>1,P=w.P9._-F._>>1,H=w.P9.w,y=-.6*$,h=(-.6+.4)*$,m=(-.6+2*.4)*$,t=(-.6+3*.4)*$;
for(var j=0,l=0;j<z;j++)for(var x=0;x<T;x++,l+=4){var C=0,L=0,f=0,D=0,v=(j+P)*H+x+R,A=(w.Fi[v]-w.uv)*$,M=0;
if(A<=0||A>=1){M=(A<=0?0:u)<<2;Z[l]=o[M];Z[l+1]=o[M+1];Z[l+2]=o[M+2];Z[l+3]=o[M+3];continue}M=Math.max(0,Math.min(u-1,Math.round((A+y)*u)))<<2;
L+=o[M];f+=o[M+1];D+=o[M+2];C+=o[M+3];M=Math.max(0,Math.min(u-1,Math.round((A+h)*u)))<<2;L+=o[M];f+=o[M+1];
D+=o[M+2];C+=o[M+3];M=Math.max(0,Math.min(u-1,Math.round((A+m)*u)))<<2;L+=o[M];f+=o[M+1];D+=o[M+2];C+=o[M+3];
M=Math.max(0,Math.min(u-1,Math.round((A+t)*u)))<<2;L+=o[M];f+=o[M+1];D+=o[M+2];C+=o[M+3];Z[l]=L>>>2;
Z[l+1]=f>>>2;Z[l+2]=D>>>2;Z[l+3]=C>>>2}}}};V.X.cd=function(e,Z,F){var b=[];for(var l=0;l<e.length;l++){var _,d=e[l].v,S=d.Type.v.Clry;
if(S=="FrgC")_={o:Z>>16&255,z:Z>>8&255,S:Z&255};else if(S=="BckC")_={o:F>>16&255,z:F>>8&255,S:F&255};
else _=V.X.Gb(d.Clr.v);b.push(_)}return b};V.X.Gb=function(e){var Z,F=e.classID;if(F=="RGBC"){if(e.Rd)Z={o:e.Rd.v,z:e.Grn.v,S:e.Bl.v};
else Z={o:e.redFloat.v*255,z:e.greenFloat.v*255,S:e.blueFloat.v*255}}else if(F=="HSBC"){Z=V.Mq(e.H.v.val/360,e.Strt.v/100,e.Brgh.v/100);
Z.o*=255;Z.z*=255;Z.S*=255}else if(F=="CMYC"){var b=100-e.Cyn.v,_=100-e.Mgnt.v,d=100-e.Ylw.v,S=100-e.Blck.v,U=255*b*S*1e-4,r=255*(.2*b+.8*_)*S*1e-4,q=255*(.2*_+.8*d)*S*1e-4;
Z={o:U,z:r,S:q}}else if(F=="Grsc")Z={o:255-e.Gry.v,z:255-e.Gry.v,S:255-e.Gry.v};else if(F=="LbCl"){Z=V.Cu(e.Lmnc.v,e.A.v,e.B.v)}else console.log(e);
if(isNaN(Z.o))Z.o=Z.z=Z.S=0;return Z};V.X.O_=function(e,Z,F){var b=new Uint32Array(Z),_=new Uint8Array(b.buffer);
b.fill(4278190080);var d=[],S=[],U=e.RndS.v,r=e.Smth.v/4096;for(var l=0;l<4;l++){d[l]=~~(e.Mnm.v[l].v*255/100);
S[l]=~~(e.Mxm.v[l].v*255/100)}var q=V.J(Z*4),w=V.J(Z);for(var X=0;X<3;X++){V.b.mB(null,Z,1,q,[1+Math.round(r*r*r*60),22,U*(2+X)]);
V.yC(q,w,0);V.s$(w,_,X);var Q=d[X],c=S[X];for(var l=0;l<Z;l++)_[4*l+X]=Math.max(Q,Math.min(c,_[4*l+X]))}if(F)for(var l=0;
l<Z/2;l++){var u=b[l];b[l]=b[Z-1-l];b[Z-1-l]=u}return b};V.X.Q9=function(e){return{classID:"RGBC",Rd:{t:"doub",v:e.o},Grn:{t:"doub",v:e.z},Bl:{t:"doub",v:e.S}}};
V.X.a5c=function(e,Z,F,b){var _=[],d=1/(F-0);for(var l=0;l<F;l++){var S=l*4,U=V.X.kW(e,Z,(b?F-1-l:l)*d);
_[S]=U[0];_[S+1]=U[1];_[S+2]=U[2];_[S+3]=U[3]}return _};V.X.R$=function(e,Z,F,b){var _=new Uint32Array(F),d=1/(F-0);
for(var l=0;l<F;l++)_[l]=V.X.Zr(e,Z,(b?F-1-l:l)*d);return _};V.X.kW=function(e,Z,F){var b=4096,_=1/4096,d=e.Intr.v*_,S=e.Clrs.v,U=e.Trns.v,r=S.length-1,q=U.length-1,l=-1,w=0,X=0,Q=0,c=0;
while(l<q&&U[l+1].v.Lctn.v<=F*b)l++;if(l==-1){w=U[0].v.Opct.v.val*(255/100)}else if(l==q){w=U[l].v.Opct.v.val*(255/100)}else{var u=V.X.hN(U,_,l,F,d);
w=(u*U[l].v.Opct.v.val+(1-u)*U[l+1].v.Opct.v.val)*(255/100)}l=-1;while(l<r&&S[l+1].v.Lctn.v<=F*b)l++;
if(l==-1){var n=Z[0];X=n.o;Q=n.z;c=n.S}else if(l==r){var n=Z[l];X=n.o;Q=n.z;c=n.S}else{var k=Z[l],B=Z[l+1],o=V.X.hN(S,_,l,F,d);
X=o*k.o+(1-o)*B.o;Q=o*k.z+(1-o)*B.z;c=o*k.S+(1-o)*B.S}return[X,Q,c,w]};V.X.Zr=function(e,Z,F){var b=V.X.kW(e,Z,F),_=~~(.5+b[0]),d=~~(.5+b[1]),S=~~(.5+b[2]),U=~~(.5+b[3]);
return U<<24|S<<16|d<<8|_};V.X.hN=function(e,Z,l,F,b){if(e.length==2)b*=.5;var _=e[l].v.Lctn.v*Z,d=e[l+1].v.Lctn.v*Z,S=_+e[l+1].v.Mdpn.v*.01*(d-_),U;
if(F<S)U=.5*(F-_)/(S-_);else U=.5+.5*(F-S)/(d-S);U=.5+.5*(b*Math.cos(Math.PI*U)+(1-b)*(1-2*U));return U};
V.X.pH=function(e,Z){var F=Math.PI*e.Angl.v.val/180,b=e.Scl.v.val/100,_=e.Ofst.v,d=_.Hrzn.v.val/100,S=_.Vrtc.v.val/100,U=Math.cos(F),r=-Math.sin(F),q=.5*Z._,w=q*(U/r),X=Math.sqrt(q*q+w*w),Q=.5*Z.w,c=Q*(r/U),u=Math.sqrt(Q*Q+c*c),n=Math.min(X,u)*b,k=Z.x+Z.w/2+d*Z.w,B=Z.y+Z._/2+S*Z._;
return[new bI(k,B),new bI(k+U*n,B+r*n)]};V.X.h4=function(e,Z,F,b){var _=Z.x-e.x,d=-(Z.y-e.y),S=Math.sqrt(_*_+d*d),U=Math.atan2(d,_),r=Math.cos(U),q=-Math.sin(U),w=.5*F._,X=w*(r/q),Q=Math.sqrt(w*w+X*X),c=.5*F.w,u=c*(q/r),n=Math.sqrt(c*c+u*u),k=S/Math.min(Q,n),B=(e.x-F.x-F.w/2)/F.w,o=(e.y-F.y-F._/2)/F._;
b.Angl.v.val=180*U/Math.PI;b.Scl.v.val=k*100;var T=b.Ofst.v;T.Hrzn.v.val=B*100;T.Vrtc.v.val=o*100};V.X.KY=function(e,Z){for(var l=0;
l<e.length;l++){var F=e[l],b=Math.round(F[0]*4096),_=F[1],d=F[2],S=F[3];if(d==null)d=1;if(S==null)S=.5;
var U=V.X.Q9({o:_[0]*255,z:_[1]*255,S:_[2]*255});Z.Clrs.v[l]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(S*100)},Clr:{t:"Objc",v:U},Type:{t:"enum",v:{Clry:"UsrS"}}}};
Z.Trns.v[l]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(S*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(d*100)}}}}}};
V.gY={};V.gY.acd=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q,c,u,n=Date.now(),k=!1,B=S,o=q,T,z,W,$,R=d*255,P=255-r*255,H=1+_*6,y=1+U*6,h=1+X*4,m=(h-1)/7,t=0,j=255-0,x,C,L,f,D,v,A,M,Y,J,I,p,a,er=0,c8=1,O,dF,gl,e0,bv,gm,iW,jx,aC,d9,bS=1+w,jo,g7=V.J(F*b),dI=V.J(F*b),gn=V.J(F*b),hI=V.J(F*b),d$=255/R,eX=255/(255-P);
for(c=0;c<b;c++){for(Q=0;Q<F;Q++){var l=c*F+Q,d3=l<<2;O=V.Mv(e[d3],e[d3+1],e[d3+2]);hI[l]=O;if(O<R)g7[l]=255-O*d$;
if(O>P)dI[l]=255-(255-O)*eX}}if(k)console.log("init",Date.now()-n);n=Date.now();if(_*B>0){gn.set(g7);
V.OS.xx(gn,g7,new e3(0,0,F,b),B)}if(U*o>0){gn.set(dI);V.OS.xx(gn,dI,new e3(0,0,F,b),o)}if(k)console.log("blur",Date.now()-n);
n=Date.now();var cJ=V.J(256),dM=V.J(256);for(var l=0;l<256;l++){var dh=l*(1/255),jh=0;jh=(1-Math.pow(1-dh,H))*255;
cJ[l]=Math.max(0,Math.min(255,~~(jh+.5)));jh=Math.pow(dh,y)*255;dM[l]=Math.max(0,Math.min(255,~~(jh+.5)))}var aK=new Uint8ClampedArray(Z.buffer),ca=new Float32Array(32768);
for(var l=0;l<32768;l++){jo=Math.sqrt(l)*(1/128);if(bS>1)jo=(1-jo)*(bS-1)+1;else jo=jo*(bS-1)+1;ca[l]=jo}for(c=0;
c<b;c++){for(Q=0;Q<F;Q++){var l=c*F+Q,d3=l<<2,jh=hI[l],iY=g7[l]*(1/255),et=dI[l]*(1/255);jh=(1-iY)*jh+iY*cJ[~~jh];
jh=(1-et)*jh+et*dM[~~jh];O=jh;var jD=e[d3],j6=e[d3+1],dc=e[d3+2];dF=-jD*.168736-j6*.331264+dc*.5;gl=jD*.5-j6*.418688-dc*.081312;
jo=ca[~~(.5+dF*dF+gl*gl)];e0=dF*jo;gm=gl*jo;c8=1-Math.min(2-(iY+et),1);dF=c8*dF+(1-c8)*e0;gl=c8*gl+(1-c8)*gm;
jx=O+1.402*gl;aC=O-.34414*dF-.71414*gl;d9=O+1.772*dF;aK[d3]=~~(.5+jx);aK[d3+1]=~~(.5+aC);aK[d3+2]=~~(.5+d9)}}if(k)console.log("apply masks",Date.now()-n);
n=Date.now()};V.Zz={};V.Zz.sh=function(e,Z,F,b,_){var d=!1,u=1,j=0,x=0,Y=0,bS=0;if(!Z.tv(_)){var S=Z.Us(_),U=V.J(S.Z()*4);
V.Rf(e,Z,U,S);e=U;Z=S}var r=V.J(Z.Z());V.l2(F,_,r,Z);V.round(r);_=_.QP(Z);var q=_.w,w=_._,X=q*3<w?2:1,Q=w*3<q?2:1;
if(_.Z()*(X*2+1)*(Q*2+1)<Z.Z()){var S=new e3(_.x-q*X,_.y-w*X,q*(X*2+1),w*(Q*2+1)).QP(Z),U=V.J(S.Z()*4);
V.Rf(e,Z,U,S);var c=V.J(S.Z());V.l2(r,Z,c,S);Z=S;e=U;r=c}while((Z.w+Z._)/2/u>400)u++;var n=e,k=Z,B=r,o=Math.floor(k.w/u),T=Math.floor(k._/u);
e=V.J(o*T*4);V.scale.Pg(n,k.w,k._,e,o,T,1/u);r=V.J(o*T);V.scale.LC(B,k.w,k._,r,o,T,1/u);V.round(r,1);
var z=V.HR(r,new e3(0,0,o,T));if(z.BJ())return 1;var W=Math.round((z.w+z._)/2/15),$=Date.now(),R=V.J(o*T*4);
V.ac2(e,R);var P=Int16Array,H=new P(o*T*24),y=new P(64),h=new P(64),m=new P(64),t=new P(64);for(var C=3;
C<T-4;C++)for(var L=3;L<o-4;L++){var f=C*o+L;if(r[f]==255)continue;if(V.Zz.ah1(R,r,L,C,o,T,y,h,m)!=0)continue;
V.Zz.dL(y,t);H[j]=L;H[j+1]=C;V.Zz.Fk(y,H,j+4,12);j+=16;V.Zz.dL(h,t);V.Zz.Fk(h,H,j,4);j+=4;V.Zz.dL(m,t);
V.Zz.Fk(m,H,j,4);j+=4;var D=H[j-24+5],v=H[j-24+6];H[j-24+5]=H[j-24+20];H[j-24+6]=H[j-24+16];H[j-24+16]=D;
H[j-24+20]=v;x++}if(x==0)return 2;if(d)console.log(Date.now()-$,"FWHT computed");$=Date.now();var A=[];
V.Zz.s4(0,x-1,A,H,new P(2*24));if(d)console.log(Date.now()-$,"KD tree computed");$=Date.now();var M=new Float32Array(o*T*4);
for(var l=0;l<x;l++){var J=l,a=V.Zz.aa_(J,H,A,W);if(a==-1)continue;var er=J*24,c8=a*24,O=H[er],dF=H[er+1],gl=H[c8],e0=H[c8+1];
Y+=V.Zz.getError(c8,er,H,1e99);var bv=gl-O,gm=e0-dF;M[(T+gm)*2*o+(o+bv)]+=1}if(d)console.log(Date.now()-$,"NN found");
$=Date.now();var iW=[],jx=1/(2*o);for(var l=0;l<M.length;l++){if(M[l]>0){var C=Math.floor(l*jx),L=l-C*2*o;
iW.push({x:L-o,y:C-T,I:M[l],kP:-1})}}iW.sort(function(et,jD){return jD.I-et.I});var aC=new Int32Array(o*T),d9=[];
for(var l=0;l<o*T;l++){if(r[l]==255){aC[l]=bS;d9.push(l%o,Math.floor(l/o));bS++}else if(e[(l<<2)+3]<200){aC[l]=-2}else{aC[l]=-1}}var jo=V.Zz.agP(o,T,iW,aC,d9,bS);
if(jo==null){return 3}var g7=jo.kb,top=jo.top;g7=V.Zz.as$(g7,e,o,T,top,aC,d9,bS);if(d)console.log(Date.now()-$,"optimal labeling found");
$=Date.now();var S=_.clone();S.qN(1,1);S=S.QP(k);var dI=V.J(S.Z()*4),gn=V.J(S.Z());V.Rf(n,k,dI,S);var hI=k.w,d$=k._;
for(var C=0;C<d$;C++)for(var L=0;L<hI;L++){if(B[C*hI+L]==0)continue;var eX=Math.min(Math.floor(L/u),o-1),d3=Math.min(Math.floor(C/u),T-1),cJ=aC[d3*o+eX];
if(cJ==-1)continue;var dM=g7[cJ],dh=top[dM],jh=L+dh.x*u,aK=C+dh.y*u,ca=aK*hI+jh<<2,iY=(C-S.y+k.y)*S.w+(L-S.x+k.x)<<2;
dI[iY]=n[ca];dI[iY+1]=n[ca+1];dI[iY+2]=n[ca+2];dI[iY+3]=n[ca+3];dI[iY+3]=n[ca+3];gn[iY>>2]=dM+1}if(d)console.log(Date.now()-$,"copied back");
$=Date.now();V.VD.sh(dI,gn,S,null,1e3);if(d)console.log(Date.now()-$,"poisson smooth");$=Date.now();
V.Rf(dI,S,b,_);return 0};V.Zz.h_=function(e,Z,F,b,_,d){return V.Zz.vv(e+_.x,Z+_.y,F,b)&&d[(Z+_.y)*F+(e+_.x)]==-1?0:1e9};
V.Zz.as$=function(e,Z,F,b,top,_,d,S){var U=Date.now(),r=[-1,0,0,-1,1,0,0,1],q=1e99,w=[],X=[],Q=2*(S*2*3+S*2),c=null,u=0,n=0,k=0,B=1e99;
while(!0&&Date.now()<U+12e3){k++;var o=null,T=q;for(var z=0;z<top.length;z++){var W=top[z],$=0,R=S+2,P=0;
for(var l=0;l<S;l++){var H=d[l*2],y=d[l*2+1],h=top[e[l]],m=V.Zz.h_(H,y,F,b,W,_),t=e[l]==z?1e9:V.Zz.h_(H,y,F,b,h,_);
for(var gi=0;gi<4;gi++){if(gi==0&&H==0||gi==1&&y==0||gi==2&&H==F-1||gi==3&&y==b-1)continue;var j=r[2*gi],x=r[2*gi+1],C=H+j,L=y+x,f=_[L*F+C];
if(f==-2){}else if(f==-1){m+=3*V.Zz.D$(C+W.x,L+W.y,C,L,F,b,Z,_);m+=2*V.Zz.D$(C+W.x+j,L+W.y+x,C+j,L+x,F,b,Z,_);
t+=3*V.Zz.D$(C+h.x,L+h.y,C,L,F,b,Z,_);t+=2*V.Zz.D$(C+h.x+j,L+h.y+x,C+j,L+x,F,b,Z,_)}else if(gi>1){if(e[l]==e[f]){var D=0;
D+=V.Zz.D$(H+h.x,y+h.y,H+W.x,y+W.y,F,b,Z,_);D+=V.Zz.D$(C+h.x,L+h.y,C+W.x,L+W.y,F,b,Z,_);w[$]=l;w[$+1]=f;
X[$]=D;X[$+1]=D;$+=2}else{var v=top[e[f]],A=R,M=0,Y=0,J=0;R++;M+=V.Zz.D$(H+h.x,y+h.y,H+W.x,y+W.y,F,b,Z,_);
M+=V.Zz.D$(C+h.x,L+h.y,C+W.x,L+W.y,F,b,Z,_);Y+=V.Zz.D$(H+v.x,y+v.y,H+W.x,y+W.y,F,b,Z,_);Y+=V.Zz.D$(C+v.x,L+v.y,C+W.x,L+W.y,F,b,Z,_);
J+=V.Zz.D$(H+v.x,y+v.y,H+h.x,y+h.y,F,b,Z,_);J+=V.Zz.D$(C+v.x,L+v.y,C+h.x,L+h.y,F,b,Z,_);w[$]=l;w[$+1]=A;
X[$]=M;X[$+1]=M;$+=2;w[$]=f;w[$+1]=A;X[$]=Y;X[$+1]=Y;$+=2;w[$]=A;w[$+1]=S+1;X[$]=J;X[$+1]=0;$+=2}}}w[$]=S;
w[$+1]=l;X[$]=m;X[$+1]=0;$+=2;w[$]=l;w[$+1]=S+1;X[$]=t;X[$+1]=0;$+=2;P+=Math.min(m,t)}if(P>T)continue;
var I=V.cE.kS(R,$,S,S+1,w,X,T);if(I.h3<T){T=I.h3;var p=e.slice(0);V.Zz.akc(p,$,w,I.yb,z,S);o=p}}if(T*1>=q){break}q=T;
e=o;if((k&3)==0){if(T*1.03>=B)break;B=T}if((k&3)==0){var a=0*top.length;for(var l=0;l<top.length&&top.length>a;
l++){if(e.indexOf(l)!=-1)continue;top.splice(l,1);for(var f=0;f<e.length;f++)if(e[f]>l)e[f]--;l--}}}return e};
V.Zz.akc=function(e,Z,F,b,_,d){for(var l=0;l<b.length;l++){var S=b[l]<<1,U=0,r=0;if(S<Z){U=F[S];r=F[S+1]}else{r=F[S];
U=F[S+1]}if(U==d&&e[r]!=_)e[r]=_}};V.Zz.uq=function(top,e,Z,F,b,_,d,S,U){for(var l=0;l<Z.length;l++){var r=Z[l],q=!0;
if(S!=null&&!(V.Zz.vv(S+r.x,U+r.y,_,d)&&F[_*(U+r.y)+S+r.x]==-1))continue;if(r.kP==-1)r.kP=V.Zz.a11(r,F,b,_,d);
if(r.kP<=0)continue;for(var w=0;w<top.length;w++){var X=top[w],Q=r.x-X.x,c=r.y-X.y;if(Q*Q+c*c<e){q=!1;
break}}if(q)return r}return null};V.Zz.a11=function(e,Z,F,b,_){var d=0;for(var l=0;l<F.length;l+=2){var S=F[l]+e.x,U=F[l+1]+e.y;
if(V.Zz.vv(S,U,b,_)&&Z[b*U+S]==-1)d++}return d/(F.length>>1)};V.Zz.agP=function(e,Z,F,b,_,d){var top=[];
for(var l=0;l<60;l++){var S=V.Zz.uq(top,25,F,b,_,e,Z);if(S==null)break;else top.push(S)}if(top.length==0)return null;
var U=[];for(var l=0;l<d;l++){var r=_[l*2],q=_[l*2+1],w=-1,X=0;while(!0){X++;var Q=Math.random();w=Math.floor(Q*.99999*top.length);
var c=top[w],u=r+c.x,n=q+c.y;if(V.Zz.vv(u,n,e,Z)&&b[n*e+u]==-1)break;if(X>100){var S;S=V.Zz.uq(top,0,F,b,_,e,Z,r,q);
if(S==null)return null;top.push(S);X=0}}U.push(w)}return{top:top,kb:U}};V.Zz.D$=function(e,Z,F,b,_,d,S,U){if(e==F&&Z==b)return 0;
if(e<0||Z<0||e>=_||Z>=d||F<0||b<0||F>=_||b>=d||U[Z*_+e]!=-1||U[b*_+F]!=-1)return 1e7;var r=Z*_+e<<2,q=b*_+F<<2,w=S[r]-S[q],X=S[r+1]-S[q+1],Q=S[r+2]-S[q+2];
return 1+(w*w+X*X+Q*Q)};V.Zz.vv=function(e,Z,F,b){return e>=0&&e<F&&Z>=0&&Z<b};V.Zz.aa_=function(e,Z,F,b){var _=24*e,d=Z[_],S=Z[_+1],U=b*b,r=0,Q=1e9;
while(F[r]!=99)if(Z[_+F[r]]<F[r+1])r=F[r+2];else r=F[r+3];var q=F[r+1],w=F[r+2],X=-1;for(var l=q;l<=w;
l++){var r=l,c=r*24,u=Z[c],n=Z[c+1];if((u-d)*(u-d)+(n-S)*(n-S)<U)continue;var k=V.Zz.getError(c,_,Z,Q);
if(k<Q){Q=k;X=r}}return X};V.Zz.getError=function(e,Z,F,b){var _=0;for(var d=4;d<24;d+=4){var S=F[Z+d]-F[e+d],U=F[Z+d+1]-F[e+d+1],r=F[Z+d+2]-F[e+d+2],q=F[Z+d+3]-F[e+d+3];
_+=S*S+U*U+r*r+q*q;if(_>=b)return _+1}return _};V.Zz.s4=function(e,Z,F,b,_){var d=16,Q=0;if(Z-e<=d){F.push(99,e,Z);
return}V.Zz.HA(e,Z,b,_);var S=-1,U=-1;for(var l=4;l<24;l++){var r=_[2*l+1]-_[2*l];if(r>U){U=r;S=l}}var q=e+Z>>1,w=V.Zz.aiL(q,e,Z,b,S),X=-1;
for(var l=e;l<=Z;l++)if(b[24*l+S]==w){if(X==-1)X=l;Q=l}if(e+8<X&&X-e>Z-Q)q=X;else if(Q+1<Z-8)q=Q+1;else if(Z-e<64){F.push(99,e,Z);
return}else q=q;var c=F.length;F.push(S,w,0,0);F[c+2]=c+4;V.Zz.s4(e,q-1,F,b,_);F[c+3]=F.length;V.Zz.s4(q,Z,F,b,_)};
V.Zz.HA=function(e,Z,F,b){for(var l=0;l<48;l+=4){b[l]=3e4;b[l+1]=-3e4;b[l+2]=3e4;b[l+3]=-3e4}for(var l=e;
l<=Z;l++){var _=l*24;for(var d=0;d<24;d++){var S=F[_+d],U=b[d<<1],r=b[(d<<1)+1];if(S<U)b[d<<1]=S;if(S>r)b[(d<<1)+1]=S}}};
V.Zz.Yb=function(e,Z,F){var b=0,l=0;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;
l++;b=F[e+l];F[e+l]=F[Z+l];F[Z+l]=b;l++};V.Zz.KL=function(e,Z,F,b){var _=F+b>>>1,d=e[24*_+Z];while(F<=b){while(e[24*F+Z]<d)F++;
while(e[24*b+Z]>d)b--;if(F<=b){if(e[24*F+Z]!=e[24*b+Z])V.Zz.Yb(F*24,b*24,e);F++;b--}}return F};V.Zz.aiL=function(e,Z,F,b,_){var d=0;
while(Z!=F){d=V.Zz.KL(b,_,Z,F);if(e<d)F=d-1;else Z=d}return b[e*24+_]};V.Zz.Fk=function(e,Z,F,b){for(var l=0;
l<b;l++)Z[F+l]=e[l]};V.Zz.ah1=function(e,Z,F,b,_,d,S,U,r){var q=(b-3)*_+(F-3),w=q<<2;for(var X=0;X<8;
X++){if(Z[q]+Z[q+1]+Z[q+2]+Z[q+3]+Z[q+4]+Z[q+5]+Z[q+6]+Z[q+7]!=0||e[w+3]<200||e[w+7]<200||e[w+11]<200||e[w+15]<200||e[w+19]<200||e[w+23]<200||e[w+27]<200||e[w+31]<200)return 1;
var l=X<<3;S[l+0]=e[w+0];U[l+0]=e[w+1];r[l+0]=e[w+2];S[l+1]=e[w+4];U[l+1]=e[w+5];r[l+1]=e[w+6];S[l+2]=e[w+8];
U[l+2]=e[w+9];r[l+2]=e[w+10];S[l+3]=e[w+12];U[l+3]=e[w+13];r[l+3]=e[w+14];S[l+4]=e[w+16];U[l+4]=e[w+17];
r[l+4]=e[w+18];S[l+5]=e[w+20];U[l+5]=e[w+21];r[l+5]=e[w+22];S[l+6]=e[w+24];U[l+6]=e[w+25];r[l+6]=e[w+26];
S[l+7]=e[w+28];U[l+7]=e[w+29];r[l+7]=e[w+30];w+=_<<2;q+=_}return 0};V.Zz.dL=function(e,Z){Z[0]=e[32]+e[0];
Z[1]=e[33]+e[1];Z[2]=e[34]+e[2];Z[3]=e[35]+e[3];Z[4]=e[36]+e[4];Z[5]=e[37]+e[5];Z[6]=e[38]+e[6];Z[7]=e[39]+e[7];
Z[8]=e[40]+e[8];Z[9]=e[41]+e[9];Z[10]=e[42]+e[10];Z[11]=e[43]+e[11];Z[12]=e[44]+e[12];Z[13]=e[45]+e[13];
Z[14]=e[46]+e[14];Z[15]=e[47]+e[15];Z[16]=e[48]+e[16];Z[17]=e[49]+e[17];Z[18]=e[50]+e[18];Z[19]=e[51]+e[19];
Z[20]=e[52]+e[20];Z[21]=e[53]+e[21];Z[22]=e[54]+e[22];Z[23]=e[55]+e[23];Z[24]=e[56]+e[24];Z[25]=e[57]+e[25];
Z[26]=e[58]+e[26];Z[27]=e[59]+e[27];Z[28]=e[60]+e[28];Z[29]=e[61]+e[29];Z[30]=e[62]+e[30];Z[31]=e[63]+e[31];
Z[32]=e[0]-e[32];Z[33]=e[1]-e[33];Z[34]=e[2]-e[34];Z[35]=e[3]-e[35];Z[36]=e[4]-e[36];Z[37]=e[5]-e[37];
Z[38]=e[6]-e[38];Z[39]=e[7]-e[39];Z[40]=e[8]-e[40];Z[41]=e[9]-e[41];Z[42]=e[10]-e[42];Z[43]=e[11]-e[43];
Z[44]=e[12]-e[44];Z[45]=e[13]-e[45];Z[46]=e[14]-e[46];Z[47]=e[15]-e[47];Z[48]=e[16]-e[48];Z[49]=e[17]-e[49];
Z[50]=e[18]-e[50];Z[51]=e[19]-e[51];Z[52]=e[20]-e[52];Z[53]=e[21]-e[53];Z[54]=e[22]-e[54];Z[55]=e[23]-e[55];
Z[56]=e[24]-e[56];Z[57]=e[25]-e[57];Z[58]=e[26]-e[58];Z[59]=e[27]-e[59];Z[60]=e[28]-e[60];Z[61]=e[29]-e[61];
Z[62]=e[30]-e[62];Z[63]=e[31]-e[63];e[0]=Z[16]+Z[0];e[1]=Z[17]+Z[1];e[2]=Z[18]+Z[2];e[3]=Z[19]+Z[3];
e[4]=Z[20]+Z[4];e[5]=Z[21]+Z[5];e[6]=Z[22]+Z[6];e[7]=Z[23]+Z[7];e[8]=Z[24]+Z[8];e[9]=Z[25]+Z[9];e[10]=Z[26]+Z[10];
e[11]=Z[27]+Z[11];e[12]=Z[28]+Z[12];e[13]=Z[29]+Z[13];e[14]=Z[30]+Z[14];e[15]=Z[31]+Z[15];e[16]=Z[0]-Z[16];
e[17]=Z[1]-Z[17];e[18]=Z[2]-Z[18];e[19]=Z[3]-Z[19];e[20]=Z[4]-Z[20];e[21]=Z[5]-Z[21];e[22]=Z[6]-Z[22];
e[23]=Z[7]-Z[23];e[24]=Z[8]-Z[24];e[25]=Z[9]-Z[25];e[26]=Z[10]-Z[26];e[27]=Z[11]-Z[27];e[28]=Z[12]-Z[28];
e[29]=Z[13]-Z[29];e[30]=Z[14]-Z[30];e[31]=Z[15]-Z[31];Z[0]=e[8]+e[0];Z[1]=e[9]+e[1];Z[2]=e[10]+e[2];
Z[3]=e[11]+e[3];Z[4]=e[12]+e[4];Z[5]=e[13]+e[5];Z[6]=e[14]+e[6];Z[7]=e[15]+e[7];Z[8]=e[0]-e[8];Z[9]=e[1]-e[9];
Z[10]=e[2]-e[10];Z[11]=e[3]-e[11];Z[12]=e[4]-e[12];Z[13]=e[5]-e[13];Z[14]=e[6]-e[14];Z[15]=e[7]-e[15];
e[0]=Z[4]+Z[0];e[1]=Z[5]+Z[1];e[2]=Z[6]+Z[2];e[3]=Z[7]+Z[3];e[4]=Z[0]-Z[4];e[5]=Z[1]-Z[5];e[6]=Z[2]-Z[6];
e[7]=Z[3]-Z[7];e[8]=Z[12]+Z[8];e[9]=Z[13]+Z[9];e[10]=Z[14]+Z[10];e[11]=Z[15]+Z[11];e[12]=Z[8]-Z[12];
e[13]=Z[9]-Z[13];e[14]=Z[10]-Z[14];e[15]=Z[11]-Z[15];Z[0]=e[2]+e[0];Z[1]=e[3]+e[1];Z[2]=e[0]-e[2];Z[3]=e[1]-e[3];
Z[4]=e[6]+e[4];Z[5]=e[7]+e[5];Z[6]=e[4]-e[6];Z[7]=e[5]-e[7];Z[8]=e[10]+e[8];Z[9]=e[11]+e[9];Z[10]=e[8]-e[10];
Z[11]=e[9]-e[11];Z[12]=e[14]+e[12];Z[13]=e[15]+e[13];Z[14]=e[12]-e[14];Z[15]=e[13]-e[15];e[0]=Z[1]+Z[0];
e[1]=Z[0]-Z[1];e[2]=Z[3]+Z[2];e[3]=Z[2]-Z[3];e[4]=Z[5]+Z[4];e[5]=Z[4]-Z[5];e[6]=Z[7]+Z[6];e[7]=Z[6]-Z[7];
e[8]=Z[9]+Z[8];e[9]=Z[8]-Z[9];e[10]=Z[11]+Z[10];e[11]=Z[10]-Z[11];e[12]=Z[13]+Z[12];e[13]=Z[12]-Z[13];
e[14]=Z[15]+Z[14];e[15]=Z[14]-Z[15]};V.Zz.ab_=function(){var e="",gi=64,Z="v",F="t",b="a",_=5,l,d,S;
for(l=gi>>1;l>0;l>>=1,_--){for(d=0;d<gi;d++){S=(d>>_&1)!=0;if(S){e+=F+"["+d+"] = "+Z+"["+(-l+d)+"] - "+Z+"["+d+"];  "}else{e+=F+"["+d+"] = "+Z+"["+(l+d)+"] + "+Z+"["+d+"];  "}}b=Z;
Z=F;F=b;e+="\n"}console.log(e)};V.Zz.aeC=function(gi,e,Z){var F=e,b=Z,_=F,d=0,l,U,r;while(gi>>d!=2)d++;
var S=d;for(l=gi>>1;l>0;l>>=1,d--){for(U=0;U<gi;U++){r=(U>>d&1)!=0;if(r)b[U]=F[-l+U]-F[U];else b[U]=F[l+U]+F[U]}_=F;
F=b;b=_}if((S&1)==1)for(l=0;l<gi;l++)Z[l]=F[l]};V.xI={};V.xI.x_=function(e,Z,F,b,_,d,S,U,r){var q=Date.now(),w=new Uint32Array(e.buffer),X=new Uint32Array(Z.buffer),Q=S/F,c=U/b,u=1/Q,n=1/c,k=new Float64Array(2),B=3,o=1/B,T=1/(B*B),z=0,W=0,$=F,R=b;
if(_){z=_.x;W=_.y;$=_.w;R=_._}for(var P=0;P<R;P++)for(var H=0;H<$;H++){var y=z+H,h=W+P,l=h*F+y,m=l<<1,t=l<<2;
V.xI.a8q(d,S,U,(y+.5)*Q,(h+.5)*c,k);var j=k[0]*u,x=k[1]*n;if(j==0&&x==0)X[l]=w[l];else{V.N.uU(y+j+.5,h+x+.5,w,F,b,X,l,r)}}};
V.xI.a8q=function(e,Z,F,b,_,d){b-=.499999;_-=.499999;var S=~~b,U=~~_,r=b-S,q=_-U,w=(1-q)*(1-r),X=(1-q)*r,Q=q*(1-r),c=q*r,u=S<Z-1?S+1:S,n=U<F-1?U+1:U,k=U*Z+S<<1,B=U*Z+u<<1,o=n*Z+S<<1,T=n*Z+u<<1;
d[0]=w*e[k]+X*e[B]+Q*e[o]+c*e[T];d[1]=w*e[k+1]+X*e[B+1]+Q*e[o+1]+c*e[T+1]};V.xI.ahn=function(e,Z,F,b,_){var d=1/e,S=[-1,1,-e,e],U=b.length;
for(var r=0;r<U;r++){var l=b[r],q=l<<1,w=r<<1,X=~~(l*d),Q=l-e*X,c=F[q],u=F[q+1],n=0,k=0;if(Q!=0&&Q!=e-1){var B=l-1<<1,o=l+1<<1,T=F[B],z=F[o],W=F[B+1],$=F[o+1],R=c-(T+z)*.5,P=u-(W+$)*.5;
n-=R*_;k-=P*_}if(X!=0&&X!=Z-1){var B=l-e<<1,o=l+e<<1,T=F[B],z=F[o],W=F[B+1],$=F[o+1],R=c-(T+z)*.5,P=u-(W+$)*.5;
n-=R*_;k-=P*_}F[q]=c+n;F[q+1]=u+k}};V.xI.a4j=function(e,Z){var F=e+","+Z;if(V.xI.u$==F)return V.xI.Ul;
var b=V.xI.Ul=[];V.xI.u$=F;for(var l=0;l<=1e3;l++){var _=l*.001,d=Math.sqrt(_),S=Math.exp(-4*d),U=.96*(1-d*d),r=Z*((1-e)*S+e*U);
b[l]=r}return b};V.xI.u$="";V.xI.Ul=[];V.xI.acx=function(e,Z,F,b,_,d,S,U,r,q,w,X,Q){var c=Math.max(0,Math.floor(_-S-1)),u=Math.min(Z,Math.ceil(_+S+1)),n=Math.max(0,Math.floor(d-S-1)),k=Math.min(F,Math.ceil(d+S+1)),B=2*Z,o=S*S,T=1/S,z=0;
if(Q&&(b==3||b==6))r=-r;var W=V.xI.a4j(U,r);for(var $=n;$<k;$++)for(var R=c;R<u;R++){var l=$*Z+R,P=l<<1,H=(_-R)*T,y=(d-$)*T,h=H*H+y*y;
if(h<1){X[z]=l;var m=W[~~(h*1e3)];if(b==1){e[P]=e[P]*(1-m*.05);e[P+1]=e[P+1]*(1-m*.05)}else{var t=0,j=0,L,f,D,v;
if(b==0){t=q*m;j=w*m}else if(b==2){}else if(b==3){t=m*y;j=-m*H}else if(b==4){t=m*H;j=m*y}else if(b==5){t=-m*H;
j=-m*y}else if(b==6){t=w*m;j=-q*m}var x=e[P],C=e[P+1];if(R==0||R!=Z-1&&t<0){L=1+e[P+2]-x;D=e[P+3]-C}else{L=x-e[P-2]+1;
D=C-e[P-1]}if($==0||$!=F-1&&j<0){f=e[P+B]-x;v=1+e[P+B+1]-C}else{f=x-e[P-B];v=C-e[P-B+1]+1}e[P]=-(L*t+f*j-x);
e[P+1]=-(D*t+v*j-C)}z++}}};V.xI.al6=function(e){var Z=e[0],F=e[0],b=e[1],_=e[1];for(var l=0;l<e.length;
l+=2){var d=e[l],S=e[l+1];if(d<Z)Z=d;else if(d>F)F=d;if(S<b)b=S;else if(S>_)_=S}return[Z,b,F,_]};V.adt=function(e,Z,F,b,_){function d(O,dF,gl,e0){return Math.sqrt((O-gl)*(O-gl)+(dF-e0)*(dF-e0))}function S(O,dF){return O>=0&&O<Z&&dF>=0&&dF<F}function U(O){if(O<0)return 0;
if(O>=Z)return Z-1;return O}function r(O){if(O<0)return 0;if(O>=F)return F-1;return O}function q(l,O){var dF=O[3]*(1/255),gl=b[l]+O[0]*dF;
if(gl>255)gl=255;b[l]=gl;gl=b[l+1]+O[1]*dF;if(gl>255)gl=255;b[l+1]=gl;gl=b[l+2]+O[2]*dF;if(gl>255)gl=255;
b[l+2]=gl}function w(O,dF,gl){if(!A(O,dF))return;if(gl[3]<0)gl[3]=0;q((dF*Z+O)*4,gl)}function X(O){var dF=O.slice(0,3);
dF[3]=0;return dF}var Q=Z/800;function c(O){return Math.round(O*Q)}function u(){for(var l=0;l<=300;l++){Y[l]=n(l)}}function n(F){var O=.8,dF=.2,gl=O*dF,e0=F/60%2-1,bv=gl*(1-e0*e0),gm=dF-gl,iW;
if(F<60){iW=[gl+gm,bv,0]}else if(F<120){iW=[bv,gl,0]}else if(F<180){iW=[0,gl,bv]}else if(F<240){iW=[0,bv,gl]}else if(F<300){iW=[bv,0,gl]}else{iW=[gl,0,bv]}return[(iW[0]+gm)*255,(iW[1]+gm)*255,(iW[2]+gm)*255]}function k(F){return Y[~~F]}function B(O){return 1-o(O)}function o(O){return O-~~O}function T(O,dF,gl,e0){D(O,dF,gl,0,dF+1,1,e0)}function z(O,dF,gl,e0,bv,gm){D(O,dF,gl,0,e0,1,bv,gm)}function W(O){for(var l=0;
l<b.length;l+=4){q(l,O)}}function $(O,dF,gl,e0,bv,gm,iW,jx){R(O,dF,gl,e0,bv,1,gm,iW,jx)}function R(O,dF,gl,e0,bv,gm,iW,jx,aC){if(gm==null)gm=.5;
if(iW==null)iW=0;if(jx==null)jx=0;if(aC==null)aC=!1;var d9=O.x,bS=O.y,jo=gl.slice(0),g7=~~(gl[3]*I);
e0=e0*I;if(!aC){dF=v(dF);bv=v(bv);iW=v(iW);jx=v(jx)}var dI=U(d9-dF),gn=U(d9+dF);for(var hI=dI;hI<=gn;
hI++){var d$=hI-d9,eX=Math.floor(Math.sqrt(dF*dF-d$*d$)),d3=r(bS-eX),cJ=r(bS);for(var dM=d3;dM<=cJ;dM++){var aK=d(hI,dM,d9,bS);
if(aK>dF||aK<=dF-bv)break;var ca=(aK-dF+bv)/bv;jo[3]=g7-e0*(gm==1?ca:Math.pow(ca,gm));q((dM*Z+hI)*4,jo)}d3=r(bS+eX);
for(var dM=d3;dM>cJ;dM--){var aK=d(hI,dM,d9,bS);if(aK>dF||aK<=dF-bv)break;var ca=(aK-dF+bv)/bv;jo[3]=g7-e0*(gm==1?ca:Math.pow(ca,gm));
q((dM*Z+hI)*4,jo)}}if(iW>0){D(O,dF+iW,jo,jo[3],iW,1,0,0,!0)}if(jx>0){D(O,dF-bv,M(gl),-gl[3],jx,1,0,0,!0)}}function P(O,dF,gl,e0,bv,gm){D(O,dF,gl,gl[3],dF+1,1,e0,bv,gm)}function H(O,dF,gl,e0,bv){if(bv==null)bv=!1;
var gm=O.x,iW=O.y;e0*=I;if(!bv){dF=v(dF);gl=v(gl)}var jx=U(gm-dF),aC=U(gm+dF);for(var d9=jx;d9<aC;d9++){var bS=d9-gm,jo=~~Math.sqrt(dF*dF-bS*bS),g7=r(iW-jo),dI=r(iW);
for(var gn=g7;gn<=dI;gn++){var hI=d(d9,gn,gm,iW);if(hI>dF||hI<=dF-gl)break;var d$=(dF-hI)/gl,eX=k(300*d$);
eX[3]=e0;q((gn*Z+d9)*4,eX)}g7=r(iW+jo);for(var gn=g7;gn>dI;gn--){var hI=d(d9,gn,gm,iW);if(hI>dF||hI<=dF-gl)break;
var d$=(dF-hI)/gl,eX=k(300*d$);eX[3]=e0;q((gn*Z+d9)*4,eX)}}}function y(J,O){var dF=J.ec,gl=J._Z,e0=O.slice(0),bv=O[3]*I,gm=Math.abs(gl.y-dF.y)>Math.abs(gl.x-dF.x);
if(gm){var iW=dF.x;dF.x=dF.y;dF.y=iW;iW=gl.x;gl.x=gl.y;gl.y=iW}if(dF.x>gl.x){var iW=dF;dF=gl;gl=iW}var jx=gl.x-dF.x,aC=gl.y-dF.y,d9=jx==0?1:aC/jx,bS=Math.round(dF.x),jo=dF.y+d9*(bS-dF.x),g7=B(dF.x+.5),dI=bS,gn=~~jo;
if(gm){e0[3]=bv*B(jo)*g7;w(gn,dI,e0);e0[3]=bv*o(jo)*g7;w(gn+1,dI,e0)}else{e0[3]=bv*B(jo)*g7;w(dI,gn,e0);
e0[3]=bv*o(jo)*g7;w(dI,gn+1,e0)}var hI=jo-d9;bS=Math.round(gl.x);jo=gl.y+d9*(bS-gl.x);g7=o(gl.x+.5);
var d$=bS,eX=~~jo;if(gm){e0[3]=bv*B(jo)*g7;w(eX,d$,e0);e0[3]=bv*o(jo)*g7;w(eX+1,d$,e0)}else{e0[3]=bv*B(jo)*g7;
w(d$,eX,e0);e0[3]=bv*o(jo)*g7;w(d$,eX+1,e0)}if(gm){for(var d3=dI+1;d3<=d$-1;d3++){e0[3]=bv*B(hI);w(~~hI,d3,e0);
e0[3]=bv*o(hI);w(~~hI+1,d3,e0);hI+=d9}}else{for(var d3=dI+1;d3<=d$-1;d3++){e0[3]=bv*B(hI);w(d3,~~hI,e0);
e0[3]=bv*o(hI);w(d3,~~hI+1,e0);hI+=d9}}}function h(O,dF,gl,e0){for(var l=0;l<4;l++){var bv=O.f8(dF+1.3*l,gl);
y(bv,e0,1)}}function bI(O,dF){this.x=Math.round(O);this.y=Math.round(dF)}var m=Math.PI/180;bI.prototype.f8=function(O,dF){O=O*m;
var gl=this.x+dF*Math.cos(O),e0=this.y+dF*Math.sin(O);return new t(this.x,this.y,gl,e0)};bI.prototype.aic=function(O,dF){O=O*m;
var gl=this.jy+dF*Math.cos(O),e0=this.a8N+dF*Math.sin(O);return new bI(gl,e0)};function t(O,dF,gl,e0){this.ec=new bI(O,dF);
this._Z=new bI(gl,e0)}t.prototype.pe=function(O){var dF=O*this.ec.x+(1-O)*this._Z.x,gl=O*this.ec.y+(1-O)*this._Z.y;
return new bI(dF,gl)};var j=$,x=P,C=T,L=z,f=H,D=R,v=c,A=S,M=X,Y=[];u();for(var l=0;l<e.length;l++){b[l]=e[l]}var J=new t(Z*_[2],F*_[3],Z/2,F/2),I=_[1],p=[];
p[0]=function a(){var O=[80,40,15,60],gl=0,e0=0;C(J.pe(1.4),260,O,10);C(J.pe(1),100,[240,50,50,30],30);
x(J.pe(1),60,[255,40,0,40]);var dF=[255,255,255,255];D(J.pe(1),70,dF,dF[3],58,.5);C(J.pe(1),12,dF);dF[3]=40;
j(J.pe(1),150,dF,dF[3],150);for(var l=0;l<40;l++){gl+=Math.random()*25;e0=Math.random()*v(300)+v(100);
var bv=J.pe(1).f8(gl,e0);y(J.pe(1).f8(gl,e0),[110,110,110,30])}x(J.pe(1),130,[255,255,255,8]);var gm=[170,30,23,70];
L(J.pe(1),70,gm,1,3,3);var iW=[60,60,130,40];C(J.pe(.47),44,iW,5);C(J.pe(.43),22,iW,3);iW[3]=16;C(J.pe(.53),15,iW,2);
var jx=[138,94,42,100];C(J.pe(.2),16,jx,2);var aC=[130,255,170,180];x(J.pe(0),4,aC);x(J.pe(-.25),5,aC);
jx=[150,90,0,50];j(J.pe(-.45),55,M(jx),-jx[3],40,2);C(J.pe(-.42),35,jx,2);C(J.pe(-.5),15,jx,2);f(J.pe(-1.28),145,11,70);
var d9=k(0);d9[3]=50;j(J.pe(-1.28),149,d9,d9[3],4);d9=k(300);d9[3]=50;j(J.pe(-1.28),155-1,M(d9),-d9[3],3);
var bS=[130,130,10,50];L(J.pe(-1),73,bS,3,2);var jo=[40,130,70,40];j(J.pe(-1),70,M(jo),-jo[3],35);jo=[40,170,60,50];
C(J.pe(-.7),25,jo,4);var jo=[70,110,50,60];j(J.pe(1.3),30,M(jo),-jo[3],11,3);iW=[0,50,210,80];x(J.pe(-.72),20,iW)};
p[1]=function er(){x(J.pe(1),150,[240,70,70,60]);C(J.pe(1),100,[200,60,60,40],30);var O=[255,255,255,255],dF=0,gl=0;
D(J.pe(1),75,O,O[3],63);C(J.pe(1),12,O);x(J.pe(1),270,[200,200,200,20],10);for(var l=0;l<10;l++){dF+=10+Math.random()*40;
gl=Math.random()*v(250)+v(80);var e0=J.pe(1).f8(dF,gl);y(e0,[110,110,110,35])}dF=5;gl=100;for(var l=0;
l<12;l++){dF+=30;h(J.pe(1),dF,gl,[90,90,90,40])}var bv=[150,40,23,100];L(J.pe(1),70,bv,1,3,3);var gm=[30,100,60,40];
x(J.pe(-.9),180,[255,255,255,20]);C(J.pe(-.9),140,gm,15);var iW=[170,80,25,15];L(J.pe(-.9),120,iW,1,4,4);
var jx=[110,240,190,200];x(J.pe(-.6),3,jx);jx[3]=100;x(J.pe(-.6),7,jx);var aC=[230,120,40,85];x(J.pe(-.73),9,aC);
var d9=[60,60,190,50];C(J.pe(.3),28,d9,6);d9[3]=25;C(J.pe(.34),20,d9,3)};p[2]=function c8(){var O=[255,255,255,255],gl=0,e0=0;
C(J.pe(1),13,O);D(J.pe(1),150,O,O[3],137);var dF=[120,80,35,20];C(J.pe(1.4),260,dF,10);for(var l=0;l<40;
l++){gl+=5+Math.random()*30;e0=Math.random()*v(300);y(J.pe(1).f8(gl,e0),[110,110,110,20])}var bv=[10,30,255,30];
C(J.pe(1),70,bv,50);var gm=[15,90,170,15];C(J.pe(1.5),60,gm);var iW=[220,220,20,50];C(J.pe(-1.15),8,iW,2);
var O=[255,255,255,40];x(J.pe(-1.18),6,O);x(J.pe(-1.18),4,O);iW=[110,110,10,8];j(J.pe(-1.2),32,M(iW),-iW[3],20,3);
var jx=[5,0,16,255];for(var l=0;l<4;l++){C(J.pe(-1.36),10,jx,3)}var aC=[90,200,150,20],d9=aC.slice(0);
d9[3]*=2;C(J.pe(-1.32),7,d9,3);C(J.pe(-1.36),7,d9,3);C(J.pe(-1.4),7,d9,3);var O=[230,230,230,100];x(J.pe(-1.36),2,O);
O[3]=3;C(J.pe(-.55),10,O);iW=[120,100,10,18];C(J.pe(-.55),160,iW,8);C(J.pe(-.55),80,iW,4);aC[3]=3;d9[3]=6;
j(J.pe(-.49),13,M(d9),-d9[3],13,2);j(J.pe(-.55),13,M(d9),-d9[3],13,2);aC[3]=20;C(J.pe(.15),25,aC,3);
iW[3]=100;x(J.pe(-.52),3,iW);iW=[200,200,50,40];C(J.pe(.27),1,iW,4);var bS=[150,40,23,30];j(J.pe(1),80,M(bS),-bS[3],2,1)};
return p[_[0]]()};V.dg={};V.dg.zQ=function(e){var Z=e.length,gi=e[0].length,F=new Array(gi);for(var l=0;
l<gi;l++)F[l]=new Array(Z);for(var l=0;l<gi;l++)for(var b=0;b<Z;b++)F[l][b]=e[b][l];return F};V.dg.iv=function(e,Z){var F=e.length,gi=e[0].length,b=new Array(F);
for(var l=0;l<F;l++)b[l]=new Array(gi);for(var l=0;l<F;l++)for(var _=0;_<gi;_++)b[l][_]=e[l][_]-Z[l][_];
return b};V.dg.add=function(e,Z){var F=e.length,gi=e[0].length,b=new Array(F);for(var l=0;l<F;l++)b[l]=new Array(gi);
for(var l=0;l<F;l++)for(var _=0;_<gi;_++)b[l][_]=e[l][_]+Z[l][_];return b};V.dg.multiply=function(e,Z){var F=e.length,b=e[0].length,gi=Z[0].length;
if(b!=Z.length)throw"e";var _=new Array(F);for(var l=0;l<F;l++)_[l]=new Array(gi);if((b&1)!=0)for(var l=0;
l<F;l++){var d=e[l],S=_[l];for(var U=0;U<gi;U++){var r=0;for(var q=0;q<b;q++)r+=d[q]*Z[q][U];S[U]=r}}else for(var l=0;
l<F;l++){var d=e[l],S=_[l];for(var U=0;U<gi;U++){var r=0;for(var q=0;q<b;q+=2)r+=d[q]*Z[q][U]+d[q+1]*Z[q+1][U];
S[U]=r}}return _};V.dg.ll=function(e,Z){var F=e.length,gi=e[0].length,b=new Array(F);for(var l=0;l<F;
l++){var _=0;for(var d=0;d<gi;d++)_+=e[l][d]*Z[d];b[l]=_}return b};V.dg.HE=function(e,Z){var F=[];for(var l=0;
l<e;l++){F.push([]);for(var b=0;b<Z;b++)F[l].push(0)}return F};V.dg.aln=function(e){for(var l=0;l<e.length;
l++)console.log(JSON.stringify(e[l]))};V.dg.aco=function(e){var Z=[];for(var l=0;l<e.length;l++)Z.push(e[l].join(","));
return"["+Z.join(";")+"]"};V.dg.kS=function(e,Z){var F=e.length;for(var b=0;b<F;b++){var _=0,d=Number.NEGATIVE_INFINITY;
for(var l=b;l<F;l++)if(Math.abs(e[l][b])>d){_=l;d=Math.abs(e[l][b])}V.dg.apN(e,b,_);for(var l=b+1;l<F;
l++){if(e[b][b]==0)return 1;var S=e[l][b]/e[b][b];for(var U=b;U<F+1;U++)e[l][U]-=e[b][U]*S}}for(var l=F-1;
l>=0;l--){if(e[l][l]==0)return 1;var r=e[l][F]/e[l][l];Z[l]=r;for(var U=l-1;U>=0;U--){e[U][F]-=e[U][l]*r;
e[U][l]=0}}return 0};V.dg.apN=function(e,Z,F){var b=e[Z];e[Z]=e[F];e[F]=b};V.dg.aeq=function(e){var Z=e.length,F=V.dg.HE(Z,Z);
for(var l=0;l<Z;l++)F[l][l]=e[l];return F};V.dg.aq7=function(e){var Z=e.length,F=e[0].length,b=new Array(Z);
for(var l=0;l<Z;l++){b[l]=0;for(var _=0;_<F;_++)b[l]+=e[l][_];b[l]/=F}return b};V.dg.AB=function(e){var Z=0;
for(var l=0;l<e.length;l++)Z+=e[l]*e[l];return Math.sqrt(Z)};V.tc={};V.tc.eY=function(e){var Z=~~(e+.5);
return Z<0?0:Z>255?255:Z};V.tc.transform=function(e,Z,F){var b=V.tc.eY,_=e.o.length;for(var l=0;l<_;
l++){var d=e.o[l],S=e.z[l],U=e.S[l];Z.o[l]=b(F[0]*d+F[1]*S+F[2]*U+F[3]*255);Z.z[l]=b(F[4]*d+F[5]*S+F[6]*U+F[7]*255);
Z.S[l]=b(F[8]*d+F[9]*S+F[10]*U+F[11]*255)}};V.tc.Nc=function(e,Z,F){var b=V.tc.eY,_=e.length;for(var l=0;
l<_;l+=4){var d=e[l],S=e[l+1],U=e[l+2];Z[l]=b(F[0]*d+F[1]*S+F[2]*U+F[3]*255);Z[l+1]=b(F[4]*d+F[5]*S+F[6]*U+F[7]*255);
Z[l+2]=b(F[8]*d+F[9]*S+F[10]*U+F[11]*255)}};V.tc.NS=function(e){var Z=e[0]+e[1]+e[2],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(Z==1){var b=e.indexOf(1);F[b]=F[b+4]=F[b+8]=1}else{F[0]=e[0];F[5]=e[1];F[10]=e[2]}return F};V.tc.Lw=function(e,Z,F){return[1,0,0,e,0,1,0,Z,0,0,1,F,0,0,0,1]};
V.tc.WJ=function(e,Z,F){return[e,0,0,0,0,Z,0,0,0,0,F,0,0,0,0,1]};V.tc.a3B=function(e){return[e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]]};
V.tc.HP=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]};V.tc.Ey=function(e,Z){return[e[0]*Z[0]+e[1]*Z[1]+e[2]*Z[2]+e[3]*Z[3],e[4]*Z[0]+e[5]*Z[1]+e[6]*Z[2]+e[7]*Z[3],e[8]*Z[0]+e[9]*Z[1]+e[10]*Z[2]+e[11]*Z[3],e[12]*Z[0]+e[13]*Z[1]+e[14]*Z[2]+e[15]*Z[3]]};
V.tc.zQ=function(e){var Z=[];Z[0]=e[0];Z[1]=e[4];Z[2]=e[8];Z[3]=e[12];Z[4]=e[1];Z[5]=e[5];Z[6]=e[9];
Z[7]=e[13];Z[8]=e[2];Z[9]=e[6];Z[10]=e[10];Z[11]=e[14];Z[12]=e[3];Z[13]=e[7];Z[14]=e[11];Z[15]=e[15];
return Z};V.tc.add=function(e,Z){var F=e.slice(0);for(var l=0;l<16;l++)F[l]+=Z[l];return F};V.tc.multiply=function(e,Z){var F=[];
F[0]=e[0]*Z[0]+e[1]*Z[4]+e[2]*Z[8]+e[3]*Z[12];F[1]=e[0]*Z[1]+e[1]*Z[5]+e[2]*Z[9]+e[3]*Z[13];F[2]=e[0]*Z[2]+e[1]*Z[6]+e[2]*Z[10]+e[3]*Z[14];
F[3]=e[0]*Z[3]+e[1]*Z[7]+e[2]*Z[11]+e[3]*Z[15];F[4]=e[4]*Z[0]+e[5]*Z[4]+e[6]*Z[8]+e[7]*Z[12];F[5]=e[4]*Z[1]+e[5]*Z[5]+e[6]*Z[9]+e[7]*Z[13];
F[6]=e[4]*Z[2]+e[5]*Z[6]+e[6]*Z[10]+e[7]*Z[14];F[7]=e[4]*Z[3]+e[5]*Z[7]+e[6]*Z[11]+e[7]*Z[15];F[8]=e[8]*Z[0]+e[9]*Z[4]+e[10]*Z[8]+e[11]*Z[12];
F[9]=e[8]*Z[1]+e[9]*Z[5]+e[10]*Z[9]+e[11]*Z[13];F[10]=e[8]*Z[2]+e[9]*Z[6]+e[10]*Z[10]+e[11]*Z[14];F[11]=e[8]*Z[3]+e[9]*Z[7]+e[10]*Z[11]+e[11]*Z[15];
F[12]=e[12]*Z[0]+e[13]*Z[4]+e[14]*Z[8]+e[15]*Z[12];F[13]=e[12]*Z[1]+e[13]*Z[5]+e[14]*Z[9]+e[15]*Z[13];
F[14]=e[12]*Z[2]+e[13]*Z[6]+e[14]*Z[10]+e[15]*Z[14];F[15]=e[12]*Z[3]+e[13]*Z[7]+e[14]*Z[11]+e[15]*Z[15];
return F};V.tc.eG=function(e){var Z=[];Z[0]=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10];
Z[1]=-e[1]*e[10]*e[15]+e[1]*e[14]*e[11]+e[2]*e[9]*e[15]-e[2]*e[13]*e[11]-e[3]*e[9]*e[14]+e[3]*e[13]*e[10];
Z[2]=e[1]*e[6]*e[15]-e[1]*e[14]*e[7]-e[2]*e[5]*e[15]+e[2]*e[13]*e[7]+e[3]*e[5]*e[14]-e[3]*e[13]*e[6];
Z[3]=-e[1]*e[6]*e[11]+e[1]*e[10]*e[7]+e[2]*e[5]*e[11]-e[2]*e[9]*e[7]-e[3]*e[5]*e[10]+e[3]*e[9]*e[6];
Z[4]=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10];
Z[5]=e[0]*e[10]*e[15]-e[0]*e[14]*e[11]-e[2]*e[8]*e[15]+e[2]*e[12]*e[11]+e[3]*e[8]*e[14]-e[3]*e[12]*e[10];
Z[6]=-e[0]*e[6]*e[15]+e[0]*e[14]*e[7]+e[2]*e[4]*e[15]-e[2]*e[12]*e[7]-e[3]*e[4]*e[14]+e[3]*e[12]*e[6];
Z[7]=e[0]*e[6]*e[11]-e[0]*e[10]*e[7]-e[2]*e[4]*e[11]+e[2]*e[8]*e[7]+e[3]*e[4]*e[10]-e[3]*e[8]*e[6];Z[8]=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9];
Z[9]=-e[0]*e[9]*e[15]+e[0]*e[13]*e[11]+e[1]*e[8]*e[15]-e[1]*e[12]*e[11]-e[3]*e[8]*e[13]+e[3]*e[12]*e[9];
Z[10]=e[0]*e[5]*e[15]-e[0]*e[13]*e[7]-e[1]*e[4]*e[15]+e[1]*e[12]*e[7]+e[3]*e[4]*e[13]-e[3]*e[12]*e[5];
Z[11]=-e[0]*e[5]*e[11]+e[0]*e[9]*e[7]+e[1]*e[4]*e[11]-e[1]*e[8]*e[7]-e[3]*e[4]*e[9]+e[3]*e[8]*e[5];Z[12]=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
Z[13]=e[0]*e[9]*e[14]-e[0]*e[13]*e[10]-e[1]*e[8]*e[14]+e[1]*e[12]*e[10]+e[2]*e[8]*e[13]-e[2]*e[12]*e[9];
Z[14]=-e[0]*e[5]*e[14]+e[0]*e[13]*e[6]+e[1]*e[4]*e[14]-e[1]*e[12]*e[6]-e[2]*e[4]*e[13]+e[2]*e[12]*e[5];
Z[15]=e[0]*e[5]*e[10]-e[0]*e[9]*e[6]-e[1]*e[4]*e[10]+e[1]*e[8]*e[6]+e[2]*e[4]*e[9]-e[2]*e[8]*e[5];var F=e[0]*Z[0]+e[1]*Z[4]+e[2]*Z[8]+e[3]*Z[12];
for(var l=0;l<16;l++)Z[l]/=F;return Z};V.tc.akL=function(e){var Z=[],F=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10],b=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10],_=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9],d=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
return e[0]*F+e[1]*b+e[2]*_+e[3]*d};V.tc.wA=V.tc.HP([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
V.tc.aiO=V.tc.HP([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
V.tc.aeW=V.tc.eG(V.tc.wA);V.cE={};V.cE.FN=new Uint32Array(1);V.cE.w5=function(e,Z,F,b,_,d){var S=new Uint32Array(e),U=0,r=V.cE.FN;
if(r.length<Z*4)V.cE.FN=r=new Uint32Array(Z*4);var q=new Float64Array(r.buffer);for(var l=0;l<Z;l+=2){var w=_[l],X=_[l+1],Q=d[l],c=d[l+1];
r[U]=X;q[U+2>>1]=Q;r[U+1]=S[w];S[w]=U+1;U+=4;r[U]=w;q[U+2>>1]=c;r[U+1]=S[X];S[X]=U+1;U+=4}return{PC:r,aj6:q,aoW:S}};
V.cE.kS=function(e,Z,F,b,_,d,S){var U=1,r=V.cE.w5(e,Z,F,b,_,d),q=r.PC,w=r.aj6,X=r.aoW,Q=new Uint32Array(e),c=new V.cE.ZT(e),n=1,z=0;
c.push(F);c.push(b);var u=new V.cE.ZT(e),k=new Uint8Array(e),B=new Uint32Array(e);k[F]=1;k[b]=2;var o=new Uint32Array(e),T=new Uint32Array(e);
T[F]=T[b]=0;o[F]=o[b]=1;while(!0){var W=-1,m=0,C=1e30;while(!c.iN()&&W==-1){var $=c.top(),R=k[$],P=X[$]-1;
while(P!=-1){var H=q[P],y=k[H],h=P^R-1<<2;if(w[h+2>>1]!=0){if(y==0){V.cE.Ye($,P,H,k,B,T,o);c.push(H)}else if(y==R&&o[H]<=o[$]&&T[H]>T[$])V.cE.Ye($,P,H,k,B,T,o);
else if(y!=R){W=h}}P=q[P+1]-1}if(W!=-1)break;c.pop()}if(W==-1){break}n++;var t=W;while(t!=-1){Q[m]=t;
m++;t=B[q[t^4]]-1}var j=m>>1;for(var l=0;l<j;l++){var x=Q[l];Q[l]=Q[m-l-1];Q[m-l-1]=x}t=B[q[W]]-1;while(t!=-1){Q[m]=t^4;
m++;t=B[q[t^4]]-1}for(var l=0;l<m;l++)C=Math.min(C,w[Q[l]+2>>1]);z+=C;if(z>=S)return{yb:null,h3:z};for(var l=0;
l<m;l++){var L=Q[l],f=L^4,$=q[f],H=q[L];w[L+2>>1]-=C;w[f+2>>1]+=C;if(w[L+2>>1]==0&&k[$]==k[H]){if(k[$]==1){B[H]=0;
u.push(H)}if(k[$]==2){B[$]=0;u.push($)}}}while(!u.iN()){var $=u.pop(),R=k[$],P=X[$]-1,D=R==1?4:0,v=0,A=0,M=1e9;
while(P!=-1){var H=q[P],Y=P^4,h=P^D;if(k[H]==R&&w[h+2>>1]>0&&V.cE.a9H(H,F,b,B,q,n,o,T)+1<M){v=H;A=Y;
M=T[H]+1}P=q[P+1]-1}if(A!=0){V.cE.Ye(v,A,$,k,B,T,o);continue}P=X[$]-1;while(P!=-1){var H=q[P],h=P^D;
if(k[H]==R){if(w[h+2>>1]>0){c.push(H)}if(B[H]==P+1){B[H]=0;u.push(H)}}P=q[P+1]-1}k[$]=0;c.remove($)}}var J=[];
for(var l=0;l<Z;l+=2){var $=_[l],H=_[l+1];if(k[$]==1&&k[H]!=1){J.push(l>>1)}if(k[H]==1&&k[$]!=1){J.push(Z+l>>1)}}return{yb:J,h3:z}};
V.cE.Ye=function(e,Z,F,b,_,d,S){b[F]=b[e];_[F]=Z+1;d[F]=d[e]+1;S[F]=S[e]};V.cE.a9H=function(e,Z,F,b,_,d,S,U){var r=e,q=b[e]-1,w=0;
while(q!=-1&&S[e]!=d){e=_[q^4];q=b[e]-1;w++}if(q==-1&&e!=Z&&e!=F)return 1e9;var X=U[e]+w;w=0;q=b[r]-1;
while(r!=e){U[r]=X-w;w++;S[r]=d;r=_[q^4];q=b[r]-1}return X};V.cE.ajt=function(e,Z,F,b,_,d){var S=V.cE.w5(e,Z,F,b,_,d),U=S.PC,r=S.aj6,q=S.aoW,w=0,X=0,Q=new Uint32Array(e*2),c=new V.cE.u3(e),u=0;
while(!0){c.reset();c.push(F);for(var l=0;l<e;l++)Q[l<<1]=0;while(!c.iN()){var n=c.pop(),k=q[n]-1;while(k!=-1){u=U[k];
if(Q[u<<1]==0&&r[k+2>>1]>0&&u!=F){Q[u<<1]=n+1;Q[(u<<1)+1]=k;c.push(u)}k=U[k+1]-1}if(Q[b<<1]!=0){break}}if(Q[b<<1]==0){break}var B=1e30;
u=b;while(!0){var o=Q[u<<1]-1;if(o==-1)break;var T=Q[(u<<1)+1];B=Math.min(B,r[T+2>>1]);u=o}u=b;while(!0){var o=Q[u<<1]-1;
if(o==-1)break;var T=Q[(u<<1)+1],z=T^4;r[T+2>>1]-=B;r[z+2>>1]+=B;u=o}w+=B}var W=[];for(var l=0;l<Z;l+=2){var o=_[l],u=_[l+1];
if((Q[o<<1]!=0||o==F)&&Q[u<<1]==0&&u!=F){W.push(l>>1)}if((Q[u<<1]!=0||u==F)&&Q[o<<1]==0&&o!=F){W.push(Z+l>>1)}}return{yb:W,h3:w}};
V.cE.u3=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.Rr=new Uint32Array(e+1);this.dk=e;
this.Wi=0;this.n0=0};V.cE.u3.prototype={push:function(e){var Z=this.n0;this.Rr[Z]=e;this.n0=Z+1&this.dk},pop:function(){var e=this.Wi,Z=this.Rr[e];
this.Wi=e+1&this.dk;return Z},iN:function(){return this.Wi==this.n0},reset:function(){this.Wi=0;this.n0=0}};
V.cE.ZT=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.Rr=new Uint32Array(e+1);this.BW=new Uint32Array(e+1);
this.dk=e;this.Wi=0;this.n0=0};V.cE.ZT.prototype={top:function(){return this.Rr[this.Wi]},aeI:function(){return this.Rr[this.n0]},push:function(e){if(this.BW[e]!=0)return;
this.BW[e]=this.n0+1;var Z=this.n0;this.Rr[Z]=e;this.n0=Z+1&this.dk},pop:function(){var e=this.Wi,Z=this.Rr[e];
this.BW[Z]=0;this.Wi=e+1&this.dk;return Z},iN:function(){return this.Wi==this.n0},remove:function(e){var Z=this.BW[e]-1;
if(Z==-1)return;this.BW[e]=0;if(Z==this.Wi){this.pop();return}var F=this.pop();this.Rr[Z]=F;this.BW[F]=Z+1},dY:function(l){return l+this.dk+1&this.dk}};
V.cE.AZ=function(e,Z,F){var b=V.cE.KL(e,Z,F);if(Z<b-1)V.cE.AZ(e,Z,b-1);if(b<F)V.cE.AZ(e,b,F)};V.cE.KL=function(e,Z,F){var b=e[Z+F>>>1];
while(Z<=F){while(e[Z]<b)Z++;while(e[F]>b)F--;if(Z<=F){V.cE.Yb(e,Z,F);Z++;F--}}return Z};V.cE.Yb=function(e,Z,F){var b=e[Z];
e[Z]=e[F];e[F]=b};V.$F={};V.$F.aak=function(e){for(var l=0;l<e.length;l++)V.$F.q4(e,l)};V.$F.q4=function(e,l){e[l].v.keyShapeInvalidated={t:"bool",v:!0}};
V.$F.a37=function(e){for(var l=0;l<e.length;l++)e[l].v.keyOriginIndex.v=l};V.$F.eJ=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
V.$F.yj=function(e){e=e.v;var Z={Rctn:2,Ln:4,Elps:5},F=Z[e.classID],b=e.topLeft?V.$F.LT(e):null,_=null,d=0,S=[!1,!1,0,0,0];
if(F==4){var U=e.Strt.v,r=e.End.v;_=[U.Hrzn.v.val,U.Vrtc.v.val,r.Hrzn.v.val,r.Vrtc.v.val];d=e.Wdth.v.val;
for(var l=0;l<2;l++){var q=e[l==0?"StrA":"EndA"];if(q==null)continue;q=q.v;S[l]=q.On.v;S[2]=q.Wdth.v;
S[3]=q.Lngt.v;S[4]=q.Cncv.v.val}}if(F==null)return null;return V.$F.Q2(F,F==4?null:V.$F.JR(e),b,_,d,S)};
V.$F.z9=function(e,Z,F,b,_,d,S){var U={classID:e,unitValueQuadVersion:{t:"long",v:1}};if(Z)V.$F.hd(U,["Left","Top","Rght","Btom"],Z);
if(F)V.$F.hd(U,["topLeft","topRight","bottomRight","bottomLeft"],F);if(e=="Ln"){U.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[1]}}}},U.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[3]}}}},U.Wdth={t:"UntF",v:{type:"#Pxl",val:_}};
for(var l=0;l<2;l++){var r=l==0?"StrA":"EndA";U[r]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:S[l]},Wdth:{t:"doub",v:S[2]},Lngt:{t:"doub",v:S[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:S[4]}}}}}}if(d)U.Nm={t:"TEXT",v:d};
return{t:"Objc",v:U}};V.$F.It=function(e,Z){var F=V.$F.du(e),b=e[2]-e[0],_=e[3]-e[1],d=Math.sqrt(b*b+_*_),S=[0,0,d,0,d,Z,0,Z],U=new jg;
U.rotate(-F);U.translate(e[0],e[1]);V.H.A(S,U,S);return S};V.$F.Q2=function(e,Z,F,b,_,d){var S=V.$F.eJ(),U=S.v,r;
delete U.keyShapeInvalidated;U.keyOriginType={t:"long",v:e};U.keyOriginResolution={t:"doub",v:75};if(e==4){U.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[0]},Vrtc:{t:"doub",v:b[1]}}};
U.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[2]},Vrtc:{t:"doub",v:b[3]}}};r=V.$F.It(b,_);
var q=V.H.HA(r);Z=[q.x,q.y,q.x+q.w,q.y+q._];U.keyOriginLineWeight={t:"doub",v:_};if(d)V.$F.ati(U,d)}else r=[Z[0],Z[1],Z[2],Z[1],Z[2],Z[3],Z[0],Z[3]];
U.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};V.$F.ye(U,"keyOriginBoxCorners",r);var w={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
U.keyOriginShapeBBox={t:"Objc",v:w};V.$F.nB(U,Z);if(F!=null){var X={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
U.keyOriginRRectRadii={t:"Objc",v:X};V.$F.Q$(U,F)}return S};V.$F.A=function(e,Z,F,b){var _=V.N.n5(Z),d=V.N.pI(Z);
for(var l=0;l<e.length;l++){var S=e[l].v;if(!V.$F.G1(S))continue;if(F.length!=0&&F.indexOf(l)==-1)continue;
var U=S.keyOriginType.v,r=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var q=0;q<r.length;
q++){var w=V.$F.eC(S,r[q]);if(w==null)continue;V.N.A(Z,w);V.$F.ye(S,r[q],w);var X=V.H.HA(w);V.$F.nB(S,[X.x,X.y,X.x+X.w,X.y+X._]);
var Q=new jg;Q.rotate(-V.$F.du(w));var c={classID:"Trnf"};S.Trnf={t:"Objc",v:c};var u="xx xy yx yy tx ty".split(" "),n=[Q.Y0,Q.S,Q.d_,Q.rl,Q.lr,Q.Xz];
for(var k=0;k<6;k++)c[u[k]]={t:"doub",v:n[k]}}var w=V.$F.eC(S,"keyOriginBoxCorners"),B=w[2]-w[0],o=w[3]-w[1],T=Math.sqrt(B*B+o*o);
B/=T;o/=T;var z=w[6]-w[0],W=w[7]-w[1],$=Math.sqrt(z*z+W*W);z/=$;W/=$;if(U==4){S.keyOriginLineWeight.v=$;
var R=V.$F.$G(S);V.N.A(Z,R);V.$F.alE(S,R)}var P=B*z+o*W;if(Math.abs(P)>.001){V.$F.q4(e,l)}}};V.$F.G1=function(e){var Z=e.keyShapeInvalidated,F=e.keyOriginType;
return(Z==null||!Z.v)&&F!=null&&F.v!=9};V.$F.ap$=function(e){var Z=e.keyOriginType.v,F=V.$F.MR(e),b=F[0],_=F[1],d=F[2],S=F[3],U=new jg,r=e.keyOriginPolyCornerRadius,c;
r=r?r.v:0;var q=V.$F.eC(e,Z==7||Z==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),w=V.$F.UO(q),X=w[2],Q=w[3];
b=-X/2;d=X/2;_=-Q/2;S=Q/2;U.rotate(-V.$F.du(q));U.lr=w[0];U.Xz=w[1];if(Z==1||Z==2){var u=Z==1?0:V.$F.xB(e);
c=V.c.wV.Rect(b,_,d-b,S-_,u)}else if(Z==4){var n=V.$F.$G(e),k=V.$F.a9T(e);U=new jg;if(k==null)c=V.c.wV.jl(n[0],n[1],n[2],n[3],e.keyOriginLineWeight.v);
else c=V.c.wV.BS(n[0],n[1],n[2],n[3],e.keyOriginLineWeight.v,k)}else if(Z==5){c=V.c.wV._X(b,_,d-b,S-_)}else if(Z==7||Z==8){var B=Z==7?3:e.keyOriginPolySides.v;
c=V.c.wV.xF(0,0,100,Math.PI/B-Math.PI/2,B,r,d,S)}V.c.Jb(c,U);return c};V.$F.GF=function(e,Z){var F=Z.T;
for(var l=0;l<e.length;l++){var b=e[l].v;if(!V.$F.G1(b))continue;var _=V.$F.ap$(b),d=V.c.rD(F,l),S=V.c.wp(F,l);
_[2].A8=F[d].A8;var U=F;F=F.slice(0,d);for(var r=2;r<_.length;r++)F.push(_[r]);for(var r=d+S;r<U.length;
r++)F.push(U[r])}Z.T=F;Z.oy=!0};V.$F.R5=function(e){var Z=1e9,F=-Z,b=1e9,_=-b,d=[],S=e.GJ(),U=S[0],r=S[1];
for(var q=0;q<r.length;q++){var w=U[r[q]],X=w.add.vogk;if(X==null)continue;var Q=w.add.vmsk.V;for(var c=0;
c<X.length;c++){var u=X[c].v,B=0;if(!V.$F.G1(u))continue;if(r.length==1&&Q.length!=0&&Q.indexOf(c)==-1)continue;
var n=u.keyOriginType.v;if(n==9)continue;var k=V.$F.MR(u);Z=Math.min(Z,k[0]);b=Math.min(b,k[1]);F=Math.max(F,k[2]);
_=Math.max(_,k[3]);var o=V.$F.eC(u,"keyOriginBoxCorners");if(o){var T=V.$F.UO(o),z=T[2],W=T[3];k[2]=k[0]+z;
k[3]=k[1]+W;B=V.$F.du(o)}var $=[n,k,B];d.push($);if(n==2)$.push(V.$F.xB(u));if(n==7||n==8)$.push(u.keyOriginPolyCornerRadius.v);
if(n==8)$.push(u.keyOriginPolySides.v)}}return d.length==1?d[0]:[0,Z<F?[Z,b,F,_]:null,0]};V.$F.du=function(e){var Z=e[2]-e[0],F=e[3]-e[1];
return-Math.atan2(-F,Z)};V.$F.alM=function(e,Z){var F=V.$F.R5(e),b=-1;for(var l=0;l<Z.length;l++)if(JSON.stringify(Z[l])!=JSON.stringify(F[l]))b=l;
if(b==1||b==2){}var _=e.GJ(),d=_[0],S=_[1];for(var U=0;U<S.length;U++){var r=d[S[U]],q=r.add.vogk;if(q==null)continue;
var w=r.add.vmsk.V;for(var X=0;X<q.length;X++){var Q=q[X].v;if(!V.$F.G1(Q))continue;if(S.length==1&&w.length!=0&&w.indexOf(X)==-1)continue;
var c=Q.keyOriginType.v;if(b==1||b==2){V.$F.A(q,V.$F.aeE(b,Q,F,Z),w,!1);break}if(b==3)if(c==2)V.$F.Q$(Q,Z[3]);
else Q.keyOriginPolyCornerRadius.v=Z[3];if(b==4)Q.keyOriginPolySides.v=Z[4]}}};V.$F.aeE=function(e,Z,F,b){var _=b[1],d=F[1],S=(_[2]-_[0])/(d[2]-d[0]),U=(_[3]-_[1])/(d[3]-d[1]),r=new jg;
if(e==1){if(Math.max(Math.abs(S-1),Math.abs(U-1))>1e-8){var q=_[0],w=_[1];if(b[0]!=0){var X=V.$F.eC(Z,"keyOriginBoxCorners");
q=X[0];w=X[1]}r.translate(-q,-w);r.rotate(b[2]);r.scale(S,U);r.rotate(-b[2]);r.translate(q,w)}else{r.translate(-d[0],-d[1]);
r.translate(_[0],_[1])}}else{if(b[0]!=0)_=V.$F.MR(Z);var q=(_[0]+_[2])/2,w=(_[1]+_[3])/2;r.translate(-q,-w);
if(F[0]!=0)r.rotate(F[2]);r.rotate(-b[2]);r.translate(q,w)}return V.N.C5(r)};V.$F.UO=function(e){var Z=e[0],F=e[1],b=e[2],_=e[3],d=e[4],S=e[5],U=e[6],r=e[7],q=b-Z,w=_-F,X=Math.sqrt(q*q+w*w),q=d-b,w=S-_,Q=Math.sqrt(q*q+w*w);
return[(Z+d)/2,(F+S)/2,X,Q]};V.$F.eC=function(e,Z){var F=e[Z];if(F==null)return null;var b=[];F=F.v;
for(var _=0;_<4;_++){var d=F["rectangleCorner"+["A","B","C","D"][_]].v;b.push(d.Hrzn.v,d.Vrtc.v)}return b};
V.$F.ye=function(e,Z,F){var b=e[Z];if(b==null)return null;b=b.v;for(var _=0;_<4;_++){var d="rectangleCorner"+["A","B","C","D"][_];
b[d]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:F[2*_]},Vrtc:{t:"doub",v:F[2*_+1]}}}}};V.$F.MR=function(e){return V.$F.JR(e.keyOriginShapeBBox.v)};
V.$F.JR=function(e){var Z=e.classID,F=e.Left.v,b=e.Rght.v,_=e.Top.v,d=e.Btom.v;if(Z=="unitRect"||Z=="radii"||Z=="Rctn"){F=F.val;
b=b.val;_=_.val;d=d.val}return[F,_,b,d]};V.$F.nB=function(e,Z){V.$F.hd(e.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],Z)};
V.$F.xB=function(e){return V.$F.LT(e.keyOriginRRectRadii.v)};V.$F.LT=function(e){var Z=[],F=["topLeft","topRight","bottomRight","bottomLeft"];
for(var b=0;b<4;b++)Z.push(e[F[b]].v.val);return Z};V.$F.Q$=function(e,Z){V.$F.hd(e.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],Z)};
V.$F.hd=function(e,Z,F){var b=e.classID;if(b=="unitRect"||b=="radii"||b=="Rctn"){for(var l=0;l<4;l++)if(F[l]!=null)e[Z[l]]={t:"UntF",v:{type:"#Pxl",val:F[l]}}}else{for(var l=0;
l<4;l++)if(F[l]!=null)e[Z[l]]={t:"doub",v:F[l]}}};V.$F.$G=function(e){var Z=e.keyOriginLineStart.v,F=e.keyOriginLineEnd.v;
return[Z.Hrzn.v,Z.Vrtc.v,F.Hrzn.v,F.Vrtc.v]};V.$F.alE=function(e,Z){var F=e.keyOriginLineStart.v,b=e.keyOriginLineEnd.v;
F.Hrzn.v=Z[0];F.Vrtc.v=Z[1];b.Hrzn.v=Z[2];b.Vrtc.v=Z[3]};V.$F.a9T=function(e){var Z=[],F=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var l=0;l<5;l++){var b=e["keyOriginLineArr"+F[l]];if(b==null)return null;Z[l]=b.v}return Z};V.$F.ati=function(e,Z){e.keyOriginLineArrowSt={t:"bool",v:Z[0]};
e.keyOriginLineArrowEnd={t:"bool",v:Z[1]};e.keyOriginLineArrWdth={t:"doub",v:Z[2]};e.keyOriginLineArrLngth={t:"doub",v:Z[3]};
e.keyOriginLineArrConc={t:"long",v:Z[4]}};V.H={};V.H.clone=function(e){return{C:e.C.slice(0),s:e.s.slice(0)}};
V.H.q0=function(e){if(e.length<6)return!0;var Z=e.length-4;for(var l=0;l<Z;l+=2)if(!V.H.K2(e[l],e[l+1],e[l+2],e[l+3],e[l+4],e[l+5]))return!1;
if(!V.H.K2(e[Z],e[Z+1],e[Z+2],e[Z+3],e[0],e[1]))return!1;if(!V.H.K2(e[Z+2],e[Z+3],e[0],e[1],e[2],e[3]))return!1;
return!0};V.H.K2=function(e,Z,F,b,_,d){return(Z-b)*(_-F)+(F-e)*(d-b)>=0};V.H.bb=function(e){var Z={},F=null,b=0,_={M:2,L:2,Q:4,C:6};
for(var l=0;l<e.C.length;l++){var d=e.C[l];if(d.charAt(0)=="#"){if(Z[d]==null)Z[d]={s:[],C:[]};F=Z[d]}else if(d!="X"){F.C.push(d);
var S=_[d];if(S==null)S=0;for(var U=0;U<S;U++)F.s.push(e.s[b+U]);b+=S}}return Z};V.H.t6=function(e,Z,F){e=V.H.AM(e);
var b=e.s,_=e.C,d=0,S=[],U=null;for(var l=0;l<_.length;l++){var r=_[l];if(r=="M"){U={Mf:d,zZ:0,VQ:!1};
S.push(U);d+=2}if(r=="C"){U.zZ++;d+=6}if(r=="Z"&&U!=null){U.VQ=!0}}var q=[];for(var l=0;l<S.length;l++)if(S[l].zZ!=0)q.push(S[l]);
S=q;for(var l=0;l<S.length;l++){var w=S[l],X=w.Mf,Q=X+2+w.zZ*6,u=0;w.Dl=V.H.HA(b,X,Q);var c=b[X]==b[Q-2]&&b[X+1]==b[Q-1];
for(var n=0;n<w.zZ;n++){var k=X+n*6,B=k+6;u+=(b[B]-b[k])*(b[B+1]+b[k+1])}if(w.zZ==2){var o=function(I,p,a){var er=1-a;
return er*er*er*I[p]+3*er*er*a*I[p+2]+3*er*a*a*I[p+4]+a*a*a*I[p+6]},T=b[X],z=b[X+1],W=b[X+6],$=b[X+7],R=b[X+6],P=b[X+7],H=o(b,X,.5),y=o(b,X+1,.5),h=o(b,X+6,.5),m=o(b,X+7,.5);
u=(H-T)*(y-z)+(W-H)*($-y)+(h-W)*(m-$)+(R-h)*(P-m)}if(!c)u+=(b[X]-b[Q-2])*(b[X+1]+b[Q-1]);w.yV=u<=0}for(var l=0;
l<S.length-1;l++)for(var k=l+1;k<S.length;k++){var t=S[l],j=S[k];if(j.Dl.tv(t.Dl)){S[l]=j;S[k]=t}}var x=S.length==0?!0:S[0].yV,C=[{type:6},{type:8,all:0}];
for(var l=0;l<S.length;l++){var w=S[l],X=w.Mf,Q=X+2+w.zZ*6,c=b[X]==b[Q-2]&&b[X+1]==b[Q-1],L=w.VQ||c?0:3,f=w.yV==x&&!Z?1:0;
if(!Z&&l!=0){if(S[l-1].Dl.tv(w.Dl)&&S[l-1].yV!=w.yV)f=0;for(var k=0;k<S.length;k++)if(k!=l&&S[k].Dl.tv(w.Dl))f=0}C.push({type:L,length:w.zZ+(c?0:1),A8:F?1:f,SS:2});
for(var k=0;k<w.zZ;k++){var d=X+k*6,D=new bI(b[d],b[d+1]),v=new bI(b[d+2],b[d+3]),A;if(k==0){if(c)A=new bI(b[Q-4],b[Q-3]);
else A=D.clone()}else A=new bI(b[d-2],b[d-1]);C.push({type:L+2,Gn:A,M:D,kM:v})}if(!c){var M=new bI(b[Q-2],b[Q-1]);
C.push({type:L+2,Gn:new bI(b[Q-4],b[Q-3]),M:M,kM:M.clone()})}}for(var k=0;k<C.length;k++){var Y=C[k];
if(Y.type>5||Y.type==0||Y.type==3)continue;var J=Y.Gn.Tn(Y.M)||Y.kM.Tn(Y.kM);if(!J){var t=Y.Gn.x*(Y.M.y-Y.kM.y)+Y.M.x*(Y.kM.y-Y.Gn.y)+Y.kM.x*(Y.Gn.y-Y.M.y);
if(Math.abs(t)<1e-6)J=!0}if(J)Y.type--}return C};V.H.iL=function(e,Z){var F=V.c.q$(e),b=!1;for(var l=2;
l<e.length;l++){var _=e[l].A8;if(_!=null){if(_==2||_==0||_==3)b=!0}}if((b||Z)&&e.length<15e3&&F>1)e=V.c.Yd(e);
var d=V.H.Ju(e);return{qp:d,NN:b?1:0}};V.H.Ju=function(){function e(b,_,d,S){if(!S&&b.kM.Tn(b.M)&&_.Gn.Tn(_.M)){d.s.push(_.M.x,_.M.y);
d.C.push("L")}else{d.s.push(b.kM.x,b.kM.y,_.Gn.x,_.Gn.y,_.M.x,_.M.y);d.C.push("C")}}function Z(b,_,l,d,S,U){var r=_[l];
b.s.push(r.M.x,r.M.y);b.C.push("M");for(var q=l;q<l+d-1;q++)e(_[q],_[q+1],b,U);if(!S)e(_[q],_[l],b,U)}function F(b,_){if(_==null)_=!1;
var d={s:[],C:[]};for(var l=0;l<b.length;l++){if(b[l].type>5)continue;var S=b[l].length;if(S==0)continue;
if(l==b.length-1)break;var U=b[l].type==3;Z(d,b,l+1,S,U,_);if(!U)d.C.push("Z");l+=S}return d}return F}();
V.H.aqR=function(e){var Z=e.s,F=[],b,_=0;for(var l=0;l<e.C.length;l++){var d=e.C[l];if(d=="C"){b.push(Z[_++],Z[_++],Z[_++],Z[_++],Z[_++],Z[_++])}else if(d=="Z"){}else{b=[];
if(d!="M"){b.push(d);l++}b.push(Z[_++],Z[_++]);F.push(b)}}return F};V.H.zz=function(e,Z,F,b){if(b==null)b=1e9;
var _=1e9,d=0;for(var l=0;l<e.length;l+=2){var S=Z-e[l],U=F-e[l+1],r=S*S+U*U;if(r<_){_=r;d=l>>>1}}return _<b*b?d:-1};
V.H.uS=function(e,Z,F,b){for(var l=0;l<e.length;l+=2){var _=e[l],d=e[l+1],S=Z[l],U=Z[l+1];F[l]=_+(S-_)*b;
F[l+1]=d+(U-d)*b}};V.H.A=function(e,Z,F){for(var l=0;l<e.length;l+=2){var b=e[l],_=e[l+1];F[l]=b*Z.Y0+_*Z.d_+Z.lr;
F[l+1]=b*Z.S+_*Z.rl+Z.Xz}};V.H.HA=function(e,Z,F){if(Z==null)Z=0;if(F==null)F=e.length;var b=99999999999,_=-b,d=99999999999,S=-d;
for(var l=Z;l<F;l+=2){var U=e[l],r=e[l+1];b=Math.min(b,U);d=Math.min(d,r);_=Math.max(_,U);S=Math.max(S,r)}return new e3(b,d,_-b,S-d)};
V.H.G_=function(e,Z){var F=Math.max(Z.x,Math.min(Z.x+Z.w,e.x)),b=Math.max(Z.y,Math.min(Z.y+Z._,e.y)),_=e.x-F,d=e.y-b;
return Math.sqrt(_*_+d*d)};V.H.Uu=function(e){if(e.BJ())return new e3(Math.floor(e.x),Math.floor(e.y),Math.ceil(e.w),Math.ceil(e._));
var Z=Math.floor(e.x),F=Math.ceil(e.x+e.w),b=Math.floor(e.y),_=Math.ceil(e.y+e._);return new e3(Z,b,F-Z,_-b)};
V.H.CN=function(e){return V.H.Uu(V.H.HA(e))};V.H.gb=function(e){var Z=e.x,F=e.y,b=e.x+e.w,_=e.y+e._;
return{C:["M","L","L","L","Z"],s:[Z,F,b,F,b,_,Z,_]}};V.H.concat=function(e,Z,F){if(F==null)F=new jg;
for(var l=0;l<Z.s.length;l+=2){var b=Z.s[l],_=Z.s[l+1];e.s.push(b*F.Y0+_*F.d_+F.lr);e.s.push(b*F.S+_*F.rl+F.Xz)}for(var l=0;
l<Z.C.length;l++)e.C.push(Z.C[l])};V.H.AM=function(e){var Z=e.s,F=[],b=[],_=0,d=0,S=0,U=0,r=0,q=0,w=0,X=0,Q=0;
for(var l=0;l<e.C.length;l++){var c=e.C[l];if(c=="M"){d=Z[_];S=Z[_+1];_+=2;b.push(c);F.push(d,S)}else if(c=="C"){U=Z[_];
r=Z[_+1];q=Z[_+2];w=Z[_+3];X=Z[_+4];Q=Z[_+5];_+=6;b.push(c);F.push(U,r,q,w,X,Q);d=X;S=Q}else if(c=="Q"){U=Z[_];
r=Z[_+1];q=Z[_+2];w=Z[_+3];_+=4;var u=U-d,n=r-S,k=q-U,B=w-r;b.push("C");F.push(d+2/3*u,S+2/3*n,U+1/3*k,r+1/3*B,q,w);
d=q;S=w}else if(c=="L"){U=Z[_];r=Z[_+1];_+=2;var o=U-d,T=r-S;b.push("C");F.push(d,S,U,r,U,r);d=U;S=r}else b.push(c)}return{C:b,s:F}};
V.H.aeV=function(e){var Z=e.s,F=[],b=[],_=0;for(var l=0;l<e.C.length;l++){var d=e.C[l];if(d=="Q"){var S=Z[_-2],U=Z[_-1],r=Z[_],q=Z[_+1],w=Z[_+2],X=Z[_+3];
_+=4;var Q=r-S,c=q-U,u=w-r,n=X-q;b.push("C");F.push(S+2/3*Q,U+2/3*c,r+1/3*u,q+1/3*n,w,X)}else{var k=0;
if(d=="M"||d=="L")k=2;else if(d=="C")k=6;for(var B=0;B<k;B++)F.push(Z[_+B]);_+=k;b.push(d)}}return{C:b,s:F}};
V.H.Ya=function(e,Z){var F=e.s,b=[],_=[],d=0,S=0,U=0,r=0,q=0,w=0,X=0,Q=0,c=0;for(var l=0;l<e.C.length;
l++){var u=e.C[l];if(u=="M"){S=F[d];U=F[d+1];d+=2;_.push(u);b.push(S,U)}else if(u=="C"){r=F[d];q=F[d+1];
w=F[d+2];X=F[d+3];Q=F[d+4];c=F[d+5];d+=6;V.H.ey(S,U,r,q,w,X,Q,c,Z,_,b,0);S=Q;U=c}else _.push(u)}return{C:_,s:b}};
V.H.ey=function(e,Z,F,b,_,d,S,U,r,q,w,X){var Q=Math.sqrt((S-e)*(S-e)+(U-Z)*(U-Z)),c=Math.sqrt((S-_)*(S-_)+(U-d)*(U-d))+Math.sqrt((_-F)*(_-F)+(d-b)*(d-b))+Math.sqrt((F-e)*(F-e)+(b-Z)*(b-Z)),u=(Q+c)/2;
if(u<=r){q.push("C");w.push(F,b,_,d,S,U)}else{var n=0,k=0,B=0,o=0,T=0,z=0,W=0,$=0,R=0,P=0,H=0,y=0,h=0;
k=(e+F)/2;B=(Z+b)/2;o=(F+_)/2;T=(b+d)/2;z=(_+S)/2;W=(d+U)/2;$=(k+o)/2;R=(B+T)/2;P=(o+z)/2;H=(T+W)/2;
y=($+P)/2;h=(R+H)/2;V.H.ey(e,Z,k,B,$,R,y,h,r,q,w,X+1);V.H.ey(y,h,P,H,z,W,S,U,r,q,w,X+1)}};V.H.qq=function(e,Z,F,b,_){var d=Date.now(),S=V.H.a1x(e,Z,F);
if(_){console.log("trace polygons",Date.now()-d);d=Date.now()}var U=[];for(var l=0;l<S.length;l++){var r=S[l],q=r[0],w=["M"],X=e[q[1]*Z+q[0]];
if(q.length>8)q=V.H.RH(q,b,r[1]);if(q.length<=4)continue;for(var Q=2;Q<q.length;Q+=2)w.push("L");w.push("Z");
U.push({path:{s:q,C:w},color:X,parent:-1,Dl:V.H.HA(q)})}if(_){console.log("simplify polygons",Date.now()-d);
d=Date.now()}for(var l=1;l<U.length;l++){var c=U[l].Dl;for(var Q=l-1;Q>=0;Q--)if(U[Q].Dl.tv(c)){U[l].parent=Q;
break}}if(_){console.log("checking parents",Date.now()-d);d=Date.now()}return U};V.H.a1x=function(e,Z,F){var b=Z*F,_=new Uint16Array(Z*F),S=0;
for(var l=0;l<b;l++)_[l]=e[l];var d=new Uint8Array(Z*F);d[1*Z+1]=d[(F-1)*Z+1]=d[1*Z+Z-1]=d[(F-1)*Z+Z-1]=1;
for(var U=1;U<F;U++)for(var r=1;r<Z;r++){var l=U*Z+r,q=_[l-Z-1],w=_[l-Z],X=_[l-1],Q=_[l],c=q==Q&&w==X&&q!=w,u=0;
if(Q<X){S=Q;Q=X;X=S}if(X<w){S=X;X=w;w=S}if(w<q){S=w;w=q;q=S}if(Q<X){S=Q;Q=X;X=S}if(X<w){S=X;X=w;w=S}if(Q<X){S=Q;
Q=X;X=S}if(q!=w)u++;if(w!=X)u++;if(X!=Q)u++;if(Q!=q)u++;if(u>=3||c)d[l]=1}var n=[];for(var U=1;U<F;U++)for(var r=1;
r<Z;r++){var l=U*Z+r;if(_[l]!=_[l-1]){var k=V.H.a83(_,Z,F,r,U),B=[];for(var o=0;o<k.length;o+=2)if(d[k[o+1]*Z+k[o]]==1)B.push(o>>>1);
n.push([k,B]);V.H.BH(_,Z,F,r,U)}}return n};V.H.BH=function(e,Z,F,b,_){var d=[_*Z+b],S=e[_*Z+b];e[_*Z+b]=65535;
while(d.length!=0){var l=d.pop();e[l]=0;if(e[l+Z]==S){d.push(l+Z);e[l+Z]=65535}if(e[l-Z]==S){d.push(l-Z);
e[l-Z]=65535}if(e[l-1]==S){d.push(l-1);e[l-1]=65535}if(e[l+1]==S){d.push(l+1);e[l+1]=65535}}};V.H.a83=function(e,Z,F,b,_){var d=[0,-1,1,0,0,1,-1,0],w=1;
function S(Q,c,w){var l=q*Z+r,u=0;if(w==0)u=l-Z;else if(w==1)u=l;else if(w==2)u=l-1;else if(w==3)u=l-Z-1;
return e[u]}var U=[],r=b,q=_,X=S(r,q,w);do{U.push(r,q);r+=d[w*2];q+=d[w*2+1];if(S(r,q,w)!=X)w=w+1&3;
else if(S(r,q,w+3&3)!=X)w=w;else if(S(r,q,w+2&3)!=X)w=w+3&3}while(r!=b||q!=_);return U};V.H.RH=function(e,Z,F){var b=e.length-2;
if(F&&F.length!=0){var _=F[0]*2,d=F[F.length-1]*2,S=_==0?b:_-2,U=e.slice(d);for(var l=0;l<_;l++)U.push(e[l]);
if(_==d)U.push(.9*e[_]+.1*e[S],.9*e[_+1]+.1*e[S+1]);else U.push(e[_],e[_+1]);U=V.H.Jm(U,Z);U.pop();U.pop();
for(var l=0;l<F.length-1;l++){var r=e.slice(F[l]*2,F[l+1]*2+2);r=V.H.Jm(r,Z);for(var q=0;q<r.length-2;
q++)U.push(r[q])}return U}var w=e.slice(0);w.push(.9*e[0]+.1*e[b],.9*e[1]+.1*e[b+1]);w=V.H.Jm(w,Z);w.pop();
w.pop();return w};V.H.Jm=function(e,Z){var F=e.length-2,b=e[0],_=e[1],d=e[F],S=e[F+1],U=d-b,r=S-_,q=1/Math.sqrt(U*U+r*r),w=d*_-S*b,X=-1,Q=-1,c=0;
for(var l=2;l<F;l+=2){var u=e[l],n=e[l+1],k=n*n*1e6+u*u,B=Math.abs(r*u-U*n+w)*q;if(B>Q||B==Q&&k>c){Q=B;
X=l;c=k}}if(Q<Z)return[b,_,d,S];var o=V.H.Jm(e.slice(0,X+2),Z),T=V.H.Jm(e.slice(X),Z);for(var l=2;l<T.length;
l++)o.push(T[l]);return o};V.H.aol=function(){var e=function(b,_,d,S,U,r){return(_-S)*(U-d)+(d-b)*(r-S)>=0},Z=function(b,_,d,S,U,r,q,w){var X=q-d,Q=w-S,c=U-d,u=r-S,n=b-d,k=_-S,B=X*X+Q*Q,o=X*c+Q*u,T=X*n+Q*k,z=c*c+u*u,W=c*n+u*k,$=1/(B*z-o*o),R=(z*T-o*W)*$,P=(B*W-o*T)*$;
return R>=0&&P>=0&&R+P<1},F=function(b){var gi=b.length>>>1,l=0;if(gi<3)return[];var _=[],d=[];for(var l=0;
l<gi;l++)d.push(l);var S=gi;while(S>3){var U=d[(l+0)%S],r=d[(l+1)%S],q=d[(l+2)%S],w=b[2*U],X=b[2*U+1],Q=b[2*r],c=b[2*r+1],u=b[2*q],n=b[2*q+1],k=!1;
if(e(w,X,Q,c,u,n)){k=!0;for(var B=0;B<S;B++){var o=d[B];if(o==U||o==r||o==q)continue;if(Z(b[2*o],b[2*o+1],w,X,Q,c,u,n)){k=!1;
break}}}if(k){_.push(U,r,q);d.splice((l+1)%S,1);S--;l=0}else if(l++>3*S)break}_.push(d[0],d[1],d[2]);
return _};return F}();V.H.agp=function(e,Z){var F={},b={C:[],s:[]};for(var l=0;l<Z.length;l+=3){var _=Z[l]*2,d=Z[l+1]*2,S=Z[l+2]*2;
V.H.wo(e,_,d,b,F);V.H.wo(e,_,S,b,F);V.H.wo(e,d,S,b,F)}return b};V.H.wo=function(e,Z,F,b,_){if(Z>F){var d=F;
F=Z;Z=d}if(_[Z+","+F])return;_[Z+","+F]=!0;b.C.push("M","L");b.s.push(e[Z],e[Z+1],e[F],e[F+1])};V.H.BF=function(e,Z){var F=[],b=e.length;
for(var l=0;l<b;l+=2){var _=e[l],d=e[l+1],S=e[(l+2)%b],U=e[(l+3)%b];if(U<d){var r=d;d=U;U=r}if(d<Z&&Z<U){var q=(Z-d)/(U-d);
F.push(_+q*(S-_))}}F.sort(function(w,X){return w-X});return F};V.H.fd=function(e,Z,F,b,_,d,S){var U=e-F,r=Z-b,q=_-F,w=d-b,X=1/Math.sqrt(U*U+r*r),Q=1/Math.sqrt(q*q+w*w),c=U*X,u=r*X,n=q*Q,k=w*Q,B=u*S,o=-c*S,T=-k*S,z=n*S,W=V.H.JC(B,o,c,u,T,z,n,k),$=B+c*W,R=o+u*W,W=V.H.JC(0,0,c,u,$,R,-u,c),P=c*W,H=u*W;
return[Math.sqrt(P*P+H*H),c,u,n,k]};V.H.gB=function(e,Z,F,b,_,d,S){var U=V.H.fd(e,Z,F,b,_,d,S),r=U[0],q=U[1],w=U[2],X=U[3],Q=U[4],c=Math.atan2(q*Q-w*X,q*X+w*Q);
if(c<0){c=c*-1}var u=Math.PI-c,n=4/3*Math.tan(u/4),k=F+r*q,B=b+r*w,o=F+r*X,T=b+r*Q,z=k+n*S*-q,W=B+n*S*-w,$=o+n*S*-X,R=T+n*S*-Q;
return[0,0,k,B,z,W,$,R,o,T]};V.H.JC=function(e,Z,F,b,_,d,S,U){var r=S*(Z-d)-U*(e-_),q=U*F-S*b;if(q==0)return 0;
return r/q};V.H.gB(0,50,0,0,30,30,10);V.VD=function(){};V.VD.sh=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=new Int32Array(U),gi=0;
for(var l=0;l<U;l++)if(Z[l]!=0){r[l]=gi;gi++}else if(e[(l<<2)+3]<200){r[l]=-2}else r[l]=-1;if(gi==0)return;
var q=new V.t$(gi,gi),w=new Array(3*gi),X=new Array(3*gi);for(var l=0;l<X.length;l++)X[l]=w[l]=0;var Q=1/255,c=[-d,-1,1,d],u=[],n=[];
for(var k=0;k<S;k++)for(var B=0;B<d;B++){var o=k*d+B,T=o<<2,l=r[o],z=l*3,W=0,$=0,R=0;if(l==-1||l==-2)continue;
for(var P=0;P<4;P++){if(P==2){$=R;u[R]=0;n[R]=l;R++}var H=o+c[P],y=H<<2,h=r[H];if(P==0&&k==0||P==1&&B==0||P==2&&B==d-1||P==3&&k==S-1||h==-2)continue;
W++;if(h==-1){w[z+0]+=e[y+0];w[z+1]+=e[y+1];w[z+2]+=e[y+2]}else{u[R]=-1;n[R]=h;R++;if(Z[o]==Z[H]){w[z+0]+=e[T+0]-e[y+0];
w[z+1]+=e[T+1]-e[y+1];w[z+2]+=e[T+2]-e[y+2]}}}u[$]=W;q.Va(u,n,R)}for(var l=0;l<U;l++)if(r[l]!=-1){var m=l<<2,t=r[l],j=t*3;
X[j]=e[m+0];X[j+1]=e[m+1];X[j+2]=e[m+2]}var x=Date.now();q.ab1(X,w,b,_);console.log(Date.now()-x);for(var l=0;
l<U;l++){var t=r[l],C=t*3,m=l<<2;if(t==-1||e[m+3]!=255)continue;e[m+0]=~~(.5+Math.max(0,Math.min(255,X[C+0])));
e[m+1]=~~(.5+Math.max(0,Math.min(255,X[C+1])));e[m+2]=~~(.5+Math.max(0,Math.min(255,X[C+2])))}};V.rect={};
V.rect.ns=function(e,Z){var F=[e],b=[];for(var l=0;l<Z.length;l++){var _=Z[l],d=!1;for(var S=l+1;S<Z.length;
S++){var U=Z[S];if(U[0]<=_[0]&&U[1]<=_[1]&&_[2]<=U[2]&&_[3]<=U[3]){d=!0;break}}if(!d)b.push(_)}Z=b;for(var l=0;
l<Z.length;l++){var _=Z[l];for(var S=0;S<F.length;S++){var U=F[S],r=Math.max(_[0],U[0]),q=Math.min(_[2],U[2]),w=Math.max(_[1],U[1]),X=Math.min(_[3],U[3]);
if(r<q&&w<X){var Q=[];if(U[1]<_[1]){var c=U.slice(0);c[3]=_[1];Q.push(c)}if(U[0]<_[0]){var u=U.slice(0);
u[1]=w;u[2]=_[0];Q.push(u)}if(_[2]<U[2]){var n=U.slice(0);n[1]=w;n[0]=_[2];Q.push(n)}if(_[3]<U[3]){var k=[r,X,q,U[3]];
Q.push(k)}if(Q.length!=0){F[S]=Q[0];for(var B=1;B<Q.length;B++)F.push(Q[B])}}}F.push(_);F=V.rect.acC(F)}F.sort(function(_,U){return _[1]!=U[1]?_[1]-U[1]:_[0]-U[0]});
for(var l=1;l<F.length;l++){var _=F[l-1],U=F[l];if(_[0]==U[0]&&_[1]==U[1]&&_[2]==U[2]&&_[3]==U[3]){F.splice(_[4]==null?l-1:l,1);
l--}}return F};V.rect.acC=function(e){e=e.slice(0);for(var l=0;l<e.length;l++){var Z=e[l],F=null;if(Z[4]!=null)continue;
for(var b=0;b<e.length;b++){var _=e[b];if(l==b||_[4]!=null)continue;var d=Z[0]==_[0],S=Z[1]==_[1],U=Z[2]==_[2],X=Z[3]==_[3];
if(S&&X&&(Z[2]==_[0]||Z[0]==_[2])){F=[Math.min(Z[0],_[0]),Z[1],Math.max(Z[2],_[2]),Z[3]]}if(d&&U&&(Z[3]==_[1]||Z[1]==_[3])){F=[Z[0],Math.min(Z[1],_[1]),Z[2],Math.max(Z[3],_[3])]}if(F){e[l]=F;
e.splice(b,1);break}}if(F){l--}}return e};V.rect.ia=function(e){var Z=new e3;for(var l=0;l<e.length;
l++)Z=Z.Us(e[l]);return Z};V.rect.asF=function(e,Z){var F=V.rect.ia,b=new UnionFind(e.length),$=1e3,R=1e3;
for(var l=0;l<e.length;l++)for(var _=l+1;_<e.length;_++){if(!Z)continue;var d=e[l],S=e[_],X=1e9,Q=1e9;
if(d.iP(S)){b.link(l,_);continue}var U=d.x+d.w,r=d.y+d._,q=S.x+S.w,w=S.y+S._;if((U<S.x||q<d.x)&&(r<S.y||w<d.y))continue;
if(!(r<S.y||w<d.y))X=Math.min(Math.abs(U-S.x),Math.abs(d.x-q));if(!(U<S.x||q<d.x))Q=Math.min(Math.abs(r-S.y),Math.abs(d.y-w));
var c=Math.min(X,Q),u=Math.min(d.w,d._,S.w,S._);if(c<.3*u)b.link(l,_)}var n=[],k={};for(var l=0;l<e.length;
l++){var B=b.find(l),o=e[l];if(k[B]==null){k[B]=n.length;n.push([])}n[k[B]].push(o)}var T=[],z=[];for(var l=0;
l<n.length;l++){T.push(F(n[l]));var W=F(n[l]);W.dY=l;z.push(W)}z.sort(function(L,f){return Math.max(f._,f.w)-Math.max(L._,L.w)});
var P=new NETXUS.RectanglePacker($,R);while(!0){var H=!1;P.reset($,R);for(var l=0;l<z.length;l++){var y=P.findCoords(z[l].w,z[l]._);
if(y){z[l].x=y.x;z[l].y=y.y}else{$=Math.floor($*1.1);R=Math.floor(R*1.1);H=!0;break}}if(H)continue;break}for(var l=0;
l<n.length;l++){var h=z[l],m=h.dY,t=T[m],j=n[m],x=h.x-t.x,C=h.y-t.y;for(var _=0;_<j.length;_++)j[_].offset(x,C)}};
V.PR=function(){};V.PR.Np=Math.floor(16*window.devicePixelRatio);V.PR.Vh={};V.PR.c2=0;V.PR.$c=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
V.PR.akV=["px","in","cm","mm","%"];V.PR.tm=function(e,Z,F,b){var _=[1,Z,Z/2.54,Z/25.4,F/100][b];return e*_};
V.PR.a7b=function(e,Z,F,b){var _=[1,Z,Z/2.54,Z/25.4,F/100][b];return e/_};V.PR.Ix=function(e,Z,F,b,_){var d=F.I9._b,S=[1,Z,Z/2.54,Z/25.4,b/100][d],U=[2,3,2,1,2][d];
e=e/S;var r=Math.round(e),q=d==0&&Math.abs(e-r)<1e-6?r+"":e.toFixed(U);if(_)q+=" "+V.PR.akV[d];return q};
V.PR.ah8=function(e,Z,F,b){var _=F.I9._b,d=[1,Z,Z/2.54,Z/25.4,b/100][_];e=parseFloat(e)*d;return e};
V.PR.ahN=function(e,Z){var F=e+","+Z;if(V.PR.Vh.clr==F)return;var b=Math.round(V.PR.Np*.5);V.PR.c2=b;
var _=document.createElement("canvas");_.width=_.height=b;var d=_.getContext("2d");d.font=b*1.5+"px monospace";
var S="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var l=0;l<S.length;l++){d.fillStyle="#"+V.Z0(Z);d.fillRect(0,0,b,b);
d.fillStyle="#"+V.Z0(e);d.fillText(S[l],0,b);V.PR.Vh[S[l]]=d.getImageData(0,0,b,b).data}V.PR.Vh.clr=F};
V.PR.au0=function(e,Z,F){var b=0,_=0,d=4*V.PR.Np;for(var l=9;l>=0;l--){var S=Math.pow(10,l);if(5*S*e<=d){b=5*S;
_=10;break}if(2*S*e<=d){b=2*S;_=4;break}if(1*S*e<=d){b=1*S;_=10;break}}if(b==0){b=1;_=10}var U=Math.ceil(b*e),r=V.J(U*V.PR.Np*4);
V.oi(r,4278190080|F);for(var l=0;l<V.PR.Np;l++)V.PR.JK(r,4*l*U,Z);for(var l=0;l<U;l++)V.PR.JK(r,4*((V.PR.Np-1)*U+l),Z);
if(b==2)_=2;if(b==5)_=5;if(b>1||b==1&&U>20)for(var l=1;l<_;l++)V.PR.ajZ(r,l*(U/_),U,(l&1)==1?.8:.7,Z);
return{_j:r,step:b}};V.PR.ajZ=function(e,Z,F,b,_){var Z=Math.round(Z);for(var d=Math.round(V.PR.Np*b);
d<V.PR.Np-1;d++)V.PR.JK(e,4*(d*F+Z),_)};V.PR.JK=function(e,Z,F){e[Z+0]=F>>16&255;e[Z+1]=F>>8&255;e[Z+2]=F&255};
V.PR.aeK=function(e,Z,F,b,_,d,S){var U=e.JS.w,r=e.JS._,q=V.PR.Np,w=Z&255,X=Z>>8&255,Q=Z>>16&255;Z=Math.round(w*.6)<<16|Math.round(X*.6)<<8|Math.round(Q*.6);
V.PR.ahN(Math.round(w*.8)<<16|Math.round(X*.8)<<8|Math.round(Q*.8),F);var c=e.e,u=e.r,n=e.wQ;for(var k=0;
k<2;k++){var B=k==0?d:S;e.e=B[0];e.r=B[1];e.wQ=0;var o=this.au0(e.e,Z,F),T=e.mG(0,0),z=e.mG(U,r),W=Math.floor(T.x/o.step)*o.step,$=Math.ceil(z.x/o.step)*o.step,R=Math.floor(T.y/o.step)*o.step,P=Math.ceil(z.y/o.step)*o.step,H=e.Td(W,R),y=e.Td($,R),h=o.step*e.e,m=Math.ceil(h);
if(k==1){var t=o._j;o._j=V.J(t.length*4);V.N.zQ(t,o._j,m,q)}var j=k==0?e.O0.data:e.nv.data,x=new e3(0,0,[U,q][k],[q,r][k]),C=new e3(0,0,[m,q][k],[q,m][k]),L=new e3([0,Math.round(q*.2)][k],[Math.round(q*.08),0][k],V.PR.c2,V.PR.c2),f=(k==0?$-W:P-R)/o.step;
for(var l=0;l<f;l++){if(k==0)C.x=Math.round(H.x+l*h);else C.y=Math.round(H.y+l*h);V.Rf(o._j,C,j,x,C);
var D=(k==0?W+l*o.step:Math.abs(R+l*o.step)).toString(10);for(var v=0;v<D.length;v++){if(k==0)L.x=C.x+3+v*Math.round(V.PR.c2*.8);
else L.y=C.y+3+v*Math.round(V.PR.c2*1.15);var A=V.PR.Vh[D[v]];V.Rf(A,L,j,x,L)}}}e.e=c;e.r=u;e.wQ=n;var M=Math.floor(q*.6),Y=new Uint32Array(e.O0.data.buffer),J=new Uint32Array(e.nv.data.buffer),I=w<128?4278190080:4294967295;
if(0<b&&b<U)for(var l=0;l<M;l++)Y[l*U+b]=I;if(0<_&&_<r)for(var l=0;l<M;l++)J[_*q+l]=I};V.scale={};V.scale.O=document.createElement("canvas");
V.scale.Gl=V.scale.O.getContext("2d");V.scale.uY=document.createElement("canvas");V.scale.r7=V.scale.uY.getContext("2d");
V.scale.sG=function(e,Z,F){var b=V.scale.O,_=V.scale.Gl;b.width=Z;b.height=F;var d=new ImageData(new Uint8ClampedArray(e.buffer),Z,F);
_.putImageData(d,0,0);return _.createPattern(b,"repeat")};V.scale.LG=function(e,Z,F,b,_,d,S,U,r){var q=V.scale.aiS(e,F,b,_,d,S,U,r).data;
if(Z)V.Fk(q,Z);return new Uint8Array(q.buffer)};V.scale.aiS=function(e,Z,F,b,_,d,S,U){var r=V.scale.O,q=V.scale.Gl;
r.width=Z;r.height=F;q.rect(0,0,Z,F);q.translate(d,S);q.scale(b,_);if(U!=null)q.rotate(-U);q.fillStyle=e;
q.fill();return q.getImageData(0,0,Z,F)};V.scale.A=function(e,Z,F,b,_){var d=F.clone();d.eG();var S=_.w,U=_._,r=V.H.gb(Z).s;
V.H.A(r,d,r);var q=V.H.CN(r).QP(_),w=q.x,X=q.y,Q=w+q.w,c=X+q._,u=~~Z.x,n=~~Z.y,k=~~Z.w,B=~~Z._;for(var o=X;
o<c;o++)for(var T=w;T<Q;T++){var z=T+.5,W=o+.5,$=F.Y0*z+F.d_*W+F.lr-u,R=F.S*z+F.rl*W+F.Xz-n;if(0<=$&&0<=R&&$<k&&R<B)b[o*S+T]=e[~~R*k+~~$]}};
V.scale.AA=function(e,Z,F,b,_){var d=new Uint32Array(e.buffer),S=new Uint32Array(b.buffer),U=F.clone();
U.eG();var r=_.w,q=_._,w=V.H.gb(Z).s;V.H.A(w,U,w);var X=V.H.CN(w).QP(_),Q=X.x,c=X.y,u=Q+X.w,n=c+X._,k=~~Z.x,B=~~Z.y,o=~~Z.w,T=~~Z._;
for(var z=c;z<n;z++)for(var W=Q;W<u;W++){var $=W+.5,R=z+.5,P=F.Y0*$+F.d_*R+F.lr-k,H=F.S*$+F.rl*R+F.Xz-B;
if(0<=P&&0<=H&&P<o&&H<T)S[z*r+W]=d[~~H*o+~~P]}};V.scale.LC=function(e,Z,F,b,_,d,S){if(S<1)V.scale.a2y(e,Z,F,b,_,d,Math.round(1/S));
else V.scale.a0Z(e,Z,F,b,_,d,S)};V.scale.Pg=function(e,Z,F,b,_,d,S,U){if(U)U=U.QP(new e3(0,0,Z,F));e=new Uint32Array(e.buffer);
b=new Uint32Array(b.buffer);if(S<1)V.scale.ap9(e,Z,F,b,_,d,Math.round(1/S),U);else V.scale.a3t(e,Z,F,b,_,d,S)};
V.scale.a0Z=function(e,Z,F,b,_,d,S){for(var U=0;U<F;U++)for(var r=0;r<Z;r++){var q=e[U*Z+r],w=Math.min(S,_-r*S),X=Math.min(S,d-U*S);
for(var l=0;l<X;l++)for(var Q=0;Q<w;Q++)b[(S*U+l)*_+S*r+Q]=q}};V.scale.a2y=function(e,Z,F,b,_,d,S){for(var U=0;
U<d;U++)for(var r=0;r<_;r++){var q=0,w=Math.min(S,Z-r*S),X=Math.min(S,F-U*S);for(var l=0;l<X;l++)for(var Q=0;
Q<w;Q++)q+=e[(S*U+l)*Z+(S*r+Q)];b[U*_+r]=Math.round(q/(w*X))}};V.scale.a3t=function(e,Z,F,b,_,d,S){for(var U=0;
U<F;U++)for(var r=0;r<Z;r++){var q=e[U*Z+r],w=Math.min(S,_-r*S),X=Math.min(S,d-U*S);for(var l=0;l<X;
l++)for(var Q=0;Q<w;Q++)b[(S*U+l)*_+S*r+Q]=q}};V.scale.acw=function(e,Z,F){return(e>>>F&255)+(Z>>>F&255)>>>1};
V.scale.O5=function(e,Z){var F=V.scale.acw;return F(e,Z,24)<<24|F(e,Z,16)<<16|F(e,Z,8)<<8|F(e,Z,0)};
V.scale.aqO=function(e,Z,F,b,_,d){var S=new Uint32Array(e.buffer),U=new Uint32Array(b.buffer);for(var r=0;
r<F;r++){for(var q=0;q<Z;q++){var w=r*Z+q,X=S[w],Q=X,c=X,u=X;if(q<Z-1)Q=V.scale.O5(X,S[w+1]);if(r<F-1)c=V.scale.O5(X,S[w+Z]);
if(q<Z-1&&r<F-1)u=V.scale.O5(X,S[w+Z+1]);var n=(r*_+q)*2;U[n]=X;U[n+1]=Q;U[n+_]=c;U[n+_+1]=u}}if((_&1)==1)for(var r=0;
r<d;r++)U[r*_+_-1]=U[r*_+_-2];var k=_*(d-1);if((d&1)==1)for(var q=0;q<_;q++)U[k+q]=U[k-_+q]};V.scale.ap9=function(e,Z,F,b,_,d,S,U){var r=0,q=_,w=0,X=d;
if(U){r=Math.floor(U.x/S);q=Math.ceil((U.x+U.w)/S);w=Math.floor(U.y/S);X=Math.ceil((U.y+U._)/S)}for(var Q=w;
Q<X;Q++)for(var c=r;c<q;c++){var u=0,n=0,k=0,B=0,o=Math.min(S,Z-c*S),T=Math.min(S,F-Q*S);for(var l=0;
l<T;l++)for(var z=0;z<o;z++){var W=e[(S*Q+l)*Z+S*c+z],$=W>>>24;u+=$;n+=$*(W>>>16&255);k+=$*(W>>>8&255);
B+=$*(W&255)}if(u!=0){var R=1/u;b[Q*_+c]=u/(o*T)<<24|n*R<<16|k*R<<8|B*R}else b[Q*_+c]=0}};V.K={};V.K.a32=function(e,Z,F){var b=128,l=0,_=F.w,d=F._;
for(var S=0;S<d;S++)for(var U=0;U<_;U++){if(e[l]>=b&&(U==0||e[l-1]<b||(U==_-1||e[l+1]<b)||(S==0||e[l-_]<b)||(S==d-1||e[l+_]<b)))Z[l]=255;
l++}};V.K.aa8=function(e,Z,F,b){var _=new Uint32Array([4278190080,4294967295]),d=F.w,S=F._,U=0,r=0,q=d,w=S;
if(b){U=b.x-F.x;r=b.y-F.y;q=U+b.w;w=r+b._}var X=new Uint8Array(Z.buffer),Q=new Uint32Array(Z.buffer);
for(var c=r;c<w;c++)for(var u=U;u<q;u++){var l=c*d+u;if((e[l]&128)!=0&&(c==0||(e[l-d]&128)==0||u==0||(e[l-1]&128)==0||u==d-1||(e[l+1]&128)==0||c==S-1||(e[l+d]&128)==0)){Q[l]=_[(u+c&4)>>>2]}}};
V.K.ap_=function(e,Z,F,b,_,d){var S=F.w,U=F._,r=0,q=0,w=S,X=U;if(b){r=b.x-F.x;q=b.y-F.y;w=r+b.w;X=q+b._}var Q=new Uint8Array(Z.buffer),c=new Uint32Array(Z.buffer);
for(var u=q;u<X;u++)for(var n=r;n<w;n++){var l=u*S+n,k=e[l];if(_==1)c[l]=255-k>>>1<<24|255;else c[l]=255<<24|(k<<16|k<<8|k)}};
V.in={};V.in.j2=function(e,Z,F){var b,_;if(F==0){b=e.rect.clone();_=V.in.ao2}if(F==1){b=e.rect.Us(Z.rect);
_=V.in.Us}if(F==2){b=Z.rect.clone();_=V.in.a6p}if(F==3){b=e.rect.QP(Z.rect);_=V.in.QP}if(F==4){b=e.rect.Us(Z.rect);
_=V.in.aiC}if(b.BJ())return null;var d=V.J(b.Z());V.l2(Z.channel,Z.rect,d,b);var S=V.J(b.Z());V.l2(e.channel,e.rect,S,b);
_(S,d,d);var U=V.HR(d,b);if(U.BJ())return null;if(!U.Tn(b)){var r=V.J(U.Z());V.l2(d,b,r,U);d=r;b=U}return{channel:d,rect:b}};
V.in.ao2=function(e,Z,F){for(var l=0;l<e.length;l++)F[l]=e[l]};V.in.Us=function(e,Z,F){for(var l=0;l<e.length;
l++)F[l]=Math.min(e[l]+Z[l],255)};V.in.a6p=function(e,Z,F){for(var l=0;l<e.length;l++)F[l]=Math.max(Z[l]-e[l],0)};
V.in.QP=function(e,Z,F){var b=1/255;for(var l=0;l<e.length;l++)F[l]=e[l]*Z[l]*b};V.in.aiC=function(e,Z,F){var b=1/255;
for(var l=0;l<e.length;l++)F[l]=Math.min(e[l]+Z[l],255)-e[l]*Z[l]*b};V.t$=function(e,Z){this.B=[];this.Fs=[0];
this.RA=[];this.HY=[];this.Wg=[0];this.vH=[];this.f4=[];this.rows=e;this.cols=Z};V.t$.prototype.clone=function(){var e=this,Z=e.rows,F=e.cols,b=new V.t$(Z,F);
b.B=e.B.slice(0);b.Fs=e.Fs.slice(0);b.RA=e.RA.slice(0);b.HY=e.HY.slice(0);b.Wg=e.Wg.slice(0);b.vH=e.vH.slice(0);
b.f4=e.f4.slice(0);return b};V.t$.prototype.Va=function(e,Z,F){var b=this.Fs.length-1;for(var l=0;l<F;
l++){var _=e[l],d=Z[l];this.B.push(_);this.RA.push(d);if(d==b){this.f4.push(_==0?0:1/_)}else{this.HY.push(_);
this.vH.push(d)}}this.Fs.push(this.B.length);this.Wg.push(this.HY.length)};V.t$.prototype.ll=function(e,Z){var F=this,b=F.rows,_=F.B,d=F.RA;
if(Z==null)Z=new Array(b);for(var l=0;l<b;l++){var S=F.Fs[l],U=F.Fs[l+1],r=0;while((U-S&3)!=0){r+=_[S]*e[d[S]];
S++}for(var q=S;q<U;q+=4)r+=_[q]*e[d[q]]+_[q+1]*e[d[q+1]]+_[q+2]*e[d[q+2]]+_[q+3]*e[d[q+3]];Z[l]=r}return Z};
V.t$.prototype.multiply=function(e){return this.tX(e.zQ())};V.t$.prototype.tX=function(e){var Z=this,F=Z.rows,b=Z.cols,_=e.rows,d=new V.t$(F,_),S=Z.RA,U=e.RA;
for(var l=0;l<F;l++){var r=[],q=[],w=Z.Fs[l],X=Z.Fs[l+1];for(var Q=0;Q<_;Q++){var c=e.Fs[Q],u=e.Fs[Q+1],n=0,k=w,B=c;
while(k<X&&B<u){var o=Math.max(S[k],U[B]);while(k<X&&S[k]<o)k++;while(B<u&&U[B]<o)B++;if(k<X&&B<u&&S[k]==U[B])n+=Z.B[k++]*e.B[B++]}if(n!=0){r.push(n);
q.push(Q)}}d.Va(r,q,r.length)}return d};V.t$.prototype.zQ=function(){var e=this.rows,Z=this.cols,F=[];
for(var l=0;l<Z;l++)F.push([[],[]]);var b=this.B,_=this.Fs,d=this.RA;for(var l=0;l<e;l++){var S=_[l],U=_[l+1];
for(var r=S;r<U;r++){var q=F[d[r]];q[0].push(b[r]);q[1].push(l)}}var w=new V.t$(Z,e);for(var l=0;l<Z;
l++)w.Va(F[l][0],F[l][1],F[l][1].length);return w};V.t$.prototype.sc=function(){var e=this.rows,Z=this.cols,F=new Array(e),b=this.B,_=this.Fs,d=this.RA;
for(var l=0;l<e;l++){var S=F[l]=new Array(Z);for(var U=0;U<Z;U++)S[U]=0;var r=_[l],q=_[l+1];for(var w=r;
w<q;w++)S[d[w]]=b[w]}return F};V.t$.prototype.by=function(e,Z,F,b,_){function d(R,Z,P,H){var y=R.length;
for(var l=0;l<y;l++)H[l]=R[l]-Z[l]*P}function S(R,Z,P,H){var y=R.length,h=0;while((y-h&3)!=0){H[h]=R[h]+Z[h]*P;
h++}for(var l=h;l<y;l+=4){H[l]=R[l]+Z[l]*P;H[l+1]=R[l+1]+Z[l+1]*P;H[l+2]=R[l+2]+Z[l+2]*P;H[l+3]=R[l+3]+Z[l+3]*P}}function U(R,Z,P){var H=R.length;
for(var l=0;l<H;l++)P[l]=R[l]*Z[l]}function r(R,Z){var P=R.length,H=0,y=0;while((P-H&3)!=0){y+=R[H]*Z[H];
H++}for(var l=H;l<P;l+=4)y+=R[l]*Z[l]+R[l+1]*Z[l+1]+R[l+2]*Z[l+2]+R[l+3]*Z[l+3];return y}var q=b!=null?2:1,w=Date.now(),X=0,Q=this,c=e.slice(0),u=e.slice(0);
Q.ll(e,u);d(Z,u,1,c);var n=this.f4;if(q==0){n=c.slice(0);n.fill(1)}var k=c.slice(0);U(n,c,k);var B=k.slice(0),o=r(c,k);
while(!0){Q.ll(B,u);var T=o/r(B,u);S(e,B,T,e);d(c,u,T,c);if((X&7)==0&&Math.sqrt(r(c,c))<F)break;if(q<=1)U(n,c,k);
else{var z=c.slice(0);b.a2e(z,c);_.am5(k,z)}var W=r(c,k),$=W/o;S(k,B,$,B);o=W;X++}};V.t$.prototype.afC=function(e,Z,F,b){var _=Date.now(),d=1.96,U=0;
if(F==null)F=5e-6;if(b==null)b=1e9;var S=1-d,gi=this.rows,r=this.HY,q=this.Wg,w=this.vH,X=this.f4;while(!0){var Q=0;
for(var l=0;l<gi;l++){var c=Z[l],u=q[l],n=q[l+1];if(n-u==4)c-=r[u]*e[w[u]]+r[u+1]*e[w[u+1]]+r[u+2]*e[w[u+2]]+r[u+3]*e[w[u+3]];
else for(var k=u;k<n;k++)c-=r[k]*e[w[k]];var B=e[l]*S+X[l]*c*d,o=B-e[l];Q+=o*o;e[l]=B}if(Q/gi<F||Date.now()>_+b)break}};
V.t$.prototype.ab1=function(e,Z,F,b){var _=Date.now(),d=1.96,U=0;if(F==null)F=5e-5;if(b==null)b=1e9;
var S=1-d,gi=this.rows,r=this.HY,q=this.Wg,w=this.vH,X=this.f4;while(!0){var Q=0;for(var l=0;l<gi;l++){var c=l*3,u=Z[c],n=Z[c+1],k=Z[c+2],B=q[l],o=q[l+1];
for(var T=B;T<o;T++){var z=r[T],W=w[T]*3;u-=z*e[W+0];n-=z*e[W+1];k-=z*e[W+2]}var $=X[l]*d,R=e[c+0]*S+u*$,P=e[c+1]*S+n*$,H=e[c+2]*S+k*$,y=R-e[c+0],h=P-e[c+1],m=H-e[c+2];
Q+=.4*y*y+.5*h*h+.1*m*m;e[c+0]=R;e[c+1]=P;e[c+2]=H}if(Q/gi<F||Date.now()>_+b)break}};V.AH={};V.AH.iF=function(e,Z,F){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:e},Vrtc:{t:"doub",v:Z},Cnty:{t:"bool",v:F}}}};
V.AH.A=function(e,Z){for(var l=0;l<e.length;l++){var F=e[l].v,b=Z.rS(new bI(F.Hrzn.v,F.Vrtc.v));F.Hrzn.v=Math.round(b.x);
F.Vrtc.v=Math.round(b.y)}};V.AH.da=function(e,Z,F){var gi=e.length-1,b=V.dg.HE(gi+1,gi+2);for(var l=1;
l<gi;l++){b[l][l-1]=1/(e[l]-e[l-1]);b[l][l]=2*(1/(e[l]-e[l-1])+1/(e[l+1]-e[l]));b[l][l+1]=1/(e[l+1]-e[l]);
b[l][gi+1]=3*((Z[l]-Z[l-1])/((e[l]-e[l-1])*(e[l]-e[l-1]))+(Z[l+1]-Z[l])/((e[l+1]-e[l])*(e[l+1]-e[l])))}b[0][0]=2/(e[1]-e[0]);
b[0][1]=1/(e[1]-e[0]);b[0][gi+1]=3*(Z[1]-Z[0])/((e[1]-e[0])*(e[1]-e[0]));b[gi][gi-1]=1/(e[gi]-e[gi-1]);
b[gi][gi]=2/(e[gi]-e[gi-1]);b[gi][gi+1]=3*(Z[gi]-Z[gi-1])/((e[gi]-e[gi-1])*(e[gi]-e[gi-1]));V.dg.kS(b,F)};
V.AH.a9C=function(e,Z,F,b){if(e<=Z[0])return F[0];if(e>=Z[Z.length-1])return F[Z.length-1];var l=1;while(Z[l]<e)l++;
var _=Z[l],d=Z[l-1],S=F[l],U=F[l-1],r=(e-d)/(_-d),q=b[l-1]*(_-d)-(S-U),w=-b[l]*(_-d)+(S-U),X=(1-r)*U+r*S+r*(1-r)*(q*(1-r)+w*r);
return X};V.AH.Sm=function(e,Z,F,b){var _={N6:[e[0]],N7:[Z[0]],sK:[]};b[0]=_;for(var l=1;l<e.length-1;
l++){_.N6.push(e[l]);_.N7.push(Z[l]);if(F[l]==!1){V.AH.da(_.N6,_.N7,_.sK);_={N6:[e[l]],N7:[Z[l]],sK:[]}}b[l]=_}_.N6.push(e[l]);
_.N7.push(Z[l]);V.AH.da(_.N6,_.N7,_.sK);b[l]=_};V.AH.Qt=function(e,Z,F,b){if(e<=Z[0])return F[0];if(e>=Z[Z.length-1])return F[Z.length-1];
var l=1;while(Z[l]<e)l++;var _=b[l-1];return V.AH.a9C(e,_.N6,_.N7,_.sK)};V.AH.kR=function(e){var Z={N6:[],N7:[],b$:[]};
for(var l=0;l<e.length;l++){Z.N6[l]=e[l].v.Hrzn.v;Z.N7[l]=e[l].v.Vrtc.v;Z.b$[l]=e[l].v.Cnty?e[l].v.Cnty.v:!0}return Z};
V.AH.cD=function(e,gi,Z){var F=0,b=255;if(Z){F=-1e9;b=1e9}var _=V.AH.kR(e),d=[];V.AH.Sm(_.N6,_.N7,_.b$,d);
var S=[];for(var l=0;l<gi;l++)S[l]=1/255*Math.max(F,Math.min(b,V.AH.Qt(l*(255/(gi-1)),_.N6,_.N7,d)));
return S};V.AH.ai3=function(e,gi,Z){var F=Math.round(e.length/20),b=gi-e.length,_=Z?(e[F]-e[0])/F:0,d=Z?e[0]-b*_:e[e.length-1],S=[];
for(var l=0;l<b;l++)S.push(d+l*_);return Z?S.concat(e):e.concat(S)};V.AH.CC=function(e,gi,Z){var F=V.AH.kR(e),b=[];
V.AH.Sm(F.N6,F.N7,F.b$,b);var _=new Uint8Array(gi),d=gi/256;for(var l=0;l<gi;l++)_[l]=Math.max(0,Math.min(gi-1,V.AH.Qt(l*d,F.N6,F.N7,b)));
if(Z){_[0]=0;if(_[1]>100)_[1]=.4*_[1];if(_[2]>150)_[1]=.7*_[2]}return _};V.AH.xw=function(e,Z){var F=new Uint8Array(e.length);
for(var l=0;l<e.length;l++)F[l]=Z[e[l]];return F};V.AH.Bk=function(e,Z,F){var b=document.createElement("canvas");
b.width=Z;b.height=F;var _=b.getContext("2d"),d=V.AH.CC(e,256);_.scale(Z/255,F/255);_.fillStyle="#fff";
_.fillRect(0,0,255,255);_.fillStyle="#333";_.beginPath();_.moveTo(0,255);for(var l=0;l<d.length;l++)_.lineTo(l,255-d[l]);
_.lineTo(255,255);_.closePath();_.fill();return b.toDataURL()};V.style={};V.style.stroke=function(e,Z,F,b){var _=F.w,d=F._,S=new Float64Array(_*d);
V.style.zo(e,S,_,d);V.style.v3(Z,F,S,F,b)};V.style.v3=function(e,Z,F,b,_){var d=Z.QP(b),S=d.w,U=d._;
_+=.5;var r=d.x-Z.x,q=d.y-Z.y,w=Z.w,X=d.x-b.x,Q=d.y-b.y,c=b.w;for(var u=0;u<U;u++){var n=(u+Q)*c+X,k=(u+q)*w+r;
for(var B=0;B<S;B++){var o=Math.max(0,Math.min(1,_-F[n+B]));e[k+B]=Math.round(o*255)}}};V.style.a60=function(e,Z,F,b){for(var _=0;
_<F;_++)for(var d=0;d<Z;d++){var S=_*Z+d,U=0,r=0,q=e[S];if(d==0||_==0){U=e[S+1]-q;r=e[S+Z]-q}else if(d==F-1||_==Z-1){U=q-e[S-1];
r=q-e[S-Z]}else{U=e[S+1]-e[S-1];r=e[S+Z]-e[S-Z]}if(U!=0||r!=0){var w=1/Math.sqrt(U*U+r*r);U*=w;r*=w}b[S+S]=U;
b[S+S+1]=r}};V.style.zo=function(e,Z,F,b){var _=0,d=F*b;for(var l=0;l<d;l++)_|=e[l];if(_==0){Z.fill(1e9);
return}var S=V.style.N9(e,F,b);for(var U=0;U<b;U++)for(var r=0;r<F;r++){var l=U*F+r,q=S[l*2],w=S[l*2+1],X=(U+w)*F+r+q;
if(q==0&&w==0){Z[l]=0;continue}var Q=Math.sqrt(q*q+w*w),c=e[X]*(1/255),u=1/Q,n=Math.abs(q)*u,k=Math.abs(w)*u;
if(k>n){var B=k;k=n;n=B}Z[l]=Q+V.style.aey(n,k,c)}};V.style.aey=function(e,Z,F){return(.5-F)*e};V.style.N9=function(e,Z,F,b){var _=new Int16Array(Z*F*2);
V.style.a31(e,_,Z,F,128);return _};V.style.a31=function(e,Z,F,b,_){var d=new Int32Array(F*b);V.style.apv(e,d,F,b,_);
V.style.a0Q(d,Z,F,b)};V.style.apv=function(e,Z,F,b,_){var d=new Int32Array(b);for(var S=0;S<F;S++){var U=F+b;
for(var r=b-1;r>=0;r--){if(e[r*F+S]>_)U=0;else U++;d[r]=U}U=F+b;for(var r=0;r<b;r++){if(e[r*F+S]>_)U=0;
else U++;Z[r*F+S]=U<d[r]?-U:d[r]}}};V.style.a0Q=function(e,Z,F,b){var _=(F+b)*(F+b),d=new Float64Array(F),S=new Uint16Array(F);
for(var U=0;U<b;U++){var r=U*F,q=0;S[0]=0;d[0]=-_;d[1]=+_;for(var w=1;w<F;w++){var X=e[w+r]*e[w+r]+w*w,Q=(X-(e[S[q]+r]*e[S[q]+r]+S[q]*S[q]))/(2*w-2*S[q]);
while(Q<=d[q]){q--;Q=(X-(e[S[q]+r]*e[S[q]+r]+S[q]*S[q]))/(2*w-2*S[q])}q++;S[q]=w;d[q]=Q;d[q+1]=_}q=0;
for(var w=0;w<F;w++){while(d[q+1]<w)q++;var c=S[q]-w,u=e[S[q]+r],l=U*F+w<<1;Z[l]=c;Z[l+1]=u}}};V.style.jf=function(e,Z,F){if(F)for(var l=0;
l<e.length;l++){var b=e[l];if(b>0)e[l]=Math.max(0,Math.min(255,b+Z*2*(V.style.QO(l)-128)))}else for(var l=0;
l<e.length;l++){var b=e[l];if(b>0)e[l]=Math.max(0,Math.min(255,b+Math.min(b*3,Z*2*(V.style.QO(l)-128))))}};
V.style.QO=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return e&255};V.QK={};
V.QK.f$=function(e,Z,F){var b=e.canvas;if(b.width!=Z||b.height!=F){b.width=Z;b.height=F}};V.QK.Cn=function(e,Z,F,b,_,d){V.QK.f$(e,Z,F);
if(d==null)d=!1;var S=_.channel,U=_.rect,r=!_.isEnabled;if(Z*F==0)return;var q=e.createImageData(Z,F),w=q.data,X=1/Z,Q=1/F;
for(var l=0;l<F;l++)for(var c=0;c<Z;c++){var u=l*Z+c,n=u*4,k=Math.round(b.x+c*X*b.w),B=Math.round(b.y+l*Q*b._),o=0;
if(k<U.x||k>=U.x+U.w||B<U.y||B>=U.y+U._)o=_.color;else o=S[(B-U.y)*U.w+(k-U.x)];o=255*(255-_.cj)+o*_.cj>>>8;
if(d)o=170+Math.round(.4*(o-170));w[n]=o;w[n+1]=o;w[n+2]=o;w[n+3]=255}e.putImageData(q,0,0);if(r)V.QK.bH(e,Z,F)};
V.QK.Ug=[];V.QK.a10=function(e,Z,F,b){var _,d,S;_=Math.ceil(Math.max(Z,F)*.35);d=Z-_;S=F-_;var U=V.QK.Ug[_];
if(U==null){var r=V.LH(_,_);r.fillStyle="#eeeeee";r.fillRect(0,0,_,_);var q=Math.round(_*.27),w=r.lineWidth=Math.max(1,Math.round(_*.12)),X=w/2;
r.strokeRect(1+X,1+X,_-w-2,_-w-2);r.strokeRect(q+X,q+X,_-q-q-w,_-q-q-w);U=V.QK.Ug[_]=r.getImageData(0,0,_,_)}e.putImageData(U,d,S)};
V.QK.Kb=[];V.QK.ad9=function(e,Z,F){var b,_,d;b=Math.ceil(Math.max(Z,F)*.35);_=Z-b;d=F-b;var S=V.QK.Kb[b];
if(S==null){var U=V.LH(b,b);U.fillStyle="#eeeeee";U.fillRect(0,0,b,b);U.lineWidth=1;U.strokeRect(2.5,2.5,b-5,b-5);
var r=U.createImageData(3,3);V.oi(r.data,4278190080);r.data[4*4]=r.data[4*4+1]=r.data[4*4+2]=238;U.putImageData(r,1,1);
U.putImageData(r,b-4,1);U.putImageData(r,1,b-4);U.putImageData(r,b-4,b-4);S=V.QK.Kb[b]=U.getImageData(0,0,b,b)}e.putImageData(S,_,d)};
V.QK.aoq=function(e,Z,F,b,_){V.QK.f$(e,Z,F);var d=Z/b.w;if(Z*F==0)return;e.fillStyle="#999999";e.setTransform(1,0,0,1,0,0);
e.clearRect(0,0,Z,F);var S=V.QK.N1;if(S==null){S=V.QK.N1=JSON.parse(JSON.stringify(fu.jA.default));S.strokeEnabled.v=!0}S.strokeStyleLineWidth.v.val=1/d;
e.fillStyle="#ffffff";e.scale(d,d);V.c.g4(_.T,e,0,0);V.c.g4(_.T,e,0,0,S)};V.QK.Kj=null;V.QK.i4=function(e,Z,F,b,_,d,S,U){V.QK.f$(e,Z,F);
if(Z*F==0)return;var r=Math.max(Z,F),q=V.QK.Kj;if(q==null||q.width<r||q.height<r){V.QK.Kj=q=e.createImageData(r,r)}r=q.width;
var w=q.data,X=b.w/Z,Q=b._/F,c=d.x,u=d.x+d.w,n=d.y,k=d.y+d._;for(var l=0;l<F;l++)for(var B=0;B<Z;B++){var o=l*r+B,T=o*4,z=~~(b.x+B*X),W=~~(b.y+l*Q),$=V.nL(l,B,2);
if(z<c||z>=u||W<n||W>=k){w[T]=$;w[T+1]=$;w[T+2]=$;w[T+3]=255}else{var R=(W-d.y)*d.w+(z-d.x)<<2,P=_[R+3]*(1/255);
w[T]=_[R+0]*P+$*(1-P);w[T+1]=_[R+1]*P+$*(1-P);w[T+2]=_[R+2]*P+$*(1-P);w[T+3]=255}}if(U!=null)for(var l=0;
l<w.length;l+=4)w[l]=w[l+1]=w[l+2]=w[l+U];e.putImageData(q,0,0);if(S)V.QK.bH(e,Z,F)};V.QK.atv=function(e,Z,F,b){V.QK.f$(e,Z,F);
e.fillStyle=V.QK.Gb(b.Clr.v);e.fillRect(0,0,Z,F);V.QK.ok(e,Z,F)};V.QK.$k=null;V.QK.aaI=function(e,Z,F,b){V.QK.f$(e,Z,F);
var _=e.canvas.width,d=e.canvas.height,S=V.QK.$k;if(S==null||S.width!=_||S.height!=d){e.fillStyle="#ffffff";
e.fillRect(0,0,Z,F);e.fillStyle="#000000";e.font=""+F*.7+"px serif";e.fillText("T",(Z-F*.43)/2,F*.75);
e.fillText("T",(Z-F*.43)/2,F*.75);V.QK.$k=e.getImageData(0,0,_,d)}else e.putImageData(S,0,0)};V.QK.apJ=function(e,Z,F){V.QK.f$(e,Z,F);
e.clearRect(0,0,Z,F);e.font=F*.7+"px serif";e.fillText(":(",(Z-F*.43)/2,F*.7)};V.QK.asO=function(e,Z,F,b){V.QK.f$(e,Z,F);
var _=hc.get(b),d=e.canvas.width,S=V.QK.G6[d+_];if(S==null){var U=PIMG["adj/"+_],r=fg.U$(U),q=UPNG.decode(r.buffer),w=new Uint8Array(UPNG.toRGBA8(q)[0]),X=new e3(0,0,160,160),Q=0,c=d-Q*2,u=i.Q.or([w,X],new jg(c/160,0,0,c/160,0,0)),n=new e3(0,0,d,d),k=V.J(n.Z()*4);
V.a.sB("norm",u.buffer,u.rect,k,n,u.rect,1);S=V.QK.G6[d+_]=new ImageData(new Uint8ClampedArray(k.buffer),d,d)}e.putImageData(S,0,0)};
V.QK.G6={};V.QK.ad$=function(e,Z,F,b){V.QK.f$(e,Z,F);var _=e.canvas.width,d=e.canvas.height,S=e.getImageData(0,0,_,d);
V.X.v_(b.Grad.v,new Uint8Array(S.data.buffer),new e3(0,0,_,d),[1/_,0,0,1/d],_/2,d/2,!1,0,16711680,65280);
e.putImageData(S,0,0);V.QK.ok(e,Z,F)};V.QK.akM=function(e,Z,F,b,_){V.QK.f$(e,Z,F);var d=e,S=d4.oF(b.Ptrn.v,_.add.Patt);
if(S==null)return;var U=S.ZV[1];V.QK.i4(e,Z,F,U,S.ZV[0],U,!1);V.QK.ok(d,Z,F)};V.QK.bH=function(e,Z,F){e.strokeStyle="#bb0000";
e.lineWidth=3;e.beginPath();e.moveTo(Z*.15,F*.15);e.lineTo(Z*.85,F*.85);e.moveTo(Z*.85,F*.15);e.lineTo(Z*.15,F*.85);
e.closePath();e.stroke()};V.QK.ok=function(e,Z,F){e.fillStyle="#eeeeee";e.fillRect(0,F*.75,Z,F*.25);
e.beginPath();e.moveTo(0,F*.75);e.lineTo(Z,F*.75);e.moveTo(Z*.1,F*.875);e.lineTo(Z*.9,F*.875);e.moveTo(Z*.65,F*.825);
e.lineTo(Z*.65,F*.95);e.closePath();e.stroke()};V.QK.Gb=function(e){var Z=V.X.Gb(e),F=Math.round(Z.o)<<16|Math.round(Z.z)<<8|Math.round(Z.S);
return"#"+V.Z0(F)};V.c={};V.c.uW=function(e,Z,F){var b=[],_=-1;for(var l=0;l<e.length;l++){var d=e[l];
if((d.type==0||d.type==3)&&d.A8!=-1)_++;if(d.type>5||d.type==0||d.type==3)continue;if(Z!=null&&Z.indexOf(_)==-1)continue;
if(F!=null&&F.indexOf(l)==-1)continue;b.push(d.Gn.x);b.push(d.Gn.y);b.push(d.M.x);b.push(d.M.y);b.push(d.kM.x);
b.push(d.kM.y)}return b};V.c.QR=function(e,Z,F,b){var _=0,d=-1;for(var l=0;l<Z.length;l++){var S=Z[l];
if((S.type==0||S.type==3)&&S.A8!=-1)d++;if(S.type>5||S.type==0||S.type==3)continue;if(F!=null&&F.indexOf(d)==-1)continue;
if(b!=null&&b.indexOf(l)==-1)continue;S.Gn.zU(e[_],e[_+1]);S.M.zU(e[_+2],e[_+3]);S.kM.zU(e[_+4],e[_+5]);
_+=6}};V.c.Jb=function(e,Z,F,b){var _=V.c.uW(e,F,b);V.H.A(_,Z,_);V.c.QR(_,e,F,b)};V.c.aml=function(e,Z,F,b){var _=V.c.uW(e,F,b);
V.N.A(Z,_);V.c.QR(_,e,F,b)};V.c.agI=function(e,Z,F,b){if(F==null&&b==null){var _=V.c.at$(e,40);for(var l=0;
l<_.length;l++)e[l]=_[l]}var d=V.c.uW(e,F,b);V.u5.A(Z,d,V.H.HA(d));V.c.QR(d,e,F,b)};V.c.at$=function(e,Z){var F=[];
for(var l=0;l<e.length;l++){var b=e[l];if(b.type>5){F.push(JSON.parse(JSON.stringify(b)));continue}var _=V.c.af$(e,l+1,b.length);
_=V.H.Ya(_,Z);var d=V.c.aaP(_);l+=b.length;b=JSON.parse(JSON.stringify(b));b.length=d.length;F.push(b);
for(var S=0;S<d.length;S++)F.push(d[S])}return F};V.c.af$=function(e,Z,F){var b={C:["M"],s:[]},_=e[Z],d=e[Z+F-1];
b.s.push(_.M.x,_.M.y);for(var l=1;l<F;l++){var S=e[Z+l-1],U=e[Z+l];b.C.push("C");b.s.push(S.kM.x,S.kM.y,U.Gn.x,U.Gn.y,U.M.x,U.M.y)}b.C.push("C");
b.s.push(d.kM.x,d.kM.y,_.Gn.x,_.Gn.y,_.M.x,_.M.y);return b};V.c.aaP=function(e){var Z=[],F=e.C,b=e.s,_=0,gi=b.length;
Z.push({type:2,Gn:new bI(b[gi-4],b[gi-3]),M:new bI(b[0],b[1]),kM:new bI(b[2],b[3])});for(var l=0;l<F.length-2;
l++){var d=l*6+4;Z.push({type:2,Gn:new bI(b[d],b[d+1]),M:new bI(b[d+2],b[d+3]),kM:new bI(b[d+4],b[d+5])})}return Z};
V.c.abl=function(e){for(var l=0;l<e.length;l++){if(e[l].type>5)continue;var Z=e[l].length;if(!(Z==4||Z==6||Z==8)){l+=Z;
continue}for(var F=0;F<Z;F++){var b=e[l+1+F],_=e[l+1+(F+1)%Z],d=Math.min(b.M.x,_.M.x),S=Math.min(b.M.y,_.M.y),U=0,r=0;
if(b.M.x<_.M.x){U=b.M.y-S;r=U-(_.M.x-d)}else{U=_.M.y-S;r=U-(b.M.x-d)}if(Math.abs(r)<.2*U)return U}}return-1};
V.c.wS=function(e,Z,F){function b(Q,c){var u=Math.min(Q.x,c.x),n=Math.min(Q.y,c.y),k=Math.max(Q.x+Q.w,c.x+c.w),B=Math.max(Q.y+Q._,c.y+c._);
return new e3(u,n,k-u,B-n)}var _=null,d=-1,S=!V.c.mb(e);for(var l=0;l<e.length;l++){var U=e[l];if(U.type>5)continue;
if((U.type==0||U.type==3)&&U.A8!=-1)d++;if(Z!=null&&Z.indexOf(d)==-1)continue;if(l==e.length-1)break;
var r=U.type==3,q=U.length,w=U.A8,X=V.c.anc(e,l+1,q,r);if(_==null)_=X;else if(F)_=b(_,X);else if(S){if(Z!=null||w==0||w==-1||w==2)_=b(_,X);
else if(w==1)_=_;else if(w==3){_=X;S=!1}}else{if(Z!=null||w==0||w==-1||w==1)_=b(_,X);else if(w==2)_=_;
else if(w==3)_=_.QP(X)}l+=q}if(_==null||_.w<0||_._<0)_=new e3(0,0,0,0);return _};V.c.adp=new Float64Array(4);
V.c.anc=function(e,l,Z,F){var b=V.c.adp;b[0]=1e30;b[1]=1e30;b[2]=-1e30;b[3]=-1e30;var _=e[l+Z-1];if(!F)V.c.P4(_.M.x,_.M.y,_.kM.x,_.kM.y,e[l].Gn.x,e[l].Gn.y,e[l].M.x,e[l].M.y,b);
for(var d=l;d<l+Z-1;d++){var S=e[d],U=e[d+1];V.c.P4(S.M.x,S.M.y,S.kM.x,S.kM.y,U.Gn.x,U.Gn.y,U.M.x,U.M.y,b)}return new e3(b[0],b[1],b[2]-b[0],b[3]-b[1])};
V.c.P4=function(e,Z,F,b,_,d,S,U,r){if(e==F&&Z==b&&_==S&&d==U){r[0]=Math.min(r[0],Math.min(e,S));r[1]=Math.min(r[1],Math.min(Z,U));
r[2]=Math.max(r[2],Math.max(e,S));r[3]=Math.max(r[3],Math.max(Z,U));return}var q=e,w=Z,X=e,Q=Z,c=40,u=1/(c-1);
for(var n=0;n<c;n++){var k=n*u,B=1-k,o=B*B*B,T=3*B*B*k,z=3*B*k*k,W=k*k*k,$=o*e+T*F+z*_+W*S,R=o*Z+T*b+z*d+W*U;
if($<q)q=$;else if($>X)X=$;if(R<w)w=R;else if(R>Q)Q=R}if(q<r[0])r[0]=q;if(w<r[1])r[1]=w;if(X>r[2])r[2]=X;
if(Q>r[3])r[3]=Q};V.c.aa=function(e,Z){var F=e.length-3,b=Z%F,_=Math.floor(b);if(Z<0||_>=F)return null;
var d=e[3+_],S=e[3+(_+1)%F],U=d.M,r=d.kM,q=S.Gn,w=S.M,X=b-_,Q=1-X,c=Q*Q*Q*U.x+3*Q*Q*X*r.x+3*Q*X*X*q.x+X*X*X*w.x,u=Q*Q*Q*U.y+3*Q*Q*X*r.y+3*Q*X*X*q.y+X*X*X*w.y;
return new bI(c,u)};V.c.GE=function(e){var Z=V.H.iL(e),F=Z.qp;Z.qp=Typr.U.pathToSVG({crds:F.s,cmds:F.C},2);
return Z};V.c.Yd=function(e){V.c.Sz();var Z,F=V.c.Fz(e),b=[];for(var l=0;l<F.length;l++){var _=F[l][0],d=F[l][1];
if(Math.abs(_.area)<1e-5)b.push(_);else if(Z==null)Z=_;else{if(!_.closed)_.closed=!0;Z=Z[d](_);Z.remove()}}if(Z==null)Z=new paper.CompoundPath(b);
else{if(Z.segments)Z=new paper.CompoundPath(Z);for(var l=0;l<b.length;l++){Z.addChild(b[l])}}var S=e.slice(0,2);
S=S.concat(V.c.$$(Z));if(S[2])S[2].A8=1;for(var l=3;l<S.length;l++)if(S[l].A8!=null)S[l].A8=-1;return S};
V.c.Sz=function(){if(V.c.apZ==null){var e=document.createElement("canvas");paper.setup(e);V.c.apZ=!0}};
V.c.a02=function(e,Z){V.c.Sz();var F=[],b=V.c.Fz(e),_=new paper.Path.Rectangle(new paper.Rectangle(Z.x,Z.y,Z.w,Z._));
_.remove();_.fillColor=new paper.Color(1,0,0);for(var l=0;l<b.length;l++){if(_.intersects(b[l][0])||_.contains(b[l][0].children[0].segments[0].point))F.push(l)}return F};
V.c.Ak=function(e,Z,F,b){V.c.Sz();var _=F?{curves:!0,tolerance:b}:null,d=new paper.Point(Z.x,Z.y),S=V.c.Fz(e);
for(var l=S.length-1;l>=0;l--){var U=S[l][0],r=U.hitTest(d,_);if(r!=null)return{wD:l,YD:F?r.location.index:null}}return{wD:-1}};
V.c.mL=function(e,Z,F){var b=[[],[],[]];for(var l=0;l<e.length;l++){var _=e[l];if(_.type>5||_.type==0||_.type==3)continue;
var d=F==null?!0:F.indexOf(l)!=-1;if(Z.rI(_.M))b[0].push(l);if(Z.rI(_.Gn)&&d)b[1].push(l);if(Z.rI(_.kM)&&d)b[2].push(l)}return b};
V.c.apx=function(e,Z,F){var b=F.slice(0),_=[null,null],d=-1,U=null;for(var l=2;l<e.length;l++){if((e[l].type==0||e[l].type==3)&&e[l].A8!=-1)d++;
_[l]=F[d]}F=_;var S=e.slice(0,2);_=F.slice(0,2);for(var l=2;l<e.length;l++){if(e[l].type==0||e[l].type==3){U=e[l];
S.push(U);_.push(F[l])}else{if(Z.indexOf(l)==-1){S.push(e[l]);_.push(F[l])}else{U.length--;V.$F.q4(F,l)}}}for(var l=2;
l<S.length;l++){var r=S[l];if(r.type!=0&&r.type!=3)continue;if(r.length==0){if(S[l+1]&&S[l+1].A8==-1){S[l+1].A8=r.A8}_.splice(l,1);
S.splice(l,1);l--}}for(var l=0;l<b.length;l++)if(_.indexOf(b[l])==-1){b.splice(l,1);l--}return S};V.c.ar3=function(e,Z){var F=e.slice(0,2),b=-1;
for(var l=2;l<e.length;l++){if((e[l].type==0||e[l].type==3)&&e[l].A8!=-1)b++;if(Z.indexOf(b)==-1)F.push(e[l])}return F};
V.c.a6$=function(e,Z){var F=e.slice(0,2),b=-1;for(var l=2;l<e.length;l++){if((e[l].type==0||e[l].type==3)&&e[l].A8!=-1)b++;
if(Z.indexOf(b)!=-1)F.push(e[l])}return F};V.c.apK=function(e){var Z=0;for(var l=0;l<e.length;l++)if(e[l].type==0||e[l].type==3)Z=l;
return e[Z]};V.c.q$=function(e){var Z=-1;for(var l=0;l<e.length;l++)if((e[l].type==0||e[l].type==3)&&e[l].A8!=-1)Z++;
return Z+1};V.c.rD=function(e,Z,F){var b=-1;for(var l=0;l<e.length;l++)if((e[l].type==0||e[l].type==3)&&(F||e[l].A8!=-1)){b++;
if(b==Z)return l}return-1};V.c.Dk=function(e,Z,F){var b=-1;for(var l=0;l<e.length;l++)if((e[l].type==0||e[l].type==3)&&(F||e[l].A8!=-1)){if(l>=Z)return b;
b++}return b};V.c.wp=function(e,Z){var F=-1,b=0;for(var l=0;l<e.length;l++){if((e[l].type==0||e[l].type==3)&&e[l].A8!=-1)F++;
if(F==Z)b++}return b};V.c.amM=function(e){var Z=180;for(var l=0;l<e.length;l++){if(e[l].type!=0&&e[l].type!=3)continue;
var F=e[l].length;if(F<3)continue;for(var b=0;b<F;b++){var _=e[l+1+(b-1+F)%F],d=e[l+1+b],S=e[l+1+(b+1)%F],U=d.M,r=d.Gn.Tn(U)?_.kM:d.Gn,q=d.kM.Tn(U)?S.Gn:d.kM;
if(U.Tn(r)||U.Tn(q))continue;var w=r.x-U.x,X=r.y-U.y,Q=q.x-U.x,c=q.y-U.y,r=Math.atan2(r.y-U.y,r.x-U.x)*180/Math.PI,q=Math.atan2(q.y-U.y,q.x-U.x)*180/Math.PI,u=Math.abs(q-r)%360,n=u>180?360-u:u;
if(n<Z)Z=n}}return Z*Math.PI/180};V.c.$$=function(e){var Z=e.segments?[e]:e.children,F=[];for(var l=0;
l<Z.length;l++){var b=Z[l],_=b.segments,d=b.closed?0:3,S=F.length,U=null;if(_.length<=1)continue;F.push({type:d,length:_.length,A8:0,SS:2});
for(var r=0;r<_.length;r++){var q=_[r],w=new bI(q.handleIn.x,q.handleIn.y),X=new bI(q.handleOut.x,q.handleOut.y),Q=new bI(q.point.x,q.point.y),c={type:d+1,Gn:Q.add(w),M:Q,kM:Q.add(X)};
if(U==null)U=c;F.push(c);if(r+1==_.length&&bI.Ls(U.M,c.M)<1e-5){F.pop();F[S].length--;U.Gn=c.Gn;if(d==3)for(var u=S;
u<F.length;u++)F[u].type-=3}}}return F};V.c.Fz=function(e){V.c.Sz();var Z=[],F,b=new paper.Color(1,0,0);
function _(c,U){c.remove();c.closed=!U;c.fillRule="evenodd"}for(var l=0;l<e.length;l++){if(e[l].type>5)continue;
var d=e[l].length,S;if(l==e.length-1)break;var U=e[l].type==3;if(l==2){if(!V.c.Ih(e))S="subtract";else S="unite"}else{if(e[l].A8==0)S="exclude";
if(e[l].A8==1)S="unite";if(e[l].A8==2)S="subtract";if(e[l].A8==3)S="intersect"}if(e[l].A8!=-1){F=new paper.CompoundPath;
Z.push([F,S]);F.fillRule="evenodd";F.fillColor=b}var r=[];for(var q=0;q<d;q++){var w=e[l+1+q],X=w.Gn.iv(w.M),Q=w.kM.iv(w.M);
r.push([[w.M.x,w.M.y],[X.x,X.y],[Q.x,Q.y]])}var c=new paper.Path(r);_(c,U);F.addChild(c);l+=d}return Z};
V.c.oP=function(e){for(var l=0;l<e.length;l++){var Z=e[l];if(Z.M==null)continue;if(!Z.M.Tn(Z.Gn)||!Z.M.Tn(Z.kM))return!1}return!0};
V.c.atf=function(e){if(e.length<=5)return 0;var Z=0,F=e.length-3-1;for(var l=0;l<F;l++){var b=e[3+l],_=e[3+l+1];
if(b.type==0||_.type==0)return 0;Z+=(_.M.x-b.M.x)*(b.M.y+_.M.y)}Z+=(e[3].M.x-e[3+F].M.x)*(e[3+F].M.y+e[3+1].M.y);
return-Z*.5};V.c.mb=function(e){var Z=e[2],F=!1;if(e.length==2)F=e[1].all==0;else if(e[1].all==1){if(Z.A8==1||Z.A8==3)F=!0;
else F=!1}else{if(Z.A8==1||Z.A8==3||Z.A8==0)F=!0;else F=!1}return F};V.c.Ih=function(e){var Z=V.c.mb(e);
for(var l=3;l<e.length;l++)if(e[l].A8==3)Z=!0;return Z};V.c.alj=0;V.c.qk=0;V.c.a1a=0;V.c.a9_=function(e,Z,F,b){if(F.BJ())return;
var _=F.Z(),B=16384;V.c.alj+=_;if(_>V.c.qk){V.c.qk=_}var d=F.w,S=F._;if(b==null&&V.c.oP(e)){var U=!0;
for(var l=2;l<e.length;)if(e[l].length==2)l+=3;else{U=!1;break}if(U){return}if(V.c.uc(e)){Z.fill(255);
var r=V.c.wS(e);if(r.Z()!=_){var q=1-(r.x-F.x),w=1-(r.y-F.y),X=1-(F.x+F.w-(r.x+r.w)),Q=1-(F.x+F._-(r.x+r._)),c=~~(q*255),u=~~(X*255),n=~~(w*255),k=~~(Q*255);
Z.fill(n,0,d);Z[0]=~~(q*w*255);Z[d-1]=~~(X*w*255);for(var l=d;l<_;l+=d){Z[l]=c;Z[l+d-1]=u}Z.fill(k,(S-1)*d,S*d);
Z[_-d]=~~(q*Q*255);Z[_-1]=~~(X*Q*255)}return}}var o=Math.ceil(d/B),T=Math.ceil(S/B),z=Math.ceil(d/o),W=Math.ceil(S/T),$=Date.now();
for(var R=0;R<T;R++)for(var P=0;P<o;P++){var H=P*z,y=R*W,h=z,m=W,t=V.LH(h,m);if(!V.c.mb(e))t.fillRect(0,0,h,m);
V.c.g4(e,t,-F.x-H,-F.y-y,b);var j=new Uint8Array(t.getImageData(0,0,h,m).data.buffer);if(h==d&&m==S)V.yC(j,Z,3);
else V.MT(j,new e3(H,y,h,m),Z,new e3(0,0,d,S))}};V.c.g4=function(e,Z,F,b,_){if(_!=null){var d=!1,S=!1,U=0,r=!1;
for(var l=0;l<e.length;l++){var q=e[l].A8;if(q!=null){U++;if(q==-1)d=!0;if(q>0)S=!0;if(e[l].type==0)r=!0}}if(!d&&U<20&&(_==null||r))e=V.c.Yd(e)}for(var l=0;
l<e.length;l++){if(e[l].type>5)continue;var w=e[l].length;if(w==0)continue;if(l==e.length-1)break;var X=e[l].type==3,q=e[l].A8;
if(q!=-1&&_==null){var Q=["xor","source-over","destination-out","source-in"][q];Z.globalCompositeOperation=Q}if(e[l].A8!=-1){Z.beginPath();
if(_){var c=_.strokeStyleLineWidth.v.val,u=_.strokeStyleLineAlignment.v.strokeStyleLineAlignment,n=_.strokeStyleLineCapType.v.strokeStyleLineCapType,k=_.strokeStyleLineJoinType.v.strokeStyleLineJoinType,B=_.strokeStyleMiterLimit.v,o=[],T=_.strokeStyleLineDashSet.v;
for(var z=0;z<T.length;z++)o.push(T[z].v.val*c);Z.setLineDash(o);Z.lineCap=["butt","round","square"][fu.jA.H9.indexOf(n)];
Z.lineJoin=["miter","round","bevel"][fu.jA.join.indexOf(k)];Z.lineWidth=fu.jA.ej.indexOf(u)==1?c:c*=2;
Z.miterLimit=B}}V.c.amZ(Z,e,l+1,w,F,b,X);if(X){}else Z.closePath();if(e[l+1+w]==null||e[l+1+w].A8!=-1){if(_)Z.stroke();
else Z.fill("evenodd")}l+=w}Z.globalCompositeOperation="source-over"};V.c.amZ=function(e,Z,l,F,b,_,d){var S=Z[l],U=null;
e.moveTo(S.M.x+b,S.M.y+_);for(var r=l;r<l+F-1;r++){S=Z[r];U=Z[r+1];e.bezierCurveTo(S.kM.x+b,S.kM.y+_,U.Gn.x+b,U.Gn.y+_,U.M.x+b,U.M.y+_)}if(!d){S=Z[r];
U=Z[l];e.bezierCurveTo(S.kM.x+b,S.kM.y+_,U.Gn.x+b,U.Gn.y+_,U.M.x+b,U.M.y+_)}};V.c.aec=function(e,Z){var F=[],b=Z?4:1;
for(var l=0;l<e.length;l+=2){var _=new bI(e[l],e[l+1]);F.push({type:b,Gn:_.clone(),M:_.clone(),kM:_.clone()})}return F};
V.c.fG=function(e,Z){V.c.Sz();var F=new paper.Path;F.remove();var b=e.length-1,_=Math.sqrt((e[b-1]-e[0])*(e[b-1]-e[0])+(e[b]-e[1])*(e[b]-e[1]))<3;
F.closed=_;for(var l=0;l<e.length;l+=2)F.add(new paper.Point(e[l],e[l+1]));F.simplify(Z);var d=[{type:6},{type:8,all:0}];
d=d.concat(V.c.$$(F));return d};V.c.Hq=function(e,Z,F){var b=e[Z].length,_=e[Z].type,d=0,S=e.slice(Z+1,Z+1+b);
for(var l=0;l<b;l++){var U=F[(l-1+b)%b],r=F[(l+1+b)%b],q=F[l];if(q!=0){var w=S[(l-1+b)%b].M,X=S[(l+0+b)%b].M,Q=S[(l+1+b)%b].M,c=bI.Ls(X,w),u=bI.Ls(X,Q),n=V.H.fd(w.x,w.y,X.x,X.y,Q.x,Q.y,q)[0],k=Math.min(n,U==0?c:c/2,r==0?u:u/2);
q*=k/n;var B=V.H.gB(w.x,w.y,X.x,X.y,Q.x,Q.y,q),o={type:_+1,Gn:new bI(B[2],B[3]),M:new bI(B[2],B[3]),kM:new bI(B[4],B[5])},T={type:_+1,Gn:new bI(B[6],B[7]),M:new bI(B[8],B[9]),kM:new bI(B[8],B[9])};
e.splice(Z+d+1,1,o,T);d++;e[Z].length++}d++}};V.c.oP=function(e){for(var l=0;l<e.length;l++){var Z=e[l],F=Z.type;
if(F==1||F==2||F==4||F==5)if(!Z.M.Tn(Z.Gn)||!Z.M.Tn(Z.kM))return!1}return!0};V.c.uc=function(e){if(e.length!=7||!V.c.oP(e))return!1;
for(var l=0;l<4;l++){var Z=!0;for(var F=0;F<4;F++){var b=e[3+(l+F&3)],_=e[3+(l+F+1&3)];if(b.M.x!=_.M.x&&b.M.y!=_.M.y)Z=!1}if(Z)return!0}return!1};
V.c.wV={};V.c.wV.vw=function(e,Z,F){var b=[{type:6},{type:8,all:0}],_=null;b.push({type:F?3:0,A8:1,length:0,NF:0,Mg:0,SS:1});
if(Z==0)_==null;else if(Z instanceof Array)_=Z;else{_=[];for(var l=0;l<e.length;l+=2)_.push(Z)}b=b.concat(V.c.aec(e,F));
b[2].length=b.length-3;if(_)V.c.Hq(b,2,_);return b};V.c.wV.a0h=function(e,Z,F,b,_){var d=[],S=[],U=.553,r=1,q=-1;
d.push({type:1,Gn:new bI(0,U),M:new bI(0,0),kM:new bI(0,-U)});_+=2;for(var l=0;l<_;l++){var w={type:1};
if(l==0){w.M=new bI(1,-1);w.Gn=new bI(1-U,-1);w.kM=new bI(1+U,-1)}else{var X=-(l+2)*Math.PI/2,Q=1+((l&1)==1?l-1:l),c=Math.sin(X),u=Math.cos(X);
r+=Q*(c-u);q+=Q*(u+c);w.M=new bI(r,q);w.Gn=new bI(r+Q*u*U,q-Q*c*U);if((l&1)==1)Q+=2;w.kM=new bI(r-Q*u*U,q+Q*c*U)}var n={type:1,Gn:new bI(-w.kM.x,-w.kM.y),M:new bI(-w.M.x,-w.M.y),kM:new bI(-w.Gn.x,-w.Gn.y)};
d.push(w);if(l<_-2)S.push(n)}S.reverse();d=d.concat(S);var k=[{type:6},{type:8,all:0}];k.push({type:0,A8:1,length:d.length,NF:0,Mg:0,SS:1});
k=k.concat(d);var B=new jg(F/_,0,0,F/_,0,0);B.rotate(b);B.translate(e,Z);V.c.Jb(k,B);return k};V.c.wV.Rect=function(e,Z,F,b,_){var d=[e,Z,e+F,Z,e+F,Z+b,e,Z+b];
return V.c.wV.vw(d,_)};V.c.wV.xF=function(e,Z,F,b,_,d,S,U){var r=[],q=2*Math.PI/_;for(var l=0;l<_;l++)r.push(Math.cos(l*q-b),Math.sin(l*q-b));
if(S!=null){var w=V.H.HA(r),X=w.w,Q=w._,c=S/(X/2),u=U/(Q/2);for(var l=0;l<r.length;l+=2){r[l]=(r[l]-(w.x+X/2))*c;
r[l+1]=(r[l+1]-(w.y+Q/2))*u}F=1}var n=new jg(F,0,0,F,0,0);n.translate(e,Z);V.H.A(r,n,r);return V.c.wV.vw(r,d)};
V.c.wV.dm=function(e,Z,F,b,_,d,S){var U=[],r=Math.PI/_;for(var l=0;l<_*2;l++){var q=(l&1)==0?1:S;U.push(q*Math.cos(l*r),q*Math.sin(l*r))}var w=new jg(F,0,0,F,0,0);
w.rotate(b);w.translate(e,Z);V.H.A(U,w,U);return V.c.wV.vw(U,d)};V.c.wV.jl=function(e,Z,F,b,_){return V.c.wV.DJ(0,e,Z,F,b,_)};
V.c.wV.a3n=function(e,Z,F,b,_,d){return V.c.wV.DJ(1,e,Z,F,b,_,d)};V.c.wV.BS=function(e,Z,F,b,_,d){return V.c.wV.DJ(2,e,Z,F,b,_,d)};
V.c.wV.DJ=function(e,Z,F,b,_,d,S){var U=Math.sqrt((b-Z)*(b-Z)+(_-F)*(_-F)),r;d/=2;if(e==0)r=[-d,0,d,0,d,U,-d,U];
if(e==1){var q=d*2*S*1.3/1.5,w=d*S;r=[-d,0,d,0,d,U-q,w,U-q,0,U,-w,U-q,-d,U-q]}if(e==2){var q=S[3],w=S[2]/2,X=q*(2/3)*S[4]/100,Q=q-X,c=q;
r=[];if(S[0])r.push(-d,Q,-w,c,0,0,w,c,d,Q);else r.push(-d,0,d,0);if(S[1])r.push(d,U-Q,w,U-c,0,U,-w,U-c,-d,U-Q);
else r.push(d,U,-d,U)}var u=new jg(1,0,0,1,0,0);u.rotate(Math.atan2(-_+F,b-Z)+Math.PI/2);u.translate(Z,F);
V.H.A(r,u,r);return V.c.wV.vw(r,0)};V.c.wV._X=function(e,Z,F,b){var _=[{type:6},{type:8,all:0}],X=.553;
_.push({type:0,A8:1,length:4,NF:0,Mg:0,SS:1});var d=e,S=Z,U=e+F,r=Z+b,e=(d+U)/2,Z=(S+r)/2,q=(d-U)/2,w=(S-r)/2;
_.push({type:1,Gn:new bI(e-X*q,Z-w),M:new bI(e,Z-w),kM:new bI(e+X*q,Z-w)});_.push({type:1,Gn:new bI(e+q,Z-X*w),M:new bI(e+q,Z),kM:new bI(e+q,Z+X*w)});
_.push({type:1,Gn:new bI(e+X*q,Z+w),M:new bI(e,Z+w),kM:new bI(e-X*q,Z+w)});_.push({type:1,Gn:new bI(e-q,Z+X*w),M:new bI(e-q,Z),kM:new bI(e-q,Z-X*w)});
return _};V.c.wV.a5C=function(e,Z,F,b,_){var d=[{type:6},{type:8,all:0}];d.push({type:3,A8:1,length:5,NF:0,Mg:0,SS:1});
var S=(_-b)/4;for(var l=0;l<5;l++){var U=l*S,r=Math.cos(U),q=Math.sin(U),w=.553*(S/(Math.PI/2)),X=q*w,Q=-r*w,c=new bI(r,q);
d.push({type:4,Gn:l==0?c.clone():new bI(r+X,q+Q),M:c,kM:l==4?c.clone():new bI(r-X,q-Q)})}var u=new jg;
u.rotate(-b);u.scale(F,F);u.translate(e,Z);V.c.Jb(d,u);return d};V.YY={};V.YY.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
V.YY.k2=function(e){var Z=e.warpStyle.v.warpStyle;if(Z=="warpNone")return!0;else if(Z=="warpCustom"){var F=!1,b=e.customEnvelopeWarp.v.meshPoints.v.arr,_=b[0].arr,d=b[1].arr;
for(var l=0;l<4;l++)for(var S=0;S<4;S++){if(Math.abs(_[l]-_[S*4+l])>1||Math.abs(d[l*4]-d[l*4+S])>1)F=!0}return!F}else return e.warpValue.v==0&&e.warpPerspective.v==0&&e.warpPerspectiveOther.v==0};
V.YY.J=function(e){var Z={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(e){Z.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:e.y}},Left:{t:"UntF",v:{type:"#Pxl",val:e.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:e.y+e._}},Rght:{t:"UntF",v:{type:"#Pxl",val:e.x+e.w}}}};
Z.uOrder={t:"long",v:4};Z.vOrder={t:"long",v:4}}return Z};V.YY.ami=function(e,Z,F,b){for(var l=0;l<e.length;
l+=2){var _=e[l],d=e[l+1],S=(_-Z.x)/Z.w,U=(d-Z.y)/Z._,r=(1-F)/2,q=1-r,w=r+S*(q-r);U=.5+(U-.5)*w*2;var X=(1-b)/2,Q=1-X,c=X+U*(Q-X);
S=.5+(S-.5)*c*2;_=Z.x+S*Z.w;d=Z.y+U*Z._;e[l]=_;e[l+1]=d}};V.YY.B8=function(e,Z){var F=[],b=[];for(var l=0;
l<e.length;l+=2){F.push(e[l]);b.push(e[l+1])}var _=[];_.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:F});
_.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:b});Z.warpStyle.v.warpStyle="warpCustom";Z.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:_}}}}};
V.YY.wl=function(e,Z){if(Z==null){var F=e.bounds.v,b=F.Left.v.val,_=F.Rght.v.val,d=F.Top.v.val,S=F.Btom.v.val;
Z=new e3(b,d,_-b,S-d)}if(Z.BJ())Z.w=Z._=1;var U=[],r=e.warpStyle.v.warpStyle;if(r=="warpCustom"){var q=e.customEnvelopeWarp.v.meshPoints.v.arr,w=q[0].arr,X=q[1].arr;
for(var l=0;l<16;l++)U.push(w[l],X[l])}else U=V.YY.YY(Z,r,e.warpRotate.v.Ornt=="Hrzn",e.warpValue.v/100,e.warpPerspective.v/100,e.warpPerspectiveOther.v/100);
return U};V.YY.YY=function(e,Z,F,b,_,d){var S=V.u5.J(e.x,e.y,e.w,e._);if(Z=="warpNone")return S;var U=JSON.parse(JSON.stringify(e)),r=new jg;
if(!F){r.translate(-e.x,-e.y);r.rotate(-Math.PI/2);r.translate(e._,0);V.H.A(S,r,S);e=new e3(0,0,e._,e.w);
S=V.u5.rp(S,!1)}V.YY.a8x(S,e,Z,b,_,d);if(!F){S=V.u5.rp(S,!0);e=U;r.eG();V.H.A(S,r,S)}if(b==0)V.YY.ami(S,e,_,d);
else{var r=new jg(1/e.w,0,0,1/e._,-e.x,-e.y);r.translate(-.5,-.5);V.H.A(S,r,S);V.YY.asA(S,d,_);r.eG();
V.H.A(S,r,S)}return S};V.YY.a8x=function(e,Z,F,b,_,d){for(var l=0;l<4;l++){for(var S=0;S<4;S++){var U=2*(4*l+S),r=e[U]-Z.x,q=e[U+1]-Z.y,w=r,X=q;
if(b!=0){var Q=Z.w/2,c=Z._/2;w-=Q;X-=c;var u=w,n=w,k=-c,B=c,o=Math.abs(b),T=Math.tan((1-o)*Math.PI/2),z=Math.sqrt(T*T+1),W=Math.atan2(1,T),$=w/Q*W,R=Q*z,P=Q*z+Z._,H=Math.cos(W),y=Math.sin(W),h=V.YY.a4s(H,y),m=V.YY.a9x(H,y),t=-T*Q+h*R;
if(F=="warpArc"){u=Math.sin($)*P;k=T*Q-Math.cos(W)*P+c;n=Math.sin($)*R;B=T*Q-Math.cos(W)*R+c;if(S==1||S==2){u=S==1?-m*P:m*P;
n=S==1?-m*R:m*R;k=T*Q+c-h*P;B=T*Q+c-h*R}if(b<0){var j=u;u=n;n=j;j=k;k=-B;B=-j}}if(F=="warpArcLower"){if(S==1||S==2){n=S==1?-m*R:m*R;
B=b<0?c-t:c+t}}if(F=="warpArcUpper"||F=="warpArch"||F=="warpBulge"){if(S==1||S==2){u=S==1?-m*R:m*R;k=b<0?-c+t:-c-t}if(F=="warpArch"){n=u;
B=k+2*c}if(F=="warpBulge"){n=u;B=-k}}if(F=="warpFish"||F=="warpFlag"||F=="warpWave"){if(S==1){k-=b*4*c;
B+=b*4*c}if(S==2){k+=b*4*c;B-=b*4*c}if(F=="warpFlag"||F=="warpWave")k=B-2*c}if(F=="warpRise"){if(S<2)k=-c+b*c*4;
B=k+2*c}var x=(X+c)/Z._;w=u+x*(n-u);X=k+x*(B-k);if(F=="warpWave"){if(l==0)X=-c;if(l==3)X=c;if(l==1||l==2)X=2*c*(l/3-.5)*(1/3)+X*(2/3)}if(F=="warpFisheye"){if((l==1||l==2)&&(S==1||S==2)){w=w+4*w*b;
X=X+4*X*b}}if(F=="warpInflate"){var C=2/3;if((l==1||l==2)&&(S==1||S==2)){w=w+.5*w*b;X=X+.5*X*b}else if(l==1||l==2)w=w+C*w*b;
else if(S==1||S==2)X=X+C*X*b}if(F=="warpSqueeze"){var C=2/3;if((l==1||l==2)&&(S==1||S==2)){if(b>0)w=w-C*w*b;
else X=X+C*X*b}else if(l==1||l==2)w=w-C*w*b;else if(S==1||S==2)X=X+C*X*b}if(F=="warpTwist"){if((l==1||l==2)&&(S==1||S==2)){var L=b*Math.PI/2,z=1+Math.abs(b)*2,f=w*Math.cos(L)-X*Math.sin(L),D=w*Math.sin(L)+X*Math.cos(L);
w=f*z;X=D*z}}if(F=="warpShellLower"||F=="warpShellUpper"){if(F=="warpShellUpper"){l=3-l;X=-X}if(l>2||l==2&&(S==0||S==3)){if(b>0){var v=R+l/3*2*c;
w=Math.sin($)*v;X=-T*Q-c+Math.cos($)*v;if(S==1||S==2){w=S==1?-m*v:m*v;X=-T*Q-c+h*v}}else{if((S==1||S==2)&&l==3){w=S==1?-m*R:m*R;
X=T*Q-h*R+c}else if(l==2){X=c-c*(2/3)*Math.cos($);w=w+c*(2/3)*Math.sin($)}}}if(F=="warpShellUpper"){l=3-l;
X=-X}}w+=Q;X+=c}r=w,q=X;e[U]=r+Z.x;e[U+1]=q+Z.y}}};V.YY.asA=function(e,Z,F){var b=[];for(var _=0;_<4;
_++)b.push(1-F+_/3*2*F);var d=[];for(var _=0;_<4;_++)d.push(1-Z+_/3*2*Z);var S=[0,0,0,0],U=[0,0,0,0];
for(var l=0;l<4;l++)for(var _=0;_<4;_++){var r=2*(4*l+_),q=e[r],w=e[r+1];S[_]+=q/4;U[_]+=w/4}for(var l=0;
l<4;l++)for(var _=0;_<4;_++){var X=b[_],r=2*(4*l+_),q=e[r],w=e[r+1],Q=S[_],c=U[_];e[r]=Q+X*(q-Q);e[r+1]=c+X*(w-c)}var u=e.slice(0);
for(var l=0;l<4;l++)for(var _=1;_<3;_++){var r=2*(4*l+_),q=e[r],w=e[r+1],n=r+(_==1?-2:2),k=e[n],B=e[n+1];
e[r]=q-k;e[r+1]=w-B}var o=e[0],T=e[1],z=e[8],W=e[9],$=e[16],R=e[17],P=e[24],H=e[25],y=e[6],h=e[7],m=e[14],t=e[15],j=e[22],x=e[23],C=e[30],L=e[31],f=y-o,D=h-T,v=m-z,A=t-W,M=j-$,Y=x-R,J=C-P,I=L-H;
for(var l=0;l<4;l++){var p=2*l*4,a=0,er=0,c8=l==1?.33:.66,O=1-c8;if(l==0){a=f;er=D}if(l==1){a=O*f+c8*-J;
er=O*D+c8*-I}if(l==2){a=O*f+c8*-J;er=O*D+c8*-I}if(l==3){a=-J;er=-I}e[p]=e[p]+a/2;e[p+1]=e[p+1]+er/2;
e[p+6]=e[p+6]-a/2;e[p+7]=e[p+7]-er/2}for(var l=0;l<4;l++)for(var _=1;_<3;_++){var r=2*(4*l+_),q=e[r],w=e[r+1],n=r+(_==1?-2:2),k=e[n],B=e[n+1],X=2*l/3;
e[r]=k+X*q;e[r+1]=B+X*w}for(var l=1;l<3;l++)for(var _=1;_<3;_++){var r=2*(4*l+_),q=e[r],w=e[r+1],dF=l==1?-8:-16,gl=l==1?16:8,e0=e[r+dF],bv=e[r+dF+1],gm=e[r+gl],iW=e[r+gl+1],X=l/3;
q=(1-X)*e0+X*gm;w=(1-X)*bv+X*iW;e[r]=q;e[r+1]=w}V.H.uS(u,e,e,Z)};V.YY.a4s=function(e,Z){return(4-e)*(1/3)};
V.YY.a9x=function(e,Z){return(1-e)*(3-e)/(3*Z)};V.o8={};V.o8.amD=function(e,Z,F,b,_,d,S,U,r,q){for(var w=0;
w<U;w++)for(var X=0;X<S;X++){var Q=3*(w*S+X),c=w+d,u=X+_,n=e[c*Z+u];b[Q]=n;b[Q+1]=n;b[Q+2]=n}};V.o8.LC=function(e,Z,F,b,_,d,S,U,r,q){var w=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],X=1/r,Q=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],c=new Uint32Array(6);
for(var u=0;u<U;u++){for(var n=0;n<S;n++){var k=3*(u*S+n),B=u+d,o=n+_;c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=0;
c[5]=0;for(var l=0;l<16;l+=2){var T=o+Q[l],z=B+Q[l+1],W=T-r*~~(T*X),$=z-r*~~(z*X),R=q[$*r+W];c[R]+=e[z*Z+T];
c[R+3]++}var T=o,z=B,W=T-r*~~(T*X),$=z-r*~~(z*X),R=q[$*r+W];c[R]=e[B*Z+o];c[R+3]=1;b[k]=c[0]*w[c[3]];
b[k+1]=c[1]*w[c[4]];b[k+2]=c[2]*w[c[5]]}}};V.o8.x0=function(e,Z,F){for(var l=0;l<F;l+=2)e[Z+l]=e[Z+l+1];
Z=Z+F;for(var l=0;l<F;l+=2)e[Z+l+1]=e[Z+l]};V.o8.BZ=function(e,Z,F,b){for(var l=0;l<b;l+=2){var _=Z+l*F;
e[_]=e[_+F];e[_+F+1]=e[_+1]}};V.o8.Hk=function(e,Z,F,b,_,d){var S=b[_],U=b[_+1],r=b[d],q=b[d+1],w=U+r>>>1;
e[Z]=e[Z+3]=e[F]=e[F+3]=S;e[Z+1]=w;e[Z+4]=U;e[F+1]=r;e[F+4]=w;e[Z+2]=e[Z+5]=e[F+2]=e[F+5]=q};V.o8.at6=function(e,Z,F,b,_,d){var S=d*3;
for(var l=0;l<d;l+=2){var U=Z+l,r=_+l*3;V.o8.Hk(b,r,r+S,e,U,U+F)}};V.o8.a0l=function(e,Z,F,b,_,d,S){var U=d*3;
for(var l=0;l<S;l+=2){var r=Z+l*F,q=_+l*d*3;V.o8.Hk(b,q,q+U,e,r,r+F)}};V.o8.lD=function(e,l,Z){var F=e[l-Z-Z],b=e[l-Z],_=e[l-2],d=e[l-1],S=e[l],U=e[l+1],r=e[l+2],q=e[l+Z],w=e[l+Z+Z],X=Math.abs(b-q),Q=Math.abs(d-U),c=Math.abs(S-F)*2+X,u=Math.abs(S-r)*2+Q,n=Math.abs(S-_)*2+Q,k=Math.abs(S-w)*2+X,B=Math.min(c,Math.min(u,Math.min(n,k)));
if(B==c)return b*3+q+S-F>>2;if(B==u)return U*3+d+S-r>>2;if(B==n)return d*3+U+S-_>>2;return q*3+b+S-w>>2};
V.o8.AJ=function(e,Z,F,b,_){if(e<Z&&Z<F||e>Z&&Z>F)return~~(.5+b+(_-b)*(Z-e)/(F-e));else return(b+_>>1)+(Z+Z-e-F>>2)};
V.o8.q6=function(e,Z,l,F){var b=Z[l-F-1],_=Z[l-F+1],d=Z[l],S=Z[l+F-1],U=Z[l+F+1],r=e[l-F-1],q=e[l-F+1],w=e[l],X=e[l+F-1],Q=e[l+F+1],c=Math.abs(q-X)+Math.abs(e[l-F-F+2]-w)+Math.abs(w-e[l+F+F-2])+Math.abs(_-d)+Math.abs(d-S),u=Math.abs(r-Q)+Math.abs(e[l-F-F-2]-w)+Math.abs(w-e[l+F+F+2])+Math.abs(b-d)+Math.abs(d-U);
if(c<u)return V.o8.AJ(_,d,S,q,X);else return V.o8.AJ(b,d,U,r,Q)};V.o8.Qi=function(e,Z,F,b,_,d){e[Z+0]=F[_];
e[Z+1]=b[_];e[Z+2]=V.o8.q6(F,b,_,d)};V.o8.oA=function(e,Z,F,b,_,d){var S=b[_];e[Z+0]=V.o8.AJ(b[_-1],S,b[_+1],F[_-1],F[_+1]);
e[Z+1]=S;e[Z+2]=V.o8.AJ(b[_-d],S,b[_+d],F[_-d],F[_+d])};V.o8.HG=function(e,Z,F,b,_,d){var S=b[_];e[Z+0]=V.o8.AJ(b[_-d],S,b[_+d],F[_-d],F[_+d]);
e[Z+1]=S;e[Z+2]=V.o8.AJ(b[_-1],S,b[_+1],F[_-1],F[_+1])};V.o8.RV=function(e,Z,F,b,_,d){e[Z+0]=V.o8.q6(F,b,_,d);
e[Z+1]=b[_];e[Z+2]=F[_]};V.o8.aij=function(e,Z,F,b,_,d,S,U,r){var q=Date.now(),w=2,X=Z-2,Q=2;if((_&1)==1){w++;
X--}var c=F-2;if((d&1)==1){Q++;c--}if(r==1||r==3){w++;X--}var u=e.slice(0);V.o8.x0(u,0,Z);V.o8.BZ(u,0,Z,F);
V.o8.BZ(u,Z-2,Z,F);V.o8.x0(u,(F-2)*Z,Z);for(var n=Q;n<c;n+=2)for(var k=w;k<X;k+=2){var l=n*Z+k,B=V.o8.lD(u,l,Z),o=V.o8.lD(u,l+Z+1,Z);
u[l]=Math.max(0,B);u[l+Z+1]=Math.max(0,o)}var T=S,z=U;if(d+U==F){z-=2;V.o8.at6(e,(F-2)*Z+_,Z,b,(U-2)*S*3,S)}if(_+S==Z){T-=2;
V.o8.a0l(e,d*Z+_+S-2,Z,b,(S-2)*3,S,U)}if(r==0)for(var n=0;n<z;n+=2)for(var k=0;k<T;k+=2){var W=(n+d)*Z+k+_,$=(n*S+k)*3;
V.o8.Qi(b,$,e,u,W,Z);V.o8.oA(b,$+3,e,u,W+1,Z);W+=Z;$+=3*S;V.o8.HG(b,$,e,u,W,Z);V.o8.RV(b,$+3,e,u,W+1,Z)}else if(r==1)for(var n=0;
n<z;n+=2)for(var k=0;k<T;k+=2){var W=(n+d)*Z+k+_,$=(n*S+k)*3;V.o8.oA(b,$,e,u,W,Z);V.o8.Qi(b,$+3,e,u,W+1,Z);
W+=Z;$+=3*S;V.o8.RV(b,$,e,u,W,Z);V.o8.HG(b,$+3,e,u,W+1,Z)}else if(r==2)for(var n=0;n<z;n+=2)for(var k=0;
k<T;k+=2){var W=(n+d)*Z+k+_,$=(n*S+k)*3;V.o8.RV(b,$,e,u,W,Z);V.o8.HG(b,$+3,e,u,W+1,Z);W+=Z;$+=3*S;V.o8.oA(b,$,e,u,W,Z);
V.o8.Qi(b,$+3,e,u,W+1,Z)}else if(r==3)for(var n=0;n<z;n+=2)for(var k=0;k<T;k+=2){var W=(n+d)*Z+k+_,$=(n*S+k)*3;
V.o8.HG(b,$,e,u,W,Z);V.o8.RV(b,$+3,e,u,W+1,Z);W+=Z;$+=3*S;V.o8.Qi(b,$,e,u,W,Z);V.o8.oA(b,$+3,e,u,W+1,Z)}};
V.raw={};V.raw.a48=function(e){var Z=Date.now(),F=e.width,b=e.height,_=0,d=0,S=F,U=b;if(e.t50829){var r=e.t50829;
_=r[1];d=r[0];S=r[3];U=r[2]}if(e.t50719){var q=e.t50719;_+=q[0]>>1<<1;d+=q[1]>>1<<1}if(e.t50720){var w=e.t50720;
S=_+w[0];U=d+w[1]}var X=S-_,Q=U-d,c=V.raw.anG(e),u=e.t33422,n=e.t33421;if(n){var w=n[0],k=u.slice(0);
for(var B=0;B<w;B++)for(var o=0;o<w;o++){var T=(o+(_&1))%w,z=(B+(d&1))%w;k[B*w+o]=u[z*w+T]}u=k}if(e.t277[0]==1)V.raw.aeR(c,F,b,e,u);
V.raw.Qv(2,e,c,F,b);var W=new Float32Array(X*Q*3);if(e.t277[0]==1){if(n==null){V.o8.amD(c,F,b,W,_,d,X,Q)}else if(n.length!=2||n[0]!=2||n[1]!=2){console.log("Unknown CFA pattern size",n);
V.o8.LC(c,F,b,W,_,d,X,Q,n[0],u)}else{var $=e.t33422.join(","),R=0;if($=="0,1,1,2")R=0;else if($=="1,0,2,1")R=1;
else if($=="2,1,1,0")R=2;else if($=="1,2,0,1")R=3;else throw"Unknown CFA pattern "+$;if((X&1)!=0||(Q&1)!=0)throw"e";
V.o8.aij(c,F,b,W,_,d,X,Q,R)}}else{for(var B=0;B<Q;B++)for(var o=0;o<X;o++){var P=((B+d)*F+o+_)*3,H=(B*X+o)*3;
W[H+0]=c[P+0];W[H+1]=c[P+1];W[H+2]=c[P+2]}}var y=W,h=W.length,m=V.raw.Lk(e),t=1/m;for(var l=0;l<h;l+=3){W[l]=y[l]*t;
W[l+1]=y[l+1]*t;W[l+2]=y[l+2]*t}V.raw.Qv(3,e,W,X,Q);var j=e.yB,x=X,C=Q;if(j==1||j==9){}else{var L=V.raw.SM(j,X,Q),H=0;
x=L[0];C=L[1];var f=W.slice(0);for(var B=0;B<C;B++)for(var o=0;o<x;o++){var D=L[2]*o+L[3]*B+L[4],v=L[5]*o+L[6]*B+L[7],P=(v*X+D)*3;
W[H]=f[P];W[H+1]=f[P+1];W[H+2]=f[P+2];H+=3}}return{XT:W,i2:x,fZ:C}};V.raw.SM=function(e,Z,F){var b=Z,_=F;
if(!1){}else if(e==2)return[Z,F,-1,0,Z-1,0,1,0];else if(e==3)return[Z,F,-1,0,Z-1,0,-1,F-1];else if(e==4)return[Z,F,1,0,0,0,-1,F-1];
else if(e==5)return[F,Z,0,1,0,1,0,0];else if(e==6)return[F,Z,0,1,0,-1,0,F-1];else if(e==7)return[F,Z,0,-1,Z-1,-1,0,F-1];
else if(e==8)return[F,Z,0,-1,Z-1,1,0,0];else throw"unknown orientation "+e};V.raw.aeR=function(e,Z,F,b,_){var d=Date.now(),t=0,C=0;
if(V.raw.Lk(b)>4e4){for(var l=0;l<e.length;l++)e[l]>>=1;var S=["t50714","t50715","t50712","t50717"];
for(var l=0;l<S.length;l++){var U=b[S[l]];if(U)for(var r=0;r<U.length;r++)U[r]>>>=1}console.log("remapping to lower bit depth")}var q=~~Math.sqrt(_.length),w=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],X=[];
for(var Q=0;Q<q;Q++)for(var c=0;c<q;c++){var l=Q*q+c,u=_[l],n=4,k=4,B=8,o=0,T=0;for(var r=0;r<18;r+=2){var z=(q+c+w[r])%q,W=(q+Q+w[r+1])%q,$=_[W*q+z];
if($==u){}else if(n==4){n=$;o=r}else if(k==4&&$!=n){k=$;T=r;break}}if(k<n){var R=k;k=n;n=R;R=T;T=o;o=R}if(n<u){var R=n;
n=u;u=R;R=o;o=B;B=R}if(k<n){var R=k;k=n;n=R;R=T;T=o;o=R}X[l*3]=w[B+1]*Z+w[B];X[l*3+1]=w[o+1]*Z+w[o];
X[l*3+2]=w[T+1]*Z+w[T]}var P=~~(.996*V.raw.Lk(b)),H=~~(.992*V.raw.Lk(b)),y=b.t50728,h=[],m=[0,0,0];for(var Q=1;
Q<F-1;Q++)for(var c=1;c<Z-1;c++){var l=Q*Z+c,j=Q%q*q+c%q,u=e[l+X[j*3+0]],n=e[l+X[j*3+1]],k=e[l+X[j*3+2]],x=Math.max(u,n,k);
if(x>P)h.push(l);else if(x>H){m[0]+=u;m[1]+=n;m[2]+=k;t++}}if(h.length==0)return;if(t/(Z*F)<1e-5){console.log("not enough semi-saturated pixels",t);
m=y}if(m[1]<m[C])C=1;if(m[2]<m[C])C=2;var L=[m[0]/m[C],m[1]/m[C],m[2]/m[C]],f=e.slice(0);for(var D=0;
D<h.length;D++){var l=h[D],Q=~~(l/Z),c=l-Q*Z,j=Q%q*q+c%q,v=Math.min(65535,~~(e[l+X[j*3+C]]*L[_[j]]));
if(v>f[l])f[l]=v}e.set(f)};V.raw.bG=function(e,Z,F,b){var _=e.XT,d=Math.round(_.length/3),S=_.slice(0);
V.raw.md(_,S,F,b);var U=Math.pow(2,b[2]),r=new Uint8Array(4e3);for(var l=0;l<4e3;l++){var q=l*(1/1e3);
q=V.PZ(q);q*=U;q=V.aZ(q);q=Math.max(0,Math.min(1,q));q=V.raw.rE.apd(q,b[3]/100);r[l]=~~(.5+255*q)}for(var l=0;
l<d;l++){var w=l<<2,X=w-l;Z[w]=r[~~(S[X]*1e3)];Z[w+1]=r[~~(S[X+1]*1e3)];Z[w+2]=r[~~(S[X+2]*1e3)]}};V.raw.md=function(e,Z,F,b){var _=Math.round(e.length/3),d=ji.ahB(b[0],b[1]),S=V.raw.a6G(F,d),U=V.tc.multiply(V.tc.wA,S),r=Math.pow(2,F.t50730?F.t50730[0]:0);
U=V.tc.multiply(U,V.tc.WJ(r,r,r));var q=V.raw.md.ahl;if(q==null){q=V.raw.md.ahl=new Float64Array(8e3);
for(var l=0;l<8e3;l++)q[l]=V.aZ(l*(1/1e3))}for(var l=0;l<_;l++){var w=l<<2,X=w-l,Q=e[X],c=e[X+1],u=e[X+2],n=U[0]*Q+U[1]*c+U[2]*u,k=U[4]*Q+U[5]*c+U[6]*u,B=U[8]*Q+U[9]*c+U[10]*u;
if(n<0)n=0;if(k<0)k=0;if(B<0)B=0;Z[X]=q[~~(n*1e3)];Z[X+1]=q[~~(k*1e3)];Z[X+2]=q[~~(B*1e3)]}};V.raw.rE={apd:function(e,Z){var F=.5-.5*Math.cos(e*3.2),b=0;
if(Z>0){var _=e*.2;b=_*e+(1-_)*F}else{var d=Math.pow(e,.33);b=(1-d)*d+d*(e+(e-F)*.63)}var S=Math.abs(Z);
return S*b+(1-S)*e},atP:function(e,Z){var F=0;if(Z>0){var b=e*1.47,_=Math.pow(e,2.4);F=Math.min(1,_*e+(1-_)*b)}else{var b=e*.68,_=Math.pow(e,3);
F=_*e*.5+(1-_)*b}var d=Math.abs(Z);return d*F+(1-d)*e},ado:function(e,Z){var F=0;if(Z>0){var b=Math.pow(e,.3),_=e;
F=(1-e)*b+e*_}else{var b=Math.pow(e,2.5),d=e,_=e;F=Math.min(1,(1-d)*b+d*_)}var S=Math.abs(Z);return S*F+(1-S)*e}};
V.raw.anG=function(e){var Z=e.width,F=e.height,b=Z*F*e.t277,_=new Uint16Array(b),d=null,S=0;V.raw.ar8(e,_);
V.raw.Qv(1,e,_,Z,F);if(e.t50712){d=e.t50712;S=d.length-1;if(d[S]>65535)throw"too big values"}var U=V.raw.vb(e),r=V.raw.a4(e);
if(d==null)for(var l=0;l<b;l++)_[l]=Math.max(0,_[l]-U);else for(var l=0;l<b;l++){var q=_[l];if(q>S)q=S;
q=d[q];_[l]=Math.max(0,q-U)}return _};V.raw.vb=function(e){var Z=e.t50714,F=Z?Z[0]:0,b=e.t50715,_=e.t50716;
if(b)F+=b[0][0]/b[0][1];if(_)F+=_[0][0]/_[0][1];return Math.round(F)};V.raw.a4=function(e){var Z=null,F=0;
if(e.t50712){Z=e.t50712;F=Z.length-1}var b=e.t50717?e.t50717[0]:(1<<e.t258[0])-1;if(Z)b=Math.min(b,Z[F]);
return b};V.raw.Lk=function(e){var Z=V.raw.vb(e),F=V.raw.a4(e);return F-Z};V.raw.ar8=function(e,Z){var F=Z.length,b=e.data,_=e.t258[0];
if(_!=16&&_!=14&&_!=12&&_!=10&&_!=8)throw"Unsupported Bits Per Sample:"+_;_=Math.round(b.length*8/F);
if(_==16&&e.isLE){V.Fk(b,Z);return}for(var l=0;l<F;l+=2){var d=0,S=0,U=0;if(_==16){d=l<<1;S=b[d]<<8|b[d+1];
U=b[d+2]<<8|b[d+3]}else if(_==14){var r=l*14,q=r>>>3,w=b[q]<<24|b[q+1]<<16|b[q+2]<<8|b[q+3];if((r&7)==0){S=w>>>18;
U=w>>>4&16383}else{S=w>>>14&16383;U=w&16383}}else if(_==12){d=l+(l>>>1);S=b[d]<<4|b[d+1]>>4;U=(b[d+1]&15)<<8|b[d+2]}else if(_==10){var r=l*10,q=r>>>3;
if((r&7)==0){S=(b[q]<<2|b[q+1]>>6)&1023;U=(b[q+1]<<4|b[q+2]>>4)&1023}else{S=(b[q]<<6|b[q+1]>>2)&1023;
U=(b[q+1]<<8|b[q+2]>>0)&1023}}else if(_==8){d=l;S=b[d];U=b[d+1]}Z[l]=S;Z[l+1]=U}};V.raw.Qv=function(e,Z,F,b,_){var d=Z["t"+[51008,51009,51022][e-1]],w=0;
if(d==null)return;var S=b*_,U=s.l,r=s.e8,q=new Uint8Array(d),hr=s.l(q,w);w+=4;for(var X=0;X<hr;X++){var Q=U(q,w);
w+=4;var c=U(q,w);w+=4;var u=U(q,w);w+=4;var n=U(q,w);w+=4;if(!1){}else if(Q==1&&e==3){var k=w,B=U(q,k);
k+=4;var o=r(q,k);k+=8;var T=r(q,k);k+=8;var z=r(q,k);k+=8;var W=r(q,k);k+=8;var $=r(q,k);k+=8;var R=r(q,k);
k+=8;k+=(B-1)*8*6;var P=r(q,k);k+=8;var H=r(q,k);k+=8;var y=P*b,h=H*_,m=Math.max(y,b-y),t=Math.max(h,_-h),j=Math.sqrt(m*m+t*t),x=1/j,C=F.slice(0);
for(var L=0;L<_;L++)for(var f=0;f<b;f++){var D=(f+.5-y)*x,v=(L+.5-h)*x,A=D*D+v*v,M=o+T*A+z*(A*A)+W*(A*A)*A,Y=$*(2*D*v)+R*(A+2*D*D),J=R*(2*D*v)+$*(A+2*v*v),I=~~(y+j*(M*D+Y)),p=~~(h+j*(M*v+J)),a=(p*b+I)*3,er=(L*b+f)*3;
F[er]=C[a];F[er+1]=C[a+1];F[er+2]=C[a+2]}}else if(Q==3&&e==3){var k=w,c8=r(q,k);k+=8;var O=r(q,k);k+=8;
var dF=r(q,k);k+=8;var gl=r(q,k);k+=8;var e0=r(q,k);k+=8;var P=r(q,k);k+=8;var H=r(q,k);k+=8;var y=P*b,h=H*_,m=Math.max(y,b-y),t=Math.max(h,_-h),j=Math.sqrt(m*m+t*t),x=1/j;
for(var L=0;L<_;L++)for(var f=0;f<b;f++){var D=(f+.5-y)*x,v=(L+.5-h)*x,A=D*D+v*v,bv=1+(c8+(O+(dF+(gl+e0*A)*A)*A)*A)*A,er=(L*b+f)*3;
F[er]=bv*F[er];F[er+1]=bv*F[er+1];F[er+2]=bv*F[er+2]}}else if(Q==4&&e==1){var k=w,gm=U(q,k);k+=4;var iW=U(q,k);
k+=4;for(var l=0;l<S;l++)if(F[l]==gm)F[l]=F[l-2]+F[l+2]>>1}else if(Q==5&&e==1){var k=w,jx=U(q,k);k+=4;
var aC=U(q,k);k+=4;var d9=U(q,k);k+=4;for(var l=0;l<aC;l++){var bS=U(q,k);k+=4;var jo=U(q,k);k+=4;var l=bS*b+jo;
F[l]=F[l-2]+F[l+2]>>1}}else if(Q==7&&e==1){var k=w,g7=s.E_(q,k);k+=16;var dI=U(q,k);k+=4;var gn=U(q,k);
k+=4;var hI=U(q,k),d$=U(q,k+4);k+=8;var eX=U(q,k);k+=4;var d3=new Uint16Array(eX);for(var l=0;l<eX;l++)d3[l]=s.Ip(q,k+2*l);
var cJ=g7.w,dM=g7._;for(var L=0;L<dM;L+=hI)for(var f=0;f<cJ;f+=d$){var l=(g7.y+L)*b+(g7.x+f);F[l]=d3[F[l]]}}else if(Q==8&&e==2){var k=w,g7=s.E_(q,k);
k+=16;var dI=U(q,k);k+=4;var gn=U(q,k);k+=4;var hI=U(q,k),d$=U(q,k+4);k+=8;var dh=U(q,k);k+=4;var jh=[];
for(var l=0;l<=dh;l++)jh[l]=s.e8(q,k+l*8);var aK=g7.x,ca=g7.x+g7.w,iY=g7.y,et=g7.y+g7._,jD=Z.t50717[0],j6=1/jD;
for(var dc=0;dc<gn;dc++)for(var L=iY;L<et;L+=hI){var er=3*L*b+dI+dc;for(var f=aK;f<ca;f+=d$){var l=er+3*f,ao=F[l]*j6,ec=jh[dh];
for(var fp=dh;fp>0;fp--)ec=ec*ao+jh[fp-1];F[l]=Math.max(0,Math.min(65535,~~(ec*jD)))}}}else if(Q==9&&e==2){var k=w,g7=s.E_(q,k),jf=!0;
k+=16;var dI=U(q,k);k+=4;var gn=U(q,k);k+=4;var hI=U(q,k),d$=U(q,k+4);k+=8;var eN=U(q,k),ha=U(q,k+4);
k+=8;var bJ=r(q,k),g3=r(q,k+8);k+=16;var bL=r(q,k),fD=r(q,k+8);k+=16;var bF=U(q,k);k+=4;if(bF!=1)throw"more than one map plane";
var du=eN*ha,b8=new Float32Array(du);for(var fp=0;fp<du;fp++)b8[fp]=s.ze(q,k+fp*4);for(var fp=0;fp<du;
fp++)if(b8[fp]!=1)jf=!1;if(!jf){var cJ=g7.w,dM=g7._,c1=.9999*(ha-1)/cJ,eV=.9999*(eN-1)/dM;for(var L=0;
L<dM;L+=hI)for(var f=0;f<cJ;f+=d$){var l=(g7.y+L)*b+(g7.x+f),be=f*c1,fh=L*eV,ea=Math.floor(be),g4=Math.floor(fh),i7=be-ea,de=fh-g4,er=g4*ha+ea,hb=b8[er]*(1-i7)+b8[er+1]*i7,hk=b8[er+ha]*(1-i7)+b8[er+1+ha]*i7,e9=hb*(1-de)+hk*de;
F[l]=Math.max(0,Math.min(65535,~~(F[l]*e9+.5)))}}}else console.log("Unknown opcode "+Q+" in OpcodeList"+e+". Length: "+n);
w+=n}};V.raw.a6G=function(e,Z){var F=ji.EK(Z),b=V.raw.tt(e,Z),_=V.tc.eG(b),d=ji.a3f(F,ji.EK(ji.ahd)),S=V.tc.multiply(d,_);
return S};V.raw.amW=function(e){var Z=(e.t50728?e.t50728:[1,1,1]).slice(0),b=1;Z.push(0);var F={x:.34567,y:.3585};
do{var _=V.tc.eG(V.raw.tt(e,F)),d=V.tc.Ey(_,Z),S=ji.aad(d);b=Math.abs(F.x-S.x)+Math.abs(F.y-S.y);F=S}while(b>1e-7);
return F};V.raw.tt=function(e,Z){var F=ji.nC(Z),b=V.raw.anC,_=e.t50778?e.t50778[0]:0,d=e.t50779?e.t50779[0]:0,S=b(e.t50721,e.t50722,_,d,F.pf),U=b(e.t50723,e.t50724,_,d,F.pf);
S=S||[1,0,0,0,1,0,0,0,1];U=U||[1,0,0,0,1,0,0,0,1];var r=e.t50727?[e.t50727[0],0,0,0,e.t50727[1],0,0,0,e.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return V.tc.multiply(V.tc.HP(r),V.tc.multiply(V.tc.HP(U),V.tc.HP(S)))};V.raw.anC=function(e,Z,F,b,_){if(!e&&!Z){return null}else if(e&&!Z){return e}else if(_<F){return e}else if(_>b){return Z}else{var d=(1/_-1/b)/(1/F-1/b),S=1-d,U=[];
for(var l=0;l<9;l++)U[l]=e[l]*d+Z[l]*S;return U}};var ji={};ji.ahd={x:.34567,y:.3585};ji.XG=[{o:0,tA:.18006,Bi:.26352,DE:-.24341},{o:10,tA:.18066,Bi:.26589,DE:-.25479},{o:20,tA:.18133,Bi:.26846,DE:-.26876},{o:30,tA:.18208,Bi:.27119,DE:-.28539},{o:40,tA:.18293,Bi:.27407,DE:-.3047},{o:50,tA:.18388,Bi:.27709,DE:-.32675},{o:60,tA:.18494,Bi:.28021,DE:-.35156},{o:70,tA:.18611,Bi:.28342,DE:-.37915},{o:80,tA:.1874,Bi:.28668,DE:-.40955},{o:90,tA:.1888,Bi:.28997,DE:-.44278},{o:100,tA:.19032,Bi:.29326,DE:-.47888},{o:125,tA:.19462,Bi:.30141,DE:-.58204},{o:150,tA:.19962,Bi:.30921,DE:-.70471},{o:175,tA:.20525,Bi:.31647,DE:-.84901},{o:200,tA:.21142,Bi:.32312,DE:-1.0182},{o:225,tA:.21807,Bi:.32909,DE:-1.2168},{o:250,tA:.22511,Bi:.33439,DE:-1.4512},{o:275,tA:.23247,Bi:.33904,DE:-1.7298},{o:300,tA:.2401,Bi:.34308,DE:-2.0637},{o:325,tA:.24792,Bi:.34655,DE:-2.4681},{o:350,tA:.25591,Bi:.34951,DE:-2.9641},{o:375,tA:.264,Bi:.352,DE:-3.5814},{o:400,tA:.27218,Bi:.35407,DE:-4.3633},{o:425,tA:.28039,Bi:.35577,DE:-5.3762},{o:450,tA:.28863,Bi:.35714,DE:-6.7262},{o:475,tA:.29685,Bi:.35823,DE:-8.5955},{o:500,tA:.30505,Bi:.35907,DE:-11.324},{o:525,tA:.3132,Bi:.35968,DE:-15.628},{o:550,tA:.32129,Bi:.36011,DE:-23.325},{o:575,tA:.32931,Bi:.36038,DE:-40.77},{o:600,tA:.33724,Bi:.36051,DE:-116.45}];
ji.nC=function(e){var Z=ji.XG,F=2*e.x/(1.5-e.x+6*e.y),b=3*e.y/(1.5-e.x+6*e.y),_=0,d=0,S=0;for(;S<31;
S++){_=b-Z[S].Bi-Z[S].DE*(F-Z[S].tA);if(S>0&&_<0){break}d=_}while(S>=Z.length)S--;_/=Math.sqrt(1+Z[S].DE*Z[S].DE);
d/=Math.sqrt(1+Z[S-1].DE*Z[S-1].DE);var U=d/(d-_),r=1e6/((Z[S].o-Z[S-1].o)*U+Z[S-1].o),q=F-((Z[S].tA-Z[S-1].tA)*U+Z[S-1].tA),w=b-((Z[S].Bi-Z[S-1].Bi)*U+Z[S-1].Bi),X=Math.sqrt(1+Z[S].DE*Z[S].DE),Q=1/X,c=Z[S].DE/X,u=Math.sqrt(1+Z[S-1].DE*Z[S-1].DE),n=1/u,k=Z[S-1].DE/u,B=(Q-n)*U+n,o=(c-k)*U+k,T=Math.sqrt(B*B+o*o);
B/=T;o/=T;var z=(q*B+w*o)*-3e3;return{pf:r,Fb:z}};ji.ahB=function(e,Z){var F=ji.XG,b=1e6/e,_=1;for(;
_<31;_++){if(b<F[_].o){break}}var d=(F[_].o-b)/(F[_].o-F[_-1].o),S=(F[_-1].tA-F[_].tA)*d+F[_].tA,U=(F[_-1].Bi-F[_].Bi)*d+F[_].Bi,r=Math.sqrt(1+F[_].DE*F[_].DE),q=1/r,w=F[_].DE/r,X=Math.sqrt(1+F[_-1].DE*F[_-1].DE),Q=1/X,c=F[_-1].DE/X,u=(Q-q)*d+q,n=(c-w)*d+w,k=Math.sqrt(u*u+n*n);
u/=k;n/=k;S+=u*Z/-3e3;U+=n*Z/-3e3;return{x:1.5*S/(S-4*U+2),y:U/(S-4*U+2)}};ji.aad=function(e){var Z=e[0]+e[1]+e[2];
return{x:e[0]/Z,y:e[1]/Z}};ji.EK=function(e){return{x:e.x/e.y,y:1,QF:(1-e.x-e.y)/e.y}};ji.a3f=function(e,Z){var F=V.tc.HP([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),b=[e.x,e.y,e.QF,0],_=[Z.x,Z.y,Z.QF,0];
b=V.tc.Ey(F,b);_=V.tc.Ey(F,_);var d=_[0]/b[0],S=_[1]/b[1],U=_[2]/b[2],r=V.tc.HP([d,0,0,0,S,0,0,0,U]),q=V.tc.eG(F);
return V.tc.multiply(V.tc.multiply(q,r),F)};V.raw.AB={};V.raw.Um=function(e){e*=8;var Z=[8,10,12,14,16];
for(var F in CAMS){var b=CAMS[F];if(b.length==4)continue;var _=b[4],d=b[5];for(var l=0;l<Z.length;l++)if(_*d*Z[l]==e)return[F,Z[l]]}var S=[[4e3,3e3]];
for(var l=0;l<S.length;l++){var b=S[l],_=b[0],d=b[1];for(var l=0;l<Z.length;l++)if(_*d*Z[l]==e)return[b,Z[l]]}return null};
V.raw.ac3=function(e){var e=new Uint8Array(e);for(var l=0;l<e.length;l+=2){var Z=e[l];e[l]=e[l+1];e[l+1]=Z}var F=V.raw.Um(e.length),b=CAMS[F[0]];
if(b==null)b=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,F[0][0],F[0][1]];var _=b[4],d=b[5],S=Math.max(b[2],116),U={data:e,yB:1,width:_,height:d,t256:[_],t257:[d],t258:[F[1]],t277:[1],t33421:[2,2],t33422:V.raw.u9[b[1]],t50706:[1,2,0,0],t50714:[S,S,S,S],t50717:[b[3]],t50721:b[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var l=0;l<9;l++)U.t50721[l]/=1e4;return U};V.raw.tP=function(e){if(e==null||e.length==0||typeof e[0]=="number")return e;
var Z=[];for(var l=0;l<e.length;l++)Z[l]=e[l][1]==0?0:e[l][0]/e[l][1];return Z};V.raw.u9=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
V.raw.normalize=function(e,Z){if(e.t50706!=null||e.t271[0].startsWith("Hasselblad")){var F=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var l=0;l<F.length;l++)if(e["t"+F[l]]!=null)e["t"+F[l]]=V.raw.tP(e["t"+F[l]]);if(e.t271&&e.t271[0].startsWith("Hasselblad")){e.t50706=[1,2,0,0];
e.t33422=V.raw.u9[1];e.t50723=[1,0,0,0,1,0,0,0,1];e.t50778=[17];if(!e.isLE)for(var l=0;l<e.data.length;
l+=2){var b=e.data[l];e.data[l]=e.data[l+1];e.data[l+1]=b}}return}var _=e.t258[0],d=e.exifIFD,Z=new Uint8Array(Z);
e.t50706=[1,2,0,0];var S=e.t272[0].trim();if(S.indexOf(" ")==-1)S=e.t271[0].trim()+" "+S;if(e.t50708==null)e.t50708=[S];
var U=S.toLowerCase(),r=CAMS,q=r[U];if(q==null)for(var w in r)if(U.startsWith(w))q=r[w];if(q==null)alert("Unknown camera:"+S);
else{var X=q[2];e.t50714=[X,X,X,X];e.t50717=[q[3]];e.t50721=q[0].slice(0);for(var l=0;l<9;l++)e.t50721[l]=e.t50721[l]*(1/1e4)}e.t50723=[1,0,0,0,1,0,0,0,1];
if(e.t50728==null)e.t50728=[.35,1,.6];e.t50778=[17];if(e.t271[0].startsWith("SONY")){var Q=UTIF["_bin"+(e.isLE?"LE":"BE")],c=e.t28688,z;
if(JSON.stringify(c)!="[8000,10400,12900,14100]")console.log(c);if(c){var u=[0,0,0,0,0,4095],n=new Uint16Array(16385);
for(var l=0;l<4;l++){var k=c[l]>>>2;u[l+1]=k;if(k>4095)throw"e"}for(var l=0;l<16385;l++)n[l]=l;for(var l=0;
l<5;l++)for(var B=u[l]+1;B<=u[l+1];B++)n[B]=n[B-1]+(1<<l);var o=Z.length*8<e.width*e.height*_;if(o)e.t50712=n}else console.log("no curve");
var T=e.dngPrvt;if(T){var W=T.t29184[0],$=T.t29185[0],R=(e.isLE?s.lg:s.l)(T.t29217,0),P=new Uint32Array(Z.slice(W,W+($&4294967292)).buffer),H=new Uint32Array($>>>2);
V.raw.a4m(P,H,$>>>2,R);var y=new Uint8Array(W+$);y.set(new Uint8Array(H.buffer),W);var h=[];UTIF._readIFD(Q,y,W,h,0,!1);
var m=h.pop(),t=m.t29458;e.t50728=[t[1]/t[0],1,t[1]/t[3]];e.t50730=[.5];var j=m.t29891;e.t50829=[j[1],j[0],j[3],j[2]]}else if(d.makerNote&&d.makerNote.t8208){var z=d.makerNote,x=z.t8208,C=x.length,L=0,f=new Uint8Array(256);
for(var l=249;l<256;l++)f[l]=l;for(var l=0;l<249;l++)f[l*l*l%249]=l;for(var l=0;l<C;l++)x[l]=f[x[l]];
if(C==6604)L=612;else throw"e";var t=[];for(var l=0;l<3;l++)t.push(s.ZL(x,L+l*2));console.log(t);e.t50728=[t[1]/t[0],1,t[1]/t[2]]}else console.log("no white balance");
if(e.width*e.height*1.5==e.t279[0]){X=X>>>2;e.t50714=[X,X,X,X];e.t50717=[q[3]>>>2]}}else if(e.t271[0].startsWith("Canon")){var Z=e.data,D=Z.slice(0),v=e.t50752,A=[],Y=0;
if(v==null||v[0]==0&&v[1]==0)A.push(e.width);else{for(var l=0;l<v[0];l++)A.push(v[1]);A.push(v[2])}var M=e.width*2;
for(var J=0;J<A.length;J++){var I=A[J],p=2*Y,a=2*I;for(var er=0;er<e.height;er+=2){var c8=er*M+p,O=e.height*p+(er>>1)*a*2;
for(var l=0;l<a;l++){Z[c8+l]=D[O+l];Z[c8+l+M]=D[O+l+a]}}Y+=I}var z=d.makerNote;if(z.t16385){var dF=z.t224,bv=0;
if(dF){e.t50719=[dF[5],dF[6]];e.t50720=[dF[7]+1-dF[5],dF[8]+1-dF[6]]}var gl=z.t16385,e0=gl.length;if(e0==582)bv=1;
else if(e0==653)bv=2;else if(e0==796)bv=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(e0)!=-1)bv=4;
else if(e0==5120){bv=5;gl=new Int16Array(gl.slice(0).buffer)}else if(e0==1273||e0==1275)bv=6;else if([1312,1313,1316,1506].indexOf(e0)!=-1)bv=7;
else if([1560,1592,1353,1602].indexOf(e0)!=-1)bv=8;else throw"e"+e0;var gm=gl[0],iW=[null,[25,166],[34,286],[63,196],[63],[71,gm==-4?333:264],[63,251],[63,gm==10?504:728],[63,326]],L=iW[bv][0],jx=iW[bv][1];
if(bv==4){if(gl[0]==2)jx=231;else if(gl[0]==3)jx=231;else if(gl[0]==4)jx=231;else if(gl[0]==5)jx=231;
else if(gl[0]==6)jx=231;else if(gl[0]==7)jx=231;else if(gl[0]==9)jx=231;else throw"e"}e.t50728=[gl[L+1]/gl[L],1,gl[L+1]/gl[L+3]];
var X=jx==null?1024:gl[jx];if(bv!=4)e.t50714=[X,X,X,X]}else{e.t50728=[.4,1,.6]}}else if(e.t271[0].startsWith("NIKON")){var z=d.makerNote,aC=e.isLE?s.ZL:s.Ea,gn=0,hI=0,cJ,et=0;
if(z.t61){var d9=z.t61,bS=[];for(var l=0;l<4;l++)bS[l]=d9[l]/Math.pow(2,14-_);e.t50714=bS}if(z.t3585){var jo=z.t3585,l=0,W=22;
while(W<jo.length&&l!=-4){var g7=s.lg(jo,W);W+=4;W+=14;l=s.lg(jo,W)-4;W+=4;if(g7==1990472198){if(jo[W]!=0)throw"Flip"}if(g7==1990472199){var dI=s.ZL(jo,W);
if(dI==0)e.yB=1;else if(dI==270)e.yB=8;else throw"e "+dI}W+=l}}if(z.t183){var d$=z.t183,eX=[];for(var l=0;
l<6;l++)eX.push(aC(d$,16+l*2));gn=eX[0];hI=eX[1]}if(z.t3614){var d3=z.t3614;gn=s.lg(d3,8);hI=s.lg(d3,12)}if(gn!=0){if(gn<hI){var b=gn;
gn=hI;hI=b}var Y=e.width-gn>>>1,er=e.height-hI>>>1;e.t50829=[er,Y,er+hI,Y+gn]}if(z.t12){var dM=V.raw.tP(z.t12);
cJ=[1/dM[0],1,1/dM[1]]}else if(z.t151){var dh=V.raw.am8(z,151),jh=dh[0],i6=dh[1],aK=dh[2];if(jh=="0100"&&i6>=80)throw"e";
else if(jh=="0102"){var ca=[];for(var l=0;l<4;l++)ca.push(aC(aK,6+l*2));cJ=[ca[1]/ca[0],1,ca[1]/ca[3]]}else if(jh=="0103"&&i6>=26){var ca=[];
for(var l=0;l<4;l++)ca.push(aC(aK,16+l*2));cJ=[ca[1]/ca[0],1,ca[3]/ca[2]]}else if(jh=="0204"&&i6>=564||jh=="0205"&&i6>=284){var W=jh=="0204"?6:14,ca=[];
for(var l=0;l<4;l++)ca.push(aC(aK,W+l*2));cJ=[ca[1]/ca[0],1,ca[1]/ca[3]]}else throw"e"}else console.log("no white balance info");
if(S=="NIKON D1")cJ=[1,1,1];if(cJ)e.t50728=cJ;var iY=z.t150?z.t150:z.t140;if(iY){var jD=iY[et++],j6=iY[et++],ec;
if(jD==73||j6==88)et+=2110;et+=8;var dc=1<<_&32767,ao=aC(iY,et);et+=2;var n=[];if(ao>1)ec=Math.floor(dc/(ao-1));
if(jD==68&&j6==32&&ec>0){for(l=0;l<ao;l++){n[l*ec]=aC(iY,et);et+=2}for(l=0;l<dc;l++)n[l]=Math.floor((n[l-l%ec]*(ec-l%ec)+n[l-l%ec+ec]*(l%ec))/ec)}else if(jD!=70&&ao<=16385){dc=ao;
for(var l=0;l<ao;l++)n[l]=aC(iY,et+2*l);et+=2*ao}if(n.length!=0)e.t50712=new Uint16Array(n);else if(e.t272[0]=="NIKON D750")e.t50717[0]*=4}}else if(S.startsWith("FujiFilm")){}else alert("Unknown camera "+S)};
V.raw.a4m=function(e,Z,F,b){if(0==F)return;var _=new Uint32Array(128),d=new Uint8Array(_.buffer),S=127,U=0,r=0;
for(var S=0;S<4;S++)_[S]=b=(b*15625>>>0)*3125+1>>>0;_[3]=_[3]<<1|(_[0]^_[2])>>>31;for(var S=4;S<127;
S++)_[S]=(_[S-4]^_[S-2])<<1|(_[S-3]^_[S-1])>>>31;for(var S=0;S<127;S++)_[S]=s.l(d,S*4);for(;F>0;F--){_[S&127]=_[S+1&127]^_[S+1+64&127];
var q=_[S&127],w=e[U];w^=q;Z[r]=w;U++;r++;S++}};V.raw.alA=function(e,Z){var F=s.fl(Z,0,4),b=V.raw.aax;
for(var l=0;l<b.length;l++)if(b[l][0]==e&&F.startsWith(b[l][1])&&(b[l][2]==0||b[l][2]==Z.length))return b[l];
throw"e"};V.raw.a2S=function(e){if(e.t29==null)return[];var Z=V.raw.a5z,F=V.raw.aoe,b=e.t29[0],_=0,S=0;
for(var l=0;l<b.length;l++){var d=b.charCodeAt(l);_=_*10+(48<=d&&d<=57?d-48:d%10)}var i6=e.t167[0];for(var l=0;
l<4;l++)S^=i6>>>(l<<3)&255;var U=Z[_&255],r=F[S&255];return[U,r,96]};V.raw.am8=function(e,Z){var F=e["t"+Z],i6=F.length,b=V.raw.alA(Z,F),_=s.fl(F,0,4),d,S=b[4];
if(S==null)d=F.slice(4);else{d=new Uint8Array(i6-S);var U=V.raw.a2S(e),r=U[0],q=U[1],w=U[2];for(var l=0;
l<d.length;l++){q=q+r*w++&255;d[l]=F[S++]^q}}return[_,i6,d]};V.raw.aax=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
V.raw.a5z=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
V.raw.aoe=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
V.EJ={};V.EJ.EJ=function(e,Z,F,b,_){if(b==null)b=3;if(_==null)_=!0;var d=e.w,S=e._,U=1/d,r=d*S,q=Date.now(),w=!1,X=V.EJ.oc(F,d,S,255,128),Q=V.EJ.oc(F,d,S,0,128),c8=0;
if(w)console.log("extract contours",Date.now()-q);q=Date.now();var c=function(ec,fp){var eN=ec<<2,ha=fp<<2;
return Z[eN]+Z[eN+1]+Z[eN+2]-(Z[ha]+Z[ha+1]+Z[ha+2])};X.sort(c);Q.sort(c);var u=V.J(r),n=V.J(r),k=[],B=new Uint32Array(d*S);
B.fill(4294967295);for(var l=0;l<r;l++)if(F[l]==0)n[l]=255;else if(F[l]==255)u[l]=255;else{B[l]=k.length;
k.push(l)}var o=X.length,T=Q.length,z=k.length;function W(ec,fp,eN,ha){var bJ=ec.length,g3=new Array(bJ*2);
for(var l=0;l<bJ;l++){var L=ec[l],f=~~(L*ha),D=L-f*eN,j6=L<<2;g3[l*2]=D<<16|f;g3[l*2+1]=fp[j6]<<16|fp[j6+1]<<8|fp[j6+2]}return g3}var $=W(X,Z,d,U),R=W(Q,Z,d,U),P=W(k,Z,d,U);
if(w)console.log("Itemize",Date.now()-q,"Unknown:",z,o,T);q=Date.now();var H=V.style.N9(u,d,S,!0),y=V.style.N9(n,d,S,!0),h=new Array(z),m=new Array(z),t=new Array(z),j=new Array(z),x=new Array(z);
if(w)console.log("Dist transform",Date.now()-q);q=Date.now();var C=V.EJ.h3;for(var l=0;l<z;l++){var L=k[l],f=~~(L*U),D=L-f*d,v=H[L<<1],A=H[(L<<1)+1],M=Math.sqrt(v*v+A*A),Y=y[L<<1],J=y[(L<<1)+1],I=Math.sqrt(Y*Y+J*J);
h[l]=1/M;m[l]=1/I;var p=Math.floor(V.a.QO(L*17)*o),a=Math.floor(V.a.QO(L*19)*T);t[l]=p;j[l]=a;x[l]=C(P[l*2],P[l*2+1],$[p*2],$[p*2+1],R[a*2],R[a*2+1],h[l],m[l],1e9)}var er=[-d-1,-d,-d+1,-1,1,d-1,d,d+1];
while(Math.floor(Math.max(o,T)*Math.pow(.5,c8))>1)c8++;for(var O=0;O<b;O++){var dF=0;for(var l=0;l<z;
l++){var L=k[l],f=~~(L*U),D=L-f*d,gl=h[l],e0=m[l],bv=P[l*2],gm=P[l*2+1],iW=x[l],p=t[l],a=j[l],g7=1;if(f!=0&&D!=0&&D!=d-1&&f!=S-1)for(var jx=0;
jx<8;jx++){var aC=B[L+er[jx]];if(aC==4294967295)continue;var d9=t[aC],bS=j[aC];if(d9==p&&bS==a)continue;
var jo=C(bv,gm,$[d9*2],$[d9*2+1],R[bS*2],R[bS*2+1],gl,e0,iW);if(jo<iW){iW=jo;p=d9;a=bS}}for(var dI=0;
dI<c8;dI++){var gn=~~(o*g7),hI=~~(T*g7);g7*=.5;var d$=V.a.QO(L+O*17+dI*31),eX=V.a.QO(L+O*29+dI*63),d3=Math.max(0,p-gn),cJ=Math.min(p+gn,o-1),dM=Math.max(0,a-hI),dh=Math.min(a+hI,T-1),d9=d3+~~(d$*(cJ-d3)),bS=dM+~~(eX*(dh-dM)),jo=C(bv,gm,$[d9*2],$[d9*2+1],R[bS*2],R[bS*2+1],gl,e0,iW);
if(jo<iW){iW=jo;p=d9;a=bS}}x[l]=iW;t[l]=p;j[l]=a;dF+=iW}}if(w)console.log(dF);if(w)console.log("iterations",Date.now()-q);
q=Date.now();var jh=F.slice(0);for(var l=0;l<z;l++){var aK=V.EJ.alpha(P[l*2+1],$[t[l]*2+1],R[j[l]*2+1]);
jh[k[l]]=~~(.5+255*aK)}jh=V.sF.arF(jh,Z,new e3(0,0,d,S),16,.01*.01);if(w)console.log("guided filter",Date.now()-q);
q=Date.now();if(_)for(var l=0;l<r;l++)if(F[l]==255||F[l]==0)jh[l]=F[l];var ca=Z.slice(0);for(var l=0;
l<z;l++){var iY=k[l],p=X[t[l]],iW=x[l],j6=iY<<2,dc=jh[iY],ao=(dc>=250?iY:p)<<2;ca[j6]=Z[ao];ca[j6+1]=Z[ao+1];
ca[j6+2]=Z[ao+2]}V.s$(jh,ca,3);if(w)console.log(Date.now()-q);q=Date.now();return ca};V.EJ.h3=function(e,Z,F,b,_,d,S,U,r){var q=e>>>16,w=e&65535,X=q-(F>>>16),Q=w-(F&65535),c=q-(_>>>16),u=w-(_&65535),n=Math.sqrt(X*X+Q*Q)*S,k=Math.sqrt(c*c+u*u)*U;
if(n+k>=r)return 1e9;var B=V.EJ.a4t(Z,b,d);return B+n+k};V.EJ.a4t=function(e,Z,F){var b=e>>>16,_=e>>>8&255,d=e&255,S=Z>>>16,U=Z>>>8&255,r=Z&255,q=F>>>16,w=F>>>8&255,X=F&255,Q=V.EJ.alpha(e,Z,F),c=b-(Q*S+(1-Q)*q),u=_-(Q*U+(1-Q)*w),n=d-(Q*r+(1-Q)*X);
return Math.sqrt(c*c+u*u+n*n)};V.EJ.alpha=function(e,Z,F){var b=e>>>16,_=e>>>8&255,d=e&255,S=Z>>>16,U=Z>>>8&255,r=Z&255,q=F>>>16,w=F>>>8&255,X=F&255,Q=S-q,c=U-w,u=r-X,n=b-q,k=_-w,B=d-X,o=Q*Q+c*c+u*u,T=o==0?.5:(n*Q+k*c+B*u)/o;
return Math.max(0,Math.min(1,T))};V.EJ.aqa=function(e){};V.EJ.oc=function(e,Z,F,b,_){var d=[],S=Z-1,U=F-1;
for(var r=1;r<U;r++)for(var q=1;q<S;q++){var l=r*Z+q;if(e[l]==b&&(e[l-Z-1]==_||e[l-Z]==_||e[l-Z+1]==_||(e[l-1]==_||e[l+1]==_)||(e[l+Z-1]==_||e[l+Z]==_||e[l+Z+1]==_)))d.push(l)}return d};
V.sF={};V.sF.a3X=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=V.sF.sE,q=V.J(U*4),w;V.oi(q,4294967295);
var X=F,Q=e,c=Z,u=b;V.s$(e,q,0);w=V.ht(q,F);w=V.ht(w.XT,w.rect);X=w.rect;u=b>>>2;console.log(X,u);Q=V.J(X.Z());
V.yC(w.XT,Q,0);V.s$(Z,q,0);w=V.ht(q,F);w=V.ht(w.XT,w.rect);c=V.J(X.Z());V.yC(w.XT,c,0);var n=V.sF.acQ(Q,c,X,u,_),k=n[0],B=n[1],o=new e3(0,0,X.w*2,X._*2);
k=r(k,X,o,!0);k=r(k,o,F,!0);B=r(B,X,o,!0);B=r(B,o,F,!0);var T=V.J(U);for(var l=0;l<U;l++)T[l]=Math.max(0,Math.min(255,Math.floor(.5+(k[l]*Z[l]+255*B[l]))));
return T};V.sF.sE=function(e,Z,F,b){var _=F.w,d=F._,S=Z.w,U=Z._,r=V.sF.uU,q=new Float32Array(_*d);for(var w=0;
w<U;w++){var X=(w+w)*_;for(var Q=0;Q<S;Q++){if(!0||Q==0||w==0||Q==S-1||w==U-1)q[X]=q[X+1]=q[X+_]=q[X+_+1]=e[w*S+Q];
else{q[X]=r(Q+.25,w+.25,e,S,U);q[X+1]=r(Q+.75,w+.25,e,S,U);q[X+_]=r(Q+.25,w+.75,e,S,U);q[X+_+1]=r(Q+.75,w+.75,e,S,U)}X+=2}}return q};
V.sF.uU=function(e,Z,F,b,_){e-=.499999;Z-=.499999;var d=Math.floor(e),S=Math.floor(Z),U=S*b+d,r=e-d,q=Z-S,w=(1-q)*(1-r),X=(1-q)*r,Q=q*(1-r),c=q*r;
if(F[U]==null||F[U+b+1]==null){console.log(e,Z,b,_);throw"e"}return w*F[U+0]+X*F[U+1]+Q*F[U+b+0]+c*F[U+b+1]};
V.sF.acQ=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=V.sF.C4,q=V.sF.J,w=V.OS.yF,X=V.sF.vu,Z=r(Z),e=r(e),Q=q(U);
w(Z,Q,F,b);var c=q(U);w(e,c,F,b);var u=q(U);X(Z,Z,u);w(u,u,F,b);var n=q(U);X(Z,e,n);w(n,n,F,b);var k=q(U),B=q(U);
for(var l=0;l<U;l++){var o=Q[l],T=c[l],z=u[l]-o*o,W=n[l]-o*T,$=W/(z+_),R=T-$*o;k[l]=$;B[l]=R}var P=q(U);
w(k,P,F,b);var H=q(U);w(B,H,F,b);return[P,H]};V.sF.arF=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=V.sF.sE,q=Date.now(),w=!1,X=F,Q=e,c=Z,u=b;
X=new e3(0,0,d>>>2,S>>>2);u=b>>>2;Q=V.sF.al7(e,d,S);c=V.sF.a7r(Z,d,S);if(w)console.log(Date.now()-q);
q=Date.now();var n=V.sF.alB(Q,c,X,u,_),k=n[0],B=n[1],o=n[2],T=n[3];if(w)console.log(Date.now()-q);q=Date.now();
var z=V.J(U);for(var W=0;W<S;W++)for(var $=0;$<d;$++){var l=W*d+$,R=(W>>>2)*(d>>>2)+($>>>2),P=l<<2,H=k[R]*Z[P]+B[R]*Z[P+1]+o[R]*Z[P+2]+T[R]*255;
z[l]=Math.max(0,Math.min(255,~~(.5+H)))}if(w)console.log(Date.now()-q);q=Date.now();return z};V.sF.al7=function(e,Z,F){var b=Z>>>2,_=F>>>2,d=V.J(Z*F);
for(var S=0;S<_;S++)for(var U=0;U<b;U++)d[S*b+U]=e[S*Z+U<<2];return d};V.sF.a7r=function(e,Z,F){var b=Z>>>2,_=F>>>2,d=V.J(Z*F*4);
for(var S=0;S<_;S++)for(var U=0;U<b;U++){var r=S*b+U<<2,q=S*Z+U<<4;d[r]=e[q];d[r+1]=e[q+1];d[r+2]=e[q+2];
d[r+3]=e[q+3]}return d};V.sF.alB=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=V.sF.C4,q=V.sF.J,w=V.OS.yF,X=V.sF.vu,e=r(e),Q=new V.xV(d*S);
V.w2(Z,Q);var Z=[r(Q.o),r(Q.z),r(Q.S)],c=V.sF.aex(e,Z,F,b,_),u=q(U);w(e,u,F,b);var n=q(U);X(Z[0],e,n);
w(n,n,F,b);var k=q(U);X(Z[1],e,k);w(k,k,F,b);var B=q(U);X(Z[2],e,B);w(B,B,F,b);var o=q(U),T=q(U),z=q(U),W=q(U);
for(var l=0;l<U;l++){var $=u[l],R=c.jc[l],P=c.TW[l],H=c.W2[l],y=n[l]-R*$,h=k[l]-P*$,m=B[l]-H*$;o[l]=c.a1t[l]*y+c.Mt[l]*h+c.IA[l]*m;
T[l]=c.Mt[l]*y+c.akY[l]*h+c.zm[l]*m;z[l]=c.IA[l]*y+c.zm[l]*h+c.a1v[l]*m;W[l]=$-o[l]*R-T[l]*P-z[l]*H}w(o,o,F,b);
w(T,T,F,b);w(z,z,F,b);w(W,W,F,b);return[o,T,z,W]};V.sF.aex=function(e,Z,F,b,_){var d=F.w,S=F._,U=d*S,r=V.sF.J,q=V.OS.yF,w=V.sF.vu,X={};
X.jc=r(U);q(Z[0],X.jc,F,b);X.TW=r(U);q(Z[1],X.TW,F,b);X.W2=r(U);q(Z[2],X.W2,F,b);var Q=r(U);w(Z[0],Z[0],Q);
q(Q,Q,F,b);var c=r(U);w(Z[0],Z[1],c);q(c,c,F,b);var u=r(U);w(Z[0],Z[2],u);q(u,u,F,b);var n=r(U);w(Z[1],Z[1],n);
q(n,n,F,b);var k=r(U);w(Z[1],Z[2],k);q(k,k,F,b);var B=r(U);w(Z[2],Z[2],B);q(B,B,F,b);X.a1t=Q;X.Mt=c;
X.IA=u;X.akY=n;X.zm=k;X.a1v=B;for(var l=0;l<U;l++){var o=X.jc[l],T=X.TW[l],z=X.W2[l],W=Q[l]-o*o+_,$=c[l]-o*T,R=u[l]-o*z,P=n[l]-T*T+_,H=k[l]-T*z,y=B[l]-z*z+_,h=P*y-H*H,m=H*R-$*y,t=$*H-P*R,j=W*y-R*R,x=R*$-W*H,C=W*P-$*$,L=h*W+m*$+t*R,f=1/L;
X.a1t[l]=h*f;X.Mt[l]=m*f;X.IA[l]=t*f;X.akY[l]=j*f;X.zm[l]=x*f;X.a1v[l]=C*f}return X};V.sF.J=function(e){return new Float32Array(e)};
V.sF.C4=function(e){var Z=e.length,F=new Float32Array(Z);for(var l=0;l<Z;l++)F[l]=e[l]*(1/255);return F};
V.sF.vu=function(e,Z,F){for(var l=0;l<e.length;l++)F[l]=e[l]*Z[l]};V.qd={};V.qd.Zv=function(e,Z,F,b){var _=e[Z]-F[b],d=e[Z+1]-F[b+1],S=e[Z+2]-F[b+2];
return Math.sqrt(_*_+d*d+S*S)*(1/441.7)};V.qd.getSelection=function(e,Z,F){var b=Z*F,_=V.J(b),d=!1,S=Math.round(F*.7),U=1,r=new Uint32Array(12),q=V.J(12);
for(var w=0;w<S;w++)for(var X=0;X<Z;X++){if(X<U||w<U||X>Z-U-1||w>F-U-1){var l=w*Z+X,Q=l<<2,c=0;if(w<U)c=4;
else if(X>Z-U-1)c=8;r[c]+=e[Q];r[c+1]+=e[Q+1];r[c+2]+=e[Q+2];r[c+3]++;_[l]=255}}for(var l=0;l<12;l+=4)for(var u=0;
u<3;u++)q[l+u]=r[l+u]/r[l+3];var n=new Float32Array(b);for(var l=0;l<b;l++){var Q=l*4,k=V.qd.Zv(e,Q,q,0),B=V.qd.Zv(e,Q,q,4),o=V.qd.Zv(e,Q,q,8),T=Math.max(k,Math.max(B,o));
n[l]=k+B+o-T}V.qd.Ib(n);var z=Date.now(),W=new Float32Array(b),$=[],R=V.J(b);for(var l=0;l<3;l++){V.yC(e,R,l);
var P=new Uint16Array(b);$.push(P);V.qd.a4G(R,_,Z,F,P)}if(d)console.log("MBD",Date.now()-z);z=Date.now();
for(var l=0;l<b;l++)W[l]=$[0][l]+$[1][l]+$[2][l];V.qd.Ib(W);for(var l=0;l<b;l++)W[l]+=.4*n[l];var H=Z>>>1,S=F>>>1,y=1/Math.sqrt(H*H+S*S);
for(var w=0;w<F;w++)for(var X=0;X<Z;X++){var h=X-H,m=w-S,t=1-Math.sqrt(h*h+m*m)*y;W[w*Z+X]*=t}if(d)console.log("Centeredness",Date.now()-z);
z=Date.now();for(var l=0;l<b;l++)_[l]=W[l]*255;var j=Math.round(Z/120),x=Math.round(j*.8);if(d)console.log(j,x);
V.ga.Gu(_,R,Z,F,j,V.ga.PN,[]);_.set(R);if(d)console.log("erosion",Date.now()-z);z=Date.now();for(var l=0;
l<b;l++)W[l]=_[l];V.qd.Ib(W);var C=V.J(256);for(var l=0;l<256;l++)C[l]=256/(1+Math.exp(-20*(l/255-.5)));
for(var l=0;l<b;l++){var L=~~(W[l]*255+.5);_[l]=C[L]}if(d)console.log("Simoid",Date.now()-z);z=Date.now();
return _};V.qd.Ib=function(e){var Z=e.length,F=0;for(var l=0;l<Z;l++)F=Math.max(F,e[l]);var b=1/F;for(var l=0;
l<Z;l++)e[l]=e[l]*b};V.qd.a4G=function(e,Z,F,b,_){var d=F*b,S=e.slice(0),U=e.slice(0);for(var l=0;l<d;
l++)_[l]=Z[l]==255?0:65535;V.qd.wE(e,U,S,_,F,b);V.qd.lS(e,U,S,_,F,b);V.qd.wE(e,U,S,_,F,b);V.qd.lS(e,U,S,_,F,b);
return _};V.qd.wE=function(e,Z,F,b,_,d){for(var S=1;S<_;S++)V.qd.ly(S,-1,e,Z,F,b);for(var U=1;U<d;U++){V.qd.ly(U*_,-_,e,Z,F,b);
for(var S=1;S<_;S++){var l=U*_+S;V.qd.ly(l,-1,e,Z,F,b);V.qd.ly(l,-_,e,Z,F,b)}}};V.qd.lS=function(e,Z,F,b,_,d){for(var S=_-2;
S>=0;S--)V.qd.ly(_*d-_+S,1,e,Z,F,b);for(var U=d-2;U>=0;U--){V.qd.ly(U*_+_-1,_,e,Z,F,b);for(var S=_-2;
S>=0;S--){var l=U*_+S;V.qd.ly(l,1,e,Z,F,b);V.qd.ly(l,_,e,Z,F,b)}}};V.qd.ly=function(l,e,Z,F,b,_){var d=l+e,S=Z[l],U=F[d],r=b[d];
if(U<S)U=S;else if(S<r)r=S;var q=U-r;if(_[d]!=65535&&q<_[l]){_[l]=q;F[l]=U;b[l]=r}};V.Dj={};V.Dj.filter=function(e,Z,F,b){var _=Z.w,d=Z._,S=_*d,U=b[0],r=b[1],q=b[2],w=b[3],X=b[4],Q=b[5],c=b[6],u=Date.now(),n=new Float32Array(_*d*4);
V.Dj.a5r(e,_,d,n);var k=Math.ceil(U*Math.sqrt(-2*Math.log(.1))),B=new ArrayBuffer(S*4),o=new Float32Array(B),T=new Float32Array(S),z=new Float32Array(S);
for(var l=0;l<S;l++){var W=l*4;o[l]=n[W];T[l]=n[W+1];z[l]=n[W+2]}V.OS.BA(o,o,Z,k*1/2.4,2);V.OS.BA(T,T,Z,k*1/2.4,2);
V.OS.BA(z,z,Z,k*1/2.4,2);for(var l=0;l<S;l++){var W=l*4;n[W]=o[l];n[W+1]=T[l];n[W+2]=z[l]}var $=new Uint8Array(B);
for(var l=0;l<S;l++){var W=l*4,R=l*4,o=n[W],T=n[W+1],z=n[W+2],P=Math.sqrt((o-z)*(o-z)+4*T*T),H=(o+z+P)*.5,y=(o+z-P)*.5,h=y-z,m=T,t=h*h+m*m;
if(t!=0){var j=Math.sqrt(t),x=1/j;h*=x;m*=x}$[R]=128+127*h;$[R+1]=128+127*m}var C=1.3*r+2,L=w*(2/10),f=e.slice();
if(E.P7){var D=new Float32Array([1/_,1/d]),v=E.KB(0,_,d);v.set(f);var A=E.KB(1,_,d);A.set($);E.vN(v,Z);
if(X){v.FV(Z);E.filter.zS({type:E.filter.arO,de:D,aeo:1/q,a7g:L},v.rh)}v.FV(Z);E.filter.zS({type:E.filter.Rh,gk:A.ad,de:D,a5L:C,aqd:2},v.rh);
if(X){v.FV(Z);E.filter.zS({type:E.filter.af_,de:D,abx:new Float32Array(c),aju:Q},v.rh)}v.get(F)}else{if(X)V.Dj.jf(1/q,L,f,_,d);
V.Dj.Rh(f,F,$,_,d,C);if(X)V.Dj.a6v(_,d,F,c,Q)}var M=S*4;for(var l=3;l<M;l+=4)F[l]=e[l]};V.Dj.Rh=function(e,Z,F,b,_,d){var S=Math.ceil(2*d),U=-1/(2*d*d),r=[],q=1;
for(var l=0;l<S+20;l++)r[l]=Math.exp(l*l*U);var w=[0,0,0,0];for(var X=0;X<_;X++){for(var Q=0;Q<b;Q++){var c=X*b+Q,u=c*4,n=1,k=e[u],B=e[u+1],o=e[u+2],T=e[u+3],z=(F[u]-128)*(1/127),W=(F[u+1]-128)*(1/127),$=z,R=W,P=Q==0?.51:.49,H=X==0?.51:.49;
for(var l=0;l<2;l++){var y=Q+P,h=X+H,m=0;while(m<S){if(y<.5||b-.5<y||h<.5||_-.5<h)break;var t=~~y,j=~~h,x=j*b+t,C=x*4,L=(F[C]-128)*(1/127),f=(F[C+1]-128)*(1/127);
if(L*$+f*R<0){L=-L;f=-f}$=L;R=f;y+=q*L;h+=q*f;if(y<.5||b-.5<y||h<.5||_-.5<h)break;var D=~~y,v=~~h,A=v*b+D<<2;
m+=q;var M=r[~~m];V.N.pv(y,h,e,b,_,w);k+=w[0]*M;B+=w[1]*M;o+=w[2]*M;T+=w[3]*M;n+=M}$=-z;R=-W}var Y=1/n;
Z[u]=~~(.5+k*Y);Z[u+1]=~~(.5+B*Y);Z[u+2]=~~(.5+o*Y);Z[u+3]=~~(.5+T*Y)}}};V.Dj.a6v=function(e,Z,F,b,_){for(var d=0;
d<Z;d++)for(var S=0;S<e;S++){var U=d*e+S<<2,r=1+V.Dj.acl(S,d,F,e,Z,b)*_;F[U]=Math.max(0,Math.min(255,F[U]*r));
F[U+1]=Math.max(0,Math.min(255,F[U+1]*r));F[U+2]=Math.max(0,Math.min(255,F[U+2]*r))}};V.Dj.acl=function(e,Z,F,b,_,d){var S=F[(Z*b+Math.max(0,e-1))*4+3],U=F[(Z*b+Math.min(b-1,e+1))*4+3],r=F[(Math.max(0,Z-1)*b+e)*4+3],q=F[(Math.min(_-1,Z+1)*b+e)*4+3],w=.7,X=(U-S)*(1/255),Q=.7,c=(q-r)*(1/255),u=-X*Q,n=-w*c,k=w*Q,B=Math.sqrt(u*u+n*n+k*k),o=1/B,T=u*o,z=n*o,W=k*o,$=d[0]*T+d[1]*z+d[2]*W;
return $};V.Dj.jf=function(e,Z,F,b,_){function d(U,q,w){return Math.max(q,Math.min(w,U))}for(var S=0;
S<_;S++)for(var U=0;U<b;U++){var r=V.Dj.aoD(U+.5,S+.5,e,Z);F[(S*b+U)*4+3]=Math.max(0,Math.min(255,r*255))}};
V.Dj.aoD=function(e,Z,F,b){function _(R,P,H){return(1-H)*R+H*P}var d=(e+613)*F,S=(Z+117)*F,U=~~d,r=~~S,q=d-U,w=S-r,X=Math.sin(11),Q=Math.cos(U)*X,c=Math.cos(U+1)*X,u=Math.cos(r)*X,n=Math.cos(r+1)*X,gi=V.Dj.hash(Q,u),k=V.Dj.hash(c,u),B=V.Dj.hash(Q,n),o=V.Dj.hash(c,n),T=_(gi,k,q),z=_(B,o,q),W=_(T,z,w);
W=W<.5?0:1;var $=W+b*V.Dj.hash(Math.cos(d)*X,Math.cos(S)*X);return $*(1/3)};V.Dj.hash=function(e,Z){var F=Math.sin(e*11.697096+Z*73.32456)*12157.47691;
return F-Math.floor(F)};V.Dj.a5r=function(e,Z,F,b){var _=[-1,0,1,-2,0,2,-1,0,1],d=[-1,-2,-1,0,0,0,1,2,1],S=Z-1,U=F-1,r=Z*4;
for(var q=1;q<U;q++)for(var w=1;w<S;w++){var l=q*Z+w,X=l*4,Q=V.Dj.aP(e,X,r,_),c=V.Dj.aP(e,X,r,d),u=V.Dj.aP(e,X+1,r,_),n=V.Dj.aP(e,X+1,r,d),k=V.Dj.aP(e,X+2,r,_),B=V.Dj.aP(e,X+2,r,d);
b[X]=Q*Q+u*u+k*k;b[X+1]=Q*c+u*n+k*B;b[X+2]=c*c+n*n+B*B}V.Dj.a5D(b,Z,F)};V.Dj.aP=function(e,Z,F,b){return e[Z-F-4]*b[0]+e[Z-F]*b[1]+e[Z-F+4]*b[2]+e[Z-4]*b[3]+e[Z]*b[4]+e[Z+4]*b[5]+e[Z+F-4]*b[6]+e[Z+F]*b[7]+e[Z+F+4]*b[8]};
V.Dj.a5D=function(e,Z,F){function b(r,l,q){var w=l*4,X=q*4;r[X]=r[w];r[X+1]=r[w+1];r[X+2]=r[w+2]}var _=Z-1,d=F-1;
b(e,Z+1,0);b(e,2*Z-2,Z-1);for(var S=1;S<_;S++)b(e,Z+S,S);for(var U=1;U<d;U++){b(e,U*Z+1,U*Z);b(e,U*Z+Z-2,U*Z+Z-1)}for(var S=1;
S<_;S++)b(e,(F-2)*Z+S,(F-1)*Z+S);b(e,(U-2)*Z+1,(U-1)*Z);b(e,(U-1)*Z-2,U*Z-1)};V.XJ={};V.XJ.zd=function(e,Z,F,b){var _=e[Z*2],d=e[Z*2+1],S=e[F*2],U=e[F*2+1],r=e[b*2],q=e[b*2+1];
return _*U+S*q+r*d-r*U-S*d-_*q};V.XJ.gZ=function(e,Z){var F=[],b=[],_=[],d={};for(var l=0;l<Z.length;
l+=3){var S=~~(l*(1/3)),U=Z[l+0],r=Z[l+1],q=Z[l+2],w=V.XJ.zd(e,U,r,q);if(w>0){var X=r;r=q;q=X}var Q=d[q+"-"+r],c=d[r+"-"+U],u=d[U+"-"+q],n=[q,Q,S,null],k=[r,c,S,n],B=[U,u,S,k];
n[3]=B;if(Q)Q[1]=n;if(c)c[1]=k;if(u)u[1]=B;d[q+"-"+U]=B;d[U+"-"+r]=k;d[r+"-"+q]=n;F[U]=k;_[l]=k;F[r]=n;
_[l+1]=n;F[q]=B;_[l+2]=B;b[S]=k}return{H0:F,xd:b,Q_:_}};V.XJ.acI=function(e){var Z=[],F=e.xd;for(var l=0;
l<F.length;l++){var b=F[l];Z.push(b[0]);b=b[3];Z.push(b[0]);b=b[3];Z.push(b[0])}return Z};V.XJ.a6S=function(e,Z,F,b){var _=e[Z*2],d=e[Z*2+1],S=e[F*2],U=e[F*2+1],r=e[b*2],q=e[b*2+1],w=S-_,X=U-d,Q=r-_,c=q-d,u=w*(_+S)+X*(d+U),n=Q*(_+r)+c*(d+q),k=2*(w*(q-U)-X*(r-S));
if(Math.abs(k)<1e-5){var B=Math.min(_,S,r),o=Math.min(d,U,q),T=(Math.max(_,S,r)-B)*.5,z=(Math.max(d,U,q)-o)*.5;
return[B+T,o+z,T*T+z*z,1]}var W=(c*u-X*n)/k,$=(w*n-Q*u)/k,T=W-_,z=$-d;return[W,$,T*T+z*z,0]};V.XJ.an1=function(e,Z,F){var b=F[1],_=F[3],d=_[3],S=b[3],U=S[3],r=F[2],q=b[2],w=F[0],X=b[0],Q=_[0],c=S[0],u=V.XJ.a6S(e,X,c,Q),n=e[w*2]-u[0],k=e[w*2+1]-u[1],B=n*n+k*k>u[2]&&u[3]==0&&V.XJ.zd(e,c,w,Q)<0&&V.XJ.zd(e,Q,X,c)<0;
if(B){F[0]=Q;b[0]=c;F[3]=d;d[3]=S;S[3]=F;b[3]=U;U[3]=_;_[3]=b;_[2]=q;S[2]=r;Z.xd[q]=U;Z.xd[r]=d;Z.H0[X]=S;
Z.H0[w]=_}return B};V.XJ.akC=function(e,Z,F){var b=e[Z*2]-e[F*2],_=e[Z*2+1]-e[F*2+1];return Math.sqrt(b*b+_*_)};
V.XJ.aiN=function(e,Z,F){var b=F[1],_=F[3],d=_[3],S,U,r=F[2],q,w=F[0],X=d[0],Q=_[0],c;if(b){S=b[3];U=S[3];
q=b[2];c=S[0]}var u=e.length>>>1;e[2*u]=(e[2*X]+e[2*w])*.5;e[2*u+1]=(e[2*X+1]+e[2*w+1])*.5;if(!0){var n=r,k=F,B=Z.xd.length,o=[u,null,n,k],T=[Q,o,B,d];
o[1]=T;var z=[u,null,B,T];_[3]=o;d[3]=z;d[2]=B;Z.xd[n]=_;Z.xd[B]=z;Z.H0[w]=_;Z.H0[Q]=d;Z.Q_.push(o,T,z)}if(b){var W=q,$=b,R=B+1;
z[1]=$,$[1]=z;var P=[u,null,W,$],H=[c,P,R,U];P[1]=H;var y=[u,k,R,H];k[1]=y;S[3]=P;U[3]=y;U[2]=R;Z.xd[W]=S;
Z.xd[R]=U;Z.H0[X]=S;Z.H0[c]=U;Z.Q_.push(P,H,y)}Z.H0[u]=k};V.XJ.PV=function(e,Z){var F=0;while(!0){var b=F;
for(var l=0;l<Z.Q_.length;l++){var _=Z.Q_[l];if(_[1]==null)continue;var d=V.XJ.an1(e,Z,_);if(d){F++;
break}}if(b==F)break}return F!=0};V.XJ.an4=function(e,Z,F,b){var _=0;for(var l=0;l<b;l++){var d=null,S=0;
for(var U=0;U<Z.Q_.length;U++){var r=Z.Q_[U],q=V.XJ.akC(e,r[0],r[3][3][0])*(r[1]?1:2);if(q>S){d=r;S=q}}if(S>F){V.XJ.aiN(e,Z,d);
_++}}return _!=0};V.XJ.a59=function(e,Z){var F=[],Q=0;for(var l=0;l<e.length;l++)F.push(0);for(var l=0;
l<Z.Q_.length;l++){var b=Z.Q_[l],_=b[0],d=b[3][3][0],S=e[_*2],U=e[_*2+1],r=e[d*2],q=e[d*2+1],w=S-r,X=U-q;
F[_*2]+=-w;F[_*2+1]+=-X;F[d*2]+=w;F[d*2+1]+=X}for(var l=0;l<e.length;l+=2){var c=l>>>1,u=Z.H0[c],b=u,n=!0;
do{if(b[1]==null){n=!1;break}b=b[1][3]}while(b!=u);if(n){var k=.02;e[l]+=k*F[l];e[l+1]+=k*F[l+1];Q+=k*(F[l]*F[l]+F[l+1]*F[l+1])}}return Q};
V.XJ.a53=function(e,Z,F){var b=V.H.HA(e),_=V.XJ.gZ(e,Z);V.XJ.PV(e,_);for(var d=0;d<300;d++){var S=!1,U=!1;
S=V.XJ.an4(e,_,F,5);if(S)U=V.XJ.PV(e,_);var r=V.XJ.a59(e,_);if(!S&&!U&&r<1e-4){break}}return V.XJ.acI(_)};
V.T5={};V.T5.Kf=function(e){var Z=e.Mx,F=e.wU,b=e.jR,_=e.lA,d=e.aR,S=e.K7,U=e.C1,r=V.dg.ll,o,T,z=0;function q(gi){var gl=new Array(gi);
for(var l=0;l<gi;l++)gl[l]=0;return gl}var w=F.length>>>1,X=q(Z.ap*2),Q=q(Z.ap),c=q(Z.ap),u=Date.now();
for(var l=0;l<e.aw.length;l++){var n=Z.a1b+l,k=Z.bo*(S[l*2]+U[l*2]),B=Z.bo*(S[l*2+1]+U[l*2+1]);X[n*2]=k;
X[n*2+1]=B;Q[n]=k;c[n]=B}Z.a4U.by(_,Z.a2I.ll(X),.01,o,T);for(var l=0;l<Z.agi.Q_.length;l++){var W=Z.agi.Q_[l],$=W[3][3][0],R=W[0],P=W[3][0],H=W[1]?W[1][3][0]:P;
if(W[1]&&$>R)continue;var h=F[$*2],m=F[$*2+1],t=F[R*2],j=F[R*2+1],x=_[$*2],C=_[$*2+1],L=_[R*2],f=_[R*2+1],D=_[P*2],v=_[P*2+1],A=_[H*2],M=_[H*2+1],Y=[x,C,L,f,D,v];
if(W[1])Y.push(A,M);var J=r(Z.al8[z],Y),I=J[0],p=J[1],a=1/Math.sqrt(I*I+p*p);I*=a;p*=a;var er=t-h,c8=j-m;
Q[z]=I*er+p*c8;c[z]=-p*er+I*c8;z++}var O=new Array(w),dF=new Array(w);for(var l=0;l<w;l++){O[l]=d[l*2];
dF[l]=d[l*2+1]}Z.ajJ.by(O,Z.a5N.ll(Q),.5);Z.ajJ.by(dF,Z.a5N.ll(c),.5);for(var l=0;l<w;l++){d[l*2]=O[l];
d[l*2+1]=dF[l]}};V.T5.UN=function(e){var Z=e.wU,F=e.jR,b=e.aw,_=V.dg.multiply,d=Date.now(),S=V.XJ.gZ(Z,F),U=Z.length>>>1,r=0,u=0,a=1e3;
for(var l=0;l<S.Q_.length;l++)r+=S.Q_[l][1]?.5:1;var q=r+b.length,w=[],X=new V.t$(q*2,U*2),Q=new V.t$(q,U),c=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],n=[],k=[];
for(var l=0;l<S.Q_.length;l++){var B=S.Q_[l],o=B[3][3][0],T=B[0],z=B[3][0],$=B[1]?B[1][3][0]:z;if(B[1]&&o>T)continue;
var R=Z[o*2],P=Z[o*2+1],H=Z[T*2],h=Z[T*2+1],m=Z[z*2],t=Z[z*2+1],j=Z[$*2],x=Z[$*2+1],C=[[R,P,1,0],[P,-R,0,1],[H,h,1,0],[h,-H,0,1],[m,t,1,0],[t,-m,0,1]];
if(B[1])C.push([j,x,1,0],[x,-j,0,1]);var L=V.dg.zQ(C),f=_(linear.invert(_(L,C)),L);f.pop();f.pop();w.push(f);
var D=H-R,v=h-P,A=c[B[1]?1:0];A=V.dg.iv(A,_([[D,v],[v,-D]],f));var M=[o*2,o*2+1,T*2,T*2+1,z*2,z*2+1,$*2,$*2+1],Y=B[1]?8:6,J=[];
for(var I=0;I<Y;I++)J.push([M[I],A[0][I],A[1][I]]);J.sort(function(e0,bv){return e0[0]-bv[0]});for(var p=0;
p<2;p++){for(var I=0;I<Y;I++){n[I]=J[I][0];k[I]=J[I][1+p]}X.Va(k,n,Y)}if(o<T)Q.Va([-1,1],[o,T],2);else Q.Va([1,-1],[T,o],2);
u++}for(var l=0;l<b.length;l++){var er=b[l];X.Va([a],[er*2],1);X.Va([a],[er*2+1],1);Q.Va([a],[er],1)}var c8=X.zQ(),O=c8.tX(c8),dF=Q.zQ(),gl=dF.tX(dF);
return{a1b:r,ap:q,a2I:c8,a4U:O,a5N:dF,ajJ:gl,agi:S,al8:w,bo:a}};V.T5.a18=function(e,Z,F,b,_){var d=new e3(0,0,Z,F),S=V.J(d.Z());
V.yC(e,S,3);V.round(S,70);var U=V.HR(S,d),r=[.1,.065,.035][b]*Math.max(U.w,U._),q=_+1,w=Z+q*2,X=F+q*2,Q=new e3(-q,-q,w,X),c=V.J(Q.Z());
V.l2(S,d,c,Q);var u=c.slice(0);for(var n=0;n<_;n++){for(var k=1;k<X-1;k++){for(var B=1;B<w-1;B++){var l=k*w+B;
u[l]=c[l-w]|c[l-1]|c[l]|c[l+1]|c[l+w]}}var o=u;u=c;c=o}var T=aE.Zf(c,w,X,Math.round(U.Z()*5e-4)),z=aE.GJ(T),W=new jg(1,0,0,1,-q,-q);
for(var l=0;l<z.length;l++){var R=z[l];V.H.A(R.path.s,W,R.path.s);R.wU=V.T5.amo(R.path);R.jR=V.H.aol(R.wU);
R.jR=V.XJ.a53(R.wU,R.jR,r)}return z};V.T5.amo=function(e){var Z=[],F=e.s,b=e.C.length-1,_=0,d=0;for(var S=0;
S<b;S++){var l=S*6,U=F[l+6]-F[l+0],r=F[l+7]-F[l+1],q=Math.ceil(Math.sqrt(U*U+r*r));for(var w=0;w<q;w++){var X=w/q,Q=1-X,c=Q*Q*Q*F[l+0]+3*Q*Q*X*F[l+2]+3*Q*X*X*F[l+4]+X*X*X*F[l+6],u=Q*Q*Q*F[l+1]+3*Q*Q*X*F[l+3]+3*Q*X*X*F[l+5]+X*X*X*F[l+7];
Z.push(c,u);_=c;d=u}}Z=V.H.RH(Z,1);var n=[],k=Z.length;for(var l=0;l<k;l+=2){var u=Z.pop(),c=Z.pop();
n.push(c,u)}return n};V.T5.ahu=function(e,Z,F,b){function _(P,H,y,h,m){var t=m[P*2]-m[H*2],j=m[P*2+1]-m[H*2+1],x=Math.sqrt(t*t+j*j);
if(y[P].indexOf(H)==-1){y[P].push(H);h[P].push(x)}if(y[H].indexOf(P)==-1){y[H].push(P);h[H].push(x)}}var d=e.length>>>1,S=new Array(d);
if(F.length==0){S.fill(0);return S}var U=new Array(d),r=new Array(d);for(var l=0;l<d;l++){U[l]=[];r[l]=[]}for(var l=0;
l<Z.length;l+=3){_(Z[l],Z[l+1],U,r,e);_(Z[l],Z[l+2],U,r,e);_(Z[l+1],Z[l+2],U,r,e)}var q=new Float64Array(d*2),w=new Uint32Array(d*2);
q.fill(1e9);var X=new Uint8Array(d);for(var Q=0;Q<F.length;Q++){X.fill(0);var c=["---",[0,F[Q]]];while(c.length!=1){var u=V.gF.ap4(c),n=u[0],k=u[1];
if(X[k]==1)continue;var B=k<<1;if(n<q[B]){q[B+1]=q[B];w[B+1]=w[B];q[B]=n;w[B]=Q}else if(n<q[B+1]){q[B+1]=n;
w[B+1]=Q}X[k]=1;var o=U[k],T=r[k];for(var l=0;l<o.length;l++){var z=o[l];if(X[z]!=1){V.gF.amm(c,[n+T[l],z])}}}}for(var l=0;
l<d;l++){var B=l<<1,W=q[B],$=q[B+1],R=1/(W+$);S[l]=(1-W*R)*b[w[B]]+(1-$*R)*b[w[B+1]]}return S};V.T5.a5l=function(e){var Z={C:[],s:[]},F=[e];
while(F.length!=0){var b=F.pop(),_=b.Dl;if(b.af9 instanceof Array||b.ar0 instanceof Array){Z.C.push("M","L","L","L","Z");
Z.s.push(_[0],_[1],_[2],_[1],_[2],_[3],_[0],_[3])}else F.push(b.af9,b.ar0)}return Z};V.T5.b9=function(e,Z,F,b,_,d,S,U,r,q){var w=Math.round(q.length/3),X=new Array(w);
for(var l=0;l<w;l++)X[l]=l;X.sort(function(c,u){return r[q[c*3]]-r[q[u*3]]});for(var l=0;l<w;l++){var Q=X[l]*3;
V.T5.ale(q[Q]*2,q[Q+1]*2,q[Q+2]*2,S,U,e,Z,F,b,_,d)}};V.T5.ale=function(e,Z,F,b,_,d,S,U,r,q,w){var X=V.T5.na,Q=[e,Z,F,1.2,1.2,1.2,0],c=[0,0,0,0],u=_[e],n=_[e+1],k=_[Z],B=_[Z+1],o=_[F],T=_[F+1],z=Math.max(0,Math.min(S-1,b[e])),W=Math.max(0,Math.min(S-1,b[Z])),$=Math.max(0,Math.min(S-1,b[F])),R=Math.max(0,Math.min(U-1,b[e+1])),P=Math.max(0,Math.min(U-1,b[Z+1])),H=Math.max(0,Math.min(U-1,b[F+1])),y=k-u,h=B-n,m=o-u,t=T-n,j=1/(y*t-m*h+1e-9),x=Math.max(0,Math.floor(Math.min(u,k,o))),C=Math.min(q,Math.ceil(Math.max(u,k,o))),L=Math.max(0,Math.floor(Math.min(n,B,T))),f=Math.min(w,Math.ceil(Math.max(n,B,T)));
for(var D=L;D<f;D++)for(var v=x;v<C;v++){var A=v+.5-u,M=D+.5-n,Y=(A*t-m*M)*j,J=(y*M-A*h)*j;if(Y>=0&&J>=0&&Y+J<=1){var I=1-Y-J,p=z*I+W*Y+$*J,a=R*I+P*Y+H*J;
V.N.pv(p,a,d,S,U,c);V.T5.a26(c,r,D*q+v<<2)}}};V.T5.a26=function(e,Z,F){var b=Z[F],_=Z[F+1],d=Z[F+2],S=Z[F+3],U=1-e[3]*(1/255);
Z[F]=~~(.5+e[0]+b*U);Z[F+1]=~~(.5+e[1]+_*U);Z[F+2]=~~(.5+e[2]+d*U);Z[F+3]=~~(.5+e[3]+S*U)};V.T5.na=function(){var e=function(F,b,_,d){var S=d[0],U=d[1],r=d[2],q=F[S+0],w=F[S+1],X=F[U+0],Q=F[U+1],c=F[r+0],u=F[r+1],n=X-q,k=Q-w,B=c-q,o=u-w,T=b-q,z=_-w,W=n*o-B*k,$=1/(W+1e-9),R=(T*o-B*z)*$,P=(n*z-T*k)*$;
if(R>=0&&P>=0&&R+P<=1){d[3]=1-R-P;d[4]=R;d[5]=P;return 1}return 0},Z=function(F,b,_,d){var S=[0,0,0,0,0,0];
for(var l=0;l<b.length;l+=3){S[0]=b[l]*2;S[1]=b[l+1]*2;S[2]=b[l+2]*2;if(e(F,_,d,S)==1)return!0}return!1};
return{au3:e,acD:Z}}();V.hJ={};V.hJ.agx=function(e,Z,F){var b=V.J(Z*F*4),_=!1;V.N.LC(e,Z,F,b,[F,Z,0,1,0,1,0,0]);
return[V.hJ.lB(e,Z,F,_),V.hJ.lB(b,F,Z,_)]};V.hJ.A=function(e,Z){var F=!1,b=e[0],_=e[1],d=b[1],S=b[2],U=b[3],r=Z.w,q=Z._;
if(S==r&&U==q)d=d.slice(0);else if(U!=q){var w=V.J(S*q*4);V.hJ.Ny(_,q,w,F);d=V.J(S*q*4);V.N.LC(w,q,S,d,[S,q,0,1,0,1,0,0]);
if(S!=r){b=V.hJ.lB(d,S,q,F);d=V.J(r*q*4);V.hJ.Ny(b,r,d,F)}}else if(S!=r){d=V.J(r*U*4);V.hJ.Ny(b,r,d,F)}return d};
V.hJ.lB=function(e,Z,F,b){var _=Date.now(),d=new Uint16Array(Z*F),S=1;V.hJ.adn(e,Z,F,d);var U=Math.ceil(Z/S),r=new Uint32Array(S),q=new Uint32Array(S),U=Math.floor(Z/S);
for(var w=0;w<S;w++)q[w]=w<S-1?U:Z-(S-1)*U;for(var X=0;X<F;X++){var l=X*Z;for(var w=0;w<S;w++){var U=q[w];
for(var Q=0;Q<U;Q++)r[w]+=d[l+Q];l+=U}}if(b){console.log(Date.now()-_,"cost");_=Date.now()}var c=new Uint32Array(Z),u=new Uint32Array(Z),n=new Uint32Array(Z*F);
for(var Q=0;Q<Z;Q++){n[(F-1)*Z+Q]=d[(F-1)*Z+Q]}for(var X=F-2;X>=0;X--){var k=X*Z;for(var w=0;w<S;w++){var U=q[w];
n[k]=d[k]+Math.min(n[k+Z],n[k+Z+1]);for(var Q=1;Q<U-1;Q++){var l=k+Q;n[l]=d[l]+Math.min(n[l+Z-1],Math.min(n[l+Z],n[l+Z+1]))}k+=U-1;
n[k]=d[k]+Math.min(n[k+Z-1],n[k+Z]);k++}}if(b){console.log(Date.now()-_,"Building M");_=Date.now()}function B(h,m){return h<m?h:m}function o(l,h){var m=u[l],t=n[h],j=~~(m*t*1e-4);
return j}var T=new Uint8Array(Z*F),z=new Uint32Array(Z);for(var l=0;l<Z;l++){c[l]=l;u[l]=d[l]}for(var X=1;
X<F;X++){var W=0,k=X*Z;for(var w=0;w<S;w++){var U=q[w],l=k;z[W]=o(W,l);var $=z[W]+o(W+1,l+1),R=o(W,l+1)+o(W+1,l);
z[W+1]=B($,R);for(var Q=2;Q<U;Q++){var l=k+Q,P=z[W+Q-1]+o(W+Q-1,l-1),H=z[W+Q-2]+o(W+Q-1,l-2)+o(W+Q-2,l-1);
z[W+Q]=B(P,H)}var Q=U-1;while(Q>=2){var l=k+Q,P=z[W+Q-1]+o(W+Q-1,l-1),H=z[W+Q-2]+o(W+Q-1,l-2)+o(W+Q-2,l-1);
if(z[W+Q]==P){T[l-Z]=1;Q-=1}else{T[l-Z]=0;T[l-Z-1]=2;Q-=2}}var l=k;if(Q==0){T[l-Z]=1}else{if(z[W+1]==$){T[l+1-Z]=1;
T[l-Z]=1}else{T[l+1-Z]=0;T[l-Z]=2}}k+=U;W+=U}V.hJ.ab0(X,Z,T,d,c,u,!0,_)}if(b){console.log(Date.now()-_,"Matching");
_=Date.now()}var y=d;return[UZIP.adler(e,0,e.length),e,Z,F,S,q,r,c,u,T,y]};V.hJ.Ny=function(e,Z,F,b){var _=e.slice(0),d=_.shift(),S=_.shift(),U=_.shift(),r=_.shift(),q=_.shift(),w=_.shift(),X=_.shift(),Q=_.shift(),c=_.shift().slice(0),u=_.shift(),n=_.shift(),k=Date.now(),B=Math.abs(U-Z),o=Math.floor(B/q),T=new Uint32Array(q),W=0,$=1e9,P=0,H=0,y=0;
for(var z=0;z<q;z++)T[z]=z<q-1?o:B-(q-1)*o;n.fill(0);for(var R=0;R<U;R++){W=Math.max(W,c[R]);$=Math.min($,c[R])}for(var z=0;
z<q;z++){var h=w[z],o=T[z];for(var m=0;m<o;m++){var t=0,j=1e9;for(var R=0;R<h;R++)if(c[H+R]<j){j=c[H+R];
t=H+R}if(Z<U)c[t]=1e9;else c[t]*=1.2;if(y<U/3)P+=j;var x=Q[t],C=n[x],L=C<65280?65280:C+1;if(L<65280)throw"e";
for(var f=0;f<r;f++){var l=f*U+x;n[l]=L;x+=u[l]-1}y++}H+=h}if(b){console.log(Date.now()-k,"Removing best seams");
k=Date.now()}function D(l,A){var M=l<<2,Y=A<<2;F[M]=S[Y];F[M+1]=S[Y+1];F[M+2]=S[Y+2];F[M+3]=S[Y+3]}for(var f=0;
f<r;f++){var v=0,l=f*U;for(var R=0;R<Z;R++,v++){if(Z<U){while(n[l+v]==65280)v++;D(f*Z+R,f*U+v)}else{D(f*Z+R,f*U+v);
while(n[l+v]>=65280){n[l+v]--;R++;D(f*Z+R,f*U+v)}}}}if(b){console.log(Date.now()-k,"Shifting image pixels");
k=Date.now()}};V.hJ.ab0=function(e,Z,F,b,_,d){var S=0,l=e*Z;while(S<Z){if(F[l-Z]==1){d[S]=d[S]+b[l];
S++;l++}else{var U=_[S];_[S]=_[S+1];_[S+1]=U;var r=d[S];d[S]=d[S+1]+b[l];d[S+1]=r+b[l+1];S+=2;l+=2}}};
V.hJ.adn=function(e,Z,F,b){function _(e,l,r){var X=l<<2,Q=r<<2,c=e[X]-e[Q],u=e[X+1]-e[Q+1],n=e[X+2]-e[Q+2];
return Math.abs(c)+Math.abs(u)+Math.abs(n)}for(var d=1;d<Z;d++){var S=_(e,d,d-1);b[d-1]+=S;b[d]+=S}for(var U=1;
U<F;U++){var r=U*Z,S=_(e,r,r-Z);b[r]+=S;b[r-Z]+=S;for(var d=1;d<Z;d++){var l=U*Z+d,q=_(e,l,l-1),w=_(e,l,l-Z);
b[l-Z]+=w;b[l-1]+=q;b[l]+=w+q}}for(var U=0;U<F;U++){b[U*Z]*=2;b[U*Z+Z-1]*=2}for(var l=0;l<b.length;l++)if(b[l]==0)b[l]=1};
V.Xl=function(){var e=0,Z=0,b=15,d=256;function F(w,X,Q,c,u,n){var k=(u-1)*X,B=n*X;return w[B+c]-w[B+Q-1]-w[k+c]+w[k+Q-1]}var _=Math.round(b/8),S=[];
function U(w,X){for(var Q=0;Q<X.length;Q++){var c=X[Q],u=0,n=0,k=w[c.L4],B=k.Tm,o=k.bo,T=k.zA;for(var z=-b;
z<=b;z++)for(var W=-b;W<=b;W++){var $=W+c.a0b,R=z+c.amj;if(W*W+z*z>b*b||$<0||R<0||$>=o||R>=o)continue;
var P=B[R*o+$];u+=W*P;n+=z*P}c.hu=Math.atan2(n,u)}}function r(w,X,Q,c,u){var n=~~(w+.5),k=~~(X+.5);return F(Q,c,n-_,n+_,k-_,k+_)}function q(w,X,Q,c,u){e=c;
Z=u;if(S.length==0){var n=new V.a.XW(16200817),T=8,z=0;function k(dF){var y=dF[0]-dF[2],h=dF[1]-dF[3];
return y*y+h*h}function B(){var dF=0,gl=0;while(dF===0)dF=n.get();while(gl===0)gl=n.get();return Math.sqrt(-2*Math.log(dF))*Math.cos(2*Math.PI*gl)}var o=B,W=[];
while(z!=d){var $=Math.max(-b,Math.min(b,o()*T)),R=Math.max(-b,Math.min(b,o()*T)),P=Math.max(-b,Math.min(b,o()*T)),H=Math.max(-b,Math.min(b,o()*T)),y=$-P,h=R-H,m=Math.sqrt(y*y+h*h);
if(m<3||m>12)continue;S.push($,R,P,H);z++}}var t=20;for(var j=0;j<X.length;j++){var x=X[j],C=w[x.L4],L=C.XV,Q=C.Tm,c=C.bo,u=C.zA,f=x.a0b,D=x.amj,v=x.hu,A=Math.cos(v),M=Math.sin(v),Y=new Uint8Array(d>>>3);
x.ni=Y;for(var l=0;l<d;l++){var J=l*4,$=S[J+0],R=S[J+1],P=S[J+2],H=S[J+3],I=A*$-M*R,p=M*$+A*R,a=A*P-M*H,er=M*P+A*H,c8=r(f+I,D+p,L,c,u),O=r(f+a,D+er,L,c,u);
Y[l>>>3]|=(c8<O?0:1)<<(l&7)}}}return{a9a:U,a8D:q}}();V.a12=function(){function e(Z,F){var b=[[9]],_=Date.now(),d=[];
for(var S=0;S<Z.length;S++){var U=Z[S],r=U.XV,q=U.bo,w=U.zA,c=9,T=1,x=24;if(r==null)continue;var X=new Float32Array(q*w),Q=new Uint8Array(q*w),u=c>>>1,n=u>>>1,k=Math.round(c/3);
if(k!=c/3)throw"e";var B=1/(c*c),o=1.2*(c/9);for(var z=u+1;z<w-u;z+=T)for(var W=u+1;W<q-u;W+=T){var $=V.g7(r,q,W-n,W+n,z-u,z+u)-3*V.g7(r,q,W-n,W+n,z-u+k,z+u-k),R=V.g7(r,q,W-u,W+u,z-n,z+n)-3*V.g7(r,q,W-u+k,W+u-k,z-n,z+n),P=W-u+1,H=W+u-1,y=z-u+1,h=z+u-1,m=V.g7(r,q,P,W-1,y,z-1)+V.g7(r,q,W+1,H,z+1,h)-V.g7(r,q,W+1,H,y,z-1)-V.g7(r,q,P,W-1,z+1,h),t=(R*$-.9*m*(.9*m))*(B*B);
X[z*q+W]=Math.abs(t);Q[z*q+W]=t<0?0:1}var j=q*T;for(var z=x;z<w-x;z+=T)for(var W=x;W<q-x;W+=T){var l=z*q+W,C=X[l];
if(C<16)continue;if(X[l-T]>=C||X[l+T]>=C)continue;if(X[l-j-T]>=C||X[l-j]>=C||X[l-j+T]>=C)continue;if(X[l+j-T]>=C||X[l+j]>=C||X[l+j+T]>=C)continue;
d.push({x:~~(W*U.cp+.5),y:~~(z*U.cp+.5),a0b:W,amj:z,L4:S,I:C,a5S:Q[l],ME:o})}}if(F!=null){d.sort(function(J,I){return I.I-J.I});
d=d.slice(0,F)}return d;var L=[];for(var l=0;l<d.length;l++){var f=!0,D=d[l];for(var v=0;v<d.length;
v++){var A=d[v];if(v!=l&&A.I>D.I&&(A.L4==D.L4+1||A.L4==D.L4-1)){var M=D.x-A.x,Y=D.y-A.y;if(M*M+Y*Y<5){f=!1;
break}}}if(f)L.push(D)}console.log(d.length,L.length);return L}return{adm:e}}();V.ZY={};V.ZY.a5f=function(e){var Z=e.length,F=V.ZY.EN(e,!1),_=0,d=1;
throw"e";var b=[];for(var l=0;l<Z;l++)b[l]=V.ZY.Pm(F[l]);var S=e[0][1],U=V.ZY.match(F[_],F[d],b[d]);
console.log(U.length);var r=Math.max(Math.min(U.length,40),U.length*.54);r=Math.min(r,200);var q=U.slice(0,r),w=V.Xc.ass(F[_],F[d],q,S.w,S._),X=V.Xc.a2Q(w,[0,0,0],1),Q=S.w/2,c=S._/2,u=1/Math.max(Q,c);
for(var l=0;l<1;l++){var n=q[l],k=F[_][n[0]],B=F[d][n[1]],o=V.Xc.aeD(X,u*(k.x-Q),u*(k.y-c),u*(B.x-Q),u*(B.y-c))}var T=V.Xc.aii(w,S),z=[];
for(var l=0;l<2;l++){var W=T[l],$=[W[0][0],W[0][1],W[0][2],W[1][0],W[1][1],W[1][2],W[2][0],W[2][1]],R=i.Q.Wm(e[l],null,$);
z.push([R.buffer,R.rect])}return[V.ZY.a6t(z[0],z[1],F[_],F[d],q,w,T,S)]};V.ZY.eV=function(e,Z){var F=e.length,b=!1,_=Date.now(),d=V.ZY.EN(e,!1,1e4);
if(b)console.log("Descriptors ready",Date.now()-_);_=Date.now();for(var l=0;l<F;l++){var S=e[l][1];for(var U=0;
U<d[l].length;U++){d[l][U].x+=S.x;d[l][U].y+=S.y}}if(b)console.log("shifted",Date.now()-_);_=Date.now();
var r=[];for(var l=0;l<F;l++)r[l]=V.ZY.Pm(d[l]);if(b)console.log("trees built",Date.now()-_);_=Date.now();
var q=[];for(var l=0;l<F-1;l++)for(var U=l+1;U<F;U++){var w=V.ZY.match(d[l],d[U],r[U]);if(b)console.log("Matches found",l,U,w.length);
w=w.slice(0,w.length>>>1);if(w.length<10)return null;var X=V.ZY.acb(d[l],d[U],w,2);q.push([l,U,w,X])}q.sort(function(y,h){return h[2].length-y[2].length});
if(b)console.log("Matches found",Date.now()-_);_=Date.now();var Q=[],c=new UnionFind(F);for(var l=0;
l<q.length;l++){var u=q[l],n=c.find(u[0]),k=c.find(u[1]);if(n!=k){Q.push(u);c.link(n,k)}}var B=[];for(var l=0;
l<F;l++)B[l]=[1,0,0,0,1,0,0,0];var o=[0],T=new Uint8Array(F);T[o[0]]=1;while(o.length!=0){var k=o.pop(),X=B[k],z=[];
for(var l=0;l<Q.length;l++){var u=Q[l],$=u[0],R=u[1];if($==k&&T[R]==0){B[R]=V.N.vp(X,u[3]);o.push(R);
T[R]=1}if(R==k&&T[$]==0){B[$]=V.N.vp(X,V.N.eG(u[3]));o.push($);T[$]=1}}}if(Z==null){var P=[];for(var l=0;
l<F;l++)P.push([B[l][2],l]);P.sort(function(y,h){return y[0]-h[0]});Z=P[P.length>>>1][1]}var H=V.N.eG(B[Z]);
for(var l=0;l<F;l++)B[l]=V.N.vp(B[l],H);if(b)console.log("Transforms reordered",Date.now()-_);_=Date.now();
return B};V.ZY.EN=function(e,Z,F){var b=[],_=!1;for(var l=0;l<e.length;l++){var d=e[l][0],S=e[l][1],U=S.w,r=S._,q=V.J(S.Z());
V.QE(d,q);var w=Date.now(),X=V.ZY.apX(q,S,!0);if(_)console.log("Pyramid built ---------------",Date.now()-w);
w=Date.now();var Q=V.a12.adm(X,F);if(_)console.log("SURF Generation",Date.now()-w);w=Date.now();if(!Z){V.Xl.a9a(X,Q);
if(_)console.log("ORB Orientations",Date.now()-w);w=Date.now();V.Xl.a8D(X,Q,q,U,r);if(_)console.log("ORB Descriptors",Date.now()-w);
w=Date.now()}b.push(Q)}return b};V.ZY.apX=function(e,Z,F){var b=[],_=[e,Z];V.rW(_);if(F){var d=V.yS(e,Z),S=d.rect,U=[d.XT,S];
V.rW(U)}for(var l=0;l<_.length;l++){var r=_[2*l],q=_[2*l+1],w=q.w,X=q._,Q=Math.min(w,X);if(Q<30)break;
if(Q<1600)b.push({Tm:r,bo:w,zA:X,cp:1<<l,XV:V.ug(r,w,X)});if(!F)continue;var r=U[2*l],q=U[2*l+1],w=q.w,X=q._,Q=Math.min(w,X);
if(Q<30)break;if(Q<1600)b.push({Tm:r,bo:w,zA:X,cp:(1<<l)*3/2,XV:V.ug(r,w,X)})}return b};V.ZY.acb=function(e,Z,F,b){var _=Date.now(),d,S=0,U=0,r=F.length,q=new Float64Array(2);
for(var w=0;w<3e3;w++){var X=~~(Math.random()*r),Q=~~(Math.random()*r),c=~~(Math.random()*r),u=~~(Math.random()*r),j=0,x=0;
if(X==Q||X==c||X==u||Q==c||Q==u||c==u)continue;var n=F[X],k=F[Q],B=F[c],o=F[u],T=e[n[0]],z=Z[n[1]],W=e[k[0]],$=Z[k[1]],R=e[B[0]],P=Z[B[1]],H=e[o[0]],y=Z[o[1]],h=[T.x,T.y,W.x,W.y,R.x,R.y,H.x,H.y],m=[z.x,z.y,$.x,$.y,P.x,P.y,y.x,y.y],t=V.N.OJ(h,m);
if(t[0]==0&&t[1]==0&&t[3]==0&&t[4]==0)continue;var C=r-S+2;for(var l=0;l<r&&l-j<C;l++){var L=e[F[l][0]],f=Z[F[l][1]];
V.N.im(f.x,f.y,t,q);var D=q[0]-L.x,v=q[1]-L.y,A=D*D+v*v;if(A<b){j++;x+=A}}if(j>S||j==S&&x<U){d=t;S=j;
U=x}}return d};var hr=new Uint8Array(256);for(var l=0;l<256;l++){var i6=0,gi=l;while(gi!=0){gi=gi&gi-1;
i6++}hr[l]=i6}V.ZY.akd=function(e,Z,F){var b=0,_=e.length;for(var l=0;l<_&&b<F;l++)b+=hr[e[l]^Z[l]];
return b};V.ZY.ajM=function(e,Z,F,top,b){if(b[F]==1)return;var _=V.ZY.akd(e.ni,Z.ni,top[0]);if(_<top[0]){if(_<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=_;top[3]=F}else{top[0]=_;top[1]=F}}b[F]=1};V.ZY.Pm=function(e){var Z=[],F=[],b=[[],[]],_=4;
for(var l=0;l<e.length;l++)(e[l].a5S==0?Z:F).push(l);for(var d=0;d<2;d++){var S=new Array(_),U=[],r=d==0?Z:F,q=r.length/256,w=[];
for(var X=0;X<32;X++){var Q=new Array(256),n=0;for(var c=0;c<256;c++)Q[c]=[];for(var c=0;c<r.length;
c++){var u=r[c];Q[e[u].ni[X]].push(u)}for(var c=0;c<256;c++)n+=Math.abs(Q[c].length-q);w.push([n,X,Q])}w.sort(function(k,B){return k[0]-B[0]});
var U=[],S=[];b[d]=[U,S];for(var l=0;l<_;l++){U.push(w[l][1]);S.push(w[l][2])}}return b};V.ZY.match=function(e,Z,F){var b=[],_=new Uint16Array(Z.length);
_.fill(65535);var d=new Uint8Array(Z.length),top=new Uint32Array(4),S=[];for(var U=0;U<e.length;U++){var r=e[U],q=r.ni;
top.fill(1e6);d.fill(0);var w=F[r.a5S];for(var X=0;X<w[1].length;X++){var Q=w[1][X][q[w[0][X]]];for(var c=0;
c<Q.length;c++){var u=Q[c];V.ZY.ajM(r,Z[u],u,top,d)}}if(top[2]<50&&top[2]<top[0]*.5){var n=_[top[3]];
if(n==65535){_[top[3]]=b.length;b.push([U,top[3],top[2]])}else if(top[2]<b[n][2]){b[n]=[U,top[3],top[2]]}}}b.sort(function(k,B){return k[2]-B[2]});
return b};V.ZY.ajB=function(e){var Z=new e3;for(var l=0;l<e.length;l++)Z=Z.Us(e[l][1]);var F=V.J(Z.Z()*4);
for(var l=0;l<e.length;l++)V.a.sB("norm",e[l][0],e[l][1],F,Z,Z,1);return[F,Z]};V.ZY.a6t=function(e,Z,F,b,_,d,S,U){var r=e[1].clone(),q=r.clone();
r.x=r.y=0;var w=Z[1].clone(),X=w.clone();w.x=w.y=0;w.x=r.w;var Q=r.Us(w),c=X.y-q.y,u=V.J(Q.Z()*4);V.Rf(e[0],r,u,Q);
V.Rf(Z[0],new e3(w.x,w.y+c,w.w,w._),u,Q);var n=document.createElement("canvas");n.width=Q.w;n.height=Q._;
var k=n.getContext("2d");k.lineWidth=.5;k.putImageData(new ImageData(new Uint8ClampedArray(u.buffer),Q.w,Q._),0,0);
if(d){var B=d[0],o=V.dg.zQ(B),T=r.w,z=U.w;for(var l=0;l<_.length;l++){var W=_[l],e=F[W[0]],Z=b[W[1]];
k.strokeStyle="#"+"ff0000";k.beginPath();var $=V.Xc.arG(o,S[0],Z,0,z),R=V.Xc.arG(B,S[1],e,0,z);k.moveTo(-q.x+$[0],-q.y+$[1]);
k.lineTo(-q.x+$[2],-q.y+$[3]);k.moveTo(T-X.x+R[0],-X.y+c+R[1]);k.lineTo(T-X.x+R[2],-X.y+c+R[3]);k.stroke()}}if(_){var P=_.length;
for(var l=0;l<P;l++){var W=_[l],e=F[W[0]],Z=b[W[1]];k.strokeStyle="#"+"ffff00"}}var H=new Uint8Array(k.getImageData(0,0,Q.w,Q._).data.buffer);
if(!1){for(var y=0;y<2;y++){var h=y==0?F:b,m=y*r.w;for(var l=0;l<h.length;l++){var t=h[l],j=~~t.x,x=~~t.y,C=(x*Q.w+j+m)*4;
H[C+1]=H[C+2]=t.a4W*60;H[C+0]=0;H[C+3]=255}}}return[H,Q]};V.stack={};V.stack.stack=function(e,Z,F){var b=e.length,_=Z.length;
if(b==1){Z.set(e[0]);return}if(F=="avrg"||F=="stdv"||F=="summ"||F=="vari"){var d=1/b;for(var l=0;l<_;
l++){var S=0;for(var U=0;U<b;U++)S+=e[U][l];var r=~~(S*d+.5);if(F=="avrg"||(l&3)==3)Z[l]=r;else if(F=="summ")Z[l]=255*Math.pow(Math.min(255,S)*(1/255),1/2.4);
else{var q=0;for(var U=0;U<b;U++){var w=e[U][l]-r;q+=w*w}var X=Math.sqrt(q*d)*(1/255);if(F=="stdv")Z[l]=255*Math.pow(X,1/2.4);
else Z[l]=255*Math.pow(X*X,1/2.4)}}}else if(F=="maxx"){for(var l=0;l<_;l++){var Q=0;for(var U=0;U<b;
U++)Q=Math.max(Q,e[U][l]);Z[l]=Q}}else if(F=="minn"){for(var l=0;l<_;l++){var Q=255;for(var U=0;U<b;
U++)Q=Math.min(Q,e[U][l]);Z[l]=Q}}else if(F=="medn"||F=="rang"){var c=function(B,o){return B-o},u=new Array(b),n=0,k=0;
if(b%1==0){k=b>>>1;n=k-1}else{n=k=b>>>1}for(var l=0;l<_;l++){for(var U=0;U<b;U++)u[U]=e[U][l];u.sort(c);
if(F=="medn")Z[l]=u[n]+u[k]>>>1;else Z[l]=(l&3)==3?u[b-1]:u[b-1]-u[0]}}else console.log(F)};V.aA={};
V.aA.apV=function(e,Z,F,b){var _=Date.now(),d=new Uint32Array(Z*F),S=new Uint8Array(Z*F);while(!0){S.fill(0);
d.fill(0);var U=[],r=0;for(var q=0;q<F;q++){for(var w=0;w<Z;w++){var l=q*Z+w;if(S[l]==0){var X=U.length,Q=V.aA.BH(e,Z,F,w,q,S,d,X);
U.push([X,w,q,Q[0],Q[1],e[l]]);if(Q[0]<b)r++}}}if(r==0)break;var c=U.length,u=new UnionFind(c),n=[];
for(var l=0;l<c;l++)n.push([]);for(var l=0;l<c;l++){var Q=U[l],k=Q[4],B=0,o=0;if(Q[3]>=b)continue;var X=Q[0];
for(var T=0;T<k.length;T+=2){var z=d[k[T+1]*Z+k[T]],W=U[z];if(W[3]>o){o=W[3];B=z}}if(u.find(X)!=u.find(B)){u.link(X,B);
n[X].push(B);n[B].push(X)}}var $=new Uint32Array(c);$.fill(4294967295);var R=new Uint32Array(c);for(var l=0;
l<c;l++){if($[l]!=4294967295||n[l].length==0)continue;var P=[l],H=[l],y=l,h=U[l][3];while(H.length!=0){var m=H.pop(),t=n[m];
for(var T=0;T<t.length;T++){var j=t[T];if(P.indexOf(j)==-1){P.push(j);H.push(j);var x=U[j];if(x[3]>h){h=x[3];
y=j}}}}for(var T=0;T<P.length;T++){$[P[T]]=y;var C=U[y];R[P[T]]=e[C[2]*Z+C[1]]}}for(var q=0;q<F;q++)for(var w=0;
w<Z;w++){var l=q*Z+w,L=$[d[l]];if(L!=4294967295)e[l]=R[L]}}};V.aA.BH=function(e,Z,F,b,_,d,S,U){var r=[b,_],q=e[_*Z+b],w=0,X=[];
d[_*Z+b]=1;while(r.length!=0){var Q=r.pop(),c=r.pop(),l=Q*Z+c;S[l]=U;w++;if(Q!=F-1)if(e[l+Z]==q){if(d[l+Z]==0){r.push(c,Q+1);
d[l+Z]=1}}else X.push(c,Q+1);if(Q!=0)if(e[l-Z]==q){if(d[l-Z]==0){r.push(c,Q-1);d[l-Z]=1}}else X.push(c,Q-1);
if(c!=Z-1)if(e[l+1]==q){if(d[l+1]==0){r.push(c+1,Q);d[l+1]=1}}else X.push(c+1,Q);if(c!=0)if(e[l-1]==q){if(d[l-1]==0){r.push(c-1,Q);
d[l-1]=1}}else X.push(c-1,Q)}return[w,X]};V.aA.ahT=function(e,Z,F,b,_){var d=V.aA.Pw(e.buffer,Z,F).z_,S=Date.now(),U=[];
for(var l=0;l<d.length;l++){var r=d[l],q=1;for(var w=0;w<q;w++)U.push(r.d_)}var X=new Uint32Array(U),Q=UPNG.quantize.getKDtree(new Uint8Array(X.buffer),b),c=[Z,1,-Z,-1,Z+1,-Z+1,-Z-1,Z-1,Z+Z,2,-Z-Z,-2,Z+Z-1,Z+Z+1,Z+2,-Z+2,-Z-Z+1,-Z-Z-1,-Z-2,Z-2,Z+Z+2,-Z-Z+2-Z-Z-2,Z+Z-2],u=new Uint8Array(Z*F),n=e;
for(var k=0;k<F;k++)for(var B=0;B<Z;B++){var l=k*Z+B<<2,o=n[l]*(1/255),T=n[l+1]*(1/255),z=n[l+2]*(1/255),W=n[l+3]*(1/255),$=V.aA.wr(Q,o,T,z,W,_);
if($==null){var R=[],P=0;while(P<20){var H=k*Z+B+c[P]<<2,y=n[H]*(1/255),h=n[H+1]*(1/255),m=n[H+2]*(1/255),t=n[H+3]*(1/255),j=V.aA.wr(Q,y,h,m,t,.005);
if(j!=null){if(R.indexOf(j)==-1){R.push(j);j.Wu=1}else j.Wu++}P++}R.sort(function(W,z){return z.Wu-W.Wu});
while(R.length!=0&&R[R.length-1].Wu<3)R.pop();if(R.length==0)$=V.aA.wr(Q,o,T,z,W,100);else if(R.length==1)$=R[0];
else if(R.length==2){var x=R[0],C=R[1],L=x.est.q,f=C.est.q,D=f[0]-L[0],v=f[1]-L[1],A=f[2]-L[2],M=f[3]-L[3],Y=o-L[0],J=T-L[1],I=z-L[2],p=W-L[3],a=D*D+v*v+A*A+M*M,er=Y*Y+J*J+I*I+p*p,c8=(Y*D+J*v+I*A+p*M)/a,O=er-c8*c8*a;
if(O<.5)$=c8<.5?x:C;else{$=V.aA.wr(Q,o,T,z,W,100)}}else{var x=R[0],C=R[1],dF=R[2],L=x.est.q,f=C.est.q,gl=dF.est.q,e0=L[0]-gl[0],bv=L[1]-gl[1],gm=L[2]-gl[2],iW=L[3]-gl[3],jx=f[0]-gl[0],aC=f[1]-gl[1],d9=f[2]-gl[2],bS=f[3]-gl[3],jo=gl[0]-o,g7=gl[1]-T,dI=gl[2]-z,gn=gl[3]-W,hI=e0*e0+bv*bv+gm*gm+iW*iW,d$=e0*jx+bv*aC+gm*d9+iW*bS,eX=jo*e0+g7*bv+dI*gm+gn*iW,d3=e0*jx+bv*aC+gm*d9+iW*bS,cJ=jx*jx+aC*aC+d9*d9+bS*bS,dM=jo*jx+g7*aC+dI*d9+gn*bS,dh=1/(d$*d3-hI*cJ),c8=(cJ*eX-dM*d$)*dh,jh=(dM*hI-eX*d3)*dh,aK=1-c8-jh,ca=Math.max(c8,jh,aK);
if(ca==c8)$=x;else if(ca==jh)$=C;else $=dF}}u[l>>2]=$.ind}return{jR:u,z_:Q[1]}};V.aA.Pw=function(e,Z,F){var b=[],_={},d=Z-1,S=F-1,U=0,r=new Uint32Array(e),q=[-Z-1,-Z,-Z+1,-1,1,Z-1,Z,Z+1,Z+Z,2,-Z-Z,-2,Z+Z-1,Z+Z+1,Z+2,-Z+2,-Z-Z+1,-Z-Z-1,-Z-2,Z-2,Z+Z+2,-Z-Z+2-Z-Z-2,Z+Z-2];
for(var w=1;w<S;w++)for(var X=1;X<d;X++){var Q=w*Z+X,c=r[Q],u=!0;for(var l=0;l<8;l++)u=u&&r[Q+q[l]]==c;
if(u){U++;var n=_[c];if(n==null){_[c]=b.length;b.push({d_:c,vt:1})}else b[n].vt++}}return{z_:b,ai_:U}};
V.aA.wr=function(e,Z,F,b,_,d){var S=UPNG.quantize.getNearest(e[0],Z,F,b,_);return V.aA.a79(S,Z,F,b,_)<d?S:null};
V.aA.a79=function(e,Z,F,b,_){var d=e.est.q,S=Z-d[0],U=F-d[1],r=b-d[2],q=_-d[3];return S*S+U*U+r*r+q*q};
V.aA.B3=function(){function e(B,o,T,z,W,$){var R=[],P=$,H=$,y=$>>>2;for(var h=0;h<W;h++)for(var m=0;
m<z;m++){var t=~~((m+.5)*P),j=~~((h+.5)*H),x=1e9,C=Math.max(0,t-y),L=Math.min(o,t+y+1),f=Math.max(0,j-y),D=Math.min(T,j+y+1);
for(var v=f;v<D;v++)for(var A=C;A<L;A++){var M=Z(B,o,A,v);if(M<x){t=A;j=v;x=M}}var Y=(j*o+t)*4;R.push(t,j)}return R}function Z(B,o,T,z){var W=(z*o+T)*4,$=o*4,R=F(B,W-4,W)+F(B,W,W+4),P=F(B,W-$,W)+F(B,W,W+$);
return R+P}function F(B,o,T){var z=B[o]-B[T],W=B[o+1]-B[T+1],$=B[o+2]-B[T+2];return z*z+W*W+$*$}var b=0,_=0;
function d(B,o,T,z){_++;if(z<b)b=z;B[z].push(o,T)}function S(B){_--;while(B[b].length==0)b++}function U(B,o,T,z,W){b=0;
_=0;var $=o*T,R=Math.round(Math.min(o,T)/(z?z:50)),C=0,L=16;if(R==0)R=1;var P=(W?W:30)/R,H=Math.floor(o/R),y=Math.floor(T/R),h=new Uint16Array($);
for(var l=0;l<$;l++)h[l]=65535;var m=e(B,o,T,H,y,R),t=m.length>>>1;if(t>65535)throw t;var j=[];for(var l=0;
l<1e3+T;l++)j.push([]);var x=[0,1,0,-1,-1,0,1,0],f=Math.min(y,5),D=new Uint32Array(t*6);for(var v=0;
v<y;v+=f){var A=Math.min(v+f+1,y);for(var M=v;M<A;M++)for(var Y=0;Y<H;Y++){var l=M*H+Y,J=l*2,I=m[J+1]<<16|m[J];
d(j,I,l,m[J+1]>>>L)}var p=Math.min(T,A*R);if(v+f>=y)p=T;while(_!=0){S(j);var a=j[b].pop(),er=j[b].pop(),c8=er>>>16,O=er&65535,l=c8*o+O;
if(h[l]==65535){var dF=a*6,gl=l<<2;h[l]=a;D[dF]+=B[gl];D[dF+1]+=B[gl+1];D[dF+2]+=B[gl+2];D[dF+3]+=O;
D[dF+4]+=c8;D[dF+5]++;var e0=c8>>>L;if(c8!=p-1&&h[l+o]==65535)d(j,c8+1<<16|O,a,r(B,o,P,O,c8+1,D,dF)+e0);
if(c8!=0&&h[l-o]==65535)d(j,c8-1<<16|O,a,r(B,o,P,O,c8-1,D,dF)+e0);if(O!=0&&h[l-1]==65535)d(j,c8<<16|O-1,a,r(B,o,P,O-1,c8,D,dF)+e0);
if(O!=o-1&&h[l+1]==65535)d(j,c8<<16|O+1,a,r(B,o,P,O+1,c8,D,dF)+e0)}}if(p!=c8){var bv=(v+f)*H;D.fill(0,bv*6,(bv+H)*6);
for(var c8=(v+f-2)*R;c8<p;c8++)for(var O=0;O<o;O++){var l=c8*o+O;if(h[l]>=bv){h[l]=65535}}}}return{jR:h,KP:t,nW:D}}V.aA.fG=function(B,o,T,z,W){var $=B.KP,R=o*T,P=B.nW,H=B.jR,y=c(z,H,$,R),h=new UnionFind($),L=0;
for(var m=1;m<T;m++)for(var t=1;t<o;t++){var l=m*o+t,j=H[l],x=0;if((x=H[l-1])!=j&&y[x]==y[j]&&q(P,0,j*6,x*6)<W)h.link(j,x);
if((x=H[l-o])!=j&&y[x]==y[j]&&q(P,0,j*6,x*6)<W)h.link(j,x)}var C=new Uint16Array($);C.fill(65535);var f=new Uint16Array($);
for(var l=0;l<$;l++){var D=h.find(l);if(C[D]==65535)C[D]=L++;f[l]=C[D]}var v=new Uint16Array(R);for(var l=0;
l<R;l++)v[l]=f[H[l]];return{jR:v,KP:L}};V.aA.ah6=function(B,o,T,z){var W=V.J(T),$=o.length,R=0;for(var l=0;
l<$&&R!=3;l++){var P=z[l];if(P==0||P==255){var H=o[l],y=2-(P>>>7);W[H]=R=W[H]|y}}return R!=3};function r(B,o,T,z,W,$,R){var P=(W*o+z)*4,H=$[R+5],y=1/H,h=B[P]*H-$[R],m=B[P+1]*H-$[R+1],t=B[P+2]*H-$[R+2],j=z*H-$[R+3],x=W*H-$[R+4],C=Math.sqrt(h*h+m*m+t*t),L=Math.sqrt(j*j+x*x);
return~~((C+T*L)*y+.5)}function q(B,o,T,z){var W=1/B[T+5],$=1/B[z+5],R=B[T]*W-B[z]*$,P=B[T+1]*W-B[z+1]*$,H=B[T+2]*W-B[z+2]*$,y=B[T+3]*W-B[z+3]*$,h=B[T+4]*W-B[z+4]*$,m=Math.sqrt(R*R+P*P+H*H),t=Math.sqrt(y*y+h*h);
return~~(m+o*t+.5)}function w(B,o,T){var z=V.TT(B,new e3(0,0,o,T)),W=z.rect.w,$=z.rect._,R=U(z.XT,W,$),P=R.jR,H=Date.now(),y=new Uint16Array(o*T);
y.fill(65535);for(var h=0;h<$;h++){for(var m=0;m<W;m++){var t=h*W+m,l=(h<<1)*o+(m<<1),j=P[t];if(P[t-W]!=j||P[t-1]!=j||P[t+1]!=j||P[t+W]!=j)j=65535;
y[l]=j;y[l+1]=j;y[l+o]=j;y[l+o+1]=j}}R.jR=y;return R}function X(B,o){var l=0,T=B.length;while(l!=T&&B[l]!=o)l+=2;
return l==T?-1:l}function Q(B,l){if(l==B.length-2){B.pop();B.pop()}else{B[l+1]=B.pop();B[l]=B.pop()}}V.aA.abj=function(B,o,T,z,W){var $=new Uint32Array(W*4400),Z=[];
for(var l=0;l<W;l++)Z.push([]);for(var R=0;R<T;R++)for(var P=0;P<o;P++){var l=R*o+P,H=l<<2,y=z[l],h=0,m=B[H]>>>4,t=B[H+1]>>>4,j=B[H+2]>>>4;
$[y*4400+(m<<8|t<<4|j)]++;$[y*4400+4096]++;$[y*4400+4100+(m<<4|t)]++;$[y*4400+4360+m]++;if(P!=0&&(h=z[l-1])!=y&&X(Z[y],h)==-1){Z[y].push(h,0);
Z[h].push(y,0)}if(R!=0&&(h=z[l-o])!=y&&X(Z[y],h)==-1){Z[y].push(h,0);Z[h].push(y,0)}}for(var l=0;l<W;
l++){var j=Z[l];for(var x=0;x<j.length;x+=2)j[x+1]=k($,l,j[x])}return[$,Z]};function c(B,o,T,z){var W=V.J(T);
for(var l=0;l<z;l++){var $=B[l];if($==0||$==255)W[o[l]]=2-($>>>7)}return W}V.aA.a62=function(B,o,T,z,W,$,R){var P=o*T,H=R[0],Z=R[1],y=new UnionFind(z),h=c(W,B,z,P),m=-1,t=!0,j=0;
for(var l=0;l<z;l++)if(h[l]==1){if(m==-1)m=l;else y.link(l,m)}if(m==-1){for(var l=0;l<P;l++)$[l]=W[l]==255?255:0;
return}while(t){while(t){t=!1;for(var l=0;l<z;l++){if(h[l]==0){var x=u(Z[l]);if(h[x]==1){h[l]=h[x];t=!0;
y.link(l,x)}}}}t=!0;j=0;while(t){t=!1;for(var l=0;l<z;l++){if(h[l]==0){var x=u(Z[l]);if(h[x]==0){var C=l*4400,L=x*4400;
for(var f=0;f<4400;f+=2){H[C+f]+=H[L+f];H[C+f+1]+=H[L+f+1]}n(Z,H,l,x);j++;h[x]=3;t=!0;y.link(l,x)}}}}t=j!=0}var D=y.find(m);
for(var l=0;l<z;l++)h[l]=y.find(l)==D?255:0;for(var l=0;l<P;l++){$[l]=h[B[l]]}for(var l=0;l<P;l++){var x=W[l];
if(x==0||x==255)$[l]=x}};function u(B){var o=0,T=0,z=B.length;for(var W=0;W<z;W+=2){var $=B[W+1];if($>T){T=$;
o=W}}return B[o]}function n(Z,B,o,T){var z=Z[o],W=Z[T];Q(z,X(z,T));Q(W,X(W,o));for(var l=0;l<W.length;
l+=2){var $=W[l],R=Z[$];Q(R,X(R,T));if(X(R,o)==-1){R.push(o,0);z.push($,0)}}for(var l=0;l<z.length;l+=2){var $=z[l],R=Z[$],P=k(B,o,$);
z[l+1]=P;R[X(R,o)+1]=P}}function k(B,o,T){var z=0,W=4096,$=o*4400,R=T*4400;for(var P=0;P<16;P++){if(B[$+4360+P]==0||B[R+4360+P]==0)continue;
for(var H=0;H<16;H++){var y=P<<4|H;if(B[$+4100+y]==0||B[R+4100+y]==0)continue;var h=$+(y<<4),m=R+(y<<4);
for(var l=0;l<16;l++)z+=Math.sqrt(B[h+l]*B[m+l])}}var t=z/Math.sqrt(B[$+W]*B[R+W]);return~~(999.99999*t)}return U}();
V.Bx={};V.Bx.aiv=function(){var e=11,Z=7,F=e>>>1,gi=Z>>>1,b=2,_=2e3/b,d=[],U=null,r="";function S(w,X,Q){var c=(w[X+0]-w[Q+0])*(1/255),u=(w[X+1]-w[Q+1])*(1/255),n=(w[X+2]-w[Q+2])*(1/255),k=(w[X+3]-w[Q+3])*(1/255),B=c*c*.125+u*u*.25+n*n*.5+k*k;
return d[~~(B*_)]}function q(w,X,Q,c,u,n){var k=Date.now(),B=V.J(X*Q);V.QE(w,B);var o=UZIP.adler(B,0,X*Q);
if(o!=r){var T=V.ug(B,X,Q);U=V.J(X*Q*4);r=o;var z=[1,1/9,1/25,1/49,1/81];for(var W=0;W<Q;W++)for(var $=0;
$<X;$++)for(var l=0;l<4;l++){var R=Math.max(1,$-l),P=Math.min(X-1,$+l),H=Math.max(1,W-l),y=Math.min(Q-1,W+l),h=V.g7(T,X,R,P,H,y);
if(isNaN(h))throw $+","+W+","+l+","+h;U[(W*X+$)*4+l]=h*z[l]}}if(E.P7){var m=E.KB(0,X,Q);m.set(w);var t=E.KB(1,X,Q);
t.set(U);var j=E.KB(2,X,Q);E.vN(j);E.filter.zS({type:E.filter.a6L,de:new Float32Array([1/X,1/Q]),apM:t.ad,acz:u,a3r:n},m.ad);
j.get(c)}else{for(var l=0;l<2e3;l++)d[l]=Math.exp(-(l/2e3)*b*(100+(1-u)*(1-u)*1e4));var x=gi+2;for(var W=x;
W<Q-x;W++)for(var $=x;$<X-x;$++){var C=0,L=0,f=0,D=0;for(var v=0;v<e;v++)for(var A=0;A<e;A++){var M=$+A-F,Y=W+v-F;
if(M==$&&Y==W||M<x||Y<x||M>=X-x||Y>=Q-x)continue;var J=S(U,(W*X+$)*4,(Y*X+M)*4),I=Y*X+M<<2;C+=J*w[I+0];
L+=J*w[I+1];f+=J*w[I+2];D+=J}if(D==0){continue}var p=1/D,a=(W*X+$)*4;c[a+0]=~~((1-n)*p*C+n*c[a+0]);c[a+1]=~~((1-n)*p*L+n*c[a+1]);
c[a+2]=~~((1-n)*p*f+n*c[a+2])}}}return q}();var aE=function(){function e(){this.Z=0;this.zZ=0;this.d5={};
this.ou=[];this.t3=1e5;this.sJ=1e5;this.xJ=-1;this.IL=-1;this.color=0}function Z(gi){this.d9=gi;this.Nw=new Array(gi);
this.d_=new Array(gi*6);this.agB=0;this.j7=new Array(gi*2);this.alpha=new Array(gi);this.w$=new Array(gi);
this.kw=new Array(gi)}function F(_,d,S,U){function r(k,B,_,d){return _[d*B+k]}function q(l){var R=_.length;
while(l<R&&_[l]==0)l++;return l<R?l:-1}function w(k,B,R){for(var l=2;l<5;l++){var P=0;for(var H=-l+1;
H<=l-1;H++){P+=r(k+H,B+l-1,_,d)==R?1:-1;P+=r(k+l-1,B+H-1,_,d)==R?1:-1;P+=r(k+H-1,B-l,_,d)==R?1:-1;P+=r(k-l,B+H,_,d)==R?1:-1}if(P>0)return 1;
else if(P<0)return 0}return 0}function X(R,u){var n=new e,k=R,B=u,P=0,H=1,y;n.color=_[u*d+R];n.sign=r(R,u,_,d)==n.color?"+":"-";
while(1){n.ou.push(k,B);if(k>n.xJ)n.xJ=k;if(k<n.t3)n.t3=k;if(B>n.IL)n.IL=B;if(B<n.sJ)n.sJ=B;n.zZ++;k+=P;
B+=H;n.Z-=k*H;if(k==R&&B==u)break;var h=r(k+(P+H-1>>1),B+(H-P-1>>1),_,d)==n.color,m=r(k+(P-H-1>>1),B+(H+P-1>>1),_,d)==n.color;
if(m&&!h){if(U.K9=="right"||U.K9=="black"&&n.sign=="+"||U.K9=="white"&&n.sign=="-"||U.K9=="majority"&&w(k,B,n.color)||U.K9=="minority"&&!w(k,B,n.color)){y=P;
P=-H;H=y}else{y=P;P=H;H=-y}}else if(m){y=P;P=-H;H=y}else if(!h){y=P;P=H;H=-y}}return n}var Q=0,c=[];
while(!0){var Q=q(Q);if(Q==-1)break;var u=Math.floor(Q/d),n=X(Q-u*d,u);for(var l=0;l<n.ou.length-2;l+=2){var k=n.ou[l],B=n.ou[l+1],o=B*d+k;
if(k==n.ou[l+2]&&B+1==n.ou[l+3]&&_[o]!=0)aE.fill(o,_,d,0)}if(n.Z>U.alH)c.push(n)}for(var l=0;l<c.length;
l++)c[l].parent=-1;var T=Date.now();for(var l=1;l<c.length;l++){var z=c[l];for(var W=l-1;W>=0;W--){var $=c[W];
if(z.t3<$.t3||z.xJ>$.xJ||z.sJ<$.sJ||z.IL>$.IL)continue;if(!aE.a16($.ou,z.ou[0]+.5,z.ou[1]+.5))continue;
z.parent=W;break}}return c}function b(_,d){function S(P,H,y,h,m){this.x=P;this.y=H;this.hX=y;this.$K=h;
this.Ky=m}function U(P,gi){return(gi+P)%gi}function r(P,H,y,h){return P*h-y*H}function q(P,H,y,h){return P*y+H*h}function w(P,H,y){if(P<=y)return P<=H&&H<y;
else return P<=H||H<y}function X(P,H,y){var h=0;h+=H*P[0]*H;h+=H*P[1]*y;h+=H*P[2];h+=y*P[3]*H;h+=y*P[4]*y;
h+=y*P[5];h+=P[6]*H;h+=P[7]*y;h+=P[8];return h}function Q(P,H,y){return H+P*(y-H)}function c(P,H,y,h){var m=Math.sign(y-P),t=-Math.sign(h-H);
return m*(y-P)-t*(h-H)}function u(P,H){return Math.sqrt(P*P+H*H)}function n(P,H,y,h,m){var t=1-P;return t*t*t*H+3*(t*t*P)*y+3*(P*P*t)*h+P*P*P*m}function k(P,H,y,h,m,t,j,x){var C=r(P,H,j,x),L=r(y,h,j,x),f=r(m,t,j,x),D=C-2*L+f,v=-2*C+2*L,A=C,M=v*v-4*D*A;
if(D==0||M<0)return-1;var Y=Math.sqrt(M),J=(-v+Y)/(2*D),I=(-v-Y)/(2*D);if(J>=0&&J<=1)return J;else if(I>=0&&I<=1)return I;
else return-1}function B(R){var l,P,H;R.pt=R.ou[0];R.a5k=R.ou[1];R.Cj=[];var y=R.Cj;y.push(new S(0,0,0,0,0));
for(l=0;l<R.zZ;l++){P=R.ou[l<<1]-R.pt;H=R.ou[(l<<1)+1]-R.a5k;y.push(new S(y[l].x+P,y[l].y+H,y[l].hX+P*H,y[l].$K+P*P,y[l].Ky+H*H))}}function o(R){var gi=R.zZ,P=R.ou,H,y=new Array(gi),h=new Array(gi),m=new Array(4),t,j,x,C,L,f,D,v,A,M,Y,l,J,I,p,a,er,c8,O=0;
R.y4=new Array(gi);for(l=gi-1;l>=0;l--){if(P[l<<1]!=P[O<<1]&&P[(l<<1)+1]!=P[(O<<1)+1])O=l+1;h[l]=O}for(l=gi-1;
l>=0;l--){var dF=U(l+1,gi)<<1;m[0]=m[1]=m[2]=m[3]=0;H=(3+3*(P[dF]-P[l<<1])+(P[dF+1]-P[(l<<1)+1]))/2;
m[H]++;t=0;j=0;x=0;C=0;O=h[l];I=l;while(1){Y=0;H=(3+3*Math.sign(P[O*2]-P[I*2])+Math.sign(P[O*2+1]-P[I*2+1]))/2;
m[H]++;if(m[0]&&m[1]&&m[2]&&m[3]){y[l]=I;Y=1;break}A=P[O*2]-P[l*2];M=P[O*2+1]-P[l*2+1];if(r(t,j,A,M)<0||r(x,C,A,M)>0){break}if(Math.abs(A)<=1&&Math.abs(M)<=1){}else{L=A+(M>=0&&(M>0||A<0)?1:-1);
f=M+(A<=0&&(A<0||M<0)?1:-1);if(r(t,j,L,f)>=0){t=L;j=f}L=A+(M<=0&&(M<0||A<0)?1:-1);f=M+(A>=0&&(A>0||M<0)?1:-1);
if(r(x,C,L,f)<=0){x=L;C=f}}I=O;O=h[I];if(!w(O,l,I)){break}}if(Y==0){D=Math.sign(P[O*2]-P[I*2]);v=Math.sign(P[O*2+1]-P[I*2+1]);
A=P[I*2]-P[l*2];M=P[I*2+1]-P[l*2+1];p=r(t,j,A,M);a=r(t,j,D,v);er=r(x,C,A,M);c8=r(x,C,D,v);J=1e7;if(a<0){J=Math.floor(p/-a)}if(c8>0){J=Math.min(J,Math.floor(-er/c8))}y[l]=U(I+J,gi)}}J=y[gi-1];
R.y4[gi-1]=J;for(l=gi-2;l>=0;l--){if(w(l+1,y[l],J)){J=y[l]}R.y4[l]=J}for(l=gi-1;w(U(l+1,gi),J,R.y4[l]);
l--){R.y4[l]=J}}function T(R){function P(R,l,H){var gi=R.zZ,A=R.ou,M=R.Cj,Y,J,I,p,a,h,er,c8,v,O,dF,gl,e0,bv,gm=0;
if(H>=gi){H-=gi;gm=1}if(gm==0){Y=M[H+1].x-M[l].x;J=M[H+1].y-M[l].y;p=M[H+1].$K-M[l].$K;I=M[H+1].hX-M[l].hX;
a=M[H+1].Ky-M[l].Ky;h=H+1-l}else{Y=M[H+1].x-M[l].x+M[gi].x;J=M[H+1].y-M[l].y+M[gi].y;p=M[H+1].$K-M[l].$K+M[gi].$K;
I=M[H+1].hX-M[l].hX+M[gi].hX;a=M[H+1].Ky-M[l].Ky+M[gi].Ky;h=H+1-l+gi}dF=(A[l<<1]+A[H<<1])/2-A[0];gl=(A[(l<<1)+1]+A[(H<<1)+1])/2-A[1];
bv=A[H<<1]-A[l<<1];e0=-(A[(H<<1)+1]-A[(l<<1)+1]);er=(p-2*Y*dF)/h+dF*dF;c8=(I-Y*gl-J*dF)/h+dF*gl;v=(a-2*J*gl)/h+gl*gl;
O=e0*e0*er+2*e0*bv*c8+bv*bv*v;return Math.sqrt(O)}var l,H,y,h,gi=R.zZ,m=new Array(gi+1),t=new Array(gi+1),j=new Array(gi),x=new Array(gi+1),C=new Array(gi+1),L=new Array(gi+1),f,D,v;
for(l=0;l<gi;l++){v=U(R.y4[U(l-1,gi)]-1,gi);if(v==l){v=U(l+1,gi)}if(v<l){j[l]=gi}else{j[l]=v}}H=1;for(l=0;
l<gi;l++){while(H<=j[l]){x[H]=l;H++}}l=0;for(H=0;l<gi;H++){C[H]=l;l=j[l]}C[H]=gi;y=H;l=gi;for(H=y;H>0;
H--){L[H]=l;l=x[l]}L[0]=0;m[0]=0;for(H=1;H<=y;H++){for(l=L[H];l<=C[H];l++){D=-1;for(h=C[H-1];h>=x[l];
h--){f=P(R,h,l)+m[h];if(D<0||f<D){t[l]=h;D=f}}m[l]=D}}R.abr=y;R.asV=new Array(y);for(l=gi,H=y-1;l>0;
H--){l=t[l];R.asV[H]=l}}function z(R){function P(R,l,f,j,x,iW){var gi=R.zZ,jx=R.Cj,aC=0,v;while(f>=gi){f-=gi;
aC+=1}while(l>=gi){l-=gi;aC-=1}while(f<0){f+=gi;aC-=1}while(l<0){l+=gi;aC+=1}var d9=jx[f+1].x-jx[l].x+aC*jx[gi].x,bS=jx[f+1].y-jx[l].y+aC*jx[gi].y,jo=jx[f+1].$K-jx[l].$K+aC*jx[gi].$K,g7=jx[f+1].hX-jx[l].hX+aC*jx[gi].hX,dI=jx[f+1].Ky-jx[l].Ky+aC*jx[gi].Ky,D=f+1-l+aC*gi;
j[iW]=d9/D;j[iW+1]=bS/D;var gn=(jo-d9*d9/D)/D,hI=(g7-d9*bS/D)/D,d$=(dI-bS*bS/D)/D,eX=(gn+d$+Math.sqrt((gn-d$)*(gn-d$)+4*hI*hI))/2;
gn-=eX;d$-=eX;if(Math.abs(gn)>=Math.abs(d$)){v=Math.sqrt(gn*gn+hI*hI);if(v!=0){x[iW]=-hI/v;x[iW+1]=gn/v}}else{v=Math.sqrt(d$*d$+hI*hI);
if(v!=0){x[iW]=-d$/v;x[iW+1]=hI/v}}if(v==0){x[iW]=x[iW+1]=0}}var H=R.abr,y=R.asV,gi=R.zZ,h=R.ou,m=R.pt,t=R.a5k,j=new Array(H*2),x=new Array(H*2),C=new Array(H),L=new Array(3),l,f,D,v,J,I,p,a,er,c8,O;
R.d5=new Z(H);for(l=0;l<H;l++){f=y[U(l+1,H)];f=U(f-y[l],gi)+y[l];j[l<<1]=0;j[(l<<1)+1]=0;x[l<<1]=0;x[(l<<1)+1]=0;
P(R,y[l],f,j,x,l<<1)}for(l=0;l<H;l++){C[l]=[0,0,0,0,0,0,0,0,0];var A=x[l<<1]*x[l<<1]+x[(l<<1)+1]*x[(l<<1)+1],M=1/A;
if(A!=0){L[0]=x[(l<<1)+1];L[1]=-x[l<<1];L[2]=-L[1]*j[(l<<1)+1]-L[0]*j[l<<1];for(v=0;v<3;v++){C[l][v*3+0]=L[v]*L[0]*M;
C[l][v*3+1]=L[v]*L[1]*M;C[l][v*3+2]=L[v]*L[2]*M}}}var Y=[0,0,0,0,0,0,0,0,0];for(l=0;l<H;l++){Y[0]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=0;
var dF=h[y[l]<<1]-m,gl=h[(y[l]<<1)+1]-t,e0=0,bv=0;f=U(l-1,H);for(v=0;v<9;v+=3){Y[v+0]=C[f][v+0]+C[l][v+0];
Y[v+1]=C[f][v+1]+C[l][v+1];Y[v+2]=C[f][v+2]+C[l][v+2]}while(1){var gm=Y[0]*Y[4]-Y[1]*Y[3];if(gm!=0){e0=(-Y[2]*Y[4]+Y[5]*Y[0])/gm;
bv=(Y[2]*Y[3]-Y[5]*Y[0])/gm;break}if(Y[0]>Y[4]){L[0]=-Y[1];L[1]=Y[0]}else if(Y[4]){L[0]=-Y[4];L[1]=Y[3]}else{L[0]=1;
L[1]=0}var A=L[0]*L[0]+L[1]*L[1],M=1/A;L[2]=-L[1]*gl-L[0]*dF;for(v=0;v<3;v++){Y[v*3+0]+=L[v]*L[0]*M;
Y[v*3+1]+=L[v]*L[1]*M;Y[v*3+2]+=L[v]*L[2]*M}}J=Math.abs(e0-dF);I=Math.abs(bv-gl);if(J<=.5&&I<=.5){R.d5.j7[l<<1]=e0+m;
R.d5.j7[(l<<1)+1]=bv+t;continue}p=X(Y,dF,gl);er=dF;c8=gl;if(Y[0]!=0){for(O=0;O<2;O++){bv=gl-.5+O;e0=-(Y[1]*bv+Y[2])/Y[0];
J=Math.abs(e0-dF);a=X(Y,e0,bv);if(J<=.5&&a<p){p=a;er=e0;c8=bv}}}if(Y[4]!=0){for(O=0;O<2;O++){e0=dF-.5+O;
bv=-(Y[3]*e0+Y[5])/Y[4];I=Math.abs(bv-gl);a=X(Y,e0,bv);if(I<=.5&&a<p){p=a;er=e0;c8=bv}}}for(v=0;v<2;
v++){for(D=0;D<2;D++){e0=dF-.5+v;bv=gl-.5+D;a=X(Y,e0,bv);if(a<p){p=a;er=e0;c8=bv}}}R.d5.j7[l<<1]=er+m;
R.d5.j7[(l<<1)+1]=c8+t}}function W(R){var P=R.d5.d9,H=R.d5,l,y,h,m,t,j,x,C,L;for(l=0;l<P;l++){y=U(l+1,P);
h=U(l+2,P);var f=H.j7[l<<1],D=H.j7[(l<<1)+1],v=H.j7[h<<1],A=H.j7[(h<<1)+1],M=H.j7[y<<1],Y=H.j7[(y<<1)+1],J=Q(.5,v,M),I=Q(.5,A,Y);
t=c(f,D,v,A);if(t!=0){m=r(M-f,Y-D,v-f,A-D)/t;m=Math.abs(m);j=m>1?1-1/m:0;j=j*(1/.75)}else{j=4/3}H.w$[y]=j;
var p=3*y<<1;if(j>=d.afk){H.Nw[y]=0;H.d_[p+0]=H.d_[p+1]=0;H.d_[p+2]=M;H.d_[p+3]=Y;H.d_[p+4]=J;H.d_[p+5]=I}else{if(j<.55){j=.55}else if(j>1){j=1}var a=.5+.5*j;
H.Nw[y]=1;H.d_[p]=Q(a,f,M);H.d_[p+1]=Q(a,D,Y);H.d_[p+2]=Q(a,v,M);H.d_[p+3]=Q(a,A,Y);H.d_[p+4]=J;H.d_[p+5]=I}H.alpha[y]=j;
H.kw[y]=.5}H.a6f=1}function $(R){function P(){this.$n=0;this.bf=0;this.I_=0;this._a=0;this.gU=0;this.DE=0;
this.ME=0;this.alpha=0}function H(R,l,f,cJ,dM,er,c8){var h=R.d5.d9,dh=R.d5.d_,jh=R.d5.j7;if(l==f)return 1;
var aK=l,M=U(l+1,h),ca=U(aK+1,h),g7=jh[l<<1],dI=jh[(l<<1)+1],iY=jh[M<<1],et=jh[(M<<1)+1],jD=er[ca];if(jD==0)return 1;
var j6=u(g7-iY,dI-et);for(aK=ca;aK!=f;aK=ca){var ca=U(aK+1,h),dc=U(aK+2,h),ao=jh[ca<<1],ec=jh[(ca<<1)+1],fp=jh[dc<<1],eN=jh[(dc<<1)+1];
if(er[ca]!=jD)return 1;if(Math.sign(r(iY-g7,et-dI,fp-ao,eN-ec))!=jD)return 1;if(q(iY-g7,et-dI,fp-ao,eN-ec)<j6*u(ao-fp,ec-eN)*-.999847695156)return 1}var ha=U(l,h)*3+2<<1,bJ=U(l+1,h)<<1,g3=U(f,h)<<1,bL=U(f,h)*3+2<<1,iW=dh[ha],jx=dh[ha+1],fD=jh[bJ],bF=jh[bJ+1],du=jh[g3],b8=jh[g3+1],jf=dh[bL],c1=dh[bL+1],O=jh[0],dF=jh[1];
ha=f*3+2<<1;var eV=dh[ha],be=dh[ha+1],Y=c8[f]-c8[l];Y-=r(eV-O,be-dF,eV-O,be-dF)/2;if(l>=f){Y+=c8[h]}var fh=fD-iW,ea=bF-jx,g4=du-iW,i7=b8-jx,de=jf-iW,hb=c1-jx,hk=r(fh,ea,g4,i7),e9=r(fh,ea,de,hb),e2=r(g4,i7,de,hb),bj=hk+e2-e9;
if(e9==hk)return 1;var a=e2/(e2-bj),p=e9/(e9-hk),e8=e9*a/2;if(e8==0)return 1;var bt=Y/e8,J=2-Math.sqrt(4-bt/.3);
cJ.bf=Q(a*J,iW,fD);cJ.I_=Q(a*J,jx,bF);cJ._a=Q(p*J,jf,du);cJ.gU=Q(p*J,c1,b8);cJ.alpha=J;cJ.DE=a;cJ.ME=p;
fD=cJ.bf;bF=cJ.I_;du=cJ._a;b8=cJ.gU;cJ.$n=0;for(aK=U(l+1,h);aK!=f;aK=ca){ca=U(aK+1,h);var cL=jh[aK<<1],j2=jh[(aK<<1)+1],ao=jh[ca<<1],ec=jh[(ca<<1)+1];
a=k(fD-iW,bF-jx,du-fD,b8-bF,jf-du,c1-b8,ao-cL,ec-j2);if(a<-.5)return 1;var e$=n(a,iW,fD,du,jf),eI=n(a,jx,bF,b8,c1),j6=u(ao-cL,ec-j2);
if(j6==0)return 1;var fy=r(ao-cL,ec-j2,e$-cL,eI-j2)/j6;if(Math.abs(fy)>dM)return 1;if(q(ao-cL,ec-j2,e$-cL,eI-j2)<0||q(cL-ao,j2-ec,e$-ao,eI-ec)<0){return 1}cJ.$n+=fy*fy}for(aK=l;
aK!=f;aK=ca){ca=U(aK+1,h);var ha=aK*3+2<<1,bJ=ca*3+2<<1,jO=dh[ha],jR=dh[ha+1],g0=dh[bJ],gL=dh[bJ+1];
a=k(fD-iW,bF-jx,du-fD,b8-bF,jf-du,c1-b8,g0-jO,gL-jR);if(a<-.5)return 1;var e$=n(a,iW,fD,du,jf),eI=n(a,jx,bF,b8,c1),j6=u(g0-jO,gL-jR);
if(j6==0)return 1;var fy=r(g0-jO,gL-jR,e$-jO,eI-jR)/j6,cy=r(g0-jO,gL-jR,jh[ca<<1]-jO,jh[(ca<<1)+1]-jR)/j6;
cy*=.75*R.d5.alpha[ca];if(cy<0){fy=-fy;cy=-cy}if(fy<cy-dM)return 1;if(fy<cy){cJ.$n+=(fy-cy)*(fy-cy)}}return 0}var y=R.d5,h=y.d9,m=y.j7,t=new Array(h+1),j=new Array(h+1),x=new Array(h+1),C=new Array(h+1),L,l,f,D,v=new P,A,M,Y,J,I,p,a,er=new Array(h),c8=new Array(h+1);
for(l=0;l<h;l++){if(y.Nw[l]=="CURVE"){var O=m[U(l-1,h)<<1],dF=m[(U(l-1,h)<<1)+1],gl=m[l<<1],e0=m[(l<<1)+1],bv=m[U(l+1,h)<<1],gm=m[(U(l+1,h)<<1)+1];
er[l]=Math.sign(r(gl-O,e0-dF,bv-gl,gm-e0))}else{er[l]=0}}Y=0;c8[0]=0;var iW=y.j7[0],jx=y.j7[1];for(l=0;
l<h;l++){M=U(l+1,h);if(y.Nw[M]=="CURVE"){J=y.alpha[M];var aC=l*3+2<<1,d9=M*3+2<<1,bS=y.d_[aC],jo=y.d_[aC+1],g7=m[M<<1],dI=m[(M<<1)+1],gn=y.d_[d9],hI=y.d_[d9+1];
Y+=.3*J*(4-J)*r(g7-bS,dI-jo,gn-bS,hI-jo)/2;Y+=r(bS-iW,jo-jx,gn-iW,hI-jx)/2}c8[l+1]=Y}t[0]=-1;j[0]=0;
x[0]=0;for(f=1;f<=h;f++){t[f]=f-1;j[f]=j[f-1];x[f]=x[f-1]+1;for(l=f-2;l>=0;l--){D=H(R,l,U(f,h),v,d.apA,er,c8);
if(D){break}if(x[f]>x[l]+1||x[f]==x[l]+1&&j[f]>j[l]+v.$n){t[f]=l;j[f]=j[l]+v.$n;x[f]=x[l]+1;C[f]=v;v=new P}}}L=x[h];
I=new Z(L);p=new Array(L);a=new Array(L);f=h;for(l=L-1;l>=0;l--){var d$=U(f,h),eX=l*3+0<<1,d3=d$*3+0<<1;
if(t[f]==f-1){I.Nw[l]=y.Nw[d$];I.d_[eX]=y.d_[d3];I.d_[eX+1]=y.d_[d3+1];I.d_[eX+2]=y.d_[d3+2];I.d_[eX+3]=y.d_[d3+3];
I.d_[eX+4]=y.d_[d3+4];I.d_[eX+5]=y.d_[d3+5];I.j7[l<<1]=y.j7[d$<<1];I.j7[(l<<1)+1]=y.j7[(d$<<1)+1];I.alpha[l]=y.alpha[d$];
I.w$[l]=y.w$[d$];I.kw[l]=y.kw[d$];p[l]=a[l]=1}else{I.Nw[l]="CURVE";I.d_[eX]=C[f].bf;I.d_[eX+1]=C[f].I_;
I.d_[eX+2]=C[f]._a;I.d_[eX+3]=C[f].gU;I.d_[eX+4]=y.d_[d3+4];I.d_[eX+5]=y.d_[d3+5];I.j7[l<<1]=Q(C[f].ME,y.d_[d3+4],m[d$<<1]);
I.j7[(l<<1)+1]=Q(C[f].ME,y.d_[d3+5],m[(d$<<1)+1]);I.alpha[l]=C[f].alpha;I.w$[l]=C[f].alpha;p[l]=C[f].ME;
a[l]=C[f].DE}f=t[f]}for(l=0;l<L;l++){M=U(l+1,L);I.kw[l]=p[l]/(p[l]+a[M])}I.a6f=1;R.d5=I}for(var l=0;
l<_.length;l++){var R=_[l];B(R);o(R);T(R);z(R);W(R);if(d.a4x)$(R)}}return{ap7:F,a2O:b}}();aE.Zf=function(e,Z,F,b){var _={K9:"minority",alH:b,a4x:!0,afk:1,apA:.2},d=aE.ap7(e,Z,F,_);
aE.a2O(d,_);return d};aE.GJ=function(e){var Z=[];for(var l=0;l<e.length;l++){var F=e[l],b=F.d5,_=["M"],d=[b.d_[(b.d9-1)*6+4],b.d_[(b.d9-1)*6+5]];
for(var S=0;S<b.d9;S++){var U=S*6;if(b.Nw[S]==1){_.push("C");for(var r=0;r<6;r++)d.push(b.d_[U+r])}else if(b.Nw[S]==0){_.push("L");
for(var r=2;r<4;r++)d.push(b.d_[U+r])}}_.push("Z");Z.push({parent:F.parent,color:F.color,path:{s:d,C:_}})}return Z};
aE.as3=function(e,Z,F,b,_){function d(u){function n(l){var c="C "+(u.d_[l*3+0<<1]*Z).toFixed(1)+" "+(u.d_[(l*3+0<<1)+1]*Z).toFixed(1)+",";
c+=(u.d_[l*3+1<<1]*Z).toFixed(1)+" "+(u.d_[(l*3+1<<1)+1]*Z).toFixed(1)+",";c+=(u.d_[l*3+2<<1]*Z).toFixed(1)+" "+(u.d_[(l*3+2<<1)+1]*Z).toFixed(1)+" ";
return c}function k(l){var o="L "+(u.d_[l*3+1<<1]*Z).toFixed(1)+" "+(u.d_[(l*3+1<<1)+1]*Z).toFixed(1)+" ";
o+=(u.d_[l*3+2<<1]*Z).toFixed(1)+" "+(u.d_[(l*3+2<<1)+1]*Z).toFixed(1)+" ";return o}var gi=u.d9,l,B="M"+(u.d_[(gi-1)*3+2<<1]*Z).toFixed(1)+" "+(u.d_[((gi-1)*3+2<<1)+1]*Z).toFixed(1)+" ";
for(l=0;l<gi;l++){if(u.Nw[l]==1){B+=n(l)}else if(u.Nw[l]==0){B+=k(l)}}return B}var F=F*Z,b=b*Z,S=e.length,U=[];
for(var l=0;l<256;l++)U.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var r="<svg id=\"svg\" version=\"1.1\" width=\""+F+"\" height=\""+b+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var l=0;l<S;l++){var q=_[e[l].color-1].au2.PM;if((q>>>24&255)==0)continue;r+="<path d=\"";var w=e[l].d5;
r+=d(w);var X=q>>0&255,Q=q>>8&255,c=q>>16&255,q="rgb("+X+","+Q+","+c+")";r+="\" fill=\""+q+"\" fill-rule=\"evenodd\"/>"}r+="</svg>";
return r};aE.a16=function(e,Z,F){var gi=e.length>>1,b,_=e[2*gi-3]-F,d=e[2*gi-2]-Z,S=e[2*gi-1]-F,U=S>_,r=0;
for(var l=0;l<gi;l++){b=d;_=S;d=e[2*l]-Z;S=e[2*l+1]-F;if(_==S)continue;U=S>_}for(var l=0;l<gi;l++){b=d;
_=S;d=e[2*l]-Z;S=e[2*l+1]-F;if(_<0&&S<0)continue;if(_>0&&S>0)continue;if(b<0&&d<0)continue;if(_==S&&Math.min(b,d)<=0)return!0;
if(_==S)continue;var q=b+(d-b)*-_/(S-_);if(q==0)return!0;if(q>0)r++;if(_==0&&U&&S>_)r--;if(_==0&&!U&&S<_)r--;
U=S>_}return(r&1)==1};aE.fill=function(e,Z,F,b){var _=Z[e],d=[e],S=0;while(S<d.length){var U=d[S];S++;
Z[U]=b;if(Z[U-F]==_){d.push(U-F);Z[U-F]=254}if(Z[U-1]==_){d.push(U-1);Z[U-1]=254}if(Z[U+1]==_){d.push(U+1);
Z[U+1]=254}if(Z[U+F]==_){d.push(U+F);Z[U+F]=254}}};function il(){}il.qj=function(e){var Z=new Uint8Array(e),F=0,b={my:[],Jj:[],list:[]},_=s.Ip(Z,F);
F+=2;if(_<=2){return il.a2b(Z)}var d=s.Ip(Z,F);F+=2;var S=s.fl(Z,F,8);F+=8;var U=s.l(Z,F);F+=4;if(U>0)b.my=il.Tb(Z,F,U,d,_);
F+=U;var r=s.fl(Z,F,8);F+=8;var q=s.l(Z,F);F+=4;if(q>0)b.Jj=dg.XA(Z,F,q);F+=q;var w=s.fl(Z,F,8);F+=8;
var X=s.l(Z,F);F+=4;if(X>0){var Q={};gz.Yr(Z,Q,F+4);b.list=Q.Brsh.v}F+=X;var c=b.list;for(var l=0;l<c.length;
l++){b6.AB.check(c[l].v)}return b};il.Br=function(e,Z){e.v.Nm.v=Z};il.a2b=function(e){var Z={my:[],Jj:[],list:[]},F=0,b=s.Ip(e,F);
F+=2;var _=s.Ip(e,F);F+=2;for(var l=0;l<_;l++){var d=s.Ip(e,F);F+=2;var S=s.l(e,F);F+=4;var U=F;if(d==2){var r={};
Z.my.push(r);var q=s.l(e,U);U+=4;var w=s.Ip(e,U);U+=2;if(b==2){var X=s.b7(e,U);U+=4+X.length*2+2}r.id=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";
U++;U+=8;r.uT=s.E_(e,U);U+=16;var Q=s.Ip(e,U);U+=2;var c=e[U];U++;var u=hm.dD(!1,Q,e,r.uT.w,r.uT._,U,c);
il._w(r,u);var n=b6.mY(r.id),k=n.Brsh.v;k.Dmtr.v.val=r.uT.w;k.Spcn.v.val=w;Z.list.push({t:"Objc",v:n})}F+=S}return Z};
il.WQ=function(e){var Z=new iw,F=0,b=0;s.Pe(Z,F,6);F+=2;s.Pe(Z,F,2);F+=2;s.Hj(Z,F,"8BIMsamp");F+=8;F+=4;
b=F;F=il.NT(Z,F,e.my);s.sH(Z,b-4,F-b);s.Hj(Z,F,"8BIMpatt");F+=8;F+=4;b=F;F=dg.Eo(Z,F,e.Jj);s.sH(Z,b-4,F-b);
var _={classID:"null",Brsh:{t:"VlLs",v:e.list}};s.Hj(Z,F,"8BIMdesc");F+=8;F+=4;b=F;s.sH(Z,F,16);F+=4;
F+=gz.jJ(Z,_,F);s.sH(Z,b-4,F-b);return Z.data.slice(0,F).buffer};il.Tb=function(e,Z,F,b,_){var d=s.l,S=s.E_,U=Z+F,r=[];
while(Z<U){var q={};r.push(q);var w=d(e,Z);Z+=4;var X=Z,Q=s.ce(e,Z);Z+=Q.length;q.id=Q.E1;if(b==1){Z+=9;
q.uT=S(e,Z);Z+=16}else{Z+=7;var c=d(e,Z);Z+=4;q.uT=S(e,Z);Z+=16;var u=d(e,Z);Z+=4;Z+=u*4;var n=d(e,Z);
Z+=4;var k=d(e,Z);Z+=4;var B=S(e,Z);Z+=16}var o=s.Ip(e,Z);Z+=2;var T=e[Z];Z+=1;var z=hm.dD(!1,o,e,q.uT.w,q.uT._,Z,T);
il._w(q,z);if(w%4!=0)w+=4-w%4;Z=X+w}return r};il._w=function(e,Z){var F=e.uT.clone(),b=V.J(F.Z()*4);
V.s$(Z,b,3);F.x=F.y=0;e.ZV=[b,F]};il.NT=function(e,Z,F){var b=s.sH,_=s.$w;for(var l=0;l<F.length;l++){var d=F[l],S=Z+4,r=56,w=1;
Z+=4;s.xc(e,Z,d.id);Z+=d.id.length+2;e.Y1(Z,1);e.data[Z]=1;Z+=3;b(e,Z,3);Z+=4;var U=Z;Z+=4;_(e,Z,d.uT);
Z+=16;b(e,Z,r);Z+=4;Z+=r*4;b(e,Z-4,1);var q=Z;Z+=4;b(e,Z,8);Z+=4;_(e,Z,d.uT);Z+=16;s.Pe(e,Z,8);Z+=2;
e.Y1(Z,1);e.data[Z]=w;Z++;var X=V.J(d.uT.Z());V.yC(d.ZV[0],X,3);e.Y1(Z,d.uT.Z()*2);Z=hm.Xw(!1,X,e.data,d.uT.w,d.uT._,Z,w);
e.Y1(Z,8);Z+=8;var Q=Z-S;b(e,S-4,Q);b(e,U,Q-49);b(e,q,Q-305);if(Q%4!=0)Z+=4-Q%4}return Z};function hu(){}hu.qj=function(e){var Z=new Uint8Array(e),F=[],b=0,_=s.Ip(Z,b);
b+=2;if(_!=4){throw"Unknown version of curves: "+_}var d=s.Ip(Z,b);b+=2;for(var l=0;l<d;l++){var S=hu.eE(Z,b);
b+=2+2*S.length;F.push(S)}if(b==Z.length)return F;var U=s.fl(Z,b,4);b+=4;var r=s.Ip(Z,b);b+=2;var q=s.Ip(Z,b);
b+=2;if(q!=0)throw"extra curves for channels";return F};hu.Dq=function(e,Z,F){var b=Z,_=[],d=e[Z];Z+=3;
var S=s.l(e,Z);Z+=4;for(var l=0;l<4;l++){var U=S>>>l&1;if(U){if(d==0){var r=hu.eE(e,Z);Z+=2+2*r.length}else{var r=hu.ac$(e,Z);
Z+=256}_.push(r)}else _.push(d==0?[0,0,255,255]:hu.akw())}var q=ff.wy("curv");for(var l=0;l<4;l++){if(d==0){var w=_[l],X=[];
for(var Q=0;Q<w.length;Q+=2)X.push(V.AH.iF(w[Q],w[Q+1],!0));hu.OB(q,l,X)}else hu.OB(q,l,_[l])}return q};
hu.akw=function(){var e=[];for(var l=0;l<256;l++)e.push(l);return e};hu.OB=function(e,Z,F){var b=go.Z$("CrvA",Z);
if(F.length<256)b.Crv={t:"VlLs",v:F};else{b.Mpng={t:"VlLs",v:[]};for(var l=0;l<256;l++)b.Mpng.v[l]={t:"long",v:F[l]}}b={t:"Objc",v:b};
var _=e.Adjs.v,d=go.fB(_,Z);if(d==-1)_.push(b);else _[d]=b};hu.G4=function(e,Z){var F=e.Adjs.v,b=go.fB(F,Z);
if(b==-1){if(F.length==0||F[0].v.Crv)return[V.AH.iF(0,0,!0),V.AH.iF(255,255,!0)];var _=[];for(var l=0;
l<256;l++)_.push(l);return _}var d=F[b].v,S=d.Crv;if(S)return S.v;var _=[];for(var l=0;l<256;l++)_.push(d.Mpng.v[l].v);
return _};hu.eE=function(e,Z){var F=[],b=s.Ip(e,Z);Z+=2;for(var _=0;_<b;_++){var d=s.Ip(e,Z);Z+=2;var S=s.Ip(e,Z);
Z+=2;F.push(S,d)}return F};hu.a3K=function(e,Z,F){var b=F.length/2;s.Pe(e,Z,b);Z+=2;for(var _=0;_<b;
_++){s.Pe(e,Z,F[_*2+1]);Z+=2;s.Pe(e,Z,F[_*2+0]);Z+=2}};hu.ac$=function(e,Z){var F=[];for(var l=0;l<256;
l++)F.push(e[Z+l]);return F};hu.abc=function(e,Z,F){e.Y1(Z,256);for(var l=0;l<256;l++)e.data[Z+l]=F[l]};
hu.CA=function(e,Z,F){var b=[];for(var l=0;l<4;l++){var _=hu.G4(F,l);if(_.length==256)b.push(_);else{var d=[];
for(var S=0;S<_.length;S++)d.push(_[S].v.Hrzn.v,_[S].v.Vrtc.v);b.push(d)}}var U=Z,r=b[0].length==256?1:0;
e.Y1(Z,3);e.data[Z]=r;e.data[Z+1]=0;e.data[Z+2]=1;Z+=3;s.sH(e,Z,15);Z+=4;for(var l=0;l<4;l++){var q=b[l];
if(r==0){hu.a3K(e,Z,q);Z+=2+2*q.length}else{hu.abc(e,Z,q);Z+=256}}return Z-U};function jb(){}jb.Dq=function(e,Z,F){var b={},_=s.Ip(e,Z);
Z+=2;b.Yt=e[Z]==1;Z++;Z++;b.R3=[s.Ea(e,Z),s.Ea(e,Z+2),s.Ea(e,Z+4)];Z+=6;b.hY=[s.Ea(e,Z),s.Ea(e,Z+2),s.Ea(e,Z+4)];
Z+=6;b.g_=[];for(var l=0;l<6;l++){var d={};d._O=[s.Ea(e,Z),s.Ea(e,Z+2),s.Ea(e,Z+4),s.Ea(e,Z+6)];Z+=8;
d.U9=[s.Ea(e,Z),s.Ea(e,Z+2),s.Ea(e,Z+4)];Z+=6;b.g_.push(d)}var S=ff.wy("hue2"),U=b;if(S.Clrz==null)S.Clrz={t:"bool",v:!1};
S.Clrz.v=U.Yt;for(var l=0;l<7;l++){var r=l==0?U.Yt?U.R3:U.hY:U.g_[l-1];jb.OB(S,l,r)}return S};jb.a2v=function(e){return{classID:"Hst2",H:{t:"long",v:e[0]},Strt:{t:"long",v:e[1]},Lght:{t:"long",v:e[2]}}};
jb.fB=function(e,Z){for(var l=0;l<e.length;l++){var F=e[l].v.LclR;if(Z==0&&F==null||F!=null&&F.v==Z)return l}return-1};
jb.OB=function(e,Z,F){var b=Z==0?F:F.U9,_=jb.a2v(b);if(Z!=0){var d=F._O;_.LclR={t:"long",v:Z},_.BgnR={t:"long",v:d[0]};
_.BgnS={t:"long",v:d[1]};_.EndS={t:"long",v:d[2]};_.EndR={t:"long",v:d[3]}}_={t:"Objc",v:_};var S=e.Adjs.v,U=jb.fB(S,Z);
if(U==-1)S.push(_);else S[U]=_};jb.G4=function(e,Z){var F=e.Adjs.v,b=jb.fB(F,Z);if(b==-1){if(Z==0)return[0,0,0];
else return[{_O:[315,345,15,45],U9:[0,0,0]},{_O:[15,45,75,105],U9:[0,0,0]},{_O:[75,105,135,165],U9:[0,0,0]},{_O:[135,165,195,225],U9:[0,0,0]},{_O:[195,225,255,285],U9:[0,0,0]},{_O:[255,285,315,345],U9:[0,0,0]}][Z-1]}var _=F[b].v,d=[_.H.v,_.Strt.v,_.Lght.v];
if(Z==0)return d;return{U9:d,_O:[_.BgnR.v,_.BgnS.v,_.EndS.v,_.EndR.v]}};jb.CA=function(e,Z,F){var b={Yt:F.Clrz?F.Clrz.v:!1,g_:[]};
b.R3=b.hY=jb.G4(F,0);for(var l=1;l<7;l++)b.g_.push(jb.G4(F,l));var _=2+2+12+6*14,d=e.data;e.Y1(Z,_);
s.Bw(d,Z,2);Z+=2;d[Z]=b.Yt?1:0;Z++;Z++;s.LB(d,Z+0,b.R3[0]);s.LB(d,Z+2,b.R3[1]);s.LB(d,Z+4,b.R3[2]);Z+=6;
s.LB(d,Z+0,b.hY[0]);s.LB(d,Z+2,b.hY[1]);s.LB(d,Z+4,b.hY[2]);Z+=6;for(var l=0;l<6;l++){var S=b.g_[l]._O,U=b.g_[l].U9;
s.LB(d,Z+0,S[0]);s.LB(d,Z+2,S[1]);s.LB(d,Z+4,S[2]);s.LB(d,Z+6,S[3]);Z+=8;s.LB(d,Z+0,U[0]);s.LB(d,Z+2,U[1]);
s.LB(d,Z+4,U[2]);Z+=6}return _};function go(){}go.qj=function(e){var Z=new Uint8Array(e),F=2,b=[];for(var l=0;
l<29;l++){var _=[];b.push(_);for(var d=0;d<5;d++)_.push(s.Ip(Z,F+l*10+d*2))}F+=29*10;if(F<Z.length){var S=s.fl(Z,F,4);
F+=4;var U=s.Ip(Z,F);F+=2;var r=s.Ip(Z,F);F+=2;var q=r-29;for(var l=0;l<q;l++){var _=[];b.push(_);for(var d=0;
d<5;d++)_.push(s.Ip(Z,F+l*10+d*2))}}var w=ff.wy("levl");for(var l=0;l<4;l++)go.OB(w,l,b[l]);return w};
go.Z$=function(e,l){var Z=["Cmps","Rd","Grn","Bl"],F={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Z[l]}}]};
return{classID:e,Chnl:F}};go.fB=function(e,Z){var F={Cmps:0,Rd:1,Grn:2,Bl:3};for(var l=0;l<e.length;
l++){var b=e[l].v,_=F[b.Chnl.v[0].v.enum];if(_==Z)return l}return-1};go.OB=function(e,Z,F){var b=go.Z$("LvlA",Z);
b.Inpt={t:"VlLs",v:[{t:"long",v:F[0]},{t:"long",v:F[1]}]};b.Otpt={t:"VlLs",v:[{t:"long",v:F[2]},{t:"long",v:F[3]}]};
b.Gmm={t:"doub",v:F[4]/100};b={t:"Objc",v:b};var _=e.Adjs.v,d=go.fB(_,Z);if(d==-1)_.push(b);else _[d]=b};
go.G4=function(e,Z){var F=[0,255,0,255,100],b=e.Adjs.v,_=go.fB(b,Z);if(_==-1)return F;var d=b[_].v;if(d.Inpt){F[0]=d.Inpt.v[0].v;
F[1]=d.Inpt.v[1].v}if(d.Otpt){F[2]=d.Otpt.v[0].v;F[3]=d.Otpt.v[1].v}if(d.Gmm){F[4]=Math.round(d.Gmm.v*100)}return F};
go.WQ=function(e,Z){var F=[],b=0;for(var l=0;l<4;l++)F.push(go.G4(Z,l));while(F.length<29)F.push([0,255,0,255,100]);
e.Y1(0,2+10*29);s.Bw(e.data,b,2);b+=2;for(var l=0;l<29;l++){var _=F[l];for(var d=0;d<5;d++)s.Bw(e.data,b+l*10+d*2,_[d])}b+=29*10;
if(F.length==29)return b;e.Y1(b,8+10*(F.length-29));s.Zh(e.data,b,"Lvls");b+=4;s.Bw(e.data,b,3);b+=2;
s.Bw(e.data,b,F.length);b+=2;var S=F.length-29;for(var l=0;l<S;l++){var _=F[29+l];for(var d=0;d<5;d++)s.Bw(e.data,b+l*10+d*2,_[d])}b+=10*S;
return b};function dd(){}dd.qj=function(e){var Z=new Uint8Array(e),F=2,b={DY:[],A_:[]},_=s.fl(Z,F,4);
F+=4;var d=s.Ip(Z,F);F+=2;var S=s.l(Z,F);F+=4;b.DY=dg.XA(Z,F,S);F+=S;var U=s.l(Z,F);F+=4;for(var l=0;
l<U;l++){var r=s.l(Z,F);F+=4;var q=F,w={P1:{},J_:{}};b.A_.push(w);F+=4;F+=gz.Yr(Z,w.P1,F);F+=4;F+=gz.Yr(Z,w.J_,F);
F=q+r;var X=w.J_.blendOptions,Q=w.J_.Lefx;if(X&&Object.keys(X.v).length>1){}if(Q){if(Q.v.masterFXSwitch==null)Q.v.masterFXSwitch={t:"bool",v:!0};
gh.mE(Q.v)}}return b};dd.Br=function(e,Z){e.P1.Nm.v=Z};dd.WQ=function(e){var Z=new iw,F=0;s.Pe(Z,F,2);
F+=2;s.Hj(Z,F,"8BSL");F+=4;s.Pe(Z,F,3);F+=2;var b=F;F+=4;F=dg.Eo(Z,F,e.DY);s.sH(Z,b,F-b-4);var _=e.A_.length;
s.sH(Z,F,_);F+=4;for(var l=0;l<_;l++){F+=4;var d=F,S=e.A_[l];s.sH(Z,F,16);F+=4;F+=gz.jJ(Z,S.P1,F);var U=S.J_.Lefx;
if(U){S.J_.Lefx=JSON.parse(JSON.stringify(U));gh.rq(S.J_.Lefx.v)}s.sH(Z,F,16);F+=4;F+=gz.jJ(Z,S.J_,F);
if(U)S.J_.Lefx=U;s.sH(Z,d-4,F-d)}return Z.data.slice(0,F).buffer};function ci(){}ci.Dq=function(e,Z,F){var b=s.Ip(e,Z);
Z+=2;var _={};_.Nj=s.Ip(e,Z)==1;Z+=2;_.dV=[];for(var l=0;l<10;l++){var d=[];_.dV.push(d);for(var S=0;
S<4;S++)d.push(s.Ea(e,Z+S*2));Z+=8}var U=ff.wy("selc");U.Mthd.v.CrcM=_.Nj?"Absl":"Rltv";for(var l=1;
l<10;l++)ci.OB(U,l-1,_.dV[l]);return U};ci.nD="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
ci.Z$=function(e,l){var Z=["Cmps","Rd","Grn","Bl"],F={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Z[l]}}]};
return{classID:e,Chnl:F}};ci.fB=function(e,Z){var F=ci.nD;for(var l=0;l<e.length;l++){var b=e[l].v,_=F.indexOf(b.Clrs.v.Clrs);
if(_==Z)return l}return-1};ci.OB=function(e,Z,F){var b=["Cyn","Mgnt","Ylw","Blck"],_={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ci.nD[Z]}}};
for(var d=0;d<4;d++)_[b[d]]={t:"UntF",v:{type:"#Prc",val:F[d]}};_={t:"Objc",v:_};var S=e.ClrC.v,U=ci.fB(S,Z);
if(U==-1)S.push(_);else S[U]=_};ci.G4=function(e,Z){var F=[0,0,0,0],b=e.ClrC.v,_=ci.fB(b,Z);if(_==-1)return F;
var d=["Cyn","Mgnt","Ylw","Blck"];for(var l=0;l<4;l++)if(b[_].v[d[l]])F[l]=b[_].v[d[l]].v.val;return F};
ci.CA=function(e,Z,F){var b={Nj:F.Mthd.v.CrcM=="Absl",dV:[[0,0,0,0]]};for(var l=0;l<9;l++)b.dV.push(ci.G4(F,l));
e.Y1(Z,84);s.Bw(e.data,Z,1);Z+=2;s.Bw(e.data,Z,b.Nj?1:0);Z+=2;for(var l=0;l<10;l++){var _=b.dV[l];for(var d=0;
d<4;d++)s.LB(e.data,Z+d*2,_[d]);Z+=8}return 84};function fK(){}fK.wy=function(){return{Dl:new e3(0,0,50,50),P1:"",aJ:"play",T:V.c.wV.vw([.1,.1,.9,.5,.1,.9],0)}};
fK.qj=function(e){e=new Uint8Array(e);var Z=0,F=[],b=Date.now(),_=s.fl(e,0,4);Z+=4;var d=s.l(e,Z);Z+=4;
var S=s.l(e,Z);Z+=4;for(var l=0;l<S;l++){var U=s.b7(e,Z);Z+=U.length*2+4+2;if((U.length&1)==0)Z+=2;Z=fK.sx(e,Z,U,F)}return F};
fK.sx=function(e,Z,F,b){var _=s.l(e,Z);Z+=4;var d=s.l(e,Z);Z+=4;var S=Z,U=s.ce(e,S).E1;S+=U.length+1;
var r=s.E_(e,S);S+=16;var q=fK.ue(e,S,d-(S-Z)),w=V.c.uW(q),X=V.H.HA(w),Q=1/X.w,c=1/X._;V.c.Jb(q,new jg(Q,0,0,c,-X.x*Q,-X.y*c));
b.push({aJ:F,P1:U,T:q,Dl:r});Z+=d;return Z};fK.Br=function(e,Z){e.aJ=Z};fK.WQ=function(e){var Z=new iw,F=0;
s.Hj(Z,F,"cush");F+=4;s.sH(Z,F,2);F+=4;s.sH(Z,F,e.length);F+=4;for(var l=0;l<e.length;l++){var b=e[l],_=b.aJ+"\0";
s.Mm(Z,F,_);F+=4+_.length*2;if((_.length&1)==1)F+=2;s.sH(Z,F,1);F+=4;F+=4;var d=F;s.xc(Z,F,b.P1);F+=b.P1.length+1;
s.$w(Z,F,b.Dl);F+=16;Z.Y1(F,b.T.length*26);fK.Zg(Z.data,F,b.T,1,1);F+=b.T.length*26;var S=F-d;if((S&3)!=0)S+=4-(S&3);
s.sH(Z,d-4,S);F=d+S}return Z.data.slice(0,F).buffer};fK.afH=function(e){var Z=[];for(var l=0;l<e.length;
l++){var F=e[l],b=F.type,_={type:b};Z.push(_);if(b==6){}else if(b==8)_.all=F.all;else if(b==0||b==3){_.length=F.length;
_.frule=F.A8;_.third=F.SS;_.prmA=F.NF;_.prmB=F.Mg}else{_.c=[F.Gn.x,F.Gn.y,F.M.x,F.M.y,F.kM.x,F.kM.y]}}return Z};
fK.ai6=function(e){var Z=[];for(var l=0;l<e.length;l++){var F=e[l],b=F.type,_={type:b};Z.push(_);if(b==6){}else if(b==8)_.all=F.all;
else if(b==0||b==3){_.length=F.length;_.A8=F.frule;_.SS=F.third;_.NF=F.prmA;_.Mg=F.prmB}else{var d=F.c;
_.Gn=new bI(d[0],d[1]);_.M=new bI(d[2],d[3]);_.kM=new bI(d[4],d[5])}}return Z};fK.ue=function(e,Z,F,b,_){if(b==null)b=1;
if(_==null)_=1;function d(n,k,B){var o=s.anV(n,k)*B,T=Math.round(o);return Math.abs(o-T)<1e-6?T:o}var S=s.Ea,U=[],r=Math.floor(F/26);
for(var l=0;l<r;l++){var q=Z+l*26,w={},X=0;U.push(w);w.type=S(e,q);q+=2;if(w.type==6){X=24}if(w.type==8){w.all=S(e,q);
q+=2;X=22}if(w.type==0||w.type==3){w.length=S(e,q);q+=2;w.A8=S(e,q);q+=2;w.SS=S(e,q);q+=2;w.NF=s.l(e,q);
q+=4;w.Mg=s.l(e,q);q+=4;X=10}if(w.type==1||w.type==2||w.type==4||w.type==5){var Q,c;c=d(e,q,_);q+=4;
Q=d(e,q,b);q+=4;w.Gn=new bI(Q,c);c=d(e,q,_);q+=4;Q=d(e,q,b);q+=4;w.M=new bI(Q,c);c=d(e,q,_);q+=4;Q=d(e,q,b);
q+=4;w.kM=new bI(Q,c);X=0}for(var u=0;u<X;u++)if(e[q+u]!=0){console.log("Unexpected non-zero byte!",w,u,e[q+u])}}return U};
fK.Zg=function(e,Z,F,b,_){var d=s.LB,S=s.bQ,U=F.length;for(var l=0;l<U;l++){var r=Z+l*26,q=F[l];d(e,r,q.type);
r+=2;if(q.type==6){}if(q.type==8)d(e,r,q.all);if(q.type==0||q.type==3){d(e,r,q.length);r+=2;d(e,r,q.A8);
r+=2;d(e,r,q.SS);r+=2}if(q.type==1||q.type==2||q.type==4||q.type==5){S(e,r,q.Gn.y/_);r+=4;S(e,r,q.Gn.x/b);
r+=4;S(e,r,q.M.y/_);r+=4;S(e,r,q.M.x/b);r+=4;S(e,r,q.kM.y/_);r+=4;S(e,r,q.kM.x/b);r+=4}}};function fE(){}fE.qj=function(e){var Z=new Uint8Array(e),F=[],b=0;
b=fE.Ep(Z,b,F);if(b+3<Z.length){F=[];b=fE.Ep(Z,b,F)}return F};fE.Ep=function(e,Z,F){var b=s.Ip,_=s.Ea,d=b(e,Z);
Z+=2;var S=b(e,Z);Z+=2;for(var l=0;l<S;l++){var U=fE.PT(e,Z);Z+=10;if(d==2){U.A9=s.b7(e,Z);Z+=4+U.A9.length*2+2}F.push(U)}return Z};
fE.PT=function(e,Z){var F=s.Ip,b=s.Ea,_=F(e,Z),c=null;Z+=2;var d=F(e,Z);Z+=2;var S=F(e,Z);Z+=2;var U=F(e,Z);
Z+=2;var r=F(e,Z);Z+=2;var q=1/65535,w=255/65535,X=100/65535,Q=255/1e4;if(_==0)c={o:d*w,z:S*w,S:U*w};
else if(_==1){c=V.Mq(d*q,S*q,U*q);c.o*=255;c.z*=255;c.S*=255}else if(_==2)c=V.X.Gb({classID:"CMYC",Cyn:{t:"doub",v:100-d*X},Mgnt:{t:"doub",v:100-S*X},Ylw:{t:"doub",v:100-U*X},Blck:{t:"doub",v:100-r*X}});
else if(_==7){var u=V.Cu(d/100,b(e,Z-6)/100,b(e,Z-4)/100);c=u}else if(_==8){c={o:255-d*Q,z:255-S*Q,S:255-U*Q}}else throw"e "+_+", ";
return c};fE.WQ=function(e){var Z=new iw,F=0,b=s.Pe;b(Z,F,2);F+=2;b(Z,F,e.length);F+=2;for(var l=0;l<e.length;
l++){var _=e[l];Z.Y1(F,10);fE.$X(Z.data,F,_);F+=10;var d=(_.A9?_.A9:"")+"\0";s.Mm(Z,F,d);F+=4+d.length*2}return Z.data.slice(0,F).buffer};
fE.Br=function(e,Z){e.A9=Z};fE.$X=function(e,Z,F){var b=65535/255,_=s.Bw;_(e,Z,0);_(e,Z+2,Math.round(F.o*b));
_(e,Z+4,Math.round(F.z*b));_(e,Z+6,Math.round(F.S*b));_(e,Z+8,0)};function da(){}da.qj=function(e){var Z=new Uint8Array(e),F=4,b={};
b.Pj=s.b7(Z,F);F+=4+b.Pj.length*2+2;b.exp=Z[F++]==1;b.JS=[];var _=s.l(Z,F);F+=4;for(var l=0;l<_;l++){var d={};
b.JS.push(d);d.wD=s.Ip(Z,F);F+=2;d.shift=Z[F++]==1;d.ato=Z[F++]==1;d.color=s.Ip(Z,F);F+=2;d.Pj=s.b7(Z,F);
F+=4+d.Pj.length*2+2;d.exp=Z[F++]==1;d.JS=[];var S=s.l(Z,F);F+=4;for(var U=0;U<S;U++){var r={};d.JS.push(r);
r.exp=Z[F++]==1;r.P=Z[F++]==1;r.a5U=Z[F++]==1;r.aff=Z[F++];var q=s.fl(Z,F,4);F+=4;if(q=="TEXT"){r.qg=da.Iz(Z,F);
F+=4+r.qg.length}else if(q=="long"){r.qg=s.fl(Z,F,4);F+=4}else throw"e";r.i9=da.Iz(Z,F);F+=4+r.i9.length;
var w=s.ft(Z,F);F+=4;if(w==-1){r.ni={};var X=gz.Yr(Z,r.ni,F);F+=X}}}console.log(b);var Q=new Uint8Array(da.WQ(b));
for(var l=0;l<Q.length;l++)if(Q[l]!=Z[l]){console.log(Z.length,Q.length);var c=4*(l>>>2)-16;console.log(s.cR(Z,c,64));
console.log(s.cR(Q,c,64));console.log(Z.slice(c,c+64));console.log(Q.slice(c,c+64));throw l}return[b]};
da.Iz=function(e,Z){var F=s.l(e,Z);return s.fl(e,Z+4,F)};da.Cy=function(e,Z,F){s.sH(e,Z,F.length);s.Hj(e,Z+4,F)};
da.WQ=function(e){var Z=new iw,F=0;s.sH(Z,F,16);F+=4;s.Mm(Z,F,e.Pj+"\0");F+=4+e.Pj.length*2+2;Z.Y1(F,1);
Z.data[F++]=e.exp?1:0;var b=e.JS.length;s.sH(Z,F,b);F+=4;for(var l=0;l<b;l++){var _=e.JS[l];s.Pe(Z,F,_.wD);
F+=2;Z.Y1(F,2);Z.data[F++]=_.shift?1:0;Z.data[F++]=_.ato?1:0;s.Pe(Z,F,_.color);F+=2;s.Mm(Z,F,_.Pj+"\0");
F+=4+_.Pj.length*2+2;Z.Y1(F,1);Z.data[F++]=_.exp?1:0;var d=_.JS.length;s.sH(Z,F,d);F+=4;for(var S=0;
S<d;S++){var U=_.JS[S];Z.Y1(F,4);Z.data[F++]=U.exp?1:0;Z.data[F++]=U.P?1:0;Z.data[F++]=U.a5U?1:0;Z.data[F++]=U.aff;
var r="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(U.qg)!=-1;s.Hj(Z,F,r?"long":"TEXT");F+=4;
if(!r){da.Cy(Z,F,U.qg);F+=4+U.qg.length}else{s.Hj(Z,F,U.qg);F+=4}da.Cy(Z,F,U.i9);F+=4+U.i9.length;s.aY(Z,F,U.ni?-1:0);
F+=4;if(U.ni){var q=gz.jJ(Z,U.ni,F);F+=q}}}return Z.data.slice(0,F).buffer};function eS(){}eS.qj=function(e){var Z=new Uint8Array(e),F=0,b=s.l(Z,F),r;
F+=4;var _=s.fl(Z,F,8);F+=8;var d=s.lg(Z,F);F+=4;var S=s.lg(Z,F);F+=4;var U=s.lg(Z,F);F+=4;if(b==2){r=new Float32Array(e,32,e.byteLength-32>>>2)}else if(b==3||b==4){r=new Float32Array(S*U*2);
var q=0,w=0,X=!0;F=b==3?32:16+8+40;while(F<Z.length){var Q=s.lg(Z,F);F+=4;if(X)w+=Q;else{for(var l=0;
l<Q;l++){r[q+w+l<<1]=s.$C(Z,F);r[(q+w+l<<1)+1]=s.$C(Z,F+4);F+=8}w+=Q}X=!X;if(Q!=0&&w==S){q+=S;w=0;X=!0;
if(q==S*U)break}}}else throw"unknown Mesh version: "+b;return{bo:S,zA:U,map:r}};eS.Gf=function(e){var Z=e.bo,F=e.zA,b=e.map,_=new Uint8Array(32+F*Z*8+F*8),d=0,S=0;
s.ho(_,d,3);d+=4;s.Zh(_,d,"yfqLhseM");d+=8;s.V3(_,d,2);d+=4;s.V3(_,d,Z);d+=4;s.V3(_,d,F);d+=4;s.V3(_,d,0);
d+=4;s.V3(_,d,1);d+=4;for(var U=0;U<F;U++){s.V3(_,d,0);d+=4;s.V3(_,d,Z);d+=4;for(var r=0;r<Z;r++){s.ml(_,d,b[S]);
s.ml(_,d+4,b[S+1]);S+=2;d+=8}}return _.buffer};function ja(){}ja.qj=function(e){var Z=new Uint8Array(e),F=0,b=s.fl(Z,F,4);
F+=4;var _=s.Ip(Z,F);F+=2;var d=s.l(Z,F);F+=4;var S=[];for(var l=0;l<d;l++){var U=s.l(Z,F);F+=4;var r={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
S.push(r);var q=s.b7(Z,F);r.Nm.v=q;F+=4+q.length*2+2;var w=s.Ip(Z,F);F+=2;var X=s.Ip(Z,F);F+=2;for(var Q=0;
Q<X;Q++){var c=V.AH.iF(0,0,!0);c.v.Vrtc.v=s.Ip(Z,F);F+=2;c.v.Hrzn.v=s.Ip(Z,F);F+=2;r.Crv.v.push(c)}if(U==1){}else if(U==2){for(var Q=0;
Q<X;Q++){r.Crv.v[Q].v.Cnty.v=Z[F]==1;F+=1}}else throw"error";var u=s.l(Z,F);F+=4;var n=s.l(Z,F);F+=4}return S};
ja.Br=function(e,Z){e.Nm.v=Z};ja.WQ=function(e){var Z=new iw,F=0;s.Hj(Z,F,"8BFS");F+=4;s.Pe(Z,F,1);F+=2;
s.sH(Z,F,e.length);F+=4;for(var l=0;l<e.length;l++){s.sH(Z,F,2);F+=4;var b=e[l];s.Mm(Z,F,b.Nm.v+"\0");
F+=4+b.Nm.v.length*2+2;s.Pe(Z,F,2);F+=2;var _=b.Crv.v.length;s.Pe(Z,F,_);F+=2;for(var d=0;d<_;d++){var S=b.Crv.v[d];
s.Pe(Z,F,S.v.Vrtc.v);F+=2;s.Pe(Z,F,S.v.Hrzn.v);F+=2}Z.Y1(F,_);for(var d=0;d<_;d++){Z.data[F]=b.Crv.v[d].v.Cnty.v;
F++}s.sH(Z,F,0);F+=4;s.sH(Z,F,0);F+=4}return Z.data.slice(0,F).buffer};function dg(){}dg.qj=function(e){var Z=new Uint8Array(e),F=4,b=s.Ip(Z,F);
F+=2;var _=s.l(Z,F);F+=4;var d=[];for(var l=0;l<_;l++){var S={};d.push(S);F=dg.Xs(Z,F,S)}return d};dg.Br=function(e,Z){e.name=Z};
dg.WQ=function(e){var Z=new iw,F=0;s.Hj(Z,F,"8BPT");F+=4;s.Pe(Z,F,1);F+=2;s.sH(Z,F,e.length);F+=4;for(var l=0;
l<e.length;l++){F=dg.pN(Z,F,e[l])}return Z.data.slice(0,F).buffer};dg.XA=function(e,Z,F){var b=Z+F,_=[];
while(Z<b){var d={},S=s.l(e,Z);Z+=4;var U=Z;Z=dg.Xs(e,Z,d);if(!d.ZV[1].BJ())_.push(d);if(S%4!=0)S+=4-S%4;
Z=U+S}return _};dg.Eo=function(e,Z,F){for(var l=0;l<F.length;l++){var b=F[l];Z+=4;var _=Z;Z=dg.pN(e,Z,b);
var d=Z-_;s.sH(e,_-4,d);if(d%4!=0)_+=4-d%4;Z=_+d}return Z};dg.Xs=function(e,Z,F){var b=s.l(e,Z);Z+=4;
if(b!=1)alert("Unknown version of pattern");var _=s.l(e,Z);Z+=4;if(_!=1&&_!=2&&_!=3)console.log("Unsupported mode of pattern: "+_);
var d=s.Ip(e,Z);Z+=2;var S=s.Ip(e,Z);Z+=2;var U=new e3(0,0,S,d);F.name=s.b7(e,Z);Z+=4+2*F.name.length+2;
var r=e[Z];Z++;F.id=s.fl(e,Z,r);Z+=F.id.length;var q=-1;if(_==2){q=Z;Z+=3*256+4}var w=new V.xV(S*d);
Z=dg.a7H(e,Z,w);if(_==2){for(var l=0;l<w.o.length;l++){var X=3*w.o[l];w.o[l]=e[q+X+0];w.z[l]=e[q+X+1];
w.S[l]=e[q+X+2]}}var Q=V.J(U.Z()*4);V.My(w,Q);F.ZV=[Q,U];return Z};dg.pN=function(e,Z,F){var b=F.ZV[0],_=F.ZV[1];
s.sH(e,Z,1);Z+=4;s.sH(e,Z,3);Z+=4;s.Pe(e,Z,_._);Z+=2;s.Pe(e,Z,_.w);Z+=2;s.Mm(e,Z,F.name+"\0");Z+=4+2*F.name.length+2;
s.wX(e,Z,F.id.length);Z++;s.Hj(e,Z,F.id);Z+=F.id.length;var d=new V.xV(_.Z());V.w2(b,d);Z=dg.afo(e,Z,d,_);
return Z};dg.a7H=function(e,Z,F){var b=Z,_={uT:null,$v:[],aok:null,lM:null},d=s.l(e,Z);Z+=4;var S=s.l(e,Z);
Z+=4;_.uT=s.E_(e,Z);Z+=16;var U=s.l(e,Z);Z+=4;for(var l=0;l<U+2;l++){var r=s.l(e,Z);Z+=4;if(r==0)continue;
var q=s.l(e,Z);Z+=4;if(q==0)continue;var w=s.l(e,Z);Z+=4;var X=s.E_(e,Z);Z+=16;var Q=s.Ip(e,Z);Z+=2;
var c=e[Z];Z++;var u=hm.dD(!1,w,e,X.w,X._,Z,c);if(l<U)_.$v.push(u);if(l==U)_.aok=u;if(l==U+1)_.lM=u;
Z+=q-23}if(!_.uT.BJ()){if(_.$v[0])F.o=_.$v[0];if(_.$v[1])F.z=_.$v[1];else F.z=_.$v[0].slice(0);if(_.$v[2])F.S=_.$v[2];
else F.S=_.$v[0].slice(0);if(_.lM)F.Y0=_.lM;else F.Y0.fill(255)}return Z};dg.afo=function(e,Z,F,b){var _=Z,d={uT:b,$v:[F.o,F.z,F.S],aok:null,lM:F.Y0};
s.sH(e,Z,3);Z+=4;s.sH(e,Z,0);Z+=4;s.$w(e,Z,b);Z+=16;s.sH(e,Z,24);Z+=4;for(var l=0;l<24+2;l++){var S=Z,U=l<3||l==25?1:0;
s.sH(e,Z,U);Z+=4;if(U==0)continue;s.sH(e,Z,0);Z+=4;s.sH(e,Z,8);Z+=4;s.$w(e,Z,b);Z+=16;s.Pe(e,Z,8);Z+=2;
s.wX(e,Z,1,1);Z++;var r=l<3?d.$v[l]:d.lM;e.Y1(Z,b.Z()+2);Z=hm.Xw(!1,r,e.data,b.w,b._,Z,1);s.sH(e,S+4,Z-S-8)}s.sH(e,_+4,Z-_-8);
return Z};function cQ(){}cQ.qj=function(e){var Z=new Uint8Array(e),F=0,b=s.fl(Z,F,4);F+=4;var _=s.Ip(Z,F);
F+=2;var d=[];if(_<=3){var S=s.Ip(Z,F);F+=2;for(var l=0;l<S;l++){var U=Z[F++],r=s.fl(Z,F,U);F+=U;var q=cQ.Df(Z,F,r),w=q[0];
F=q[1];d.push(w)}}else{var q={},X=gz.Yr(Z,q,F+4),Q=q.GrdL.v;for(var l=0;l<Q.length;l++)d[l]=Q[l].v.Grad.v}return d};
cQ.Br=function(e,Z){e.Nm.v=Z};cQ.WQ=function(e){var Z=new iw,F=0;s.Hj(Z,F,"8BGR");F+=4;s.Pe(Z,F,5);F+=2;
s.sH(Z,F,16);F+=4;var b={classID:"null",GrdL:{t:"VlLs",v:[]}},_=b.GrdL.v;for(var l=0;l<e.length;l++)_[l]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:e[l]}}};
F+=gz.jJ(Z,b,F);return Z.data.slice(0,F).buffer};cQ.Df=function(e,Z,F){var b={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:F},Trns:{t:"VlLs",v:[]}},_=s.Ip(e,Z);
Z+=2;if(_==0)throw"e";for(var l=0;l<_;l++){var d=s.l(e,Z),S=s.l(e,Z+4),U=fE.PT(e,Z+8),r={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:U.o},Grn:{t:"doub",v:U.z},Bl:{t:"doub",v:U.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:S}}};
b.Clrs.v.push(r);Z+=20}var q=s.Ip(e,Z);Z+=2;for(var l=0;l<q;l++){var d=s.l(e,Z),S=s.l(e,Z+4),w=s.Ip(e,Z+8),r={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*w/255)}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:S}}};
b.Trns.v.push(r);Z+=10}var X=s.Ip(e,Z);Z+=2;if(X!=2)throw X;b.Intr.v=s.Ip(e,Z);Z+=2;var Q=s.Ip(e,Z);
Z+=2;if(Q!=32)throw"e";return[b,Z]};cQ.asJ=function(e,Z,F){var b=F.Clrs.v.length;s.Pe(e,Z,b);Z+=2;for(var l=0;
l<b;l++){var _=F.Clrs.v[l];s.sH(e,Z,_.v.Lctn.v);s.sH(e,Z+4,_.v.Mdpn.v);s.Pe(e,Z+8,0);var d=V.X.Q9(V.X.Gb(_.v.Clr.v)),S=[d.Rd.v,d.Grn.v,d.Bl.v,0];
for(var U=0;U<4;U++)s.Pe(e,Z+10+U*2,Math.round(65535*(S[U]/255)));Z+=20}var r=F.Trns.v.length;s.Pe(e,Z,r);
Z+=2;for(var l=0;l<r;l++){var _=F.Trns.v[l];s.sH(e,Z,_.v.Lctn.v);s.sH(e,Z+4,_.v.Mdpn.v);s.Pe(e,Z+8,Math.round(255*_.v.Opct.v.val/100));
Z+=10}s.Pe(e,Z,2);Z+=2;s.Pe(e,Z,F.Intr.v);Z+=2;s.Pe(e,Z,32);Z+=2;return Z};function f4(){}f4.qj=function(e){var Z=new Uint8Array(e),F=[],b=[],_=[],d=[],S=[],U=0,r=s.fl(Z,U,4);
U+=4;var q=s.l(Z,U);U+=4;var w=s.l(Z,U);U+=4;while(U<Z.length){var X=s.fl(Z,U,4);U+=4;var Q=s.fl(Z,U,4);
U+=4;var c=s.l(Z,U);U+=4;if(Q=="tppa"){b=dg.XA(Z,U,c);U+=c}else if(Q=="tpbd"){_=il.Tb(Z,U,c,1,1);U+=c}else if(Q=="tptp"){var u=s.l(Z,U);
U+=4;for(var l=0;l<u;l++){var n=s.b7(Z,U);U+=6+n.length*2;U+=4;var k={};U+=gz.Yr(Z,k,U);F.push([n,k])}while((U&3)!=0)U++}else if(Q=="tpsh"){var B=U,o=Z.slice(U,U+c);
while(U<B+c){var T=s.l(Z,U);U+=4;U=fK.sx(Z,U,"Shape",d)}U=B+c}else if(Q=="tpst"){var B=U;U+=4;while(U<B+c){var z=s.l(Z,U);
U+=4;var W=U,$=s.l(Z,U);U+=4;var k={P1:{},J_:{}};S.push(k);U+=4;U+=gz.Yr(Z,k.P1,U);U+=4;U+=gz.Yr(Z,k.J_,U);
U=W+z;var R=k.J_.Lefx;if(R){if(R.v.masterFXSwitch==null)R.v.masterFXSwitch={t:"bool",v:!0};gh.mE(R.v)}}U=B+c}else{console.log(Z.slice(U-8,U+64));
console.log(s.fl(Z,U-8,64));throw Q}}return{my:_,Jj:b,list:F,ag6:d,A_:S}};f4.Br=function(e,Z){e[0]=Z};
f4.WQ=function(e){var Z=new iw,F=0;s.Hj(Z,F,"8BTP");F+=4;s.sH(Z,F,3);F+=4;s.sH(Z,F,1);F+=4;var b=[e.Jj,e.my,e.list];
for(var l=0;l<3;l++){if(b[l].length==0)continue;s.Hj(Z,F,"8BIM");F+=4;var _=["tppa","tpbd","tptp"][l];
s.Hj(Z,F,_);F+=4;var d=F;F+=4;if(_=="tppa"){F=dg.Eo(Z,F,e.Jj)}else if(_=="tpbd"){F=il.NT(Z,F,e.my)}else if(_=="tptp"){s.sH(Z,F,e.list.length);
F+=4;for(var S=0;S<e.list.length;S++){var U=e.list[S];s.Mm(Z,F,U[0]+"\0");F+=6+U[0].length*2;s.sH(Z,F,16);
F+=4;F+=gz.jJ(Z,U[1],F)}}s.sH(Z,d,F-d-4);while((F&3)!=0)F++;Z.Y1(F,0)}return Z.data.slice(0,F).buffer};
function ic(){}ic.qj=function(e,Z){var F=new Uint8Array(e),b;if(s.l(F,0)==F.length)b="icc";else if(F[0]=="<".charCodeAt(0))b="look";
else if(s.it(F,"LUT_3D_SIZE")!=-1)b="cube";else b="3DL";if(b!="icc"){var _=ic.a05(F,b),d=ic.af7(_[0],_[1]);
F=d}var S=[];for(var l=0;l<F.length;l++)S.push(F[l]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:Z?Z:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:S}}]};
ic.WQ=function(e){var Z=e[0],F=new Uint8Array(Z.profile.v);return F.buffer};ic.Br=function(e,Z){e.Nm.v=Z};
ic.af7=function(e,Z){var F=new iw,b=128;F.Y1(0,128);var _=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var l=0;l<_.length;l++)F.data[l]=_[l];var d=["desc","A2B0"],S=d.length,U=128+4+S*12;s.sH(F,b,S);
b+=4;for(var r=0;r<S;r++){var q=d[r];s.Hj(F,b,q);b+=4;s.sH(F,b,U);b+=4;var w=U;if(q=="desc"){s.Hj(F,w,"mluc");
w+=4;w+=4;s.sH(F,w,1);w+=4;s.sH(F,w,12);w+=4;s.Hj(F,w,"enUS");w+=4;var X="ICC by Photopea\0",Q=X.length*2+2;
s.sH(F,w,Q);w+=4;s.sH(F,w,28);w+=4;F.Y1(w,Q);for(var l=0;l<X.length;l++)F.data[w+l*2+1]=X.charCodeAt(l);
w+=Q}if(q=="A2B0"){s.Hj(F,w,"mAB ");w+=4;w+=4;F.Y1(w,4);F.data[w]=3;F.data[w+1]=3;w+=4;F.Y1(w,4*5);w+=4*3;
s.sH(F,w,w+8-U);w+=4;w+=4;F.Y1(w,20);F.data[w]=e;F.data[w+1]=e;F.data[w+2]=e;w+=16;F.data[w]=2;w+=4;
var c=e*e*e*3;F.Y1(w,c*2);for(var l=0;l<c;l++)s.Bw(F.data,w+l*2,Math.max(0,Math.min(65535,Math.round(Z[l]*65535))));
w+=c*2}var u=w-U;while((u&3)!=0)u++;s.sH(F,b,u);b+=4;U+=u}s.sH(F,0,U);return F.data.slice(0,U)};ic.a05=function(e,Z){Z="LUTFormat"+Z.toUpperCase();
var F=[],b=0,_=s.CI(e,0,e.length),d="";for(var l=0;l<e.length&&d=="";l++){if(e[l]==10)d="\n";else if(e[l]==13){d="\r";
if(e[l+1]==10)d+="\n"}}if(Z=="LUTFormatCUBE"){var S=_.split(d);for(var l=0;l<S.length;l++){if(S[l]==""||S[l][0]=="#")continue;
var U=S[l].split(" "),r=U[0];if(r=="LUT_3D_SIZE"){b=parseInt(U[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(r)!=-1)continue;
F.push(parseFloat(U[0]),parseFloat(U[1]),parseFloat(U[2]))}F=ic.Ke(b,F)}else if(Z=="LUTFormat3DL"){var S=_.split(d),q=1/4095;
for(var l=0;l<S.length;l++){var w=S[l];if(w==""||w=="3DMESH"||w.startsWith("Mesh")||w[0]=="#")continue;
var U=w.split(" "),r=U[0];if(b==0){b=U.length;continue}F.push(parseFloat(U[0])*q,parseFloat(U[1])*q,parseFloat(U[2])*q)}}else if(Z=="LUTFormatLOOK"){var X=new DOMParser,Q=X.parseFromString(_,"text/xml"),c=Q.getElementsByTagName("LUT")[0],u=c.children[0].textContent;
b=parseInt(JSON.parse(u));var n=c.children[1].textContent;n=n.replace(/"/g,"").replace(/\s/g,"");var k=3*b*b*b,B=k*4,o=new Uint8Array(B);for(var l=0;l<B;l++){var T=n.charCodeAt(l*2),z=n.charCodeAt(l*2+1),W=T<58?T-48:T-55,$=z<58?z-48:z-55;o[l]=(W<<4)+$}for(var l=0;l<k;l++)F.push(s.$C(o,l<<2));F=ic.Ke(b,F)}else throw Z;return[b,F]};ic.a64=function(e,Z,F){var b=["#Created by www.Photopea.com","TITLE \""+F+"\"","","#LUT size","LUT_3D_SIZE "+Z,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],_=6;
for(var l=0;l<e.length;l+=3){b.push(e[l].toFixed(_)+" "+e[l+1].toFixed(_)+" "+e[l+2].toFixed(_))}b.push("");
return s.nw(b.join("\n")).buffer};ic.Ke=function(e,Z){var F=[],b=e*e*e;for(var l=0;l<b;l++)F.push(0,0,0);
for(var _=0;_<e;_++)for(var d=0;d<e;d++)for(var S=0;S<e;S++){var l=3*(S+d*e+_*e*e),U=3*(_+d*e+S*e*e);
F[U]=Z[l];F[U+1]=Z[l+1];F[U+2]=Z[l+2]}return F};function gz(){}gz.Yr=function(e,Z,F,b,_){var d=F,S;if(_==null)_=0;
var U=s.l(e,F);if(U==0){S="";F+=4}else{S=s.b7(e,F);F+=4+2*S.length+2}if(S!="")Z.__name=S;Z.classID=gz.MF(e,F);
if(b)console.log("\t".repeat(_),"- reading descriptor",Z.classID,F);F+=gz.Gz(e,F);var r=s.ft(e,F);F+=4;
for(var l=0;l<r;l++){var q=gz.MF(e,F);F+=gz.Gz(e,F);var w=gz.sI(e,F,b,_);Z[q]=w;F+=w.size;delete w.size}return F-d};
gz.jJ=function(e,Z,F,b){var _=F,d=Z.__name;if(d==null)d="";d+="\0";s.Mm(e,F,d);F+=4+2*d.length;gz.qm(e,F,Z.classID);
F+=gz.Gz(e.data,F);s.aY(e,F,Object.keys(Z).length-1-(Z.__name==null?0:1));F+=4;for(var S in Z){if(S=="classID")continue;
if(S=="__name")continue;gz.qm(e,F,S);F+=gz.Gz(e.data,F);F+=gz.Bq(e,F,Z[S])}return F-_};gz.sI=function(e,Z,F,b){var _=Z,d=s.fl(e,Z,4);
Z+=4;var S={size:0,t:d,v:null};if(F)console.log("\t".repeat(b),"reading key",d,_);switch(d){case"obj ":case"VlLs":S.v=[];
var U=s.l(e,Z);Z+=4;for(var l=0;l<U;l++){var r=gz.sI(e,Z,F,b+1);Z+=r.size;delete r.size;S.v.push(r)}break;
case"UntF":S.v={type:s.fl(e,Z,4),val:s.e8(e,Z+4)};Z+=12;break;case"doub":S.v=s.e8(e,Z);Z+=8;break;case"bool":S.v=e[Z]==1;
Z+=1;break;case"long":S.v=s.ft(e,Z);Z+=4;break;case"comp":S.v=s.ft(e,Z+4);Z+=8;break;case"Objc":S.v={};
var q=gz.Yr(e,S.v,Z,F,b+1);Z+=q;break;case"TEXT":var w=s.l(e,Z);if(w==0){S.v="";Z+=4}else{S.v=s.b7(e,Z);
Z+=4+S.v.length*2+2}break;case"enum":var X=gz.MF(e,Z);Z+=gz.Gz(e,Z);var Q=gz.MF(e,Z);Z+=gz.Gz(e,Z);S.v={};
S.v[X]=Q;break;case"tdta":var c=s.ft(e,Z);Z+=4;S.v=[];for(var l=0;l<c;l++)S.v.push(e[Z+l]);Z+=c;break;
case"ObAr":var u=s.l(e,Z);Z+=4;var n=s.b7(e,Z);Z+=4+2*n.length+2;if(n!="")throw n;var k=gz.MF(e,Z);Z+=4+Math.max(4,k.length);
S.v={classID:k,arr:[]};var B=s.l(e,Z);Z+=4;for(var l=0;l<B;l++){var k=gz.MF(e,Z);Z+=4+Math.max(4,k.length);
var X=s.fl(e,Z,4);Z+=4;var o=s.fl(e,Z,4);Z+=4;var T={id:k,type:X,uID:o,arr:[]};S.v.arr.push(T);var z=s.l(e,Z,4);
Z+=4;for(var W=0;W<z;W++){var $=s.e8(e,Z);Z+=8;T.arr.push($)}}break;case"Pth ":var R=Z,c=s.l(e,Z);Z+=4;
var P=s.fl(e,Z,4);Z+=4;var H=s.lg(e,Z);Z+=4;var y=s.a6u(e,Z);Z+=4+y.length*2;S.v={sig:P,pth:y};break;
case"Clss":case"type":case"rele":var y=s.b7(e,Z);Z+=4+y.length*2+2;var h=gz.MF(e,Z);Z+=4+Math.max(4,h.length);
S.v={classID:h};if(y!="")S.v.__name=y;if(d=="rele"){S.v.val=s.ft(e,Z);Z+=4}break;case"prop":case"Enmr":case"indx":case"name":var m=gz.Tq[d],y=s.b7(e,Z);
Z+=4+y.length*2+2;if(y.length!=0){console.log(d,y);throw"e"}S.v={};for(var l=0;l<m.length;l++){var h=gz.MF(e,Z);
Z+=4+Math.max(4,h.length);S.v[m[l]]=h}if(d=="name"){var y=s.b7(e,Z);Z+=4+y.length*2+2;S.v.val=y}if(d=="indx"){S.v.val=s.l(e,Z);
Z+=4}break;case"alis":var c=s.l(e,Z);Z+=4;S.v=s.fl(e,Z,c);Z+=c;break;default:{console.log("unknown oskey: "+d+", "+_);
throw"e";return S}}if(F){console.log("\t".repeat(b),S.v);console.log("\t".repeat(b),"======",Z)}S.size=Z-_;
return S};gz.Tq={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
gz.Bq=function(e,Z,F){var b=Z,_=F.t;F=F.v;s.Hj(e,Z,_);Z+=4;switch(_){case"obj ":case"VlLs":s.aY(e,Z,F.length);
Z+=4;for(var d=0;d<F.length;d++){var S=gz.Bq(e,Z,F[d]);Z+=S}break;case"UntF":s.Hj(e,Z,F.type);s._h(e,Z+4,F.val);
Z+=12;break;case"doub":s._h(e,Z,F);Z+=8;break;case"bool":s.wX(e,Z,F?1:0,1);Z+=1;break;case"long":s.aY(e,Z,F);
Z+=4;break;case"comp":s.aY(e,Z+4,F);Z+=8;break;case"Objc":var S=gz.jJ(e,F,Z);Z+=S;break;case"TEXT":s.Mm(e,Z,F+"\0");
Z+=4+F.length*2+2;break;case"enum":var U=Object.keys(F)[0],r=F[U];gz.qm(e,Z,U);Z+=gz.Gz(e.data,Z);gz.qm(e,Z,r);
Z+=gz.Gz(e.data,Z);break;case"tdta":s.sH(e,Z,F.length);Z+=4;s.oO(e,Z,F);Z+=F.length;break;case"ObAr":s.sH(e,Z,F.arr[0].arr.length);
Z+=4;s.Mm(e,Z,"\0");Z+=6;gz.qm(e,Z,F.classID);Z+=4+Math.max(4,F.classID.length);s.sH(e,Z,F.arr.length);
Z+=4;for(var l=0;l<F.arr.length;l++){var q=F.arr[l];gz.qm(e,Z,q.id);Z+=4+Math.max(4,q.id.length);s.Hj(e,Z,q.type);
Z+=4;s.Hj(e,Z,q.uID);Z+=4;s.sH(e,Z,q.arr.length);Z+=4;for(var d=0;d<q.arr.length;d++){s._h(e,Z,q.arr[d]);
Z+=8}}break;case"Pth ":var w=F.pth.length*2+4+8;s.sH(e,Z,w);Z+=4;s.Hj(e,Z,F.sig);Z+=4;s.rf(e,Z,w);Z+=4;
s.afP(e,Z,F.pth);Z+=F.pth.length*2+4;break;case"Clss":case"type":case"rele":var X=F.__name;if(X==null)X="";
s.Mm(e,Z,X+"\0");Z+=4+X.length*2+2;var Q=F.classID;gz.qm(e,Z,Q);Z+=4+Math.max(4,Q.length);if(_=="rele"){s.aY(e,Z,F.val);
Z+=4}break;case"prop":case"Enmr":case"indx":case"name":var c=gz.Tq[_];s.sH(e,Z,1);Z+=6;for(var l=0;l<c.length;
l++){var Q=F[c[l]];gz.qm(e,Z,Q);Z+=4+Math.max(4,Q.length)}if(_=="name"){s.Mm(e,Z,F.val+"\0");Z+=4+F.val.length*2+2}if(_=="indx"){s.sH(e,Z,F.val);
Z+=4}break;case"alis":var w=F.length;s.sH(e,Z,w);Z+=4;s.Hj(e,Z,F);Z+=w;break;default:console.log("unknown oskey: "+_);
Z=b;break}return Z-b};gz.MF=function(e,Z){var F=s.ft(e,Z);if(F>1e3)throw"e";if(F==0)F=4;return s.fl(e,Z+4,F).trim()};
gz.Gz=function(e,Z){var F=s.ft(e,Z);return F==0?8:4+F};gz.qm=function(e,Z,F){var b="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),_=4<F.length||b.indexOf(F)!=-1;
s.aY(e,Z,_?F.length:0);s.Hj(e,Z+4,F);if(F.length<4&&!_){var d="";for(var l=F.length;l<4;l++)d+=" ";s.Hj(e,Z+4+F.length,d)}};
gz.aqP=function(e){var Z={};for(var F in e){if(F=="classID")Z[F]=e[F];else if(F=="__name")Z[F]=e[F];
else Z[F]=gz.In(e[F])}return Z};gz.In=function(e){if(e.DE=="Objc")return gz.aqP(e.v);else if(e.DE=="VlLs"){var Z=[];
for(var l=0;l<e.v.length;l++)Z.push(gz.In(e.v[l]));return Z}else if(e.DE=="UntF")return e.v.val;else return e.v};
function gh(){}gh.p5=function(e,Z,F,b,_,d){while(Z<F){var S=s.fl(e,Z,4);Z+=4;if(S!="8BIM"&&S!="8B64"){console.log("layer information signature error! "+S,"PSB = "+_);
alert("Error in PSD file: wrong signature.");return F}var U=s.fl(e,Z,4);Z+=4;var r=s.l(e,Z);Z+=4;var q=_&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(U)!=-1;
if(q){r=r<<32|s.ft(e,Z);Z+=4}var w=["lrFX","PlLd"];if(w.indexOf(U)!=-1){if(r%4!=0)r+=4-r%4;Z+=r;continue}switch(U){case"iOpa":b[U]=e[Z];
break;case"brst":b[U]=[1,1,1];for(var l=0;l<r;l+=4)b[U][s.l(e,Z+l)]=0;break;case"knko":b[U]=e[Z];break;
case"infx":b[U]=e[Z];break;case"clbl":b[U]=e[Z];break;case"lmgm":b[U]=e[Z];break;case"vmgm":b[U]=e[Z];
break;case"lyid":b[U]=s.l(e,Z);break;case"lsct":b[U]={type:s.l(e,Z)};if(r>=12)b[U].Du=s.fl(e,Z+8,4);
break;case"lsdk":b.lsct={type:s.l(e,Z)};break;case"lyvr":b[U]=s.l(e,Z);break;case"lnsr":var X={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
b[U]=s.fl(e,Z,4);break;case"lspf":b[U]=s.l(e,Z);break;case"lclr":b[U]=s.Ip(e,Z);break;case"luni":b[U]=s.XQ(e,Z);
break;case"fxrp":b[U]=new bI(s.e8(e,Z),s.e8(e,Z+8));break;case"artb":case"artd":b[U]={};gz.Yr(e,b[U],Z+4);
break;case"SoCo":b[U]={};gz.Yr(e,b[U],Z+4);break;case"GdFl":b[U]={};gz.Yr(e,b[U],Z+4);gh.hG(b[U],U);
break;case"PtFl":b[U]={};gz.Yr(e,b[U],Z+4);gh.hG(b[U],U);break;case"CgEd":var Q=b.brit=ff.wy("brit"),c={};
gz.Yr(e,c,Z+4);Q.Brgh.v=c.Brgh?c.Brgh.v:0;Q.Cntr.v=c.Cntr?c.Cntr.v:0;Q.useLegacy.v=c.useLegacy?c.useLegacy.v:0;
break;case"brit":if(b.brit==null){var Q=b.brit=ff.wy("brit"),c={};Q.Brgh.v=s.Ea(e,Z);Q.Cntr.v=s.Ea(e,Z+2);
Q.useLegacy.v=!1}break;case"levl":var u=e.buffer.slice(Z,Z+r);b[U]=go.qj(u);break;case"curv":b[U]=hu.Dq(e,Z,r);
break;case"expA":var n=s.Ip(e,Z),k=b[U]=ff.wy("expA");k.Exps.v=s.ze(e,Z+2);k.Ofst.v=s.ze(e,Z+6);k.gammaCorrection.v=s.ze(e,Z+10);
break;case"vibA":b[U]={};gz.Yr(e,b[U],Z+4);break;case"hue2":b[U]=jb.Dq(e,Z,r);break;case"blnc":var k=b[U]=ff.wy(U);
k.PrsL.v=e[Z+18]==1;var B=["ShdL","MdtL","HghL"];for(var l=0;l<3;l++)for(var o=0;o<3;o++)k[B[l]].v[o].v=s.Ea(e,Z+l*6+o*2);
break;case"blwh":var T={};gz.Yr(e,T,Z+4);var k=ff.wy(U),z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<z.length;l++){k[z[l]]=T[z[l]];delete T[z[l]]}b[U]=k;break;case"phfl":var k=b[U]=ff.wy(U),W=k.Clr.v,n=s.Ip(e,Z);
if(n==3){var $=[s.l(e,Z+2),s.l(e,Z+6),s.l(e,Z+10)],R=32768,P=V.bi($[0]/R,$[1]/R,$[2]/R);W.Lmnc.v=P.qv;
W.A.v=P.Y0;W.B.v=P.S}if(n==2){var H=s.Ip(e,Z+2);if(H!=7)throw"e";W.Lmnc.v=s.Ea(e,Z+4)/100;W.A.v=s.Ea(e,Z+6)/100;
W.B.v=s.Ea(e,Z+8)/100}var y=Z+2+(n==3?12:10);k.Dnst.v=s.l(e,y);y+=4;k.PrsL.v=e[y]==1;break;case"mixr":var h={Uo:s.Ip(e,Z+2)==1,I:[]};
for(var l=0;l<20;l++)h.I.push(s.Ea(e,Z+4+l*2));b[U]=hc.pb(h);break;case"clrL":case"rplc":b[U]={};gz.Yr(e,b[U],Z+6);
break;case"nvrt":b[U]={};break;case"post":b[U]=ff.wy("post");b[U].Lvls.v=s.Ip(e,Z);break;case"thrs":b[U]=ff.wy("thrs");
b[U].Lvl.v=s.Ip(e,Z);break;case"grdm":var m=Z,t=e[Z+2]==1,j=e[Z+3]==1;m+=4;var x=s.XQ(e,m);m+=4+x.length*2;
var C=cQ.Df(e,m,x),L=C[0];m=C[1];var f=s.Ip(e,m);m+=2;var D=s.l(e,m);m+=4;var v=s.Ip(e,m)==1;m+=2;var A=s.Ip(e,m)==1;
m+=2;var M=s.l(e,m);m+=4;var Y=s.Ip(e,m);m+=2;var J=[],I=[];for(var l=0;l<4;l++){J.push({t:"long",v:~~(s.Ip(e,m+l*2)*100/32768)});
I.push({t:"long",v:~~(s.Ip(e,m+l*2+8)*100/32768)})}m+=16;var p=s.Ip(e,m);m+=2;if(f==1)L={classID:"Grdn",Nm:{t:"TEXT",v:x},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:v},VctC:{t:"bool",v:A},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:D},Smth:{t:"long",v:M},Mnm:{t:"VlLs",v:J},Mxm:{t:"VlLs",v:I}};
var a=ff.wy("grdm");a.Rvrs.v=t;a.Grad.v=L;b[U]=a;break;case"selc":b[U]=ci.Dq(e,Z,r);break;case"vmsk":case"vsms":var er=b.vmsk=new g.NX,c8=s.ft(e,Z+4),O=(c8>>0&1)==1;
er.wJ=(c8>>1&1)==0;er.isEnabled=(c8>>2&1)==0;er.T=fK.ue(e,Z+8,r-8,d.w,d._);break;case"shmd":b[U]={};
var dF=s.l(e,Z),y=Z+4;for(var l=0;l<dF;l++){var S=s.fl(e,y,4);y+=4;var gl=s.fl(e,y,4);y+=4;var e0=e[y];
y++;if(Math.max(e[y],e[y+1],e[y+2])!=0)throw"e";y+=3;var bv=s.l(e,y);y+=4;if(gl=="cust"||gl=="cmls"||gl=="extn"||gl=="mlst"){var gm=s.l(e,y);
if(gm!=16)y+=4;if(s.l(e,y)==16){var T={};gz.Yr(e,T,y+4,!1);b[U][gl]=T;if(gl=="cmls")i.p7.aaV(b[U][gl])}}else{console.log("unknown shmd key: "+gl+", size: "+bv)}y+=bv}break;
case"shpa":var n=s.l(e,Z),iW=s.l(e,Z+4);if(iW!=0)console.log("some patterns present!");break;case"TySh":var jx=b[U]={},n=s.Ip(e,Z);
jx.A=s._W(e,Z+2);var aC=s.Ip(e,Z+2+48);jx.tr={};var d9=gz.Yr(e,jx.tr,Z+56),bS=fN.a8s();for(var jo in bS)if(jx.tr[jo]==null)jx.tr[jo]=bS[jo];
jx.mw={};var g7=gz.Yr(e,jx.mw,Z+56+d9+6);jx.nq=s.acF(e,Z+56+d9+6+g7);jx.HV=dD.qj(jx.tr.EngineData.v);
fN.aoC(jx.HV.EngineDict.StyleRun.RunArray);if(jx.HV.ResourceDict==null)jx.HV.ResourceDict=JSON.parse(JSON.stringify(jx.HV.DocumentResources));
delete jx.tr.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var dI=s.l(e,Z),gn=s.l(e,Z+4);b.lmfx={};
var d9=gz.Yr(e,b.lmfx,Z+8);gh.mE(b.lmfx);break;case"FMsk":b[U]=s.WD(e,Z,r);break;case"Txt2":b[U]={};
b[U].raw=s.WD(e,Z,r);b[U].$m=c4.qj(b[U].raw);break;case"Patt":b[U]=dg.XA(e,Z,r);break;case"SoLd":var hI=s.fl(e,Z,4),d$=s.l(e,Z+4),eX=s.l(e,Z+8);
b[U]={};var d3=gz.Yr(e,b[U],Z+12);if(b[U].nonAffineTransform==null)b[U].nonAffineTransform=JSON.parse(JSON.stringify(b[U].Trnf));
if(b[U].Impr==null)b[U].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var d$=s.l(e,Z);
b[U]={};var d3=gz.Yr(e,b[U],Z+4);break;case"vscg":var gl=s.fl(e,Z,4),d$=s.l(e,Z+4);b[gl]={};var d3=gz.Yr(e,b[gl],Z+8);
gh.hG(b[gl],gl);break;case"vogk":var cJ=s.l(e,Z),d$=s.l(e,Z+4);b[U]={};var d3=gz.Yr(e,b[U],Z+8);b[U]=b[U].keyDescriptorList.v;
for(var l=0;l<b[U].length;l++){var dM=b[U][l].v;if(!V.$F.G1(dM))continue;if(dM.keyOriginBoxCorners==null){var dh=V.$F.MR(dM);
dM.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var jh=[dh[0],dh[1],dh[2],dh[1],dh[2],dh[3],dh[0],dh[3]];
if(dM.keyOriginType.v==4)jh=V.$F.It(V.$F.$G(dM),dM.keyOriginLineWeight.v);V.$F.ye(dM,"keyOriginBoxCorners",jh)}}break;
case"lnk2":case"lnkD__":case"lnk3__":b[U]=[];var m=Z;while(m<Z+r){var aK=new g.Bn;b[U].push(aK);var ca=s.er(e,m);
m+=8;var iY=m;aK.type=s.fl(e,m,4);m+=4;if(aK.type!="liFD"){alert("Unknown Linked Layer type: "+aK.type);
break;throw aK.type}aK.S_=s.l(e,m);m+=4;var et=s.ce(e,m);m+=1+et.E1.length;aK.uz=et.E1;aK.Iv=s.b7(e,m);
m+=4+aK.Iv.length*2+2;aK.QL=s.fl(e,m,4);m+=4;aK.uM=s.fl(e,m,4);m+=4;var jD=s.er(e,m);m+=8;aK.open=e[m];
m+=1;if(aK.open!=0){var j6={},d9=gz.Yr(e,j6,m+4);if(d9%4!=0)d9+=4-d9%4;console.log(j6);m+=d9+4}aK.open=0;
aK.raw=s.WD(e,m,jD);m=iY+ca;if(ca%4!=0)m+=4-ca%4}break;case"FEid":var m=Z;b[U]=[];var dc=m+r,n=s.l(e,m);
m+=4;while(m<dc){m+=4;var ca=s.l(e,m);m+=4;var C={};b[U].push(C);C.id=s.ce(e,m).E1;m+=C.id.length+1;
var n=s.l(e,m);m+=4;m+=4;var ao=s.l(e,m);m+=4;C.rect=s.E_(e,m);m+=16;var ec=s.l(e,m);m+=4;var fp=s.l(e,m);
m+=4;var eN=new V.xV(0);for(var l=0;l<fp+2;l++){var ha=s.l(e,m);m+=4;if(ha!=0){m+=4;var bJ=s.l(e,m),g3=null;
m+=4;if(l<3||l==25)g3=hm.to(!0,ec,e,C.rect.w,C.rect._,m,bJ);if(l==0)eN.o=g3;if(l==1)eN.z=g3;if(l==2)eN.S=g3;
if(l==25)eN.Y0=g3;m+=bJ}}C.buffer=V.J(C.rect.Z()*4);V.My(eN,C.buffer);V.bD(C);var bL=e[m];m++;if(bL!=0){C.v=new g.hW;
C.v.rect=s.E_(e,m);m+=16;m+=4;var fD=s.l(e,m);m+=4;C.v.channel=hm.to(!0,ec,e,C.v.rect.w,C.v.rect._,m,fD);
C.v.color=255;C.v.M5();m+=fD}if(ca%4!=0)m+=4-ca%4}break;case"Lr16":e5.YR(d,e,Z);break;default:break}var bF="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(bF.indexOf(U)==-1)if(r%4!=0)console.log("size not multiple of 4!!!",U);if(U!="luni"&&U!="TySh"&&U!="tySh"&&U!="lfx2")if(r%4!=0)r+=4-r%4;
Z+=r}var du=[];for(var l=0;l<du.length;l++)delete b[du[l]];return Z};gh.oS=function(e,Z,F,b,_){for(var d in F)if(F[d]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+d+"\" tag was present with a null value.");delete F[d]}for(var d in F){var S=b&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(d)!=-1,r=0;
s.Hj(e,Z,S?"8B64":"8BIM");Z+=4;var U=Z;s.Hj(e,Z,d);Z+=4;s.aY(e,Z,0);Z+=S?8:4;switch(d){case"iOpa":s.wX(e,Z,F[d],1);
r=4;break;case"brst":r=0;for(var l=0;l<3;l++)if(F[d][l]==0){s.sH(e,Z+r,l);r+=4}break;case"knko":s.wX(e,Z,F[d],1);
r=4;break;case"infx":s.wX(e,Z,F[d],1);r=4;break;case"clbl":s.wX(e,Z,F[d],1);r=4;break;case"lmgm":s.wX(e,Z,F[d],1);
r=4;break;case"vmgm":s.wX(e,Z,F[d],1);r=4;break;case"lyid":s.sH(e,Z,F[d]);r=4;break;case"lsct":s.sH(e,Z,F[d].type);
r=4;if(F[d].Du){s.Hj(e,Z+4,"8BIM");s.Hj(e,Z+8,F[d].Du);r=12}break;case"lyvr":s.sH(e,Z,F[d]);r=4;break;
case"lnsr":s.Hj(e,Z,F[d]);r=4;break;case"lspf":s.sH(e,Z,F[d]);r=4;break;case"lclr":s.Pe(e,Z,F[d]);r=8;
break;case"luni":s.Mm(e,Z,F[d]);r=4+2*F[d].length;break;case"fxrp":s._h(e,Z,F[d].x);s._h(e,Z+8,F[d].y);
r=16;break;case"artb":case"artd":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;break;case"SoCo":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;
break;case"GdFl":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;break;case"PtFl":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;
break;case"CgEd":var q={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},w=q,X=F[d];
w.Brgh.v=X.Brgh.v;w.Cntr.v=X.Cntr.v;w.useLegacy.v=X.useLegacy.v;s.sH(e,Z,16);r=gz.jJ(e,q,Z+4)+4;break;
case"brit":e.Y1(Z,8);r=8;break;case"levl":var Q=new iw;r=go.WQ(Q,F[d]);s.oO(e,Z,Q.data);break;case"curv":r=hu.CA(e,Z,F[d]);
break;case"expA":r=14;e.Y1(Z,14);s.Bw(e.data,Z,1);s.R_(e.data,Z+2,F[d].Exps?F[d].Exps.v:0);s.R_(e.data,Z+6,F[d].Ofst?F[d].Ofst.v:0);
s.R_(e.data,Z+10,F[d].gammaCorrection?F[d].gammaCorrection.v:1);break;case"vibA":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;
break;case"hue2":r=jb.CA(e,Z,F[d]);break;case"blnc":r=19;e.Y1(Z,r);var c=["ShdL","MdtL","HghL"];for(var l=0;
l<3;l++){var u=F[d][c[l]].v;for(var n=0;n<3;n++)u.push(s.LB(e.data,Z+l*6+n*2,u[n].v))}e.data[Z+18]=F[d].PrsL.v?1:0;
break;case"blwh":var q={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},k="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<k.length;l++){q[k[l]]=F[d][k[l]]}s.sH(e,Z,16);r=gz.jJ(e,q,Z+4)+4;break;case"phfl":s.Pe(e,Z,2);
var B=F[d].Clr.v;s.Pe(e,Z+2,7);s.Pe(e,Z+4,Math.round(B.Lmnc.v*100));s.Pe(e,Z+6,Math.round(B.A.v*100));
s.Pe(e,Z+8,Math.round(B.B.v*100));s.Pe(e,Z+10,0);var o=Z+2+10;e.Y1(o,5);s.ho(e.data,o,F[d].Dnst.v);o+=4;
e.data[o]=F[d].PrsL.v?1:0;o++;r=o-Z;break;case"mixr":r=44;e.Y1(Z,r);var T=hc.l8(F[d]);s.Bw(e.data,Z,1);
s.Bw(e.data,Z+2,T.Uo?1:0);for(var l=0;l<20;l++)s.LB(e.data,Z+4+l*2,T.I[l]);break;case"clrL":case"rplc":s.Pe(e,Z,1);
s.sH(e,Z+2,16);r=gz.jJ(e,F[d],Z+6)+6;break;case"nvrt":r=0;break;case"post":s.Pe(e,Z,F[d].Lvls.v);r=2;
break;case"thrs":s.Pe(e,Z,F[d].Lvl.v);r=2;break;case"grdm":var z=F[d].Rvrs?F[d].Rvrs.v:!1,W=!1,$=867527939,R=!1,P=!1,H=2048,y=[0,0,0,0],h=[32768,32768,32768,32768],m=F[d].Grad.v,t,j,x=m.Clrs==null?1:0;
if(x==0){t=m;j=JSON.parse(fu.Jr.xn).v}else{t=ff.wy("grdm").Grad.v;j=m}e.Y1(Z,4);s.Bw(e.data,Z,1);e.data[Z+2]=z?1:0;
e.data[Z+3]=W?1:0;var C=Z+4;s.Mm(e,C,m.Nm.v);C+=4+m.Nm.v.length*2;C=cQ.asJ(e,C,t);s.Pe(e,C,x);C+=2;s.sH(e,C,j.RndS.v);
C+=4;s.Pe(e,C,j.ShTr.v?1:0);C+=2;s.Pe(e,C,j.VctC.v?1:0);C+=2;s.sH(e,C,j.Smth.v);C+=4;s.Pe(e,C,3);C+=2;
for(var l=0;l<4;l++)s.Pe(e,C+l*2,y[l]);C+=8;for(var l=0;l<4;l++)s.Pe(e,C+l*2,h[l]);C+=8;C+=2;r=C-Z;break;
case"selc":r=ci.CA(e,Z,F[d]);break;case"FMsk":s.oO(e,Z,F[d]);r=F[d].length;break;case"Txt2":var L=new iw,f=c4.Gf(F[d].$m,L),D=V.J(f,!0);
for(var l=0;l<f;l++)D[l]=L.data[l];s.oO(e,Z,D);r=D.length;break;case"vmsk":var v=F[d],A=0;s.sH(e,Z,3);
if(!v.wJ)A+=1<<1;if(!v.isEnabled)A+=1<<2;s.sH(e,Z+4,A);r=8;var M=v.T.length;e.Y1(Z+8,M*26);fK.Zg(e.data,Z+8,v.T,_.w,_._);
r+=M*26;break;case"shmd":s.sH(e,Z,Object.keys(F[d]).length);var o=Z+4;for(var Y in F[d]){s.Hj(e,o,"8BIM");
o+=4;s.Hj(e,o,Y);o+=4;s.sH(e,o,0);o+=4;s.sH(e,o,0);o+=4;s.sH(e,o,16);o+=4;var J=gz.jJ(e,F[d][Y],o);if(J%4!=0)J+=4-J%4;
s.sH(e,o-8,J+4);o+=J}r=o-Z;break;case"TySh":var o=Z;s.sL(e,o,1);o+=2;var I=F[d],L=new iw;I.HV.DocumentResources=JSON.parse(JSON.stringify(I.HV.ResourceDict));
var f=dD.Gf(I.HV,L),D=V.J(f,!0);for(var l=0;l<f;l++)D[l]=L.data[l];I.tr.EngineData={t:"tdta",v:D};var p=I.HV.EngineDict.Editor.Text;
I.tr.Txt.v=p.substring(0,p.length-1);s.aaB(e,o,I.A);o+=48;s.sL(e,o,50);o+=2;s.sH(e,o,16);o+=4;o+=gz.jJ(e,I.tr,o);
s.sL(e,o,1);o+=2;s.sH(e,o,16);o+=4;o+=gz.jJ(e,I.mw,o);s.aoI(e,o,I.nq);o+=16;r=o-Z;break;case"lmfx":s.sH(e,Z,0);
s.sH(e,Z+4,16);var q=JSON.parse(JSON.stringify(F[d])),a=!1;gh.rq(q);for(var l=0;l<fu.VX.length;l++)if(q[fu.VX[l]]!=null)a=!0;
s.Hj(e,U,a?"lmfx":"lfx2");r=gz.jJ(e,q,Z+8)+8;break;case"Patt":var o=dg.Eo(e,Z,F[d]);r=o-Z;break;case"SoLd":s.Hj(e,Z,"soLD");
s.sH(e,Z+4,4);s.sH(e,Z+8,16);r=gz.jJ(e,F[d],Z+12)+12;break;case"vstk":case"pths":s.sH(e,Z,16);r=gz.jJ(e,F[d],Z+4)+4;
break;case"vscg__":s.Hj(e,Z,F[d].key);s.sH(e,Z+4,16);r=gz.jJ(e,F[d].I,Z+8)+8;break;case"vogk":s.sH(e,Z,1);
s.sH(e,Z+4,16);V.$F.a37(F[d]);for(var l=0;l<F[d].length;l++){var er=F[d][l].v.keyOriginResolution;if(er)er.v=_.Cr}var c8={classID:"null",keyDescriptorList:{t:"VlLs",v:F[d]}};
r=gz.jJ(e,c8,Z+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var C=Z;for(var l=0;l<F[d].length;l++){var O=F[d][l],dF=C;
s.rz(e,C,0);C+=8;s.Hj(e,C,O.type);C+=4;s.sH(e,C,O.S_);C+=4;e.Y1(C,1);e.data[C]=O.uz.length;C++;s.Hj(e,C,O.uz);
C+=O.uz.length;s.Mm(e,C,O.Iv+"\0");C+=4+O.Iv.length*2+2;s.Hj(e,C,O.QL);C+=4;s.Hj(e,C,O.uM);C+=4;s.rz(e,C,O.raw.length);
C+=8;e.Y1(C,1);e.data[C]=O.open;C++;s.oO(e,C,O.raw);C+=O.raw.length;s.sH(e,C,1);C+=4;C+=11;var gl=C-dF-8;
s.rz(e,dF,gl);if(gl%4!=0){e.Y1(C,4-gl%4);C+=4-gl%4}}r=C-Z;break;case"FEid":var C=Z;s.sH(e,C,3);C+=4;
for(var e0=0;e0<F[d].length;e0++){var bv=F[d][e0];C+=4;var gm=C;C+=4;s.xc(e,C,bv.id);C+=bv.id.length+1;
s.sH(e,C,1);C+=4;var iW=V.J(bv.rect.Z()),jx=bv.rect,aC=V.J(jx.Z());C+=4;var d9=C;C+=4;s.$w(e,C,jx);C+=16;
s.sH(e,C,8);C+=4;s.sH(e,C,24);C+=4;for(var l=0;l<24+2;l++){var bS=-1;if(l==0)bS=0;if(l==1)bS=1;if(l==2)bS=2;
if(l==25)bS=3;s.sH(e,C,bS!=-1?1:0);C+=4;if(bS!=-1){V.yC(bv.buffer,iW,bS);V.l2(iW,bv.rect,aC,jx);C+=4;
var jo=C;C+=4;e.Y1(C,jx.Z()+2);C=hm.SV(!0,aC,e.data,jx.w,jx._,C,3);s.sH(e,jo,C-(jo+4))}}s.sH(e,d9,C-(d9+4));
e.Y1(C,1);e.data[C]=bv.v?1:0;C++;if(bv.v!=null){var g7=jx,dI=V.J(g7.Z());dI.fill(bv.v.color);V.l2(bv.v.channel,bv.v.rect,dI,g7);
s.$w(e,C,g7);C+=16;C+=4;var gn=C;C+=4;e.Y1(C,g7.Z()+2);C=hm.SV(!0,dI,e.data,g7.w,g7._,C,3);s.sH(e,gn,C-(gn+4))}var gl=C-(gm+4);
s.sH(e,gm,gl);if(gl%4!=0)C+=4-gl%4}r=C-Z;break;default:console.log("unknown layer tag: "+d+", size: "+r);
Z-=12;continue}var hI=["Txt2","artd","extd","pths"];if(hI.indexOf(d)==-1)if(r%4!=0)r+=4-r%4;if(S)s.rz(e,Z-8,r);
else s.sH(e,Z-4,r);if(d!="luni"&&d!="TySh")if(r%4!=0)r+=4-r%4;Z+=r}return Z};gh.mE=function(e){for(var l=0;
l<fu.order.length;l++){var Z=fu.order[l],F=fu.VX[l];if(e[F]==null)e[F]={t:"VlLs",v:[]};if(e[Z]!=null){e[F].v.push(e[Z]);
delete e[Z]}var b=[];for(var _=0;_<e[F].v.length;_++){var d=e[F].v[_];if(d.v.present==null||d.v.present.v==!0)b.push(d)}e[F].v=b}};
gh.rq=function(e){for(var l=0;l<fu.order.length;l++){var Z=fu.order[l],F=fu.VX[l],b=e[F].v.length;if(b==0){delete e[F];
continue}if(b==1){e[Z]=e[F].v[0];delete e[F];continue}}};gh.hG=function(e,Z){if(Z=="GdFl"){if(e.Angl==null)e.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(e.Algn==null)e.Algn={v:!0,t:"bool"};if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(e.Ofst==null)e.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(e.Rvrs==null)e.Rvrs={v:!1,t:"bool"};if(e.Dthr==null)e.Dthr={v:!1,t:"bool"}}if(Z=="PtFl"){if(e.Algn==null)e.Algn={v:!0,t:"bool"};
if(e.Angl==null)e.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(e.phase==null)e.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};gh.clone=function(e,Z){var F={};
if(e=="TySh"){F.A=Z.A.clone();F.tr=JSON.parse(JSON.stringify(Z.tr));F.mw=JSON.parse(JSON.stringify(Z.mw));
F.nq=Z.nq.clone();F.HV=JSON.parse(JSON.stringify(Z.HV));if(Z.add)F.add={vmsk:Z.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(Z.add.vogk))};
return F}else if(e=="fxrp")return Z.clone();else if(e=="vmsk")return Z.clone();else return JSON.parse(JSON.stringify(Z))};
function h9(e,Z){}h9.qj=function(e,Z,F,b){b=h9.anr(e,Z,F,b);return b};h9.Gf=function(e,Z,F,b,_){b=h9.a03(e,Z,F,b,_);
return b};h9.anr=function(e,Z,F,b){var _=b;e.rect=s.E_(F,b);b+=16;var d=s.Ip(F,b);b+=2;e.hr=[];var S=Z._R;
for(var l=0;l<d;l++){e.hr[l]={id:s.Ea(F,b),length:(S?s.er:s.l)(F,b+2)};b+=S?10:6}var U=s.fl(F,b,4);b+=4;
if(U!="8BIM"){console.log("Invalid Blend mode signature: "+U);alert("Error in Photoshop file: wrong signature.");
throw"e"}e.Du=s.fl(F,b,4);b+=4;e.opacity=F[b];b+=1;e.bN=F[b]==1;b+=1;e.jj=F[b];b+=1;if(F[b]!=0)console.log("error in filler!");
b+=1;var r=s.l(F,b);b+=4;var q=b;b=h9.atQ(e,F,b);b=h9.apq(e,F,b);var w=s.ce(F,b);e.name=w.E1;b+=w.length;
if(w.length%4!=0)b+=4-w.length%4;b=gh.p5(F,b,q+r,e.add,S,Z);if(e.add.lsct){if(e.add.lsct.Du)e.Du=e.add.lsct.Du;
e.add.lsct=e.add.lsct.type}return b};h9.a03=function(e,Z,F,b,_){var d=b;s.$w(F,b,e.rect);b+=16;var S=e.wt();
s.Pe(F,b,S.length);b+=2;var U=Z._R;_.push(b);for(var l=0;l<S.length;l++){s.sL(F,b,S[l]);if(U)s.rz(F,b+2,0);
else s.sH(F,b+2,0);b+=U?10:6}s.Hj(F,b,"8BIM");b+=4;s.Hj(F,b,e.Du);b+=4;s.wX(F,b,e.opacity,1);b+=1;s.wX(F,b,e.bN?1:0,1);
b+=1;s.wX(F,b,e.jj,1);b+=1;s.wX(F,b,0,1);b+=1;var r=b;s.sH(F,b,0);b+=4;var q=b;b=h9.ajA(e,F,b);b=h9.a1e(e,F,b);
var w=s.xc(F,b,e.name.slice(0,255));b+=w;if(w%4!=0)b+=4-w%4;if(e.add.lsct){e.add.lsct={type:e.add.lsct};
if(e.Du=="pass"){e.add.lsct.Du="pass";e.Du="norm"}}if(e.Du=="pass")e.add.lsct={type:e.add.lsct,Du:"pass"};
if(e.add.brit)e.add.CgEd=e.add.brit;b=gh.oS(F,b,e.add,U,Z);delete e.add.CgEd;if(e.add.lsct){if(e.add.lsct.Du)e.Du=e.add.lsct.Du;
e.add.lsct=e.add.lsct.type}var X=b-q;s.sH(F,r,X);return b};h9.atQ=function(e,Z,F){var b=s.l(Z,F);F+=4;
if(b==0)return F;var _=F;e.v=new g.hW;e.v.rect=s.E_(Z,F);F+=16;e.v.color=Z[F];F+=1;var d=h9.Bb(e.v,Z,F);
F+=1;if(d){var S=!1,U=255,r=0,q=255,w=0;for(var l=0;l<e.hr.length;l++)if(e.hr[l].id==-3)S=!0;if(S){e.KX=h9.lb(Z,F);
F+=18}var X=F,Q=Z[F];F++;if(Q>>0&1){U=Z[F];F++}if(Q>>1&1){r=s.e8(Z,F);F+=8}if(Q>>2&1){q=Z[F];F++}if(Q>>3&1){w=s.e8(Z,F);
F+=8}if((F-X&1)==1)F++;e.o9=[U,r,q,w]}else{if(b==20)F+=2;else{e.KX=h9.lb(Z,F);F+=18}}return _+b};h9.ajA=function(e,Z,F){s.sH(Z,F,0);
F+=4;if(e.v==null)return F;var b=e.Vj(),_=e.add.vmsk,d=F,S=!0;s.sH(Z,F,0);s.$w(Z,F,e.v.rect);F+=16;s.wX(Z,F,e.v.color);
F+=1;h9.AW(e.v,Z,F,S);F+=1;if(S){if(e.KX){h9.arv(Z,F,e.KX);F+=18}s.wX(Z,F,15);F+=1;s.wX(Z,F,b?b.cj:255);
F+=1;s._h(Z,F,b?b.Ov:0);F+=8;s.wX(Z,F,_?_.cj:255);F+=1;s._h(Z,F,_?_.Ov:0);F+=8;F++}s.sH(Z,d-4,F-d);return F};
h9.lb=function(e,Z){var F=new g.hW;h9.Bb(F,e,Z);Z+=1;F.color=e[Z];Z+=1;F.rect=s.E_(e,Z);Z+=16;return F};
h9.arv=function(e,Z,F){h9.AW(F,e,Z,!1);Z+=1;s.wX(e,Z,F.color);Z+=1;s.$w(e,Z,F.rect);Z+=16};h9.Bb=function(e,Z,F){var b=Z[F];
e.wJ=(b>>0&1)==0;e.isEnabled=(b>>1&1)==0;e.J0=(b>>3&1)==1;return b>>4&1};h9.AW=function(e,Z,F,b){var _=0;
if(!e.wJ)_+=1<<0;if(!e.isEnabled)_+=1<<1;if(e.J0)_+=1<<3;if(b)_+=1<<4;s.wX(Z,F,_)};h9.apq=function(e,Z,F){var b=s.l(Z,F);
F+=4;for(var l=0;l<b;l++)e.kz[l]=Z[F+l];return F+b};h9.a1e=function(e,Z,F){s.sH(Z,F,e.kz.length);F+=4;
Z.Y1(F,40);for(var l=0;l<40;l++){Z.data[F+l]=e.kz[l]}return F+40};function hm(){}hm.qj=function(e,Z,F,b){b=hm.ao5(Z._R,Z.iX,Z.Ck,e,F,b);
return b};hm.WQ=function(e,Z,F,b,_,d){b=hm.anf(e,Z,F,b,_,d);return b};hm.ao5=function(e,Z,F,b,_,d){var S=b.hr,U={},r=d;
for(var l=0;l<S.length;l++){var q=S[l],w=q.id,X=q.length,Q;if(w==-3)Q=b.KX.rect;else if(w==-2)Q=b.v.rect;
else Q=b.rect;var c=hm.to(e,Z,_,Q.w,Q._,d,X);d+=X;if(w==-3)b.KX.channel=c;else if(w==-2)b.v.channel=c;
else U["c"+w]=c}var u=new V.xV(0);u.Y0=null;if(F==3){u.o=U.c0;u.z=U.c1;u.S=U.c2;u.Y0=U["c-1"]}else if(F==1){u.o=U.c0;
u.z=U.c0;u.S=U.c0;u.Y0=U["c-1"]}else if(F==4){var n=U.c0,k=U.c1,B=U.c2,o=U.c3,T=n.length,z=1/255;for(var l=0;
l<T;l++){var W=n[l],$=k[l],R=B[l],P=o[l]*z;n[l]=Math.round(W*P);k[l]=Math.round((.2*W+.8*$)*P);B[l]=Math.round((.2*$+.8*R)*P)}u.o=n;
u.z=k;u.S=B;u.Y0=U["c-1"];console.log("converting from CMYK to RGB")}if(u.o==null)u.o=V.J(0);if(u.Y0==null&&u.o!=null){u.Y0=u.o.slice(0);
u.Y0.fill(255)}if(u.z==null)u.z=u.o.slice(0);if(u.S==null)u.S=u.o.slice(0);b.buffer=V.J(Math.max(0,b.rect.Z()*4));
V.My(u,b.buffer);return d};hm.anf=function(e,Z,F,b,_,d){var S=Z.wt(),U=new V.xV(Z.rect.Z());V.w2(Z.buffer,U);
for(var l=0;l<S.length;l++){var r=S[l],q,w;if(r==-3)q=Z.KX.rect;else if(r==-2)q=Z.v.rect;else q=Z.rect;
if(r==-3)w=Z.KX.channel;if(r==-2)w=Z.v.channel;if(r==-1)w=U.Y0;if(r==0)w=U.o;if(r==1)w=U.z;if(r==2)w=U.S;
F.Y1(b,q.Z()*3+4);var X=b;b=hm.SV(e,w,F.data,q.w,q._,b,d[1]?3:1);var Q=b-X;if(e)s.sM(F.data,_+l*10+2,Q);
else s.ho(F.data,_+l*6+2,Q)}return b};hm.to=function(e,Z,F,b,_,d,S){var U=s.Ip(F,d);d+=2;return hm.dD(e,Z,F,b,_,d,U,S-2)};
hm.SV=function(e,Z,F,b,_,d,S){s.LB(F,d,S);d+=2;d=hm.Xw(e,Z,F,b,_,d,S);return d};hm.dD=function(e,Z,F,b,_,d,S,U){var r,q=b*_*(Z>>>3),w=q&3,X=q+(w==0?0:4-w);
if(U<=0){return V.J(X)}if(S>3){console.log("unknown compression: "+S,b,_,b*_,U);S=0}if(S==0){if(d+X<=F.length)r=F.slice(d,d+X);
else{r=V.J(q);for(var l=0;l<q;l++)r[l]=F[d+l]}d+=q}else if(S==1){r=V.J(q);var Q=e?4:2,c=hm._y(F,r,b,_,d,d+Q*_,Q);
d+=Q*_+c}else if(S==2||S==3){var u=new Uint8Array(F.buffer,d+2,U-6),n=pako.inflateRaw(u);if(S==3){if(Z==8)for(var k=0;
k<_;k++){var B=k*b+1,o=B+b-1,T=n[B-1];for(var z=B;z<o;z++){T+=n[z];n[z]=T&255}}else for(var k=0;k<_;
k++){var B=k*b+1,o=B+b-1,T=n[2*B-2]<<8|n[2*B-1];for(var z=B;z<o;z++){var W=z<<1;T+=n[W]<<8|n[W+1];n[W]=T>>>8;
n[W+1]=T&255}}}if(n.length==X)r=n;else{r=V.J(X);for(var l=0;l<n.length;l++)r[l]=n[l]}}if(Z==16){var $=V.J(b*_);
for(var l=0;l<q;l+=2)$[l>>>1]=r[l];r=$}return r};hm.Xw=function(e,Z,F,b,_,d,S){var U=b*_;if(S==0)for(var l=0;
l<U;l++)F[d++]=Z[l];else if(S==1){var r=e?4:2,q=hm.IT(Z,F,b,_,d,d+r*_,r);d+=r*_+q}else if(S==2||S==3){if(S==3){var w=new Uint8Array(Z.length);
for(var X=0;X<_;X++){var Q=X*b+1,c=Q+b-1,u=Z[Q-1];w[Q-1]=u;for(var n=Q;n<c;n++){w[n]=Z[n]+(256-u)&255;
u=Z[n]}}Z=w}F[d]=120;F[d+1]=156;d+=2;var k=pako.deflateRaw(Z,{atz:4});s.OK(F,d,k);d+=k.length+4}else console.log("Unknown compression: "+S);
return d};hm._y=function(e,Z,F,b,_,d,S){if(!(e instanceof Uint8Array)||!(Z instanceof Uint8Array))throw"e";
var U=d,r=b|0;if(S==2)for(var l=0;l<r;l++){var q=s.Ip(e,_+(l<<1));hm.Mk(e,d,q,Z,l*F,F);d+=q}else for(var l=0;
l<r;l++){var q=s.l(e,_+(l<<2));hm.Mk(e,d,q,Z,l*F,F);d+=q}return d-U};hm.IT=function(e,Z,F,b,_,d,S){var U=d;
if(S==2)for(var l=0;l<b;l++){var r=hm.R8(e,l*F,F,Z,d);s.Bw(Z,_+l*2,r);d+=r}else for(var l=0;l<b;l++){var r=hm.R8(e,l*F,F,Z,d);
s.ho(Z,_+l*4,r);d+=r}return d-U};hm.R8=function(e,Z,gi,F,b){var _,d,S,U,r,i6,q;U=Z+gi;for(S=Z,d=b;gi>0;
S=_,gi-=i6){q=gi<128?gi:128;if(S<=U-3&&e[S+1]==e[S+0]&&e[S+2]==e[S+0]){for(_=S+3;_<S+q&&e[_]==e[S+0];
)++_;i6=_-S;F[d++]=1+256-i6;F[d++]=e[S+0]}else{for(_=S;_<S+q;)if(_<=U-3&&e[_+1]==e[_+0]&&e[_+2]==e[_+0])break;
else++_;i6=_-S;F[d++]=i6-1;for(var l=0;l<i6;l++)F[d+l]=e[S+l];d+=i6}}return d-b};hm.Mk=function(e,Z,F,b,_,d){for(var S=0;
S<F;){var gi=e[Z++];if(gi>=128){var U=e[Z++],r=_+(257-gi);b.fill(U,_,r);_=r;S+=2}else{for(var l=0;l<=gi;
l++)b[_+l]=e[Z+l];Z+=gi+1;_+=gi+1;S+=1+1+gi}}};function e5(){}e5.uj=function(e,Z,F){return;var b="",_=Z;
while(_!=0){var d=_%1e3+"";while(d.length<3)d="0"+d;b=(b==""?d:d+" ")+b;_=Math.floor(_/1e3)}while(b.startsWith("0")&&b!="0")b=b.slice(1);
while(b.length<11)b=" "+b;console.log("===",b,"\t".repeat(e),": "+F)};e5.qj=function(e,Z){Z._R=!1;Z.iX=8;
var F=new Uint8Array(e),b=0,_=0,J,e0=!1,bv=!0,gm=!1,iW=0,i7=0;_=e5.cW(Z,F,b);e5.uj(0,_-b,"PSD Header");
b=_;_=e5.agJ(Z,F,b);e5.uj(0,_-b,"Color Mode Data");b=_;_=e5.atZ(Z,F,b);e5.uj(0,_-b,"Image Resources");
b=_;_=e5.a3w(Z,F,b);e5.uj(0,_-b,"Layer And Mask Info");b=_;_=e5.a0H(Z,F,b);e5.uj(0,_-b,"Merged Image");
b=_;if(Z.g.length==0){var d=Z.yG();d.Hr("Background");Z.g.push(d);d.buffer=Z.buffer.slice(0);d.rect=new e3(0,0,Z.w,Z._)}if(Z.bY.r1005){Z.Cr=s.a9v(Z.bY.r1005,0)}if(Z.bY.r1026){var F=Z.bY.r1026;
for(var l=0;l<F.length;l+=2){var _=Z.g[l>>>1];if(_)_.YJ=s.Ip(F,l)}}if(Z.bY.r1072){var F=Z.bY.r1072;for(var l=0;
l<F.length;l++){var _=Z.g[l];if(_)_.rP=F[l]==1}}if(Z.bY.r1032){var F=Z.bY.r1032,S=s.l(F,12);for(var l=0;
l<S;l++){var U=F[16+l*5+4],r=s.ft(F,16+l*5)/32;Z.P3.push([U,r])}}delete Z.bY.r1036;delete Z.bY.r1039;
if(Z.bY.r1050){var q=s.l,w=Z.bY.r1050,X=s.l(w,0);if(X==6){var Q=4,c=s.E_(w,Q);Q+=16;var u=s.XQ(w,Q);
Q+=4+u.length*2;var n=q(w,Q);Q+=4;var k=Z.sP;for(var l=0;l<n;l++){var B=i.re.P2(),T;k.push(B);B=B.v;
B.sliceID.v=q(w,Q);Q+=4;B.groupID.v=q(w,Q);Q+=4;var o=q(w,Q);Q+=4;if(o==1){T=q(w,Q);Q+=4}var u=s.XQ(w,Q);
Q+=4+u.length*2;var z=q(w,Q);Q+=4;var W=[q(w,Q),q(w,Q+4),q(w,Q+8),q(w,Q+12)];Q+=16;i.re.Qg(k,k.length-1,W);
var $=B.url.v=s.XQ(w,Q);Q+=4+$.length*2;var R=B.null.v=s.XQ(w,Q);Q+=4+R.length*2;var P=B.Msge.v=s.XQ(w,Q);
Q+=4+P.length*2;var H=B.altTag.v=s.XQ(w,Q);Q+=4+H.length*2;B.cellTextIsHTML.v=w[Q]==1;Q++;var y=B.cellText.v=s.XQ(w,Q);
Q+=4+y.length*2;var h=q(w,Q);Q+=4;var m=q(w,Q);Q+=4;var t=w.slice(Q,Q+4);Q+=4;if(o!=2)k.pop()}}else if(X==8){var j={};
gz.Yr(w,j,8,!1);var w=Z.sP=j.slices.v;for(var l=0;l<w.length;l++){if(w[l].v.origin.v.ESliceOrigin!="userGenerated"){w.splice(l,1);
l--}}}}if(Z.bY.r1058){var x=Z.bY.r1058,C=UTIF.decode(x.buffer,{parseMN:!1,debug:!1});bW.nU(C[0],Z.iT);
delete Z.bY.r1058}if(Z.bY.r1060){var L=s.CI(Z.bY.r1060);bW.anp(L,Z.iT);delete Z.bY.r1060}if(Z.bY.r1065){var F=Z.bY.r1065;
Z.hn={};gz.Yr(F,Z.hn,4,!1)}if(Z.bY.r1069){var F=Z.bY.r1069,f=[];for(var l=2;l<F.length;l+=4){var T=s.l(F,l);
for(var D=0;D<Z.g.length;D++){var _=Z.g[D];if(_.add.lyid==T&&_.add.lsct!=3)f.push(D)}}Z.V=f}if(Z.bY.r1025){var v=Z.bY.r1025;
delete Z.bY.r1025;var A=fK.ue(v,0,v.length,Z.w,Z._),M=new g.NX;M.T=A;Z.Tl[0]=aH.o7("Working Path",{vmsk:M})}var Y=Z.add.pths;
delete Z.add.pths;var I=Z.bY.r3000;if(I){J={};gz.Yr(I,J,4,!1);delete Z.bY.r3000}for(var p=0;p<=997;p++){var a="r"+(2e3+p),v=Z.bY[a];
if(v==null)break;var A=fK.ue(v,0,v.length,Z.w,Z._),er=Y?Y.pathList.v[p].v.pathUnicodeName.v:"Path "+p,c8=J?J.keyRootDescriptorList.v[p].v.keyDescriptorList.v:g.ov(A),M=new g.NX;
M.T=A;Z.Tl[p+1]=aH.o7(er,{vmsk:M,vogk:c8});delete Z.bY[a]}delete Z._R;var O=new e3(0,0,Z.w,Z._),dF=Z.add.Txt2,gl=dF;
if(gl){gl=gl.$m;if(gl._DocumentResources==null)gl=hz.a5V(gl)}for(var l=0;l<Z.g.length;l++){var _=Z.g[l],jx=_.add.lsct,aC=_.add.vmsk,d9=_.Vj();
if(jx==jj.Hx){iW++;_.add.lspf=0}else if(jx==jj.$R||jx==jj.ZU)iW--;if(_.name==""){_.name="Layer "+(l+1);
gm=!0}if(gm&&_.yx()&&_.Du=="norm")_.Du="pass";if(_.bR()&&_.EB(Z).v){var bS=_.EB(Z);bS.v.isEnabled=_.add.SoLd.filterFX.v.filterMaskEnable.v}if(aC&&_._l()){var jo=fu.jA.default;
if(_.add.vstk==null)_.add.vstk=JSON.parse(JSON.stringify(jo));else{var g7="strokeStyleLineDashSet";if(_.add.vstk[g7]==null)_.add.vstk[g7]=JSON.parse(JSON.stringify(jo[g7]))}_.add.vstk.strokeStyleResolution.v=Z.Cr}if(aC&&(_.add.vogk==null||V.c.q$(aC.T)!=_.add.vogk.length))_.ov();
if(_.add.SoLd&&_.rect.BJ()){console.log("redrawing smart instance");_.gV(Z)}if(d9==null&&_.v!=null){if(_.v.J0==!1){_.v.J0=!0;
_.KX=_.v.clone()}}d9=_.Vj();if(_.o9){var jo=_.o9,M=aC;if(d9){d9.cj=jo[0];d9.Ov=jo[1]}if(M){M.cj=jo[2];
M.Ov=jo[3]}_.o9=null}if(d9!=null&&aC!=null&&(d9.Ov+aC.Ov!=0||d9.cj+aC.cj!=2*255))_.kJ(Z);else if(aC!=null&&!_._l())_.kJ();
var dI=_.add.artb;if(dI&&dI.artboardBackgroundType==null)dI.artboardBackgroundType={t:"long",v:1};if(dI&&iW!=0)delete _.add.artb;
var gn=_.add.vstk;if(_._l()&&(_.rect.BJ()||aC&&aC.Ov!=0||gn&&!gn.fillEnabled.v&&(!gn.strokeEnabled.v||gn.strokeStyleLineWidth.v.val==0)))_.s3(Z);
if(_.add.TySh){e0=!0;if(!_.rect.BJ())bv=!1}if(_.add.TySh&&gl){var hI=_.add.TySh.tr.TextIndex.v;if(hI==-1)continue;
var d$=_.add.TySh.HV,eX=fN.Lx(d$),d3=gl._DocumentObjects._TextObjects;if(d3.length<=hI){console.log("Txt2 incomplete");
continue}var cJ=d3[hI]._Model,dM=cJ._StyleRun?cJ._StyleRun._RunArray:[],dh=d$.EngineDict.StyleRun.RunArray;
for(var jh=0;jh<dh.length;jh++){var aK=dh[jh].StyleSheet.StyleSheetData;if(dM[jh]==null)continue;var ca=dM[jh]._RunData._StyleSheet._Features;
if(ca&&ca._BaselineDirection)aK.BaselineDirection=parseInt(ca._BaselineDirection.slice(1));if(ca&&ca._FillBackgroundFlag)aK._FillBackgroundFlag=ca._FillBackgroundFlag;
if(ca&&ca._FillBackgroundColor){var iY=ca._FillBackgroundColor,et=iY._Color._Values.slice(0);for(var D=0;
D<4;D++)et[D]=parseFloat(et[D].slice(1));aK._FillBackgroundColor={Type:1,Values:et}}if(ca&&ca._LineWidth)aK._LineWidth=parseFloat(ca._LineWidth.slice(1))}var jD=d$.EngineDict.ParagraphRun.RunArray,j6=cJ._ParagraphRun._RunArray;
if(j6==null)j6=[];var dc=Math.min(j6.length,jD.length);for(var D=0;D<dc;D++){var ao=jD[D].ParagraphSheet.Properties,ec=gl._DocumentResources._ParagraphSheetSet._Resources,fp=j6[D]._RunData._ParagraphSheet;
if(typeof fp=="string")fp=ec[parseInt(fp.slice(1))]._Resource;var eN=fp._Parent==null?fp:ec[parseInt(fp._Parent.slice(1))]._Resource;
fp=fp._Features;eN=eN._Features;var ha=fp._ParagraphDirection;if(ha==null)ha=eN._ParagraphDirection;
if(ha)ao._Direction=parseInt(ha.slice(1));if(fp._ComposerEngine)ao._ComposerEngine=parseInt(fp._ComposerEngine.slice(1))}if(cJ._AlternateGlyphRun){var j6=cJ._AlternateGlyphRun._RunArray,dc=j6.length,bJ=d$.EngineDict.AlternateGlyphRun=fN.ae7();
for(var D=0;D<dc;D++){var fp=j6[D],g3={},bL=fp._RunData._AlternateGlyphSheet;if(bL)g3.Glyph=parseInt(bL._Glyph.slice(1));
bJ.RunArray.push(g3);bJ.RunLengthArray.push(parseInt(fp._Length.slice(1)))}}var fD=gl._DocumentResources,bF=fD._TextFrameSet._Resources,du=bF[hI]._Resource,b8=du._Data,jf=new jg(1,0,0,1,0,0);
if(du._0){var c1=parseFloat(du._0[0].slice(1)),eV=parseFloat(du._0[1].slice(1));jf.translate(c1,eV)}if(eX){jf.translate(eX[0],eX[1]);
fN.wH(d$,[0,0,eX[2]-eX[0],eX[3]-eX[1]])}else{if(du._Bezier&&du._Bezier._Points){var A=du._Bezier._Points,c1=parseFloat(A[0].slice(1)),eV=parseFloat(A[1].slice(1));
if(c1!=0||eV!=0){jf.translate(c1,eV)}}}if(du._Data&&du._Data._FrameMatrix){var be=du._Data._FrameMatrix;
be=be.map(function(hk){return parseFloat(hk.slice(1))});jf.concat(new jg(be[0],be[1],be[2],be[3],be[4],be[5]))}jf.concat(_.add.TySh.A);
_.add.TySh.A=jf;var z=b8._Type?parseInt(b8._Type.slice(1)):0;if(z==2||z==1&&b8._PathData&&b8._PathData._Spacing=="i-3"){var fh=function(hk){return parseFloat(hk.slice(1))},A=du._Bezier._Points.map(fh);
if(eX)V.H.A(A,new jg(1,0,0,1,-eX[0],-eX[1]),A);var ea=b8._PathData?b8._PathData._Reversed:!1;d$.Curve={Points:A,TextOnPathTRange:b8._TextOnPathTRange.map(fh),Reversed:ea==null?!1:ea};
_.add.TySh.add={vmsk:new g.NX,vogk:null};fN.yU(_.add.TySh)}if(b8._LineOrientation=="i2")d$._LineOrientation=2}}i.p7.B1(Z,!0);
var g4={},de=[];for(var l=0;l<Z.g.length;l++){var hb=Z.g[l].add.lyid;if(hb==null)continue;var i7=Math.max(i7,hb);
if(g4[hb]!=null)de.push(l);else g4[hb]=!0}for(var l=0;l<de.length;l++)Z.g[de[l]].add.lyid=i7+1+l};e5.Gf=function(e,Z,F){i.p7.$p(e);
i.p7.B1(e,!1);e._R=F[3]==!0;var b=[],_=[],u=0,k=1,R=16,p=0;for(var l=0;l<e.g.length;l++){var d=e.g[l];
if(d.bR()&&d.EB(e).v){d.add.SoLd.filterFX.v.filterMaskEnable.v=d.EB(e).v.isEnabled}if(d.add.TySh){var S=d.add.TySh.HV,U=fN.ms(S);
d.add.TySh.tr.TextIndex={t:"long",v:b.length};b.push(S);if(U==2)fN.vI(d.add.TySh)}var r=d.add.vstk;if(r)r.strokeStyleResolution.v=e.Cr;
if(d._l()||F[2]&&d.add.SoLd){_[l]=[d.rect,d.buffer];d.rect=new e3;d.buffer=V.J(0);if(d.add.SoLd){var q=d.EB(e);
if(q!=null){_[l].push(q.buffer);q.buffer=V.J(q.buffer.length)}}}}if(b.length>0){var w=e.add.Txt2?e.add.Txt2.$m:null;
if(e.add.Txt2==null)e.add.Txt2={};e.add.Txt2.$m=f9.a2a(b,null,w)}var X=[e.add.lnk2,e.add.FEid,e.add.Patt],Q=e.asW(e.g);
e.yq(Q);e.bY.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);s.kf(e.bY.r1005,0,e.Cr);s.kf(e.bY.r1005,8,e.Cr);
if(e.aX()){e.bY.r1022=new Uint8Array([0,3+e.LE.length-1,0])}else delete e.bY.r1022;var c=new Uint8Array(e.g.length*2),n=new Uint8Array(e.g.length);
for(var l=0;l<e.g.length;l++){var d=e.g[l],B=d.YJ,o=d.rP?1:0;s.Bw(c,l*2,B);n[l]=o;if(B>u)u=B;if(o==0)k=0}if(u>0)e.bY.r1026=c;
if(k<1)e.bY.r1072=n;var T=e.P3,z=T.length,$=e.bY.r1032=V.J(16+5*z,!0);s.ho($,0,1);s.ho($,4,576);s.ho($,8,576);
s.ho($,12,z);for(var l=0;l<z;l++){s.iz($,R,Math.round(T[l][1]*32));$[R+4]=T[l][0];R+=5}var P=V.DA(e.buffer),H=[];
if(P)H.push({name:"Transparency",RW:{o:255,z:0,S:0},ri:100,K$:1});H=H.concat(e.LE);delete e.bY.r1045;
delete e.bY.r1006;delete e.bY.r1077;var y=new iw;R=0;var h=new Uint8Array(4+H.length*13);h[3]=1;for(var l=0;
l<H.length;l++){var m=H[l],t=m.name+"\0";s.Mm(y,R,t);R+=4+t.length*2;var j=4+l*13;fE.$X(h,j,m.RW);h[j+11]=m.ri;
h[j+12]=m.K$}e.bY.r1045=y.data.slice(0,R);e.bY.r1077=h;for(var l=0;l<e.sP.length;l++)e.sP[e.sP.length-l-1].v.sliceID.v=2+l*3;
var x={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:e.sP}},y=new iw;
s.sH(y,0,8);s.sH(y,4,16);var C=gz.jJ(y,x,8);e.bY.r1050=y.data.slice(0,C+8);var y=new iw;s.sH(y,0,16);
var C=gz.jJ(y,e.hn,4);e.bY.r1065=y.data.slice(0,C+4);var L=e.V;$=e.bY.r1069=V.J(2+L.length*4,!0);s.Bw($,0,L.length);
for(var l=0;l<L.length;l++)s.ho($,2+4*l,e.g[L[l]].add.lyid);delete e.bY.r1058;delete e.bY.r1060;if(Object.keys(e.iT).length!=0){var f=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
bW.FP(e.iT,f[0],F[0]&&F[1]);e.bY.r1058=new Uint8Array(UTIF.encode(f));var D=bW.aqj(e.iT);e.bY.r1060=s.nw(D)}var v=[],A=[];
for(var l=0;l<e.Tl.length;l++){var M=e.Tl[l],Y=M.add.vmsk.T;if(l==0&&Y.length==2)continue;var J=V.J(Y.length*26);
fK.Zg(J,0,Y,e.w,e._);var I=l==0?1025:2e3+l-1;e.bY["r"+I]=J;if(l!=0){v.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:M.name}}});
A.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:M.add.vogk}}})}}if(v.length!=0){e.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:v}};
A={classID:"null",keyRootDescriptorList:{t:"VlLs",v:A}};var y=new iw;s.sH(y,0,16);var C=gz.jJ(y,A,4);
e.bY.r3000=y.data.slice(0,C+4)}else{delete e.add.pths;delete e.bY.r3000}p=e5.am3(e,Z,p,3+H.length);p=e5.ag8(e,Z,p);
p=e5.ajf(e,Z,p);p=e5.aaU(e,Z,p,F,P);p=e5.afN(e,Z,p,F[0],P);var a=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var l=0;l<a.length;l++)delete e.bY["r"+a[l]];for(var l=0;l<e.g.length;l++){var d=e.g[l];if(d._l()||F[2]&&d.add.SoLd){d.rect=_[l][0];
d.buffer=_[l][1];if(_[l][2]){var q=d.EB(e);_[l].push(q.buffer);q.buffer=_[l][2]}}}e.yq(X);i.p7.B1(e,!0);
delete e._R;return p};e5.cW=function(e,Z,F){var b=s.fl(Z,F,4);F+=4;if(b!="8BPS")alert("invalid header signature: "+b);
var _=s.Ip(Z,F);F+=2;e._R=_==2;if(_!=1&&_!=2)alert("invalid version: "+_);F+=6;e.ko=s.Ip(Z,F);F+=2;e._=s.ft(Z,F);
F+=4;e.w=s.ft(Z,F);F+=4;e.iX=s.Ip(Z,F);F+=2;e.Ck=s.Ip(Z,F);F+=2;return F};e5.am3=function(e,Z,F,b){Z.Y1(0,64);
s.Zh(Z.data,F,"8BPS");F+=4;s.Bw(Z.data,F,e._R?2:1);F+=2;s.ho(Z.data,F,0);F+=4;s.Bw(Z.data,F,0);F+=2;
s.Bw(Z.data,F,b);F+=2;s.iz(Z.data,F,e._);F+=4;s.iz(Z.data,F,e.w);F+=4;s.Bw(Z.data,F,8);F+=2;s.Bw(Z.data,F,3);
F+=2;return F};e5.agJ=function(e,Z,F){var b=s.ft(Z,F);F+=4;if(b!=0)e.sC=Z.slice(F,F+b);F+=b;return F};
e5.ag8=function(e,Z,F){s.aY(Z,F,0);F+=4;return F};e5.atZ=function(e,Z,F){var b=s.l(Z,F),_=0;F+=4;var d=[];
while(_<b){var S=s.fl(Z,F+_,4);_+=4;var U=s.Ip(Z,F+_);_+=2;var r=s.ce(Z,F+_);_+=r.length;if(S!="8BIM"){d.push(U);
console.log("Unknown Image Resources signature: "+S+", ID: "+U)}var q=s.l(Z,F+_);_+=4;if(e.bY["r"+U]!=null)console.log("--- two resources with same ID");
e.bY["r"+U]=s.WD(Z,F+_,q);_+=q+(q&1)}for(var l=0;l<d.length;l++)delete e.bY["r"+d[l]];return F+b};e5.ajf=function(e,Z,F){var b=F,S=0;
F+=4;var _=[];for(var d in e.bY){_.push(parseInt(d.slice(1)))}_.sort(function(X,Q){return X-Q});for(var l=0;
l<_.length;l++){s.Hj(Z,F+S,"8BIM");S+=4;var U=_[l];s.Pe(Z,F+S,U);S+=2;var r=s.xc(Z,F+S,"");S+=r;var q=e.bY["r"+U],w=q.length;
s.sH(Z,F+S,w);S+=4;s.oO(Z,F+S,q);S+=w;if(w%2==1)S++}s.sH(Z,b,S);return F+S};e5.a3w=function(e,Z,F){var b=F,_,d,S=e._R?8:4;
if(e._R)_=s.er(Z,F);else _=s.l(Z,F);F+=S;if(_==0)return b+S;d=e5.ajh(e,Z,F);e5.uj(1,d-F,"Layer Info");
F=d;d=e5.a0t(e,Z,F);e5.uj(1,d-F,"Global Layer Mask Info");F=d;d=gh.p5(Z,F,b+S+_,e.add,e._R,e);e5.uj(1,d-F,"Project Add Info");
F=d;return b+S+_};e5.aaU=function(e,Z,F,b,_){var d=F;s.sH(Z,F,0);F+=4;if(e._R){s.sH(Z,F,0);F+=4}F=e5.a2G(e,Z,F,b,_);
F=e5.atl(e,Z,F);F=gh.oS(Z,F,e.add,e._R,e);if(e._R)s.rz(Z,d,F-d-8);else s.sH(Z,d,F-d-4);return F};e5.ajh=function(e,Z,F){var b,_=e._R?8:4;
if(e._R)b=s.er(Z,F);else b=s.l(Z,F);F+=_;if(b!=0)e5.YR(e,Z,F);return F+b};e5.YR=function(e,Z,F){var b=s.Ea(Z,F);
F+=2;var _=Math.abs(b);for(var l=0;l<_;l++){var d=new g;F=h9.qj(d,e,Z,F);e.g[l]=d}var S=new e3(0,0,e.w,e._);
for(var l=0;l<_;l++){var U=e.g[l],r=U.Vj(),q=hm.qj(U,e,Z,F);if(q-F>8)e5.uj(2,q-F,"Lay: "+U.getName());
F=q;e5.AC(U,S);if(r)e5.AC(r,S)}};e5.AC=function(e,Z){var F=e.rect.Z(),b=e.rect.QP(Z),_=b.Z()/F;if(F>2e3*3e3&&_<.5){if(e.buffer){var d=V.J(b.Z()*4);
V.Rf(e.buffer,e.rect,d,b);e.buffer=d;e.rect=b}else{var d=V.J(b.Z());V.l2(e.channel,e.rect,d,b);e.channel=d;
e.rect=b}alert("Removing hidden parts of layers")}};e5.a2G=function(e,Z,F,b,_){var d=F,S=e._R;F+=S?8:4;
F=e5.Vz(e,Z,F,b,_);var U=F-d-(S?8:4);if(U%2!=0)U++;if(S)s.rz(Z,d,U);else s.sH(Z,d,U);return d+U+(S?8:4)};
e5.Vz=function(e,Z,F,b,_){var d=e.g.length;s.sL(Z,F,_?-d:d);F+=2;var S=[];for(var l=0;l<d;l++)F=h9.Gf(e.g[l],e,Z,F,S);
for(var l=0;l<d;l++)F=hm.WQ(e._R,e.g[l],Z,F,S[l],b);return F};e5.a0t=function(e,Z,F){var b=s.l(Z,F);
F+=4;F+=b;return F};e5.atl=function(e,Z,F){var b=s.sH(Z,F,0);F+=4;return F};e5.a0H=function(e,Z,F){var b=e.Ck,_="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),d=[1,1,1,3,4,1,1,3],S,n;
if(b!=3){if(b==1||b==2||b==4)alert("Project will be converted from "+_[b]+" to "+_[3]+" mode.");else{alert("Color mode "+_[b]+" is not supported yet :(")}}if(e.bY.r1045){S=[];
var U=e.bY.r1045,r=0;while(r<U.length){var q=s.b7(U,r);S.push(q);r+=4+2+q.length*2}}var w=d[b]+(S==null||S[0]=="Transparency"?1:0),X=e.w,Q=e._,c=X*Q,u=s.Ip(Z,F);
F+=2;e.buffer=V.J(c*4);V.oi(e.buffer,4278190080);var k=F;for(var B=0;B<e.ko;B++){if(u==0){n=hm.dD(e._R,e.iX,Z,X,Q,F,u);
F+=c*(e.iX>>>3)}else if(u==1){n=V.J(c);var o=e._R?4:2;if(B==0)F+=e.ko*Q*o;F+=hm._y(Z,n,X,Q,k+B*Q*o,F,o)}else{console.log("unknown compression of image data: ",u);
return}if(B<w){V.s$(n,e.buffer,B);if(e.ko==1&&B==0){V.s$(n,e.buffer,1);V.s$(n,e.buffer,2)}}else{var T=new g.hW,z=B-w,W=B-d[e.Ck];
T.name=S?S[W]:"Alpha";if(T.name=="Quick Mask"){T.oB=!0;e.kl.push(z)}T.rect=new e3(0,0,X,Q);T.channel=n;
T.color=0;T.M5();e.LE[z]=T;if(e.bY.r1077){var U=e.bY.r1077.slice(4+W*13);T.RW=fE.PT(U,0);T.ri=U[11];
T.K$=U[12];if(T.K$==2)T.oB=!0}}}e.ko=4;if(e.Ck==2)for(var l=0;l<c;l++){var $=l*4,R=e.buffer[$];e.buffer[$]=e.sC[0+R];
e.buffer[$+1]=e.sC[256+R];e.buffer[$+2]=e.sC[512+R]}return F};e5.afN=function(e,Z,F,b,_){var d=1,S=16,U=e.w,r=e._,w,X;
s.Pe(Z,F,d);F+=2;var q=U*r;if(!b){X=new V.xV(U*r);V.w2(e.buffer,X);var Q=X.o,c=X.z,u=X.S,n=X.Y0;for(var l=0;
l<q;l++){var k=n[l]*(1/255);Q[l]=~~(Q[l]*k+255*(1-k));c[l]=~~(c[l]*k+255*(1-k));u[l]=~~(u[l]*k+255*(1-k))}}else w=V.J(q);
var B=[w,w,w];if(!b)B=[X.o,X.z,X.S];if(_)B.push(b?w:X.Y0);for(var l=0;l<e.LE.length;l++){B.push(e.LE[l].UZ(new e3(0,0,e.w,e._)))}var o=F;
for(var T=0;T<B.length;T++){Z.Y1(F,U*r+4);w=B[T];if(d==0||d==2||d==3)F=hm.Xw(e._R,w,Z.data,U,r,F,d);
else{var z=e._R?4:2;if(T==0)F+=B.length*r*z;var W=F;F+=hm.IT(w,Z.data,U,r,o+T*r*z,F,z)}}return F};function dD(){}dD.qj=function(e){var Z={};
dD.AF(e,Z,0,0);return Z};dD.Gf=function(e,Z){var F=0;F=dD.r9(e,Z,F,0);return F};dD.AF=function(e,Z,F,b){while(e[F]!="<".charCodeAt(0))F++;
F+=2;while(!0){if(e[F]=="/".charCodeAt(0)){F++;var _=s.indexOf(e," ".charCodeAt(0),F,F+50),d=s.indexOf(e,"\n".charCodeAt(0),F,F+50);
if(d==-1)d=Infinity;if(_==-1)_=Infinity;var S=Math.min(d,_),U=s.fl(e,F,S-F),r=dD.M6(e,S+1,b+1,U);Z[U]=r.I;
F=S+1;F+=r.size}else if(e[F]==">".charCodeAt(0)){F+=2;break}else{var q=e[F];if(q==10||q==9||q==32)F++;
else{console.log("unknown byte: "+q+", char: "+String.fromCharCode(q),F);F++}}}return F};dD.r9=function(e,Z,F,b){s.Hj(Z,F,"<<\n");
F+=3;var _=dD.aa6;for(var d in e){s.wX(Z,F,"\t".charCodeAt(0),b+1);F+=b+1;s.Hj(Z,F,"/"+d);F+=1+d.length;
if(_(e[d])||e[d]instanceof Array){s.Hj(Z,F," ");F++}else{s.Hj(Z,F,"\n");F++;s.wX(Z,F,"\t".charCodeAt(0),b+1);
F+=b+1}F=dD.dl(e[d],Z,F,b+1);s.Hj(Z,F,"\n");F++}s.wX(Z,F,"\t".charCodeAt(0),b);F+=b;s.Hj(Z,F,">>");F+=2;
return F};dD.M6=function(e,Z,F,b){var _=Z,d={size:0,I:0};while(!0){while(e[Z]==" ".charCodeAt(0)||e[Z]=="\t".charCodeAt(0)||e[Z]=="\n".charCodeAt(0))Z++;
if(e[Z]=="<".charCodeAt(0)){d.I={};Z=dD.AF(e,d.I,Z,F+1);break}else if(e[Z]=="(".charCodeAt(0)){Z+=3;
var S=Z;while(!0){if(e[S-1]!="\\".charCodeAt(0)&&e[S]==")".charCodeAt(0)&&(e[S+1]=="\n".charCodeAt(0)||e[S+1]==" ".charCodeAt(0)))break;
else S++}d.I=s.xG(e,Z,S);Z=S+2;break}else if(e[Z]=="[".charCodeAt(0)){Z++;d.I=[];while(e[Z]==" ".charCodeAt(0)||e[Z]=="\t".charCodeAt(0)||e[Z]=="\n".charCodeAt(0))Z++;
while(e[Z]!="]".charCodeAt(0)){var U=dD.M6(e,Z,F+1,b);d.I.push(U.I);Z+=U.size;while(e[Z]==" ".charCodeAt(0)||e[Z]=="\t".charCodeAt(0)||e[Z]=="\n".charCodeAt(0))Z++}Z++;
break}else{var r=s.indexOf(e," ".charCodeAt(0),Z,Z+50),q=s.indexOf(e,"\n".charCodeAt(0),Z,Z+50);if(q==-1)q=Infinity;
if(r==-1)r=Infinity;var w=s.fl(e,Z,Math.min(r,q)-Z).trim(),X=parseFloat(w);if(!isNaN(X)){d.I=parseFloat(w);
Z=Math.min(r,q)+1;break}else if(w=="true"||w=="false"){d.I=w=="true";Z=Math.min(r,q)+1;break}else if(w=="null"||w=="NaN"||w=="undefined"){d.I=0;
Z=Math.min(r,q)+1;break}else{console.log("unknown identifier: "+w);throw"e"}Z=Math.min(r,q)+1}}d.size=Z-_;
return d};dD.dl=function(e,Z,F,b){if(e instanceof Array){var _=e.length==0||typeof e[0]=="number";if(_){s.Hj(Z,F,"[ ");
F+=2;for(var l=0;l<e.length;l++){var d=e[l]+" ";s.Hj(Z,F,d);F+=d.length}s.Hj(Z,F,"]");F+=1}else{s.Hj(Z,F,"[\n");
F+=2;for(var l=0;l<e.length;l++){s.wX(Z,F,"\t".charCodeAt(0),b);F+=b;F=dD.dl(e[l],Z,F,b);s.Hj(Z,F,"\n");
F++}s.wX(Z,F,"\t".charCodeAt(0),b);F+=b;s.Hj(Z,F,"]");F+=1}}else if(e instanceof Object){F=dD.r9(e,Z,F,b)}else if(typeof e=="string"){s.Hj(Z,F,"(");
F++;s.wX(Z,F,254);F++;s.wX(Z,F,255);F++;F=s.co(Z,F,e);s.Hj(Z,F,")");F+=1}else{var d=e+"";s.Hj(Z,F,d);
F+=d.length}return F};dD.aa6=function(e){var Z=typeof e;return Z=="string"||Z=="number"||Z=="boolean"};
function c4(){}c4.qj=function(e){var Z={};c4.L_(e,Z,0,0);return Z};c4.Gf=function(e,Z){var F=0;s.Hj(Z,F," ");
F++;F=c4.Vl(e,Z,F,0);F--;Z.Y1(F,2);Z.data[F]=Z.data[F+1]=0;F+=2;return F};c4.AF=function(e,Z,F,b){while(e[F]!="<".charCodeAt(0)){F++;
console.log("\u0161ipka")}F+=2;F=c4.L_(e,Z,F,b);return F};c4.r9=function(e,Z,F,b){s.Hj(Z,F,"<< ");F+=3;
F=c4.Vl(e,Z,F,b);s.Hj(Z,F,">>");F+=2;return F};c4.pW=function(e){return e==9||e==10||e==32};c4.L_=function(e,Z,F,b){while(!0){while(c4.pW(e[F])||e[F]==0)F++;
if(F>=e.length)break;if(e[F]=="/".charCodeAt(0)){F++;var _=F;while(!c4.pW(e[_]))_++;var d=s.fl(e,F,_-F);
F=_+1;var S=c4.M6(e,F,b,d);Z["_"+d]=S.I;F+=S.size}else if(e[F]==">".charCodeAt(0)){F+=2;break}else{var U=e[F];
console.log(s.fl(e,F,F+100));console.log("unknown byte: "+U+", char: "+String.fromCharCode(U)+", offset: "+F);
F++;throw"e";return-1}}return F};c4.Vl=function(e,Z,F,b){for(var _ in e){var d=_.substring(1,_.length);
s.Hj(Z,F,"/"+d);F+=1+d.length;s.Hj(Z,F," ");F++;F=c4.dl(e[_],Z,F,b+1);s.Hj(Z,F," ");F++}return F};c4.M6=function(e,Z,F,b){var _=Z,d={type:"",size:0,I:0};
while(c4.pW(e[Z]))Z++;if(e[Z]=="<".charCodeAt(0)){d.type="Object";d.I={};Z=c4.AF(e,d.I,Z,F+1)}else if(e[Z]=="(".charCodeAt(0)){d.type="String";
Z++;if(e[Z]==")".charCodeAt(0)){d.I="e";Z++}else{Z+=2;var S=Z,U=0;while(!0){if(e[S]==")".charCodeAt(0)&&e[S-1]!="\\".charCodeAt(0))break;
else S+=1}d.I="s"+s.xG(e,Z,S);Z=S+2}}else if(e[Z]=="[".charCodeAt(0)){Z++;d.I=[];d.type="Array";while(c4.pW(e[Z]))Z++;
while(e[Z]!="]".charCodeAt(0)){var r=c4.M6(e,Z,F+1,b);if(r==-1)return-1;d.I.push(r.I);Z+=r.size;delete r.size;
while(c4.pW(e[Z]))Z++}Z++}else{var q=Z;while(!c4.pW(e[q]))q++;var w=s.fl(e,Z,q-Z),X=parseFloat(w);if(!isNaN(X)&&w.indexOf(".")!=-1){d.type="Float";
var Q=parseFloat(w);d.I="f"+Q}else if(!isNaN(X)&&w.indexOf(".")==-1){d.type="Integer";d.I="i"+parseInt(w)}else if(w=="true"||w=="false"){d.type="Boolean";
d.I=w=="true"}else if(w.charAt(0)=="/"){d.type="BString";d.I=w}else if(w=="NaN"){d.type="Float";d.I="f0"}else{console.log("unknown value",JSON.stringify(w));
throw"e"}Z=q+1}d.size=Z-_;return d};c4.aim=function(e){if(e==Math.round(e))return e+".0";var Z=e.toFixed(5);
while(Z.endsWith("0")&&Z[Z.length-2]!=".")Z=Z.slice(0,Z.length-1);if(0<e&&e<1)Z=Z.slice(1);if(-1<e&&e<0)Z="-"+Z.slice(2);
return Z};c4.dl=function(e,Z,F,b){var _=typeof e=="string"?e.charAt(0):"";if(e instanceof Array){s.Hj(Z,F,"[ ");
F+=2;for(var l=0;l<e.length;l++){F=c4.dl(e[l],Z,F,b);s.Hj(Z,F," ");F++}s.Hj(Z,F,"]");F+=1}else if(e instanceof Object){F=c4.r9(e,Z,F,b)}else if(_=="e"){s.Hj(Z,F,"()");
F+=2}else if(_=="s"){s.Hj(Z,F,"(");F++;s.wX(Z,F,254);F++;s.wX(Z,F,255);F++;F=s.co(Z,F,e.substring(1));
s.Hj(Z,F,")");F++}else if(_=="/"){s.Hj(Z,F,e);F+=e.length}else if(_=="f"){var d=parseFloat(e.substring(1)),S=c4.aim(d);
s.Hj(Z,F,S);F+=S.length}else if(_=="i"){s.Hj(Z,F,e.substring(1));F+=e.length-1}else{var S=e+"";s.Hj(Z,F,S);
F+=S.length}return F};function s(){}s.aiT=function(gi){var e="";for(var l=3;l>=0;l--)e+=String.fromCharCode(gi>>l*8&255);
return e};s.apt=function(e){var gi=0;for(var l=e.length-1;l>=0;l--)gi|=e.charCodeAt(l)<<(3-l)*8;return gi};
s.indexOf=function(e,Z,F,b){if(F==null)F=0;if(b==null)b=e.length;b=Math.min(b,e.length);for(var l=F;
l<b;l++)if(e[l]==Z)return l;return-1};s.it=function(e,Z,F){if(F==null)F=0;var b=Z.length,_=e.length-b;
if(typeof Z=="string"){var d=[];for(var l=0;l<b;l++)d.push(Z.charCodeAt(l));Z=d}if(Z.length>0){var S=Z[0];
for(var l=F;l<_;l++)if(e[l]==S){var U=!0;for(var r=1;r<b;r++)if(Z[r]!=e[l+r]){U=!1;break}if(U)return l}}return-1};
s.xG=function(e,Z,F){var b=[],d="";while(Z<F){var _=e[Z++];if(_=="\\".charCodeAt(0))b.push(e[Z++]);else b.push(_)}for(var l=0;
l<b.length;l+=2)d+=String.fromCharCode(b[l]<<8|b[l+1]);return d};s.afe=function(e,Z,F){var b=new Uint8Array(2);
for(var l=0;l<F.length;l++){s.Bw(b,0,F.charCodeAt(l));if(b[0]==")".charCodeAt(0)||b[0]=="(".charCodeAt(0)||b[0]=="\\".charCodeAt(0)){e[Z]="\\".charCodeAt(0);
Z++}e[Z]=b[0];Z++;if(b[1]==")".charCodeAt(0)||b[1]=="(".charCodeAt(0)||b[1]=="\\".charCodeAt(0)){e[Z]="\\".charCodeAt(0);
Z++}e[Z]=b[1];Z++}return Z};s.co=function(e,Z,F){e.Y1(Z,4*F.length);return s.afe(e.data,Z,F)};s.D6=function(e,Z,F){var b="";
for(var l=0;l<F;l++){var _=e[Z++]|e[Z++]<<8;b+=String.fromCharCode(_)}return b};s.v6=function(e,Z,F){var b="";
for(var l=0;l<F;l++){var _=e[Z++]<<8|e[Z++];b+=String.fromCharCode(_)}return b};s.a9Q=function(e,Z,F){for(var l=0;
l<F.length;l++){var b=F.charCodeAt(l);s.e7(e,Z+2*l,b)}};s.t_=function(e,Z,F){for(var l=0;l<F.length;
l++){var b=F.charCodeAt(l);s.Bw(e,Z+2*l,b)}};s.a7E=function(e,Z,F){e.Y1(Z,2*F.length);s.t_(e.data,Z,F)};
s.ap0=function(e,l,Z){var F=[],b=0,_=0;Z+=l;while(l<Z){b=e[l++];if((b&128)==0)_=b;else if((b&224)==192){_=(b&31)<<6;
b=e[l++];_|=b&63}else if((b&240)==224){_=(b&15)<<12;b=e[l++];_|=(b&63)<<6;b=e[l++];_|=b&63}else if((b&248)==240){_=(b&7)<<18;
b=e[l++];_|=(b&63)<<12;b=e[l++];_|=(b&63)<<6;b=e[l++];_|=b&63}else throw"e";F.push(_)}return F};s.nt=window.TextDecoder?new window.TextDecoder("utf8"):null;
s.CI=function(e,Z,F){if(Z==null)Z=0;if(F==null)F=e.length;if(s.nt&&Z==0&&F==e.length)return s.nt.decode(e);
var b=s.ap0(e,Z,F),_=b.length;for(var l=0;l<_;l++)b[l]=String.fromCharCode(b[l]);return b.join("")};
s.Hz=window.TextEncoder?new window.TextEncoder("utf8"):null;s.nw=function(e){if(s.Hz)return s.Hz.encode(e);
var Z=new Uint8Array(e.length*4),F=s.bB(e,Z,0);return Z.slice(0,F)};s.bB=function(e,Z,F){var b=e.length,l=0;
for(var _=0;_<b;_++){var d=e.charCodeAt(_);if((d&4294967295-(1<<7)+1)==0){Z[F+l]=d;l++}else if((d&4294967295-(1<<11)+1)==0){Z[F+l]=192|d>>6;
Z[F+l+1]=128|d>>0&63;l+=2}else if((d&4294967295-(1<<16)+1)==0){Z[F+l]=224|d>>12;Z[F+l+1]=128|d>>6&63;
Z[F+l+2]=128|d>>0&63;l+=3}else if((d&4294967295-(1<<21)+1)==0){Z[F+l]=240|d>>18;Z[F+l+1]=128|d>>12&63;
Z[F+l+2]=128|d>>6&63;Z[F+l+3]=128|d>>0&63;l+=4}else throw"e"}return l};s.si=function(e,Z){var F=s.l(e,Z),b=s.CI(e,Z+4,F-1);
return{ME:b,HX:4+F}};s.a6u=function(e,Z){var F=s.lg(e,Z),b=s.D6(e,Z+4,F);return b};s.XQ=function(e,Z){var F=s.l(e,Z),b=s.v6(e,Z+4,F);
return b};s.b7=function(e,Z){var F=s.l(e,Z),b=s.v6(e,Z+4,F-1);return b};s.atA=function(e,Z,F){s.V3(e,Z,F.length);
Z+=4;s.a9Q(e,Z,F)};s.aps=function(e,Z,F){s.ho(e,Z,F.length);Z+=4;s.t_(e,Z,F)};s.Mm=function(e,Z,F){e.Y1(Z,4+2*F.length);
s.aps(e.data,Z,F)};s.afP=function(e,Z,F){e.Y1(Z,4+2*F.length);s.atA(e.data,Z,F)};s.cR=function(e,Z,F){var b=[];
for(var l=0;l<F;l++)b.push(String.fromCharCode(e[Z+l]));return b};s.adx=function(e,Z,F){var b=!1,_=e.length-F.length;
for(var l=Z;l<_;l++){for(var d=0;d<F.length;d++){if(e[l+d]!=F.charCodeAt(d))break;if(d==F.length-1)return l}}};
s.fl=function(e,Z,F){var b="";for(var l=0;l<F;l++)b+=String.fromCharCode(e[Z+l]);return b};s.Zh=function(e,Z,F){for(var l=0;
l<F.length;l++)e[Z+l]=F.charCodeAt(l)};s.Hj=function(e,Z,F){e.Y1(Z,F.length);s.Zh(e.data,Z,F)};s.ahU=function(e,Z,F){var b="";
for(var l=0;l<F;l++){var _=e[Z+l];if(_<10)b+="  ";else if(_<100)b+=" ";b+=_+", "}return b};s.Ip=function(e,Z){return e[Z]<<8|e[Z+1]};
s.Bw=function(e,Z,gi){e[Z]=gi>>8&255;e[Z+1]=gi&255};s.Pe=function(e,Z,gi){e.Y1(Z,4);s.Bw(e.data,Z,gi)};
s.a9v=function(e,Z){var F=s.Ip(e,Z),b=s.Ip(e,Z+2);return F+b*(1/65536)};s.kf=function(e,Z,gi){var F=Math.floor(gi),b=Math.floor((gi-F)*65536);
s.Bw(e,Z,F);s.Bw(e,Z+2,b)};s.lZ=function(e,Z){return e[Z+1]<<8|e[Z]};s.e7=function(e,Z,gi){e[Z+1]=gi>>8&255;
e[Z]=gi&255};s.vi=function(e,Z,gi){e.Y1(Z,4);s.e7(e.data,Z,gi)};s.Ea=function(e,Z){s.OR[0]=e[Z+1];s.OR[1]=e[Z];
return s.Ee[0]};s.ZL=function(e,Z){s.OR[0]=e[Z];s.OR[1]=e[Z+1];return s.Ee[0]};s.LB=s.Bw;s.sL=s.Pe;s.ft=function(e,Z){s.N4[0]=e[Z+3];
s.N4[1]=e[Z+2];s.N4[2]=e[Z+1];s.N4[3]=e[Z];return s.NW[0]};s.iz=function(e,Z,gi){s.NW[0]=gi;e[Z+3]=s.N4[0];
e[Z+2]=s.N4[1];e[Z+1]=s.N4[2];e[Z+0]=s.N4[3]};s.aY=function(e,Z,gi){e.Y1(Z,4);s.iz(e.data,Z,gi)};s.ZM=function(e,Z,F,b){F[b+0]=e[Z+0];
F[b+1]=e[Z+1];F[b+2]=e[Z+2];F[b+3]=e[Z+3]};s.lg=function(e,Z){s.ZM(e,Z,s.N4,0);return s.We[0]};s.V3=function(e,Z,gi){s.We[0]=gi;
s.ZM(s.N4,0,e,Z)};s.rf=function(e,Z,gi){e.Y1(Z,4);s.V3(e.data,Z,gi)};s.p8=function(e,Z){s.ZM(e,Z,s.N4,0);
return s.NW[0]};s.aq$=function(e,Z,gi){s.NW[0]=gi;s.ZM(s.N4,0,e,Z)};s.amf=function(e,Z,gi){e.Y1(Z,4);
s.aq$(e.data,Z,gi)};s.l=function(e,Z){var F=e[Z]*(256*256*256)+(e[Z+1]<<16|e[Z+2]<<8|e[Z+3]);return F};
s.ho=function(e,Z,gi){e[Z]=gi>>24&255;e[Z+1]=gi>>16&255;e[Z+2]=gi>>8&255;e[Z+3]=gi>>0&255};s.sH=function(e,Z,gi){e.Y1(Z,4);
s.ho(e.data,Z,gi)};s.er=function(e,Z){return s.l(e,Z)<<32|s.l(e,Z+4)};s.sM=function(e,Z,gi){s.ho(e,Z,gi>>16>>16);
s.ho(e,Z+4,gi&4294967295)};s.rz=function(e,Z,gi){e.Y1(Z,8);s.sM(e.data,Z,gi)};s.e8=function(e,Z){var F=new Uint8Array(8);
for(var l=0;l<8;l++)F[l]=e[Z+7-l];var b=new Float64Array(F.buffer);return b[0]};s.QZ=function(e,Z){var F=new Uint8Array(8);
for(var l=0;l<8;l++)F[l]=e[Z+l];var b=new Float64Array(F.buffer);return b[0]};s.A5=function(e,Z,gi){var F=new Float64Array(1);
F[0]=gi;var b=new Uint8Array(F.buffer);for(var l=0;l<4;l++){var _=b[l];b[l]=b[7-l];b[7-l]=_}for(var l=0;
l<8;l++)e[Z+l]=b[l]};s._h=function(e,Z,gi){e.Y1(Z,8);s.A5(e.data,Z,gi)};s.ze=function(e,Z){s.N4[0]=e[Z+3];
s.N4[1]=e[Z+2];s.N4[2]=e[Z+1];s.N4[3]=e[Z+0];return s.xi[0]};s.$C=function(e,Z){s.N4[0]=e[Z+0];s.N4[1]=e[Z+1];
s.N4[2]=e[Z+2];s.N4[3]=e[Z+3];return s.xi[0]};s.R_=function(e,Z,gi){s.xi[0]=gi;e[Z+0]=s.N4[3];e[Z+1]=s.N4[2];
e[Z+2]=s.N4[1];e[Z+3]=s.N4[0]};s.afA=function(e,Z,gi){e.Y1(Z,4);s.R_(e.data,Z,gi)};s.ml=function(e,Z,gi){s.xi[0]=gi;
e[Z+0]=s.N4[0];e[Z+1]=s.N4[1];e[Z+2]=s.N4[2];e[Z+3]=s.N4[3]};s.a3Q=function(e,Z,gi){e.Y1(Z,4);s.ml(e.data,Z,gi)};
s.anV=function(e,Z){var F=s.ft(e,Z),b=F*(1/(1<<24));return b};s.bQ=function(e,Z,F){var b=Math.floor(F*(1<<24));
s.iz(e,Z,b)};s.ak_=function(e,Z,F){e.Y1(Z,4);s.bQ(e.data,Z,F)};s.ce=function(e,Z){var F=e[Z],b=s.fl(e,Z+1,F);
F+=1-F%2;return{E1:b,length:F+1}};s.aoP=function(e,Z,F){var b=F.length;e[Z]=b;s.Zh(e,Z+1,F);if(b%2==0){e[Z+1+b]=0;
++b}return b+1};s.xc=function(e,Z,F){e.Y1(Z,F.length+2);return s.aoP(e.data,Z,F)};s._W=function(e,Z){var F=new jg;
F.Y0=s.e8(e,Z+0*8);F.S=s.e8(e,Z+1*8);F.d_=s.e8(e,Z+2*8);F.rl=s.e8(e,Z+3*8);F.lr=s.e8(e,Z+4*8);F.Xz=s.e8(e,Z+5*8);
return F};s.oH=function(e,Z,F){s.A5(e,Z+0*8,F.Y0);s.A5(e,Z+1*8,F.S);s.A5(e,Z+2*8,F.d_);s.A5(e,Z+3*8,F.rl);
s.A5(e,Z+4*8,F.lr);s.A5(e,Z+5*8,F.Xz)};s.aaB=function(e,Z,F){e.Y1(Z,48);s.oH(e.data,Z,F)};s.acF=function(e,Z){var F=s.ze(e,Z),b=s.ze(e,Z+4),_=s.ze(e,Z+8),d=s.ze(e,Z+12);
return new e3(F,b,_-F,d-b)};s.a8i=function(e,Z,F){s.R_(e,Z,F.x);s.R_(e,Z+4,F.y);s.R_(e,Z+8,F.x+F.w);
s.R_(e,Z+12,F.y+F._)};s.aoI=function(e,Z,F){e.Y1(Z,16);s.a8i(e.data,Z,F)};s.E_=function(e,Z){var F=s.ft(e,Z),b=s.ft(e,Z+4),_=s.ft(e,Z+8),d=s.ft(e,Z+12);
return new e3(b,F,d-b,_-F)};s.$a=function(e,Z,F){s.iz(e,Z,F.y);s.iz(e,Z+4,F.x);s.iz(e,Z+8,F.y+F._);s.iz(e,Z+12,F.x+F.w)};
s.$w=function(e,Z,F){e.Y1(Z,16);s.$a(e.data,Z,F)};s.WD=function(e,Z,F){var b=new Uint8Array(F);for(var l=0;
l<F;l++)b[l]=e[Z+l];return b};s.OK=function(e,Z,F){e.set(F,Z)};s.oO=function(e,Z,F){e.Y1(Z,F.length);
s.OK(e.data,Z,F)};s.amC=function(e,Z,F,gi){if(!gi)gi=1;for(var l=0;l<gi;l++)e[Z+l]=F};s.wX=function(e,Z,F,gi){if(!gi)gi=1;
e.Y1(Z,gi);s.amC(e.data,Z,F,gi)};s.Ee=new Int16Array(1);s.OR=new Uint8Array(s.Ee.buffer);s.NW=new Int32Array(1);
s.We=new Uint32Array(s.NW.buffer);s.N4=new Uint8Array(s.NW.buffer);s.xi=new Float32Array(s.NW.buffer);
function gX(){}gX.qj=function(e,Z){var F=new Uint8Array(e),b=0,_=s.fl(F,b,9),U=4,r=100;b+=9;var d=s.fl(F,b,4);
b+=4;b++;Z.w=s.l(F,b);b+=4;Z._=s.l(F,b);b+=4;var S=s.l(F,b);b+=4;if(S!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(d)==-1){r=s.l(F,b);b+=4;if(parseInt(d.slice(1))>=7){r=r}else alert("Unknown XCF version: "+d);
U=8}var q={};b=gX.h7(F,b,q);var w=[];b=gX.cY(F,b,w,U);var X=[];b=gX.cY(F,b,X,U);Z.BQ=0;for(var l=0;l<w.length;
l++)gX.a5P(F,w[l],Z,q,U,r);while(Z.BQ>0){Z.g.push(Z.vs());Z.BQ--}Z.g.reverse();delete Z.BQ;Z.buffer=V.J(Z.w*Z._*4);
if(Z.g.length==0)console.log("No layers!!!");for(var l=0;l<X.length;l++){var Q=gX.HC(F,X[l],q,U,r);if(Q.oQ[bA.adj])Z.K={channel:Q.Tm,rect:new e3(0,0,Z.w,Z._)}}};
gX.a5P=function(e,Z,F,b,_,d){var S=F.yG(),U=s.l(e,Z),X=0;Z+=4;var r=s.l(e,Z);Z+=4;S.rect=new e3(0,0,U,r);
var q=s.l(e,Z);Z+=4;var w=s.si(e,Z);Z+=w.HX;S.Hr(w.ME);var Q={};Z=gX.h7(e,Z,Q);if(Q[bA.UL]){var c=Q[bA.UL];
X=c.length/4-1}if(Q[bA.S7]){S.rect.x=s.ft(Q[bA.S7],0);S.rect.y=s.ft(Q[bA.S7],4)}if(Q[bA.ru]){S.opacity=s.l(Q[bA.ru],0)}if(Q[bA.asY]){S.add.lsct=jj.$R;
S.rect=new e3(0,0,0,0);S.buffer=V.J(0);S.jj=24}if(Q[bA.nz]){var u=s.l(Q[bA.nz],0);S.Du=bA.adb[u];if(S.yx()&&S.Du=="norm")S.Du="pass"}if(Q[bA.Jn]){if(s.l(Q[bA.Jn],0)==0)S.jj+=2}if(Q[bA.X_]){var n=s.l(Q[bA.X_],0);
S.add.lsct=n&1==1?jj.$R:jj.ZU}if(Q[bA.x6]){var k=Q[bA.x6];for(var B in k){var o=k[B];if(B=="gimp-text-layer"){var T=gX.alq(o),z=T.text,W=T.font,$=T.color,R=T["font-size"];
if(z==null&&T.markup){var P=new DOMParser,H=P.parseFromString(T.markup,"image/svg+xml");while(H.firstChild!=null&&H.firstChild.tagName!=null){H=H.firstChild;
var y=H.getAttribute("font"),h=H.getAttribute("foreground"),m=H.getAttribute("size");if(y!=null)W=y;
if(h!=null){h=CSS.PT(h);$=[1,h.o/255,h.z/255,h.S/255]}if(m!=null){R=""+parseFloat(m)/245}}z=H.textContent}S.add.lnsr="rend";
S.add.TySh=fN.hB(0,0);S.add.TySh.nq=new e3(0,0,100,100);S.add.TySh.A=new jg(1,0,0,1,S.rect.x,S.rect.y);
var t=S.add.TySh.HV;fN.Z4(t,0,z);var j=fN.C7(t,0,0),x=T.justify,C=T["line-spacing"];if($)j.sn.FillColor={Type:1,Values:[1,parseFloat($[1]),parseFloat($[2]),parseFloat($[3])]};
if(R){R=Math.round(parseFloat(R));j.sn.FontSize=R;S.add.TySh.A.Xz+=Math.min(17,R*.17)}if(C){C=Math.round(parseFloat(C)+j.sn.FontSize*1.2);
j.sn.Leading=C;j.sn.AutoLeading=!1}if(x)j.Qm.Justification=["left","right","center","fill"].indexOf(x);
if(W&&W!="Sans-serif"){var L=W.toLowerCase(),f="bold italic semi extra regular condensed light".split(" "),D=L.length;
for(var l=0;l<f.length;l++){var v=L.indexOf(f[l]);if(v!=-1&&v<D&&L[v-1]==" ")D=v}if(D!=L.length)W=W.slice(0,D-1).split(" ").join("")+"-"+W.slice(D).split(" ").join("");
fN.Kh(j,W)}fN.IY(t,0,z.length,j);var A=T["box-width"],M=T["box-height"],Y=A?parseFloat(A):S.rect.w,J=M?parseFloat(M):S.rect._;
fN.mJ(t,1);fN.wH(t,[0,0,Math.ceil(Y),Math.ceil(J)])}else console.log("Unknown property "+B)}}while(F.BQ>X){F.g.push(F.vs());
F.BQ--}F.BQ=X;if(S.add.lsct==jj.$R||S.add.lsct==jj.ZU)F.BQ++;var I=_==4?s.l:s.er;if(S.nJ()){S.buffer=V.J(S.rect.Z()*4);
var p=new V.xV(S.rect.Z()),a=I(e,Z);Z+=_;var er=I(e,Z);Z+=_;gX.i1(e,a,p,b,_,d);V.My(p,S.buffer);if(er!=0){S.v=new g.hW;
S.v.color=0;S.v.rect=S.rect.clone();S.v.channel=gX.HC(e,er,b,_,d).Tm;if(Q[bA.h2])S.v.isEnabled=s.l(Q[bA.h2],0)==1}}F.g.push(S)};
gX.alq=function(e){var Z="("+s.CI(e,0,e.length-1)+")",F=[],b={};gX.B0(Z,1,F);gX.asx(F,b);return b};gX.asx=function(e,Z){for(var l=0;
l<e.length;l++){var F=e[l],b=F[0];if(F.length==2)Z[b]=F[1];else Z[b]=F.slice(1)}};gX.B0=function(e,Z,F){while(!0){if(Z>=e.length)throw"e";
var b=e.charAt(Z);Z++;if(b=="("){var _=[];Z=gX.B0(e,Z,_);F.push(_)}else if(b==" "||b=="\n"||b=="\r"){}else if(b==")")return Z;
else if(b=="\""){var d=Z;while(!0){var S=e[Z];Z++;if(S=="\"")break;if(S=="\\")Z++}F.push(JSON.parse(e.slice(d-1,Z)))}else{var d=Z-1;
while(e[Z]!=" "&&e[Z]!=")")Z++;F.push(e.slice(d,Z))}}};gX.HC=function(e,Z,F,b,_){var d=s.l(e,Z);Z+=4;
var S=s.l(e,Z);Z+=4;var U=s.si(e,Z);Z+=U.HX;var r={};Z=gX.h7(e,Z,r);var q=new V.xV(d*S),w=b==4?s.l:s.er,X=w(e,Z);
Z+=b;gX.i1(e,X,q,F,b,_);return{Tm:q.o,oQ:r}};gX.i1=function(e,Z,F,b,_,d){var S=s.l(e,Z);Z+=4;var U=s.l(e,Z);
Z+=4;var r=s.l(e,Z);Z+=4;var q=_==4?s.l:s.er,w=q(e,Z);Z+=_;gX.aoE(e,w,F,b,r,_,d)};gX.aoE=function(e,Z,F,b,_,d,S){var U=s.l(e,Z),w=0,l=0;
Z+=4;var r=s.l(e,Z);Z+=4;var q=new e3(0,0,U,r);if(S==100||S==150)w=1;else if(S==200||S==250)w=2;else if(S==300||S==350)w=4;
else if(S==500||S==550)w=2;else if(S==600||S==650)w=4;else if(S==700||S==750)w=8;else{alert("unsupported bit depth "+S);
throw"e"}var X=_/w,w=Math.round(_/X),Q=[];Z=gX.cY(e,Z,Q,d);var c=new V.xV(64*64*w),u=new e3,n=b[bA.arf][0],k=[c.o,c.z,c.S,c.Y0];
if(X==3)c.Y0.fill(255);var B=Date.now();for(var o=0;o<r;o+=64)for(var T=0;T<U;T+=64){var z=Math.min(U-T,64),W=Math.min(r-o,64),$=z*W;
u.zU(T,o,z,W);gX.acZ(e,Q[l++],$*w,n,X,k);if(S==100||S==150){}else if(S==250){for(var R=0;R<X;R++){var P=k[R];
for(var H=0;H<$;H++){var y=P[H]<<8|P[$+H];P[H]=Math.min(y>>>8,255)}}}else if(S==600){var h=gX.att(),m=new Uint32Array(1),t=new Float32Array(m.buffer);
for(var R=0;R<X;R++){var P=k[R];for(var H=0;H<$;H++){m[0]=P[H]<<24|P[$+H]<<16|P[($<<1)+H]<<8|P[($<<1)+$+H]<<0;
var j=t[0];if(j<0)j=0;else if(j>1)j=1;P[H]=h[~~(.5+j*1e3)]}}}else console.log("unknown data format",S);
V.n7(c,u,F,q)}};gX.att=function(){var e=gX.ahx;if(e!=null)return e;e=gX.ahx=new Uint8Array(1001);for(var l=0;
l<1001;l++)e[l]=~~(.49+255*V.aZ(l*.001));return e};gX.acZ=function(e,Z,F,b,_,d){if(b==1){for(var S=0;
S<_;S++){var U=d[S],r=0;while(r<F){var gi=e[Z];Z++;if(gi<127){var q=e[Z];Z++;gi++;for(var l=0;l<gi;l++)U[r+l]=q}else if(gi==127){var w=e[Z];
Z++;var X=e[Z];Z++;var q=e[Z];Z++;gi=w<<8|X;for(var l=0;l<gi;l++)U[r+l]=q}else if(gi==128){var w=e[Z];
Z++;var X=e[Z];Z++;gi=w<<8|X;for(var l=0;l<gi;l++)U[r+l]=e[Z+l];Z+=gi}else{gi=256-gi;for(var l=0;l<gi;
l++)U[r+l]=e[Z+l];Z+=gi}r+=gi}}}else if(b==2){var Q=pako.inflate(e.slice(Z)),c=Math.round(Q.length/F);
for(var l=0;l<F;l++){var u=l*c;d[0][l]=Q[u];d[1][l]=Q[u+1];d[2][l]=Q[u+2];d[3][l]=c==3?255:Q[u+3]}}else alert("Unknown compression "+b)};
gX.cY=function(e,Z,F,b){var _=b==4?s.l:s.er;while(!0){var d=_(e,Z);Z+=b;if(d==0)break;else F.push(d)}return Z};
gX.h7=function(e,Z,F){while(!0){var b=s.l(e,Z);Z+=4;var _=s.l(e,Z);Z+=4;if(b==bA.a4L)break;else if(b==bA.x6)F[b]=gX.ao3(e,Z,Z+_);
else F[b]=s.WD(e,Z,_);Z+=_}return Z};gX.ao3=function(e,Z,F){var b={};while(Z<F){var _=s.si(e,Z);Z+=_.HX;
var d=s.l(e,Z);Z+=4;if(d!=1)console.log("unknown flags",d);var S=s.l(e,Z);Z+=4;b[_.ME]=s.WD(e,Z,S);Z+=S}return b};
var bA={a4L:0,a4q:1,aiI:2,a5d:3,adj:4,ah$:5,ru:6,nz:7,Jn:8,asS:9,aaF:10,h2:11,a0e:12,adw:13,agh:14,S7:15,aqm:16,arf:17,a1O:18,aah:19,amI:20,x6:21,asQ:22,adN:23,alm:24,ad7:25,asb:26,ao4:27,a2h:28,asY:29,UL:30,X_:31,anh:32,a8U:33,agX:34,a6Z:35,ajp:36,aiF:37,ah5:38,arU:0,amg:1,agV:2,aug:3,a6_:1,a5J:2,acc:0,a3u:1,a49:1};
bA.adb="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var h2=function(){var e=!1,Z,F,T;function b(){var $=s.fl(Z,F,4);F+=4;return $[3]+$[2]+$[1]+$[0]}function _(){var $=s.fl(Z,F,4);
F+=4;return $}function d(){var $=Z[F];F+=1;return $}function S(){var $=s.lZ(Z,F);F+=2;return $}function U(){var $=s.lg(Z,F);
F+=4;return $}function r(){var $=s.p8(Z,F);F+=4;return $}function q(){var $=s.lg(Z,F);F+=8;return $}function w(){var $=s.$C(Z,F);
F+=4;return $}function X(){var $=s.QZ(Z,F);F+=8;return $}function Q(){var $=s.lZ(Z,F),R=s.CI(Z,F+2,$);
F+=2+$;return R}function c(){var $=s.lg(Z,F),R=s.CI(Z,F+4,$);F+=4+$;return R}function u($){F=$;var R=[];
while(F!=0){var P=_();if(P!="#FT4"&&P!="#FT3"&&P!="#FT2")throw P;var H=q(),y=q(),h=q(),m=q(),t=q(),j=U(),x=U(),C=U(),L=S(),f=d(),D={};
R.push(D);for(var l=0;l<j;l++){var v=U(),A=d();if(A!=0&&A!=1&&A!=2)throw A;var M=[];if(A==0||A==1){var Y=q(),J=q(),I=q(),p=U(),a=d(),er=U(),c8=P!="#FT4"?0:U(),O=null;
if(P=="#FAT"||P=="#FT2"){switch(a){case 1:a=1;break;case 2:a=65;break;case 3:a=129;break;case 4:a=193;
break;default:a=0;break}}if(A==0)O=Q();M=[Y,J,I,a,O]}D["i"+v]=[A,M]}for(var l=0;l<L;l++){var dF=S(),gl=S(),e0=q(),bv=s.fl(Z,F,dF);
F+=dF}F=H}R.reverse();for(var gm=1;gm<R.length;gm++){var D=R[gm],iW=R[gm]=JSON.parse(JSON.stringify(R[gm-1]));
for(var jx in D){var aC=D[jx];if(aC[0]==0)iW[jx]=aC;else if(aC[0]==1){aC[1][4]=iW[jx][1][4];iW[jx]=aC}else if(aC[0]==2)delete iW[jx]}}var d9=R.pop(),bS=[];
for(var jx in d9)bS.push(d9[jx][1]);bS.sort(function(jo,g7){return jo[0]-g7[0]});return bS}function n($,R,P,H){while(F<Z.length){var y=d(),j=null;
if(y==0){if(H){var h=d();if(h!=2){var m=b()}if(h==0)F+=4;H=!1;continue}else{break}}var t=b();if(e)console.log("  ".repeat(R),y,y&127,t,$._type);
if(y>127)j=k(y,R,P);else j=B(y,R,P);$[t]=j}}function k($,R,P){var H=[];$=$&127;if($==43)F+=4;var y=U();
if($==50){var h=b(),m=S();if(m!=1)throw"e";for(var l=0;l<y;l++){var t={_status:"NotShared",_type:h};
H.push(t);var j=d();if(j!=1)throw j;n(t,R+1,P)}}else for(var l=0;l<y;l++){H.push(B($,R,P));if($==42)$=2}return H}function B($,R,P){var H=null;
if($==49){H={};var y=d();if(y!=0){var h=U();if(P==null){H._id=h;H._status=["Shared","Link"][y-1]}if(P&&y==2)H=P[h];
if(y==1){if(P)P[h]=H;var m=d(),t=!1;if(m>1)throw m;H._type=b();if(e)console.log("  ".repeat(R),"new",H._type,m,F);
if(m==0){while(!0){var j=S();if(j!=0&&j!=1&&j!=2&&j!=4)throw j;if(Z[F]!=0){t=!0;break}var x=S();if(x==512)break;
var C=b();if(x==256)break}}n(H,R+1,P,t)}}}else if($==50){H={_status:"NotShared"};if(d()==1){H._type=b();
F+=2;n(H,R+1,P)}}else if($==1)H={type:"byte",value:d()};else if($==2)H={type:"uint16",value:S()};else if($==3)H={type:"uint32",value:U()};
else if($==4)H={type:"uint64",value:q()};else if($==7)H={type:"int32",value:r()};else if($==8)H={type:"int64",value:q()};
else if($==9)H={type:"float32",value:w()};else if($==10)H={type:"float64",value:X()};else if($==21)H={type:"Vec2i",value:[U(),U()]};
else if($==23)H={type:"Vec4i",value:[U(),U(),U(),U()]};else if($==33)H={type:"Vec4f",value:[w(),w(),w(),w()]};
else if($==36)H={type:"Vec2",value:[X(),X()]};else if($==38)H={type:"Vec4",value:[X(),X(),X(),X()]};
else if($==40)H={type:"Vec6",value:[X(),X(),X(),X(),X(),X()]};else if($==41)H={type:"bool",value:d()!=0};
else if($==42)H={type:"Enum",value:U()};else if($==43)H={type:"string",value:c()};else if($==44){var L=S();
H={type:"curv16",value:[X(),L==12?[d(),d(),d(),d()]:[U(),U()]]}}else if($==45){var L=U();H={type:"buff",value:Z.slice(F,F+L)};
F+=L}else if($==47){H={type:"uint32",value:U()}}else if($==48){var f=[],D=S();if(D!=1)throw D;if(Z[F]==135){var v=k(d(),R+1,P),A=k(d(),R+1,P),M=k(d(),R+1,P);
f=[v,A,M]}else{var Y=1;if(Z[F]==3){d();Y=U()}for(var l=0;l<Y;l++){if(d()!=41)throw"e";var h=d();if(h!=0&&h!=1)throw h;
if(d()!=172)throw"e";var J=U(),I=S(),p=[];f.push(p);if(I!=18)throw I;if(J>2e3)throw J;for(var a=0;a<J;
a++)p.push([X(),X(),d(),d()])}}F++;H={type:"curve",value:f}}else if($==51){H={type:"EmbeddedData"};H[b()]=c()}else if($==52)H={type:"uint32",value:U()};
else if($==56)H={type:"Color32",value:[d(),d(),d(),d()]};else if($==68)H={type:"ColorRGBA",value:[w(),w(),w(),w()]};
else if($==72)H={type:"ColorCMYK",value:[w(),w(),w(),w(),w()]};else{throw $}return $==49||$==50||$==51?H:H.value}function o($){var R=0,P=$.length;
for(var l=0;l<P;l++)$[l]=R=R+$[l]&255}function z($){Z=$;F=4;var R=U(),P=_();if(P!="nsrP")throw P;var P=_();
if(P!="#Inf")throw P;var H=q();T=q();var y=q(),h=q(),m=q(),t=U(),j=U(),P=_();if(P!="Prot")throw P;var t=U(),x=u(H),C={},L=Date.now();
for(var f=0;f<x.length;f++){var D=x[f],v=D[3],I=null;F=D[0];var P=_();if(P!="#Fil")throw P;var A=v>>>5&1,M=v&3,Y=v&192;
switch(Y){case 64:Y=1;A=0;break;case 128:Y=2;break;case 192:Y=3;break;default:Y=0;A=0}var J=new Uint8Array(Z.buffer,F,D[2]);
if(M==0)I=J;else if(M==1)I=pako.inflate(J);else if(M==2)I=fg.YG.nu(J,D[1]);else throw M;if(A==0){if(Y==1)o(I);
if(Y==2)throw"e"}else throw A;C[D[4]]=I}return C}function W($){var R=z(new Uint8Array($));Z=R["doc.dat"];
F=16;var P={};n(P,0,[]);return[R,P,T]}return{a4T:W}}();function fz(){}fz.qj=function(){function e(c,u){var n=Date.now(),k=h2.a4T(c),B=k[0],o=k[1],T=k[2],z=o.DocR,W=z.DfSz,$=z.Chld;
if($.length!=1)throw"e";var R=$[0],P=R.SprB;$=R.Chld;u.w=~~P[2];u._=~~P[3];u.buffer=V.J(u.w*u._*4);var H=[0,{}];
for(var l=0;l<$.length;l++)_($[l],u,B,new jg,H);u.zL(H[0]);console.log(Date.now()-n,"Document created");
n=Date.now()}function Z(c){return new jg(c[0],c[3],c[1],c[4],c[2],c[5])}function F(c,u){var n=u.Xfrm;
n=n?Z(n):new jg;n.concat(c);return n}function b(c){var u={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[c];
return u?u:"norm"}function _(c,u,n,k,B){var o=c._type,T=c.Chld,z=u.yG();z.Hr(c.Desc==null||c.Desc==""?o=="Grup"?"Folder":"Layer":c.Desc);
z.cm(c.Visi);z.opacity=Math.round(255*c.Opac);if(c.FOpc!=1)z.add.iOpa=Math.round(255*c.FOpc);var W=c.Blnd;
if(W!=null)z.Du=b(W);var $=F(k,c),R=o=="ShpN"||o=="PCrv";if(T){u.g.push(u.vs());z.add.lsct=jj.$R;z.Du="pass";
z.jj=24;if(o=="ShpN"){var P=c.ShpB;z.bc(new e3(P[0]+$.lr,P[1]+$.Xz,P[2]-P[0],P[3]-P[1]));B[0]++;z.add.artb.Clr={t:"Objc",v:V.X.Q9({o:255,z:255,S:255})}}for(var l=0;
l<T.length;l++)_(T[l],u,n,$,B)}else if(o=="Rstr"||o=="ImgN"||o=="MRst"){var H=c.Bitm,y=H.Bckg,h=Date.now(),m;
if(y==null){m=q(H,n,B[1]);z.rect=m[2].clone();z.buffer=m[1].slice(0);z.rect.x+=$.lr;z.rect.y+=$.Xz}if(y||$.YE()!=1){var t,j=0,x=0;
if(y){var C=n[y.Data],L=s.it(C,"ataD")+4,f=s.lg(C,L);L+=4;t=C.slice(L,L+f)}else{j=z.rect.x-$.lr;x=z.rect.y-$.Xz;
if(m[3]==null)m[3]=new Uint8Array(fg.H_("PNG").ng([[z.buffer.buffer]],z.rect.w,z.rect._));t=m[3].slice(0)}var D=u.mr(t,z.getName(),0,0);
D.jj=z.jj;D.opacity=z.opacity;z=D;var v=new jg;v.translate(j,x);v.concat($);var A=z.rect.clone();A.x=A.y=0;
var M=V.H.gb(A).s;V.H.A(M,v,M);z.add.SoLd.Trnf=i.Q.t1(M);z.add.SoLd.nonAffineTransform=i.Q.t1(M);z.gV(u,!1)}}else if(o=="TxtA"||o=="TxtF"){z.add.lnsr="rend";
z.add.TySh=fN.hB(0,0);z.add.TySh.nq=new e3(0,0,100,100);var Y=c.TxtH.FrmB,J=new jg,er=0;J.translate(Y[0],Y[1]);
J.concat($);z.add.TySh.A=J;var I=z.add.TySh.HV,p=c.StSt,a=p.Blok;if(a.length!=1)throw"e";for(var c8=0;
c8<a.length;c8++){var O=a[c8],dF=er,gl=0,e0=O.Glyp.Utf8;e0=e0.replace(/\u2028/g,"\n");e0=e0.replace(/\u2029/g,"\n");
e0=e0.slice(0,e0.length-1);fN.Z4(I,er,e0);er+=e0.length;var bv=O.GAtt.Runs,gm=O.PAtt.Runs[0],iW=gm.Item.Ints[0];
for(var jx=0;jx<bv.length;jx++){var aC=bv[jx],d9=aC.Indx,bS=aC.Item,jo=bS.Objs,g7=fN.C7(I,dF,1);g7.Qm.Justification=iW==0?0:iW==1?2:1;
fN.Kh(g7,bS.DFnt.Post);g7.sn.FontSize=bS.Doub[0];for(var l=0;l<jo.length;l++){var dI=jo[l];if(dI._type=="FDsc"){var gn=dI.FDeF;
if(gn._type=="FilS"){var hI=r(gn.Colr);g7.sn.FillColor={Type:1,Values:[1,hI[0],hI[1],hI[2]]}}}}fN.IY(I,dF+gl,dF+Math.min(d9,e0.length),g7);
gl=d9}}fN.mJ(I,1);fN.wH(I,[0,0,Math.round(Y[2]-Y[0]),Math.round((Y[3]-Y[1])*1.2)]);u.i6=!0}else if(R){z.jj|=16;
var d$=z.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));z.add.vstk.strokeEnabled.v=!1;z.add.vogk=[];
var eX=z.add.vmsk=d(c);V.c.Jb(eX.T,$);if(c.BFFl){var d3=c.BFFl[0].FDeF,cJ=d3._type;if(cJ=="FilS")z.add.SoCo={classID:"null",Clr:U(d3.Colr)};
else if(cJ=="FilG"){var dM=z.add.GdFl=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]);S(d3,dM)}else if(cJ=="FilN"){z.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}};
d$.fillEnabled.v=!1}else console.log(cJ)}if(c.LILn){var dh=c.LILn[0].LDeL,jh=dh.Wght;if(jh!=0){d$.strokeEnabled.v=!0;
d$.strokeStyleLineWidth.v.val=jh;var d3=c.LIFl[0].FDeF,cJ=d3._type;if(cJ=="FilS")d$.strokeStyleContent.v.Clr=U(d3.Colr);
else if(cJ=="FilN")d$.strokeEnabled.v=!1}}z.kJ(u)}else console.log(o);var aK=c.AdCh,ca=[];if(aK)for(var l=0;
l<aK.length;l++){var iY=aK[l],et=iY._type;if(et=="ShpN"||et=="PCrv"){var eX=z.add.vmsk=d(iY),jD=F($,iY);
V.c.Jb(eX.T,jD);z.kJ(u)}else if(iY.AdjP){var j6=iY.AdjP,dc=j6._type,ao={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dc];
if(ao==null){console.log(j6);continue}var ec=ff.ac(ao,{});ca.push(ec);var fp=ec.v.Fltr.v;if(dc=="LevP"){var eN=go.G4(fp,0);
eN[0]=j6.OutB*255;eN[1]=j6.OutW*255;go.OB(fp,0,eN)}else if(dc=="WhBP"){var eN=go.G4(fp,2);eN[4]=100+j6.WBTi*20;
go.OB(fp,2,eN);var eN=go.G4(fp,3);eN[4]=100+j6.WBTi*200;go.OB(fp,3,eN)}else if(dc=="HSSP"){var eN=jb.G4(fp,0);
eN[0]=Math.round(j6.HueA*256);eN[1]=Math.round(j6.SatA*256);eN[2]=Math.round(j6.LumA*256);jb.OB(fp,0,eN)}else if(dc=="RecP"){fp.Clrz.v=!0;
var eN=jb.G4(fp,0);eN[0]=Math.round(j6.RecH*100);eN[1]=Math.round(j6.RecS*100);eN[2]=Math.round(j6.RecL*100);
jb.OB(fp,0,eN)}else if(dc=="B&CP"){fp.Brgh.v=Math.round(j6.Brig*100);fp.Cntr.v=Math.round(j6.Ctrs*100-100)}else if(dc=="PosP"){fp.Lvls.v=j6.Post}else if(dc=="VibP"){fp.vibrance.v=j6.Vibr-100;
fp.Strt.v=Math.round(j6.Satu*100)}else if(dc=="ExpP"){fp.Exps.v=j6.Expo;fp.gammaCorrection.v=j6.Gamm/2.2}else if(dc=="ThrP"){fp.Lvl.v=Math.round(j6.Thre*255)}else if(dc=="CrvP"){var ha=j6.Mast["Cnt "],bJ=j6.Mast.Vals,eN=hu.G4(fp,0),g3=eN[0];
for(var bL=0;bL<ha;bL++){var fD=eN[bL]=JSON.parse(JSON.stringify(g3));fD.v.Hrzn.v=Math.round(bJ[bL]*255);
fD.v.Vrtc.v=Math.round(bJ[4+bL]*255)}hu.OB(fp,0,eN)}}else console.log(iY)}if(ca.length!=0){z.add.SoLd.filterFX=ff.Zb();
u.zp({id:z.add.SoLd.placed.v,rect:new e3,buffer:V.J(1),v:new g.hW});z.add.SoLd.filterFX.v.filterFXList.v=ca;
z.gV(u,!1)}var bF=c.FiEf;if(bF&&bF.length!=0){var du=z.add.lmfx=JSON.parse(fu.default);for(var l=0;l<fu.order.length;
l++)du[fu.VX[l]]={t:"VlLs",v:[]};for(var b8=0;b8<bF.length;b8++){var jf=bF[b8],c1=jf._type,eV={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[c1],dM=eV?JSON.parse(fu.qx[fu.order.indexOf(eV)]):null;
if(c1=="ColO"){dM.Clr=U(jf.Colr)}else if(c1=="GrdO"){S(jf.GrFl.FDeF,dM)}else if(c1=="Shad"||c1=="InnS"||c1=="OutG"||c1=="InnG"){dM.Clr=U(jf.Colr);
dM.blur.v.val=Math.round(jf.Radi/2.4);if(jf.Offs!=null){dM.Dstn.v.val=jf.Offs;dM.lagl.v.val=Math.round(180-jf.Angl*180/Math.PI);
dM.uglg.v=!1}}else if(c1=="Strk"){dM.Clr=U(jf.Colr);dM.Sz.v.val=Math.round(jf.Radi)}else if(c1=="PhgB"||c1=="BevE"){dM.blur.v.val=Math.round(jf.Radi);
if(c1=="BevE")dM.bvlS.v.BESl="PlEb"}else if(c1=="Gaus"){if(R&&jf.Enab){z.add.vmsk.Ov=jf.Radi/2.4;z.add.vmsk.oy=!0;
z.kJ(u)}}if(eV){dM.enab.v=jf.Enab;if(dM.Md&&jf.BlnM!=null)dM.Md.v.BlnM=ae.px(b(jf.BlnM));if(dM.Opct&&jf.Opac!=null)dM.Opct.v.val=Math.round(jf.Opac*100);
var be=fu.VX[fu.order.indexOf(eV)];du[be].v.unshift({t:"Objc",v:dM})}}}u.g.push(z)}function d(c){var u=new g.NX,n=c._type;
if(n=="PCrv"){var k=c.Crvs.Data,B=[],o=[];for(var l=0;l<k.length;l++){var T=k[l];if(T.length%3!=1){T=T.slice(1,T.length-1)}for(var z=0;
z<T.length;z++){var W=T[z],$=W[2];if($!=0)B.push(z==0?"M":"C");o.push(W[0],W[1])}}u.T=V.H.t6({s:o,C:B},!0)}else{var R=c.ShpB,P=c.Shpe,H=P._type,y=R[2]-R[0];
if(H=="ShpE"){u.T=V.c.wV._X(R[0],R[1],R[2]-R[0],R[3]-R[1])}else if(H=="ShNR"){var h=[0,0,0,0];if(P.CTyp){h=P.ShCR.slice(0);
for(var l=0;l<4;l++)h[l]*=R[2]-R[0]}u.T=V.c.wV.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1],h)}else if(H=="ShpT"){u.T=V.H.t6({C:["M","L","L","Z"],s:[R[0],R[3],R[2],R[3],R[0]+y*.5,R[1]]},!0)}else if(H=="ShTz"){u.T=V.H.t6({C:["M","L","L","L","Z"],s:[R[0]+y*P.PosL,R[1],R[0]+y*P.PosR,R[1],R[2],R[3],R[0],R[3]]},!0)}else{console.log("--",H);
u.T=V.c.wV.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1],[0,0,0,0])}}return u}function S(c,u){var n=c.Grad,k=n.Cols;
u.Type.v.GrdT=c.Type==0?"Lnr":"Rdl";var B=[];for(var l=0;l<k.length;l++){var o=r(k[l]);B.push([n.Posn[l][0],o])}u.Grad.v.Intr.v=0;
V.X.KY(B,u.Grad.v);var T=n.Posn,z=new bI(T[0][0],T[0][1]),W=new bI(T[1][0],T[1][1]);if(c.Type==0)z=new bI((z.x+W.x)/2,(z.y+W.y)/2);
V.X.h4(z,W,new e3(0,0,1,1),u)}function U(c){var u=r(c);return{t:"Objc",v:V.X.Q9({o:u[0]*255,z:u[1]*255,S:u[2]*255})}}function r(c){var u=c._col,n=c._type;
if(n=="HSLA"){var k=V.FD(u[0],u[1],u[2]);return[k.o,k.z,k.S,u[3]]}else if(n=="RGBA")return u;else if(n=="CMYK"){var B=1-u[3];
return[(1-u[0])*B,(1-u[1])*B,(1-u[2])*B]}else{console.log(u);throw n}}function q(c,u,n){var k=c.Frmt,h="";
if(k!=0&&k!=6)throw k;var B=c.BmpW,o=c.BmpH,T=k==0?4:1,z=Math.ceil(B/256),W=Math.ceil(o/256),$=new e3(0,0,z,W),R=new e3;
for(var l=0;l<T;l++){var P=new Uint8Array(c["Sta"+(l+1)]),H=V.HR(P,$);R=R.Us(H)}var y=[];for(var l=0;
l<T;l++){var P=new Uint8Array(c["Sta"+(l+1)]),m=V.J(R.Z());V.l2(P,$,m,R);y[l]=[];for(var t=0;t<m.length;
t++)y[l][t]=m[t];h+=JSON.stringify(y[l])+","+JSON.stringify(c["Idx"+(l+1)])+","}if(n[h]==null){var j=R.w*256,x=R._*256,C=new Array(T);
for(var l=0;l<T;l++){var P=C[l]=new Uint8Array(j*x);w(P,c["Idx"+(l+1)],y[l],u,j,x)}var L=V.J(j*x*4);
if(k==0)V.My({o:C[0],z:C[1],S:C[2],Y0:C[3]},L);else{L.fill(255);V.jh(C[0],L)}var f=new e3(0,0,j,x),D={buffer:L,rect:f};
V.bD(D);n[h]=[D.rect,D.buffer]}var H=n[h][2]=n[h][0].clone();H.x+=R.x*256;H.y+=R.y*256;return n[h]}function w(c,u,n,k,B,o){var T=0,z=B>>>8,W=o>>>8;
for(var $=0;$<W;$++)for(var R=0;R<z;R++){var P=R*256,H=$*256,y=$*z+R,h=H*B+P,m=n[y];if(m<=1)X(c,h,0,B,256,256);
else if(m==2)X(c,h,4294967295,B,256,256);else if(m==4){var t=u[T];T++;var j=k[t.Data.DatI],x=t.Rect;
if(x==null)x=[0,0,256,256];X(c,h,0,B,256,256);Q(c,(H+x[1])*B+P+x[0],j,x[1]*256+x[0],B,256,x[2]-x[0],x[3]-x[1])}else console.log(m)}}function X(c,u,n,k,B,o){var T=u+k*o;
for(;u<T;u+=k){var z=u+B;for(var W=u;W<z;W++){c[W]=n}}}function Q(c,u,n,k,B,o,T,z){var W=u+B*z,$=k+o*z;
for(;u<W&&k<$;u+=B,k+=o){for(var l=0;l<T;l++)c[u+l]=n[k+l]}}return e}();function g8(){}g8.qj=function(e,Z){var F=g8,b=gg.parse(e),d=0;
if(b.pages.length>1)console.log(b.pages.length,"pages");var _=[],S=new e3;for(var U=0;U<b.pages.length;
U++){var r=b.pages[U],q=r.layers,w=F.HA(q,U),Q=!1;if(w.Z()>8e3*8e3||w.w>3e4||w._>3e4){F.$0(q,!0);var X=F.HA(q,U);
if(X.Z()>=w.Z())F.$0(q,!1)}w=F.HA(q,U);for(var c=0;c<q.length;c++){var u=q[c];if(F.qE(u)=="artboard")Q=!0}if(!Q){console.log("no artboard");
var n={};for(var k in r)n[k]=r[k];n._class="group";r.layers=[n]}_.push(w.clone());if(w.BJ())continue;
w.x=0;w.y=d;d+=w._+200;S=S.Us(w)}var B={};if(b.foreignSymbols)for(var l=0;l<b.foreignSymbols.length;
l++){var o=b.foreignSymbols[l].symbolMaster;B[o.symbolID]={cx:o}}F.Qp(b.pages,B,Z);for(var T in B){var u=B[T].cx,z=F.c9(u.layers)}var W=g8.m7(S,8192*8192);
Z.i6=!0;Z.w=Math.round(S.w/W);Z._=Math.round(S._/W);Z.buffer=V.J(Z.w*Z._*4);Z.zL(b.pages[0].layers.length);
Z.iy={};Z.Hn=[];d=0;for(var U=0;U<b.pages.length;U++){var $=b.pages[U],w=_[U],R=new jg(W,0,0,W,w.x,w.y-d);
F.UH($.layers,Z,R,b,B,{},[]);d+=w._+200}delete Z.iy;delete Z.Hn;if(W!=1)alert("File scaled down "+W+"x");
Z.abM()};g8.apB=0;g8.qE=function(e){return e._class?e._class:e.$class};g8.m7=function(e,Z){var F=1;while(Math.round(e.w/F)*Math.round(e._/F)>Z||Math.max(Math.round(e.w/F),Math.round(e._/F))>3e4)F++;
if(F!=1&&!window.confirm("Your image is quite large ("+e.w+" x "+e._+" px).\n"+"Press OK to scale it down "+F+"x, or Cancel to keep the size."))F=1;
return F};g8.HA=function(e,Z){var F=[],b=g8;for(var _=0;_<e.length;_++){var d=e[_],S=b.E_(d.frame);if(Z==0||b.qE(d)=="artboard")F.push(S)}return V.rect.ia(F)};
g8.$0=function(e,Z){var F=[],b=g8;for(var _=0;_<e.length;_++){var d=e[_],S=b.E_(d.frame);S.w+=150;S._+=150;
F.push(S)}var U=V.rect.ia(F);V.rect.asF(F,Z);var r=V.rect.ia(F);if(r.Z()*1.5<U.Z()||U.w>3e4&&r.w<=3e4||U._>3e4&&r._<=3e4){alert("Re-arranging artboards");
for(var _=0;_<e.length;_++){var q=F[_],d=e[_],w=d.frame;w.x=q.x;w.y=q.y}}};g8.Qp=function(e,Z,F){var b=g8;
for(var _=0;_<e.length;_++){var d=e[_],S=b.qE(d);if(["page","artboard","group"].indexOf(S)!=-1)b.Qp(d.layers,Z,F);
else if(S=="symbolMaster")Z[d.symbolID]={cx:d}}};g8.c9=function(e){var Z=g8;for(var F=0;F<e.length;F++){var b=e[F],_=Z.qE(b),d=null;
if(["page","artboard","group"].indexOf(_)!=-1)d=Z.c9(b.layers);if(_=="symbolMaster"||_=="symbolInstance")d=b;
if(d!=null)return d}return null};g8.UH=function(e,Z,F,b,_,d,S){var U=g8,r=[];for(var q=0;q<e.length;
q++){var w=e[q],X=w.frame?U.E_(w.frame):null,Q=w.style,B="",R=null,P=!1;if(Q==null){console.log("no styles")}var c=U.IO(w,F),u=U.qE(w),n=u=="shapeGroup"||u=="shapePath"||u=="rectangle"||u=="oval"||u=="triangle"||u=="polygon",k=["page","artboard","group"].indexOf(u)!=-1;
if(u=="shapeGroup"){for(var l=0;l<w.layers.length;l++)if(U.qE(w.layers[l])=="shapeGroup")k=!0}var o=w.exportOptions;
if(o){var T=o.exportFormats;if(T==null)T=o.sizes;if(u!="artboard"&&(T&&T.length!=0)){var z=T[0].scale}}var W=Z.yG();
W.cm(w.isVisible);var $=w.name;if(!(typeof $=="string"))$=u;W.Hr(B+$.slice(0,250));if(Q!=null)R=U.a3L(b,Z,Q,X,c,W.getName(),n||u=="artboard"||k);
if(u=="rectangle"&&Q&&Q.fills&&Q.fills[0]){var H=Q.fills[0];if(H.fillType==4&&H.patternFillType>1&&H.image!=null)P=!0}if(w.shouldBreakMaskChain){while(r.length!=0)U.Ow(r.pop(),Z)}if(k){W.add.lsct=w.layerListExpandedType==2?jj.$R:jj.ZU;
W.Du="pass";W.jj=24;W.cm(w.isVisible);Z.g.push(Z.vs());if(u=="artboard"){var y=X.clone(),h=c.YE();y.x=-Math.floor(c.lr/h);
y.y=-Math.floor(c.Xz/h);y.w=Math.floor(y.w/h);y._=Math.floor(y._/h);W.bc(y);var m=w.backgroundColor,t=m?{o:255*m.red,z:255*m.green,S:255*m.blue}:{o:255,z:255,S:255};
W.add.artb.Clr={t:"Objc",v:V.X.Q9(t)};W.add.artb.artboardBackgroundType={t:"long",v:4}}U.UH(w.layers,Z,c,b,_,d,S)}else if(n&&!P){W.add.vmsk=new g.NX;
W.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));W.add.vstk.strokeEnabled.v=!1;W.add.vogk=[];var j=R!=null&&R.frameFXMulti.v.length==1,x=Q?Q.fills:null,C=Q?U.ax(b,x,X,c,W.getName(),Z,U.Il(S,w.do_objectID+"_image")):[];
if(C.length==0){if(j)W.add.vstk.fillEnabled.v=!1;else W.add.iOpa=0;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}}}else{var L=C[0],f=null,D=null;
if(L.type=="SoFi"){f="SoCo";D=fu.On}if(L.type=="GrFl"){f="GdFl";D=fu.So}if(L.type=="patternFill"){f="PtFl";
D=fu.p6}if(f!=null){W.add[f]={classID:"null"};for(var l=0;l<D.length;l++){var v=D[l];W.add[f][v]=L.I.v[v]}var A=L.I.v.Opct.v.val;
if(j&&A==0)W.add.vstk.fillEnabled.v=!1;else W.add.iOpa=Math.round(255*A/100)}}W.jj|=16;W.add.vmsk.T=U.SW(w.layers?w.layers:[w],w.layers?c:F,W.add.vogk);
var M=Q?Q.blur:null;if(M&&M.isEnabled&&M.type<=1)W.add.vmsk.Ov=M.radius;if(W.add.vmsk.T.length==2){console.log("shape with no content:",W.getName())}if(j){var Y=R.frameFXMulti.v[0].v,J=W.add.vstk,I=Q.borders[0];
R.frameFXMulti.v=[];d4.a3P(Y,J);var p=Q.borderOptions,a=Q.miterLimit;if(p){var er=p.dashPattern;J.strokeStyleLineCapType.v.strokeStyleLineCapType=fu.jA.H9[p.lineCapStyle];
J.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fu.jA.join[p.lineJoinStyle];if(er)J.strokeStyleLineDashSet.v=d4.fL(er,1/Y.Sz.v.val);
if(a!=null)J.strokeStyleMiterLimit.v=a}}W.kJ(Z)}else if(u=="bitmap"||P){if(!P&&w.image==null)continue;
var c8=P?Q.fills[0]:null,O=P?c8.image.bdata:w.image.bdata,dF=Z.mr(O,W.getName(),0,0);dF.jj=W.jj;W=dF;
var M=Q?Q.blur:null,gl=Q?Q.colorControls:null;if(M||gl){W.add.SoLd.filterFX=ff.Zb();Z.zp({id:W.add.SoLd.placed.v,rect:new e3,buffer:V.J(1),v:new g.hW});
var x=W.add.SoLd.filterFX.v.filterFXList.v;if(M){var e0=ff.ac("GsnB",{});e0.v.enab.v=M.isEnabled;e0.v.Fltr.v.Rds.v.val=M.radius;
x.push(e0)}if(gl){var bv=gl.brightness,gm=gl.contrast,iW=gl.hue,jx=gl.saturation;if(iW!=0||jx!=1){var e0=ff.ac("hue2",{});
e0.v.enab.v=gl.isEnabled;jb.OB(e0.v.Fltr.v,0,[Math.round(iW*180/Math.PI),Math.round((jx-1)*100),0]);
x.push(e0)}if(bv!=0||gm!=1){var e0=ff.ac("brit",{});e0.v.enab.v=gl.isEnabled;gm=gm-1;if(gm>0)gm/=2;var aC=e0.v.Fltr.v;
aC.Brgh.v=Math.round(bv*255);aC.Cntr.v=Math.round(gm*255);aC.useLegacy.v=!0;x.push(e0)}}}if(P){var d9=c8.patternFillType;
if(d9==3){var bS=W.rect.w/W.rect._,jo=X.w/X._;if(bS<jo){c.translate(-(X.w*(1-bS/jo))/2,0);c.scale(jo/bS,1)}else{c.translate(0,-(X._*(1-jo/bS))/2);
c.scale(1,bS/jo)}}}X.x=X.y=0;var g7=V.H.gb(X).s;c.eG();V.H.A(g7,c,g7);W.add.SoLd.Trnf=i.Q.t1(g7);W.add.SoLd.nonAffineTransform=i.Q.t1(g7);
W.gV(Z,!1)}else if(u=="text"){if(w.attributedString==null)continue;var dI=c.clone(),gn,hI,dM=0;dI.eG();
dI.Y0=dI.rl=Math.min(dI.Y0,dI.rl);W.add.lnsr="rend";W.add.TySh=fN.hB(0,0);W.add.TySh.nq=new e3(0,0,X.w,X._);
W.add.TySh.A=dI;var d$=w.attributedString;if(d$.archivedAttributedString)d$=d$.archivedAttributedString;
var eX=d$.NSString;if(eX==null)eX=d$.string;if(eX==null)eX="";if(eX["NS.string"])eX=eX["NS.string"];
if(d[w.do_objectID]!=null)eX=d[w.do_objectID];var d3=U.Il(S,w.do_objectID+"_stringValue");if(d3)eX=d3.value;
if(d$.attributes!=null){gn=[];hI=[];var cJ=d$.attributes;for(var l=0;l<cJ.length;l++){gn.push(cJ[l].length,l);
hI.push(cJ[l].attributes)}}else if(d$.NSAttributeInfo==null){gn=[eX.length,0];hI=[d$.NSAttributes]}else{gn=d$.NSAttributeInfo["NS.data"];
hI=d$.NSAttributes;gn=g8.akZ(gn,hI)}for(var l=0;l<gn.length;l+=2)dM+=gn[l];if(dM!=eX.length){while(dM>eX.length){gn[gn.length-2]--;
dM--;if(gn[gn.length-2]==0){gn.pop();gn.pop()}}gn[gn.length-2]+=eX.length-dM}eX=eX.replace(/\u2028/g,"\n");
eX=eX.replace(/\u2029/g,"\n");eX=eX.replace(/\r/g,"\n");var dh=W.add.TySh.HV;fN.Z4(dh,0,eX);if(eX!=""){var jh=w.textBehaviour,aK=Q.textStyle,ca=aK?aK.verticalAlignment:0,iY=U.aat(dh,gn,hI,eX),h=dI.YE(),et=fN.C7(dh,0,1),dc=0;
if(et.sn.Font){var jD=et.j3[et.sn.Font].Name;if(jD=="FontAwesome"||jD=="Ionicons")iY*=.87}var j6=et.sn.AutoLeading?0:et.sn.Leading*.6,ao=Math.max(iY,j6)*h,ec=X.w,fp=X._;
if(jh==0){fN.mJ(dh,0);var eN=fN.Jz(et.Qm);if(eN==1)dc=ec*h;if(eN==2)dc=ec*h*.5;if(ca==0)ao*=1;else ao*=.9}else{fN.mJ(dh,1);
fN.wH(dh,[0,0,Math.round(ec),Math.round(fp)]);if(jh==2&&ca==0)ao=ao*.2;else if(jh==2&&ca==1){ao=h*.5*(fp-et.sn.FontSize)}else if(jh==1&&ca==0)ao=ao*.2;
else ao=ao*.35}W.add.TySh.A.translate(dc,ao)}}else if(u=="symbolInstance"||u=="symbolMaster"){var ha=w.symbolID;
if(d[w.do_objectID])ha=d[w.do_objectID].symbolID;var bJ=U.Il(S,w.do_objectID+"_symbolID");if(bJ)ha=bJ.value;
if(ha=="")continue;var g3={};for(var v in d)g3[v]=d[v];if(w.overrides)for(var v in w.overrides)g3[v]=w.overrides[v];
var bL=S.slice(0);if(w.overrideValues)bL=bL.concat(w.overrideValues);var fD=_[ha];if(fD==null){console.log("Unknown master master",w.symbolID);
continue}var bF=g8.E_(fD.cx.frame),du=bF.w/X.w,b8=bF._/X._,jf=c.clone();jf.scale(du,b8);W.add.lsct=jj.ZU;
W.Du="pass";W.jj=24;W.cm(w.isVisible);Z.g.push(Z.vs());var c1=fD.cx;if(Z.Hn.indexOf(c1)==-1){Z.Hn.push(c1);
U.UH(c1.layers,Z,jf,b,_,g3,bL);Z.Hn.pop()}}else if(u=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+u,w);continue}if(Q&&Q.contextSettings){var eV=Q.contextSettings,be=eV.blendMode;
if(be<U.c1.length){W.Du=ae.Qd[ae.KU.indexOf(U.c1[be])];if(k&&W.Du=="norm")W.Du="pass"}W.opacity=Math.round(W.opacity*eV.opacity)}if(R!=null){W.add.lmfx=R}Z.g.push(W);
if(w.hasClippingMask&&e.length>1){r.push(W);Z.g.push(Z.vs())}}while(r.length!=0)U.Ow(r.pop(),Z)};g8.Il=function(e,Z){for(var l=0;
l<e.length;l++)if(e[l].overrideName.startsWith(Z))return e[l]};g8.akZ=function(e,Z){var F=0,b=[];while(F+1<e.length){var _=e[F];
F++;if(_>127){_+=128*(e[F]-1);F++;if(e[F-1]>127){_+=128*(e[F]-1);F++}}var d=e[F];F++;b.push(_,d)}return b};
g8.aat=function(e,Z,F,b){var _=g8,d=0,w=0,X=0;for(var l=0;l<b.length;l++){var S=b.charCodeAt(l),U=1473<=S&&S<=1479||1488<=S&&S<=1514||1520<=S&&S<=1524,r=1569<=S&&S<=1594||1600<=S&&S<=1749;
if(U||r)d++}var q=d>b.length/2;for(var l=0;l<Z.length;l+=2){var Q=Z[l],$=14,R="SourceHanSansSC-Regular";if(Q==0)continue;
var c=Z[l+1],u=F[c],n=fN.C7(e,w,w+Q-1),k=u.NSColor;if(k==null){var k=u.MSAttributedStringColorDictionaryAttribute;
if(k==null)k=u.MSAttributedStringColorAttribute;if(k==null)k="0 0 0";else k=[k.red,k.green,k.blue].join(" ")}else if(_.qE(k)=="MSArchivedColor")k=k.dr+" "+k.dg+" "+k.db;
else if(k.NSRGB){k=k.NSRGB;k=s.fl(k,0,k.length-1)}else if(k.NSCMYK){k=k.NSCMYK;k=s.fl(k,0,k.length-1);
k=k.split(" ").map(parseFloat);var B=1-k[0],o=1-k[1],T=1-k[2],z=1-k[3];k=B*z+" "+o*z+" "+T*z}else if(k.NSWhite){k="1 1 1"}k=k.split(" ");
n.sn.FillColor={Type:1,Values:[1,parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])]};var P=u.MSAttributedStringFontAttribute;
if(u.NSFont){$=u.NSFont.NSSize;R=u.NSFont.NSName}else if(P){if(P.attributes){P=P.attributes;$=P.size;
R=P.name}else{var H=P.NSFontDescriptorAttributes;if(H==null)H=P.UIFontDescriptorAttributes;P=H;$=P.NSFontSizeAttribute;
R=P.NSFontNameAttribute}if(R==null)R="SourceHanSansSC-Regular"}var X=Math.max(X,$);n.sn.FontSize=Math.round($);fN.Kh(n,R);
var y=u.NSKern;if(y==null)y=u.kerning;if(y!=null)n.sn.Tracking=Math.round(1e3*y/$);if(u.NSUnderline!=null)n.sn.Underline=u.NSUnderline>0;
var h=u.NSStrikethrough;if(h==null)h=u.strikethroughStyle;if(h!=null)n.sn.Strikethrough=h>0;if(u.MSAttributedStringTextTransformAttribute==1)n.sn.FontCaps=2;
var m=u.NSParagraphStyle;if(m==null)m=u.paragraphStyle;if(m){var t=m.paragraphSpacing;if(t!=null){n.Qm.SpaceAfter=t}var j=m.NSAlignment;
if(j==null)j=m.alignment;if(j!=null){var x=0;if(!1){}else if(j==1)x=1;else if(j==2)x=2;else if(j==4)x=0;
else{x=j;console.log("unknown align",j)}if(q&&x<2)x=1-x;n.Qm.Justification=x}var C=m.NSMinLineHeight;
if(C==null)C=m.minimumLineHeight;if(C!=null){n.sn.AutoLeading=!1;n.sn.Leading=C}}n.Qm._Direction=q?1:0;
fN.IY(e,w,w+Q,n);w+=Q}return X};g8.a3L=function(e,Z,F,b,_,d,S){var U=g8,r=JSON.parse(fu.default),q=!1;
for(var l=0;l<fu.order.length;l++)r[fu.VX[l]]={t:"VlLs",v:[]};var w=F.fills,X=U.ax(e,w,b,_,d,Z);for(var Q=0;
Q<2;Q++){var c=F[["shadows","innerShadows"][Q]];if(c==null)continue;var u=["DrSh","IrSh"][Q],n=fu.VX[fu.order.indexOf(u)];
for(var l=0;l<c.length;l++){var k=c[l];if(!k.isEnabled)continue;if(k.contextSettings.opacity==0||k.color.alpha==0)continue;
var B=JSON.parse(fu.qx[fu.order.indexOf(u)]);r[n].v.unshift({t:"Objc",v:B});q=!0;B.Clr.v=U.PT(k.color);
B.blur.v.val=Math.round(k.blurRadius/_.YE());var o=_.clone();o.lr=o.Xz=0;o.eG();var T=o.rS(new bI(k.offsetX,k.offsetY)),z=Math.sqrt(T.x*T.x+T.y*T.y);
B.Dstn.v.val=Math.round(z);B.lagl.v.val=Math.round(Math.atan2(T.y,-T.x)*(180/Math.PI));if(B.layerConceals)B.layerConceals.v=X.length!=0;
U.e0(k,B)}}var W=F.borders;if(W!=null&&(X.length==0||F.blur==null||!F.blur.isEnabled))for(var l=0;l<W.length;
l++){var $=W[l];if(!$.isEnabled)continue;var B=JSON.parse(fu.qx[fu.order.indexOf("FrFX")]),n=fu.VX[fu.order.indexOf("FrFX")];
r[n].v.unshift({t:"Objc",v:B});q=!0;B.Clr.v=U.PT($.color);if($.fillType!=0&&$.gradient){var R=U.lR($.gradient,b,_,d),P=["Type","Angl","Ofst","Scl"];
for(var l=0;l<P.length;l++)B[P[l]]=R[P[l]];B.Grad.v=R.Grad.v;B.PntT.v.FrFl="GrFl"}B.Sz.v.val=$.thickness/_.YE();
B.Styl.v.FStl=["CtrF","InsF","OutF"][$.position];U.e0($,B)}for(var l=S?1:0;l<X.length;l++){var H=X[l],n=fu.VX[fu.order.indexOf(H.type)];
r[n].v.unshift(H.I);q=!0}return q?r:null};g8.ax=function(e,Z,F,b,_,d,S){if(Z==null)return[];var U=g8,r=[];
for(var l=0;l<Z.length;l++)if(Z[l].isEnabled)r.push(Z[l]);Z=r;var q=[];for(var l=0;l<Z.length;l++){var w=Z[l],X=null,Q=null;
if(w.fillType==0){X="SoFi";var c=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);Q={t:"Objc",v:c};Q.v.Clr.v=U.PT(w.color)}else if(w.fillType==1){X="GrFl";
Q={t:"Objc",v:U.lR(w.gradient,F,b,_)}}else if(w.fillType==4&&w.image!=null){var u=w.image;if(S)u=S.value;
var n=fg.zV(u.bdata.buffer);if(n!=null&&n!="pdf"&&n!="eps"){var k,$=0,R=0,P=0;if(d.iy[u.key])k=d.iy[u.key];
else{var B=fg.H_(n).Fx(u.bdata)[0],o=B.V4.clone();k={};k.id=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";k.name="someImage";
k.ZV=[new Uint8Array(B.data),o];d.H7(k);d.iy[u.key]=k}var T=k.ZV[1],c=JSON.parse(fu.qx[fu.order.indexOf("patternFill")]);
X="patternFill";Q={t:"Objc",v:c};var z=w.patternFillType,W=w.patternTileScale;c.Algn.v=!0;c.Ptrn.v.Idnt.v=k.id;
if(z==0){$=W*T.w/Math.min(T.w,T._);R=-b.lr;P=-b.Xz}else{$=Math.max(F.w/T.w,F._/T._);R=-b.lr-(T.w*$-F.w)/2;
P=-b.Xz-(T._*$-F._)/2}c.Scl.v.val=100*$*(1/b.YE());c.phase.v.Hrzn.v=Math.round(R/b.YE());c.phase.v.Vrtc.v=Math.round(P/b.YE())}}else if(w.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",w.fillType);
if(X!=null){U.e0(w,Q.v);q.push({type:X,I:Q})}}return q};g8.a9z=function(e){var Z=g8,F=new e3(0,0,1,1);
e=e.slice(0);while(!0){var b=!1;for(var l=0;l<e.length-1;l++){var _=e[l],d=e[l+1],S=null,U=_.contextSettings;
if(_.fillType==0&&(U==null||U.opacity==1&&U.blendMode==0)&&_.color.alpha==1){var r="norm",q=1,U=d.contextSettings;
if(U){q=U.opacity;r=ae.Pp(Z.c1[U.blendMode])}if(d.fillType==0){S=JSON.parse(JSON.stringify(d));Z.pp(S.color,_.color,S.color,F,r,q)}if(d.fillType==1){S=JSON.parse(JSON.stringify(d));
var w=S.gradient.stops;for(var X=0;X<w.length;X++)Z.pp(w[X].color,_.color,w[X].color,F,r,q)}if(S!=null&&S.contextSettings){var U=S.contextSettings;
U.opacity=1;U.blendMode=0}}if(S!=null){e.splice(l,0,S);b=!0;break}}if(!b||e.length<2)break}return e};
g8.pp=function(e,Z,F,b,_,d){var S=g8,U=V.J(4);S.fe(e,U);var r=V.J(4);S.fe(Z,r);V.a.sB(_,U,b,r,b,b,d);
S.a6l(r,F)};g8.fe=function(e,Z){Z[0]=255*e.red;Z[1]=255*e.green;Z[2]=255*e.blue;Z[3]=255*e.alpha};g8.a6l=function(e,Z){Z.red=e[0]/255;
Z.green=e[1]/255;Z.blue=e[2]/255;Z.alpha=e[3]/255};g8.Ow=function(e,Z){e=e.clone();e.jj=24;e.Hr("Mask by "+e.getName());
Z.g.push(e);e.add.lsct=jj.$R;e.add.lyid=Z.Jo();delete e.add.lmfx;delete e.add.SoCo;delete e.add.GdFl;
delete e.add.PtFl;delete e.add.iOpa;if(e.add.vmsk)e.add.vmsk.oy=!0;e.kJ(Z);if((e.jj&16)==16)e.jj-=16;
if((e.jj&2)==2)e.jj-=2;e.Du="pass";e.opacity=255};g8.c1="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
g8.lR=function(e,Z,F,b){F=F.clone();F.eG();F.lr=F.Xz=0;var _=F.YE(),Q=0,c=0;F.scale(1/_,1/_);var d=g8,S=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),U=S.Grad.v;
U.Intr.v=0;if(e==null)return S;var r=e.gradientType,q=d.pE(e.from),w=d.pE(e.to);q.offset(-.5,-.5);w.offset(-.5,-.5);
q=F.rS(q);w=F.rS(w);var X=Math.atan2(-(w.y-q.y),w.x-q.x);S.Type.v.GrdT=["Lnr","Rdl","Angl"][r];S.Scl.v.val=100*bI.Ls(q,w);
if(r==0){S.Angl.v.val=180/Math.PI*X;S.Scl.v.val=100*bI.Ls(q,w);Q=(q.x+w.x)/2;c=(q.y+w.y)/2}if(r==1){S.Scl.v.val=200*bI.Ls(q,w);
Q=q.x;c=q.y}if(r==2){S.Angl.v.val=180/Math.PI*(X-Math.PI/2)}var u=S.Ofst.v;u.Hrzn.v.val=Q*100;u.Vrtc.v.val=c*100;
var n=[];for(var l=0;l<e.stops.length;l++){var k=e.stops[l],B=k.color;n.push([k.position,B?[B.red,B.green,B.blue]:[0,0,0],B.alpha])}V.X.KY(n,U);
return S};g8.e0=function(e,Z){var F=g8,b=1,_=e.contextSettings;if(_!=null){Z.Md.v.BlnM=F.c1[_.blendMode];
b*=_.opacity}else Z.Md.v.BlnM=F.c1[0];Z.enab.v=e.isEnabled;if(Z.uglg!=null)Z.uglg.v=!1;if(e.color!=null)b*=e.color.alpha;
Z.Opct.v.val=Math.round(b*100)};g8.PT=function(e){return V.X.Q9(e?{o:e.red*255,z:e.green*255,S:e.blue*255}:{o:0,z:0,S:0})};
g8.SW=function(e,Z,F){var b=g8,_=[{type:6},{type:8,all:0}];for(var d=0;d<e.length;d++){var S=e[d],U=S.booleanOperation,r=0,q=S._class,n=!1;
if(q=="group"||q=="text"||q=="symbolInstance"||q=="slice"){console.log(q+" inside ShapeGroup");continue}if(U==-1)r=0;
else if(U==0)r=1;else if(U==1)r=2;else if(U==2)r=3;else if(U==3)r=0;if(d==0)r=1;var w=g8.E_(S.frame),X=b.IO(S,Z),Q=S.path?S.path:S,c=[{type:0,length:0,A8:r,SS:2,NF:0,Mg:0}],u=Q.points;
for(var l=0;l<u.length;l++){var k=u[l],B=b.pE(k.curveTo),o=b.pE(k.point),T=b.pE(k.curveFrom);n=n||k.hasCurveFrom&&!T.Tn(o)||k.hasCurveTo&&!B.Tn(o)}var z=[];
if(!n){var W=[],gi=u.length;if(gi==0)continue;for(var l=0;l<gi;l++){z[l]=u[l].cornerRadius;var k=b.pE(u[l].point);
W.push(k.x,k.y)}X.scale(1/w.w,1/w._);X.eG();V.H.A(W,X,W);c=V.c.wV.vw(W,z).slice(2)}else{var $=u.length;
c[0].length=$;for(var l=0;l<$;l++){var k=u[l],R=k.curveMode,P=b.pE(k.point);c[1+l]={type:R==2||R==4?1:2,Gn:k.hasCurveTo?b.pE(k.curveTo):P.clone(),M:P,kM:k.hasCurveFrom?b.pE(k.curveFrom):P.clone()}}X.scale(1/w.w,1/w._);
X.eG();V.c.Jb(c,X);var z=[];for(var l=0;l<$;l++){var k=u[l],R=k.curveMode,H=k.cornerRadius;if(R==1&&H!=0)z.push(H);
else z.push(0)}}if(!Q.isClosed)for(var l=0;l<c.length;l++)c[l].type+=3;_=_.concat(c);var y=V.$F.eJ(),h=b.qE(S);
if(X.S==0&&X.d_==0){var m=X.lr,t=X.Xz,j=m+X.Y0,x=t+X.rl,C=[m,t,j,x];if(h=="rectangle"&&z.length==4)y=V.$F.Q2(2,C,z);
if(h=="oval")y=V.$F.Q2(5,C)}F.push(y)}return _};g8.IO=function(e,Z){var F=Z.clone(),b=e.frame?g8.E_(e.frame):null;
if(b)F.translate(-b.x-b.w/2,-b.y-b._/2);if(e.isFlippedHorizontal)F.scale(-1,1);if(e.isFlippedVertical)F.scale(1,-1);
F.rotate(-e.rotation*(Math.PI/180));if(b)F.translate(b.w/2,b._/2);return F};g8.pE=function(e){e=e.slice(1,e.length-1).split(",");
return new bI(parseFloat(e[0]),parseFloat(e[1]))};g8.E_=function(e){return new e3(e.x,e.y,e.width,e.height)};
g8.$a=function(e){return{_class:"rect",constrainProportions:!1,x:e.x,y:e.y,width:e.w,height:e._}};function fr(){}fr.qj=function(e,Z){var F=Date.now(),b=fr,_=UZIP.parse(e),d=JSON.parse(s.CI(_.manifest)),S=JSON.parse(s.CI(_["resources/graphics/graphicContent.agc"])).resources,U=[],r=d.children;
for(var l=0;l<r.length;l++){var q=r[l];if(q.name=="artwork"){var w=q.children;for(var X=0;X<w.length;
X++)if(w[X]["uxdesign#bounds"]){var Q=w[X],c=JSON.parse(s.CI(_["artwork/"+Q.path+"/graphics/graphicContent.agc"]));
if(c.children.length!=1)throw"e";Q._node=c.children[0];U.push(Q)}}}var u=[],n=new e3;for(var l=0;l<U.length;
l++){var Q=U[l],k=g8.E_(Q["uxdesign#bounds"]);u.push(k);n=n.Us(k)}var B=g8.m7(n,8192*8192);Z.i6=!0;Z.w=Math.round(n.w/B);
Z._=Math.round(n._/B);Z.buffer=V.J(Z.w*Z._*4);Z.zL(U.length);var o=new jg(B,0,0,B,n.x,n.y);Z.iy={};for(var l=0;
l<U.length;l++){var Q=U[l],k=g8.E_(Q["uxdesign#bounds"]),T=Q._node,z=o.clone(),W=k.clone(),$=z.YE();
z.translate(-k.x,-k.y);W.x=-Math.floor(z.lr/$);W.y=-Math.floor(z.Xz/$);W.w=Math.floor(W.w/$);W._=Math.floor(W._/$);
z.translate(k.x,k.y);fr.K_(T,Z,z,S,_,W);var R=Z.g[Z.g.length-1];R.Hr(Q.name);R.bc(W);if(l!=U.length-1)R.add.lsct=jj.ZU}delete Z.iy};
fr._W=function(e){if(e==null)return new jg;return new jg(e.a,e.b,e.c,e.d,e.tx,e.ty)};fr.K_=function(e,Z,F,b,_,d){var S=fr,U=e.type,r=e[U],q=e.style,w=S._W(e.transform),u,n="none",k,B="none",o,T;
w.eG();var X=F.clone();X.concat(w);var Q=Z.yG(),c=e.name;Q.Hr(c?c.slice(0,250):"Layer");if(e.visible!=null)Q.cm(e.visible);
if(q){u=q.stroke;n=u?u.type:"none";k=q.fill;B=k?k.type:"none";o=q.filters;T=q.clipPath;if(T&&b.clipPaths[T.ref])T=b.clipPaths[T.ref].children;
else T=null;if(q.opacity)Q.opacity=Math.round(255*q.opacity);if(B=="solid"&&k.color.alpha)Q.opacity=Math.round(Q.opacity*k.color.alpha);
if(o){Q.add.lmfx=S.a9g(o);for(var l=0;l<o.length;l++)if(o[l].type=="uxdesign#blur"){var z=o[l],W=z.params,$=W.brightnessAmount;
if($==null)$=0;$=Math.abs($/100);if((z.visible==null||z.visible==!0)&&W.backgroundEffect)Q.opacity=Math.round(Q.opacity*($+(1-$)*W.fillOpacity))}}if(B=="pattern"&&k.pattern.meta.ux.uid=="")B="none"}if(T==null&&e.meta&&e.meta.ux&&e.meta.ux.clipPathResources)T=e.meta.ux.clipPathResources.children;
if(U=="artboard"||U=="group"){if(T){var R=T[0],P=R.shape,H=P!=null&&P.type=="rect"&&P.width*P.height>1e6;
if(R.type!="text"&&!H){if(P){var w=S._W(R.transform);w.eG();var y=X.clone();y.concat(w);Q.add.vmsk=new g.NX;
Q.add.vmsk.T=S.SW(P);y=y.clone();y.eG();V.c.Jb(Q.add.vmsk.T,y);Q.kJ(Z)}}else if(!H)alert("Clipping by text has been ignored")}Q.add.lsct=jj.$R;
Q.Du="pass";Q.jj=24;if(e.visible!=null)Q.cm(e.visible);Z.g.push(Z.vs());var h=r.children,m=k;if(m)m=m.color;
if(m)m=m.value;if(k){if(U=="artboard"&&B=="solid"){Q.bc(new e3(0,0,10,10));Q.add.artb.Clr={t:"Objc",v:V.X.Q9({o:m.r,z:m.g,S:m.b})};
Q.add.artb.artboardBackgroundType={t:"long",v:4}}else{var t=Z.yG();t.Hr("BACKGROUND");t.jj|=16;t.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));
t.add.vmsk=new g.NX;t.add.vmsk.T=S.SW({type:"rect",x:d.x,y:d.y,width:d.w,height:d._});S.MS(k,B,X,d,d,t,Z,b,_);
t.kJ(Z);Z.g.push(t)}}for(var l=0;l<h.length;l++){fr.K_(h[l],Z,X,b,_,d)}}else if(U=="shape"&&e.shape.type=="rect"&&(e.shape.r==null||e.shape.r==0)&&B=="pattern"&&Math.abs(e.shape.width/e.shape.height-k.pattern.width/k.pattern.height)<.01){var j=k.pattern,x=j.meta.ux,C=x.uid,L=_["resources/"+C];
if(L==null){console.log(j);return}var f=Z.mr(L,Q.getName(),0,0);f.jj=Q.jj;f.opacity=Q.opacity;Q=f;var D=V.H.gb(new e3(0,0,j.width,j.height)).s,v=new jg;
v.scale(j.width/e.shape.width,j.height/e.shape.height);if(x.offsetX)v.translate(-x.offsetX*j.width,0);
if(x.offsetY)v.translate(0,-x.offsetY*j.height);X.concat(v);X.eG();V.H.A(D,X,D);Q.add.SoLd.Trnf=i.Q.t1(D);
Q.add.SoLd.nonAffineTransform=i.Q.t1(D);Q.gV(Z,!1)}else if(U=="shape"){Q.jj|=16;Q.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));
Q.add.vmsk=new g.NX;Q.add.vmsk.T=S.SW(r);var A=V.c.wS(Q.add.vmsk.T,null),y=X.clone();y.eG();V.c.Jb(Q.add.vmsk.T,y);
var M=V.c.wS(Q.add.vmsk.T,null);if(n=="none"){}else{var Y=u.color.value,J,I;J="SoFi";var p=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);
I={t:"Objc",v:p};I.v.Clr.v=V.X.Q9({o:Y.r,z:Y.g,S:Y.b});var a=u.align,er=u.cap;if(a==null)a="center";
var c8=Q.add.vstk;c8.strokeEnabled.v=!0;c8.strokeStyleLineWidth.v.val=u.width;if(a)c8.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[["inside","center","outside"].indexOf(a)];
if(er)c8.strokeStyleLineCapType.v.strokeStyleLineCapType=fu.jA.H9[["butt","round","square"].indexOf(er)];
var O=["SoFi","GrFl","patternFill"].indexOf(J),dF=[fu.On,fu.So,fu.p6][O];c8.strokeStyleContent.v={classID:fu.jA.BY[0]};
var gl=c8.strokeStyleContent.v={classID:fu.jA.BY[O]};for(var l=0;l<dF.length;l++)gl[dF[l]]=I.v[dF[l]]}if(o)for(var l=0;
l<o.length;l++)if(o[l].type=="uxdesign#blur"&&o[l].visible){var e0=o[l];Q.add.vmsk.Ov=e0.params.blurAmount}S.MS(k,B,X,A,M,Q,Z,b,_);
Q.kJ(Z)}else if(U=="text"&&e.text){var bv=e.text,gm=bv.frame,iW=q.font,jx=q.textAttributes,w=X.clone(),dI=0;
w.eG();Q.add.lnsr="rend";Q.add.TySh=fN.hB(0,0);Q.add.TySh.nq=new e3(0,0,100,100);Q.add.TySh.A=w;var aC=Q.add.TySh.HV,d9=bv.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fN.Z4(aC,0,d9);if(d9!=""){var bS=fN.C7(aC,0,1),jo=iW.postscriptName;if(jo==null)jo=iW.family;fN.Kh(bS,jo);
bS.sn.FontSize=Math.round(iW.size);if(k){var Y=k.color.value;bS.sn.FillColor={Type:1,Values:[1,Y.r/255,Y.g/255,Y.b/255]}}if(jx){if(jx.paragraphAlign)bS.Qm.Justification=["left","right","center"].indexOf(jx.paragraphAlign);
if(jx.letterSpacing)bS.sn.Tracking=Math.round(jx.letterSpacing);if(jx.lineHeight){bS.sn.AutoLeading=!1;
bS.sn.Leading=Math.round(jx.lineHeight)}}fN.IY(aC,0,d9.length,bS)}var g7=e.meta.ux.rangedStyles;if(g7)for(var l=0;
l<g7.length;l++){var r=g7[l],gn=Math.min(r.length,d9.length-dI),bS=fN.C7(aC,dI,dI+gn),jo=r.postscriptName;
if(jo==null)jo=r.family;if(jo!=null)fN.Kh(bS,jo);var hI=r.textScript,d$=r.underline,eX=r.fontSize,z=r.fill,d3=r.textTransform;
if(hI&&hI!="none")bS.sn.FontBaseline=hI=="superscript"?1:2;if(d$!=null)bS.sn.Underline=d$;if(eX!=null)bS.sn.FontSize=Math.round(eX);
if(d3!=null)bS.sn.FontCaps=d3=="uppercase"?2:0;if(z!=null){var cJ=z.value;bS.sn.FillColor={Type:1,Values:[1,(cJ>>>16&255)/255,(cJ>>>8&255)/255,(cJ>>>0&255)/255]}}fN.IY(aC,dI,dI+gn,bS);
dI+=gn}if(gm.type=="area"||gm.type=="autoHeight"){var dM=gm.width,dh=gm.height;fN.mJ(aC,1);fN.wH(aC,[0,0,dM,dh!=null?dh:dM*2])}}else console.log(U,e);
Z.g.push(Q)};fr.SW=function(e){var Z=e.type,F=[{type:6},{type:8,all:0}];if(Z=="rect"){var b=e.r,_=e.x,d=e.y,S=e.width,U=e.height;
F=V.c.wV.Rect(_,d,S,U,b?b:0)}else if(Z=="circle"){var b=e.r;F=V.c.wV._X(e.cx-b,e.cy-b,2*b,2*b)}else if(Z=="ellipse"){var r=e.rx,q=e.ry;
F=V.c.wV._X(e.cx-r,e.cy-q,2*r,2*q)}else if(Z=="path"||Z=="compound"){var w=Typr.U.SVGToPath(e.path);
F=V.H.t6({C:w.cmds,s:w.crds},!1)}else if(Z=="line"){var X=e.x1,Q=e.x2,c=e.y1,u=e.y2;F=V.c.wV.vw([X,c,Q,u],0,!0)}else if(Z=="polygon"){var n=e.points,k=[];
for(var l=0;l<n.length;l++)k.push(n[l].x,n[l].y);F=F.concat(V.c.wV.vw(k,0,!1).slice(2))}else console.log(Z,e);
return F};fr.a9g=function(e){var Z=JSON.parse(fu.default);for(var l=0;l<fu.order.length;l++)Z[fu.VX[l]]={t:"VlLs",v:[]};
for(var l=0;l<e.length;l++){var F=e[l],b=F.type,_=F.params,d=F.visible;if(b=="dropShadow"){var S=fu.VX[fu.order.indexOf("DrSh")],U=JSON.parse(fu.qx[fu.order.indexOf("DrSh")]);
Z[S].v.unshift({t:"Objc",v:U});var r=_.dropShadows;if(r.length!=1)throw"e";var q=r[l],w=q.color,X=w.value,Q=q.dx,c=q.dy;
U.Clr.v=V.X.Q9({o:X.r,z:X.g,S:X.b});U.Opct.v.val=Math.round((w.alpha!=null?w.alpha:1)*100);U.uglg.v=!1;
U.enab.v=d!=null?d:!0;U.lagl.v.val=Math.round(180/Math.PI*Math.atan2(c,-Q));U.Dstn.v.val=Math.round(Math.sqrt(Q*Q+c*c));
U.blur.v.val=Math.round(q.r*2.3)}}return Z};fr.MS=function(e,Z,F,b,_,d,S,U,r){var q=fr;if(Z=="none"){d.add.vstk.fillEnabled.v=!1;
d.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}}}else{var w,X,Q;if(Z=="solid"){var c=e.color.value;
w="SoCo";X=fu.On;var u=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);Q={t:"Objc",v:u};Q.v.Clr.v=V.X.Q9({o:c.r,z:c.g,S:c.b})}else if(Z=="gradient"){w="GdFl";
X=fu.So;var u=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),n=u.Grad.v,z,W,$;n.Intr.v=0;var k=e[Z],B=k.ref?U.gradients[k.ref]:k.meta.ux.gradientResources,o=["linear","radial"].indexOf(B.type),T=B.stops;
u.Type.v.GrdT=["Lnr","Rdl","Angl"][o];if(o==0){var z=new bI(k.x1,k.y1),W=new bI(k.x2,k.y2);z.x=W.x+.5*(z.x-W.x);
z.y=W.y+.5*(z.y-W.y)}else{var z=new bI(k.cx,k.cy),W=new bI(k.cx+k.r,k.cy)}$=_;if(k.units=="objectBoundingBox"){var R=new jg(b.w,0,0,b._,b.x,b.y);
z=R.rS(z);W=R.rS(W)}var R=q._W(k.transform);z=R.rS(z);W=R.rS(W);R=F.clone();R.eG();z=R.rS(z);W=R.rS(W);
V.X.h4(z,W,$,u);var P=[];for(var l=0;l<T.length;l++){var H=T[l],y=H.color,c=y.value,h=y.alpha;if(h==null)h=1;
P.push([H.offset,[c.r/255,c.g/255,c.b/255],h])}V.X.KY(P,n);Q={t:"Objc",v:u}}else if(Z=="pattern"){w="PtFl";
X=fu.p6;var u=JSON.parse(fu.qx[fu.order.indexOf("patternFill")]),L,Y=1,J=0,I=0,p=1;Q={t:"Objc",v:u};
var m=e[Z],t=m.meta.ux,j=t.uid,x=r["resources/"+j].buffer,C=fg.zV(x);if(S.iy[j])L=S.iy[j];else{var f=new e3(0,0,m.width,m.height),D;
if(f.BJ()){f=new e3(0,0,1,1);D=new ArrayBuffer(4)}else{var v=fg.H_(C);if(v.dH){var A=new aH;v.Fx(x,A);
D=A.zB().buffer}else{var M=v.Fx(x)[0];D=M.data;f=M.V4}}L={};L.id=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";
L.name="someImage";L.ZV=[new Uint8Array(D),f];S.H7(L);S.iy[j]=L}var f=L.ZV[1];u.Algn.v=!0;u.Ptrn.v.Idnt.v=L.id;
if(t.scaleBehavior=="cover"){Y=p*Math.max(_.w/f.w,_._/f._);var a=Y;if(t.scale!=null)Y*=t.scale;J=_.x-(f.w*Y-_.w)/2;
I=_.y-(f._*Y-_._)/2;if(t.offsetX!=null)J+=t.offsetX*f.w*a;if(t.offsetY!=null)I+=t.offsetY*f._*a}else if(t.scaleBehavior=="fill"){Y=p*Math.min(_.w,_._)/Math.max(f.w,f._);
J=_.x-(f.w*Y-_.w)/2;I=_.y-(f._*Y-_._)/2}else throw"Unknown scale behaviour";u.Scl.v.val=100*Y;u.phase.v.Hrzn.v=Math.round(J);
u.phase.v.Vrtc.v=Math.round(I)}else console.log(Z);if(w!=null){d.add[w]={classID:"null"};for(var l=0;
l<X.length;l++){var er=X[l];d.add[w][er]=Q.v[er]}}}};function iL(){}iL.qj=function(e,Z,F){e=new Uint8Array(e);
var b=s.CI(e,0,e.length),_=new DOMParser,d=_.parseFromString(b,"image/svg+xml"),S=d.getElementsByTagName("style")[0],c=1;
if(S)S=Typr.U.SVG.cssMap(S.textContent);else S={};var U=d.firstChild;while(U.tagName!="svg")U=U.nextSibling;
var r=new e3(0,0,100,100),q=U.getAttribute("viewBox"),w=U.getAttribute("width"),X=U.getAttribute("height");
if(q){var Q=iL.YP(q);r.x=Q[0];r.y=Q[1];r.w=Q[2];r._=Q[3]}else if(w!=null||X!=null){r.w=w!=null?parseFloat(w):parseFloat(X);
r._=X!=null?parseFloat(X):parseFloat(w)}r=V.H.Uu(r);while(F&&Math.max(r.w*c,r._*c)<Math.max(F[0],F[1]))c++;
while(F==null&&Math.max(r.w,r._)*c>8192)c*=.5;Z.i6=!0;Z.w=~~(r.w*c);Z._=~~(r._*c);Z.buffer=V.J(Z.w*Z._*4);
var u=new jg(c,0,0,c,-r.x*c,-r.y*c),n={J_:iL.IM(U),alh:S};iL.YR(d,U.children,Z,u,n,new jg,0);if(Z.g.length==0){var k=Z.yG();
k.Hr("Layer");Z.g.push(k)}};iL.YP=function(e){var Z=" ";if(e.indexOf(",")!=-1)Z=",";return e.split(Z).map(parseFloat)};
iL.YR=function(e,Z,F,b,_,d,S){var U=iL,r=["display","opacity","fill-opacity"];for(var q=0;q<Z.length;
q++){var w=Z[q],X=w.tagName,Q=w.getAttribute("id"),c=U.IM(w,_.alh),n=13,z=1,R="clip-path",P=null;for(var u in _.J_)if(r.indexOf(u)==-1&&c[u]==null)c[u]=_.J_[u];
if(c["font-size"])n=U.qJ(c["font-size"],n);if(w.getAttribute("dx"))b.lr+=U.qJ(w.getAttribute("dx"),n);
if(w.getAttribute("dy"))b.Xz+=U.qJ(w.getAttribute("dy"),n);var k=U.E8(w);k.concat(b);var B=w.getAttribute("visibility"),o=c.display,T=F.yG();
if(B=="hidden"||o=="none")T.cm(!1);T.Hr(Q!=null?Q.split(":::")[0]:"Layer");if(c.opacity)z*=parseFloat(c.opacity);
if(c["fill-opacity"]){var W=parseFloat(c["fill-opacity"]);if(W!=0)z*=W}T.opacity=Math.round(255*z);if(c["mix-blend-mode"]){var $=ae.mk.indexOf(c["mix-blend-mode"]);
if($!=-1)T.Du=ae.Qd[$]}if(w.getAttribute(R)==null)R="mask";if(w.getAttribute(R)!=null){var H=w.getAttribute(R);
H=H.slice(4,H.length-1);var y=e.getElementById(H.slice(1));if(y){var h=y.children;P=F.yG();P.Hr("Clip-Path"+(Q?": "+Q:""));
P.add.lsct=S<2?jj.$R:jj.ZU;P.Du="pass";P.jj=24;var m=P.add.vmsk=new g.NX;F.g.push(F.vs());var t=[];if(y.getAttribute(R)){var H=y.getAttribute(R);
H=H.slice(4,H.length-1);t=e.getElementById(H.slice(1)).children}for(var l=0;l<h.length;l++){var j=U.E8(h[l]);
j.concat(k);var x=U.SW(e,h[l],!1).slice(2);V.c.Jb(x,j);m.T=m.T.concat(x)}for(var l=0;l<t.length;l++){var j=U.E8(h[l]);
j.concat(k);var x=U.SW(e,t[l],!1).slice(2);for(var C=0;C<x.length;C++)if(x[l].A8!=null)x[l].A8=3;V.c.Jb(x,j);
m.T=m.T.concat(x)}P.ov();P.kJ();S++}}if(X=="g"||X=="a"||X=="svg"||X=="switch"||(X=="text"||X=="textPath")&&w.children.length>0){if(X=="text")d=U.YZ(w,d);
var L=w.getAttribute("viewBox"),f=w.getAttribute("width"),D=w.getAttribute("height");if(L&&f&&D){var v=iL.YP(L),A=U.YZ(w),M=new jg;
M.translate(-v[0],-v[1]);M.scale(parseFloat(f)/v[2],parseFloat(D)/v[3]);M.translate(A.lr,A.Xz);M.concat(k);
k=M}var Y=w.children.length,J=_.J_;_.J_=c;var I=X!="text"&&X!="textPath"||Y>1;if(I){var p=T.ir();T.add.lsct=S<2&&p&&(Q==null||!Q.endsWith(":::"))?jj.$R:jj.ZU;
T.Du="pass";T.jj=24;T.cm(p);F.g.push(F.vs())}U.YR(e,w.children,F,k,_,d,S+1);if(I)F.g.push(T);else{var a=F.g[F.g.length-1];
a.opacity=T.opacity;a.Du=T.Du}_.J_=J}else if(X=="use"){var M=U.YZ(w);M.concat(k);var er=U.TB(w),c8=e.getElementById(er.slice(1)),J=_.J_;
_.J_=c;U.YR(e,[c8],F,M,_,d,S+1);_.J_=J}else if(X=="path"||X=="rect"||X=="circle"||X=="ellipse"||X=="polygon"||X=="polyline"||X=="line"){T.jj|=16;
T.add.vmsk=new g.NX;T.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));T.add.vstk.strokeEnabled.v=!1;
var O=T.add.vstk,m=T.add.vmsk,dF=c.fill,gl=dF=="none"||c["fill-opacity"]&&parseFloat(c["fill-opacity"])==0;
m.T=U.SW(e,w,c["fill-rule"]=="evenodd",gl);V.c.Jb(m.T,k);var e0=V.c.wS(m.T),bv=c.stroke,gm=c["stroke-width"],iW=c["stroke-dasharray"],jx=c["stroke-linejoin"],aC=c["stroke-linecap"],d9=c["paint-order"];
if(bv==null||bv=="none"||bv=="null"){}else{var bS=U.Na(e,bv,k,e0),jo=["SoFi","GrFl","patternFill"].indexOf(bS.type),g7=bS.I.v.Opct.v,hI=1;
if(g7.val!=100){T.opacity=Math.round(T.opacity*g7.val/100);g7.val=100}var dI=[fu.On,fu.So,fu.p6][jo],gn=O.strokeStyleContent.v={classID:fu.jA.BY[jo]};
for(var l=0;l<dI.length;l++)gn[dI[l]]=bS.I.v[dI[l]];gm=gm?parseFloat(gm):1;if(d9&&d9.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hI=2;
gm/=2}O.strokeEnabled.v=!0;if(jx)O.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fu.jA.join[["miter","round","bevel"].indexOf(jx)];
if(aC)O.strokeStyleLineCapType.v.strokeStyleLineCapType=fu.jA.H9[["butt","round","square"].indexOf(aC)];
O.strokeStyleLineWidth.v.val=gm*i.Q.YE(k);O.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[hI];
O.strokeStyleOpacity.v.val=100*(c["stroke-opacity"]?parseFloat(c["stroke-opacity"]):1);if(iW!=null&&iW!="none")O.strokeStyleLineDashSet.v=d4.fL(iW.split(",").map(parseFloat),1/gm)}if(gl){T.add.vstk.fillEnabled.v=!1;
T.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}}}else{var bS=U.Na(e,dF,k,e0),d$=null,eX=null;
if(bS.type=="SoFi"){d$="SoCo";eX=fu.On}if(bS.type=="GrFl"){d$="GdFl";eX=fu.So}if(bS.type=="patternFill"){d$="PtFl";
eX=fu.p6}if(d$!=null){var g7=bS.I.v.Opct.v;if(g7.val!=100){T.opacity=Math.round(T.opacity*g7.val/100);
g7.val=100}T.add[d$]={classID:"null"};for(var l=0;l<eX.length;l++){var u=eX[l];T.add[d$][u]=bS.I.v[u]}}}if(c.filter&&c.filter!="none"){var d3=c.filter;
d3=d3.slice(5,d3.length-1);if(e.getElementById(d3)){var cJ=e.getElementById(d3).children[0];if(cJ.tagName=="feGaussianBlur"){T.add.vmsk.Ov=parseFloat(cJ.getAttribute("stdDeviation"))*i.Q.YE(k)}}}T.ov();
T.kJ(F);F.g.push(T)}else if((X=="text"||X=="tspan")&&w.textContent!=""){d=U.YZ(w,d);var M=d.clone(),j6=0;
M.concat(k);if(w.children.length>0){var dM=U.IM(w.children[0],_.alh);for(var u in dM)if(r.indexOf(u)==-1)c[u]=dM[u]}var dh=c["xml:space"],jh=w.textContent;
if(dh=="preserve")jh=jh.replace(/\t/g," ").replace(/\n/g," ");if(Q==null)T.Hr(jh);T.add.lnsr="rend";
T.add.TySh=fN.hB(0,0);T.add.TySh.nq=new e3(0,0,100,100);T.add.TySh.A=M.clone();var aK=T.add.TySh.HV;
fN.Z4(aK,0,jh);var dF=c.fill,ca=c["font-weight"],iY=c["font-family"],et=c["text-decoration"],bv=c.stroke,gm=c["stroke-width"],jD=c["dominant-baseline"];
if(jD=="text-before-edge")j6=n;else if(jD=="middle")j6=n/2;else if(jD=="hanging")j6=n;if(j6!=0)T.add.TySh.A.translate(0,j6);
var dc=fN.C7(aK,0,1);if(dF&&dF!="none"){var ao=CSS.PT(dF);dc.sn.FillColor={Type:1,Values:[1,ao.o/255,ao.z/255,ao.S/255]}}if(et=="underline")dc.sn.Underline=!0;
dc.sn.FontSize=Math.round(n);fN.Kh(dc,"LiberationSans");if(ca=="bold")fN.Kh(dc,"LiberationSans-Bold");
if(iY){iY=iY.split(",")[0].trim();if(iY[0]=="\"")iY=iY.slice(1);if(iY[iY.length-1]=="\"")iY=iY.slice(0,iY.length-1);
var ec=iY+":"+(ca?ca:"normal"),fp={"'DejaVu Sans':normal":"SourceHanSansSC-Regular","'DejaVu Sans':bold":"SourceHanSansSC-Regular","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(fp[ec])fN.Kh(dc,fp[ec]);else fN.Kh(dc,iY)}if(c["text-anchor"])dc.Qm.Justification=["start","end","middle"].indexOf(c["text-anchor"]);
fN.IY(aK,0,jh.length,dc);if(bv==null||bv=="none"){}else{var eN=JSON.parse(fu.qx[fu.order.indexOf("FrFX")]);
eN.Clr.v=V.X.Q9(CSS.PT(bv));eN.Sz.v.val=Math.round(parseFloat(gm)*i.Q.YE(M));var ha=JSON.parse(fu.default);
for(var l=0;l<fu.order.length;l++)ha[fu.VX[l]]={t:"VlLs",v:[]};ha.frameFXMulti.v.push({t:"Objc",v:eN});
T.add.lmfx=ha}F.g.push(T)}else if(X=="image"){var er=U.TB(w);if(er.slice(0,4)=="data"){var bJ=fg.U$(er),g3=bJ,bL=F.mr(g3,T.getName(),0,0);
bL.jj=T.jj;T=bL;var fD=T.rect.clone();fD.x=fD.y=0;var bF=w.getAttribute("width"),du=w.getAttribute("height");
if(bF)fD.w=parseFloat(bF);if(du)fD._=parseFloat(du);var jf=U.YZ(w);jf.concat(k);var c1=V.H.gb(fD).s;
V.H.A(c1,jf,c1);T.add.SoLd.Trnf=i.Q.t1(c1);T.add.SoLd.nonAffineTransform=i.Q.t1(c1);T.gV(F,!1);F.g.push(T)}}else console.log("unknown tag: "+X,w.children.length,w.textContent.length);
if(P!=null){F.g.push(P);S--}}};iL.SW=function(e,Z,F,b){var _=iL,d=[{type:6},{type:8,all:0}],S=Z.tagName;
if(S=="use"){var U=_.TB(Z),r=e.getElementById(U.slice(1)),q=new jg;if(r.tagName!="rect")q=_.YZ(r);q.concat(_.E8(r));
d=_.SW(e,r,F,b);V.c.Jb(d,q)}else if(S=="path"){var w=Z.getAttribute("d");if(w==null)return d;var X=Typr.U.SVGToPath(w);
d=V.H.t6({s:X.crds,C:X.cmds},F,b)}else if(S=="rect"){var Q=Z.getAttribute("rx"),c=_.YZ(Z);d=V.c.wV.Rect(c.lr,c.Xz,parseFloat(Z.getAttribute("width")),parseFloat(Z.getAttribute("height")),Q?parseFloat(Q):0)}else if(S=="circle"||S=="ellipse"){var u=[0,0,0,0],n=["cx","cy","rx","ry","r"];
for(var l=0;l<5;l++){var k=Z.getAttribute(n[l]);if(k){k=parseFloat(k);if(l<4)u[l]=k;else u[2]=u[3]=k}}d=V.c.wV._X(u[0]-u[2],u[1]-u[3],2*u[2],2*u[3])}else if(S=="polygon"||S=="polyline"||S=="line"){var B;
if(S=="line")B=[Z.getAttribute("x1"),Z.getAttribute("y1"),Z.getAttribute("x2"),Z.getAttribute("y2")].map(parseFloat);
else B=Z.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
d=V.c.wV.vw(B,0,S!="polygon")}return d};iL.qJ=function(e,Z){if(e.charAt(e.length-1)=="m")return Z*parseFloat(e.slice(0,e.length-2));
else return parseFloat(e)};iL.Na=function(e,Z,F,b){var _,d,S=iL,U=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]),r=Z!=null?Z.indexOf("("):-1;
if(r!=-1){var q=Z.indexOf(")"),w=Z.slice(0,r).trim(),X=Z.slice(r+1,q).trim();if(X.charAt(0)=="'")X=X.slice(1,X.length-1);
if(w=="url"){if(X.charAt(0)=="#"){var Q=e.getElementById(X.slice(1));if(Q&&Q.tagName.toLowerCase().endsWith("gradient")){var c=S.lR(e,Q,F,b);
_="GrFl";d={t:"Objc",v:c}}else{_="SoFi";d={t:"Objc",v:U}}}else console.log("unknown url",X)}else if(w=="rgb"||w=="rgba"){_="SoFi";
d={t:"Objc",v:U};d.v.Clr.v=V.X.Q9(CSS.PT(Z));if(w=="rgba")d.v.Opct.v.val=Math.round(100*parseFloat(Z.split(",").pop()))}else console.log("unknown fill",Z)}else{_="SoFi";
d={t:"Objc",v:U};d.v.Clr.v=V.X.Q9(CSS.PT(Z))}return{type:_,I:d}};iL.E8=function(e){var Z=new jg,F=e.getAttribute("transform");
if(F)Z=iL.cJ(F);var b=e.getAttribute("style");if(b!=null){var _={};iL.iD(_,b,["transform"]);b=_.transform;
if(b)Z.concat(iL.cJ(b))}return Z};iL.YZ=function(e,Z){var F=new jg,b=e.getAttribute("x"),_=e.getAttribute("y");
if(b)F.lr=parseFloat(b);else if(Z)F.lr=Z.lr;if(_)F.Xz=parseFloat(_);else if(Z)F.Xz=Z.Xz;return F};iL.cJ=function(e){var Z=Typr.U.SVG.readTrnf(e);
return new jg(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])};iL.IM=function(e,Z){var F={},b="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var l=0;l<b.length;l++){var _=e.getAttribute(b[l]);if(_!=null&&_!="inherit")F[b[l]]=_}var d=e.getAttribute("class");
if(Z!=null&&d!=null&&Z["."+d]!=null)iL.iD(F,Z["."+d],b);var S=e.getAttribute("id");if(Z!=null&&S!=null&&Z["#"+S]!=null)iL.iD(F,Z["#"+S],b);
var U=e.getAttribute("style");if(U!=null)iL.iD(F,U,b);return F};iL.iD=function(e,Z,F){Z=Z.trim().split(";");
for(var l=0;l<Z.length;l++){var b=Z[l].split(":"),_=b[0]?b[0].trim():"",d=b[1]?b[1].trim():"";for(var S=0;
S<F.length;S++)if(_==F[S]&&d!="inherit")e[F[S]]=d}};iL.TB=function(e){var Z=e.getAttribute("xlink:href");
if(Z==null)Z=e.getAttribute("href");if(Z==null)Z=e.getAttribute("xl:href");return Z};iL.lR=function(e,Z,F,b){var _=iL;
function d(P,H,y){var h=Z.getAttribute(P);if(h==null)return;var m=parseFloat(h);if(h.endsWith("%"))m*=(y?b.w:b._)/100;
if(y)H.x=m;else H.y=m}var S=new jg,U=Z.getAttribute("gradientTransform");if(U)S=_.cJ(U);S.concat(F);
var r=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),q=r.Grad.v;q.Intr.v=0;var w=Z.tagName,X=new bI(0,0),Q=new bI(b.w,0);
if(w=="linearGradient"){r.Type.v.GrdT="Lnr";d("x1",X,!0);d("y1",X,!1);d("x2",Q,!0);d("y2",Q,!1);X.x=Q.x+.5*(X.x-Q.x);
X.y=Q.y+.5*(X.y-Q.y)}if(w=="radialGradient"){r.Type.v.GrdT="Rdl";if(Z.getAttribute("cx"))X.x=parseFloat(Z.getAttribute("cx"));
if(Z.getAttribute("cy"))X.y=parseFloat(Z.getAttribute("cy"));Q.zU(X.x,X.y);if(Z.getAttribute("r"))Q.x+=parseFloat(Z.getAttribute("r"))}if(Z.getAttribute("gradientUnits")=="userSpaceOnUse"){X=S.rS(X);
Q=S.rS(Q)}else{X.x=b.x+X.x*b.w;X.y=b.y+X.y*b._;Q.x=b.x+Q.x*b.w;Q.y=b.y+Q.y*b._}V.X.h4(X,Q,b,r);var c=Z.children;
if(c.length==0){var u=_.TB(Z);if(u==null)throw"gradient has no stops";var n=e.getElementById(u.slice(1));
if(n==null){console.log(u.slice(1));throw"e"}var k=_.lR(e,n,S,b);r.Grad=k.Grad}else{var B=[];for(var l=0;
l<c.length;l++){var o=c[l],T=_.IM(o),z=T["stop-color"],W=T["stop-opacity"],$=o.getAttribute("offset");
if(z==null)z="#000000";if(W==null)W="1";var R=$?parseFloat($):0;z=CSS.PT(z);B.push([R,[z.o/255,z.z/255,z.S/255],parseFloat(W)])}V.X.KY(B,q)}return r};
iL.WQ=function(e,Z,F){var b=[],_=iL;_.yW=Z.a1A?"\t":"";var d=Z.adJ,S=Z.a5t;b.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+e.w+" "+e._+"\" width=\""+d+"\" height=\""+S+"\">");
b.push(_.OQ(1)+"<title>"+iL.E1(e.name.split(".")[0])+"</title>");var U={MM:[],JS:[],bv:0,Wy:0,ti:0,mD:{},dG:{},kH:0,A_:{},u4:{},gf:0,W5:[]};
iL.Vz(e,U,e.root.children,1,Z,F);if(U.MM.length!=0){b.push(_.OQ(1)+"<defs>");b=b.concat(U.MM);b.push(_.OQ(1)+"</defs>")}b.push(_.OQ(1)+"<style>");
b.push(_.OQ(2)+"tspan { white-space:pre }");for(var r in U.A_)b.push(_.OQ(2)+"."+r+" { "+U.A_[r]+" } ");
b.push(_.OQ(1)+"</style>");b=b.concat(U.JS);b.push("</svg>");b=b.join(Z.a1A?"\n":"");if(_.ux){console.log(_.ux);
var q="SVGParser.gen.db = [\n";for(var l=0;l<_.ux.length;l++){var w=_.ux[l];q+="{\n\tnam: \""+w.if+"\",\n\tpts: [\n";
for(var X=0;X<w.yk.length;X++){var Q=w.yk[X];q+="\t\t[\""+Q[0]+"\", { cmds: "+JSON.stringify(Q[1].C)+", crds:"+JSON.stringify(Q[1].s)+" } ]"+(X==w.yk.length-1?"":",")+"\n"}q+="\t]\n}"+(l==_.ux.length-1?"":",")+"\n"}q+="]\n";
console.log(q)}return s.nw(b)};iL.yW="";iL.OQ=function(gi){var e="";for(var l=0;l<gi;l++)e+=iL.yW;return e};
iL.N2=function(gi){return""+parseFloat(gi.toFixed(3))};iL.Vz=function(e,Z,F,b,_,d){var S=iL;function U(w,eX){var P=w.add.lmfx;
if(P)P=P[eX].v[0];if(P)P=P.v;if(P&&!P.enab.v)P=null;return P}function r(w,n){var fp=U(w,"frameFXMulti");
if(fp){var eN=fp.Sz.v.val;if(fp.Styl.v.FStl=="OutF"){n.push("paint-order:stroke fill markers");eN*=2}n.push("stroke: "+CSS.xO(fp.Clr.v));
n.push("stroke-width: "+eN);n.push("stroke-linejoin: round;")}}for(var q=0;q<F.length;q++){var w=F[q].i,X=w.add.lsct,Q=w.add.vmsk,c=w.add.vstk,u=w.add.TySh;
if(Q&&!Q.isEnabled)Q=c=null;var n=[];if(!_.hidden&&!w.ir())continue;var k=w.opacity/255,B=w.add.iOpa?w.add.iOpa/255:1;
if(k!=1)n.push("opacity: "+S.N2(k));if(B!=1)n.push("fill-opacity: "+S.N2(B));if(w.Du!="norm"){var o=ae.mk[ae.Qd.indexOf(w.Du)];
if(o!=null)n.push("mix-blend-mode: "+o)}if(!w.ir())n.push("display: none");var T=[],z=[],W=w.getName(),$=W.indexOf(" .");
if($!=-1){z.push(W.slice($+2));W=W.slice(0,$)}if(_.names)T.push("id=\""+S.E1(W)+"\"");var R=d4.dr(w.add.lmfx,w.add),P=R[0],H=R[1];
if(w.yx()){var y=F[q].children;if(!(y.length==1&&y[0].i.add.SoLd&&!_.MY)){if(S.ux&&w.getName().split("-").length==3){S.ux.push({if:w.getName(),zZ:0,yk:[]})}iL.Q7(w,Q,Z,T);
if(n.length!=0)T.push("style=\""+n.join(";")+"\"");Z.JS.push(S.OQ(b)+"<g "+S.EP(T,z)+">");S.Vz(e,Z,y,b+1,_,d);
Z.JS.push(S.OQ(b)+"</g>")}}else if(w._l()&&Q==null){var h=new e3(0,0,e.w,e._);S.JY(n,w.add,Z,h);if(n.length!=0)T.push("style=\""+n.join(";")+"\"");
Z.JS.push(S.OQ(b)+"<rect width=\""+e.w+"\" height=\""+e._+"\" "+S.EP(T,z)+" />")}else if(Q&&w.add.SoLd==null){var h=V.c.wS(Q.T,null,!0),m=V.c.GE(Q.T);
if(m.NN!=0){T.push("fill-rule=\"evenodd\"")}var t=m.qp;S.JY(n,w.add,Z,h);if(n.length!=0){var j=n.join(";"),x=Z.u4[j];
if(x==null){x="shp"+Z.gf;Z.gf++;Z.u4[j]=x;Z.A_[x]=j}z.push(x)}Z.JS.push(S.OQ(b)+"<path "+S.EP(T,z)+" d=\""+t+"\" />");
if(S.ux&&S.ux[S.ux.length-1]){var C=V.H.Ju(Q.T);C.s=C.s.map(Math.round);var L=S.ux[S.ux.length-1];L.zZ+=JSON.stringify(C).length;
L.yk.push([n[0].split("#").pop(),C])}}else if(u&&_.a3E){var f=u.HV,D=new ge(f,d),v=null;if(P)v=CSS.xO(P.Clr.v);
if(H){var h=w.rect.clone();S.Xt(H,Z,h);v=" url(#grd"+Z.bv+")"}if(v)T.push("fill=\""+v+"\"");r(w,n);if(n.length!=0)T.push("style=\""+n.join(";")+"\"");
var A=ac.PX(D,u),M=V.H.bb(A);for(var Y in M){if(v==null)T.push("fill=\""+Y+"\"");var J=M[Y],t=Typr.U.pathToSVG({crds:J.s,cmds:J.C},2);
Z.JS.push(S.OQ(b)+"<path "+S.EP(T,z)+" "+S.yR(u)+" d=\""+t+"\" />");if(v==null)T.pop()}}else if(u&&!_.a97){var f=u.HV,I=u.A.clone(),v=null;
n.push("transform: "+S.oH(I));var p=fN.xf(f),D=new ge(f,d);r(w,n);if(n.length!=0)T.push("style=\""+n.join(";")+"\"");
Z.JS.push(S.OQ(b)+"<text "+S.EP(T,z)+" >");if(P)v=CSS.xO(P.Clr.v);if(H){var h=w.rect.clone();h.x-=I.lr;
h.y-=I.Xz;S.Xt(H,Z,h);v=" url(#grd"+Z.bv+")"}for(var l=0;l<D.Qm.length;l++){var a=D.Qm[l];if(a.jN.length==1&&a.jN[0].yz)continue;
for(var er=0;er<a.sg.length;er++){var c8=a.sg[er],O=a.TF.y+c8.TF.y,dF=a.jN[c8.start].start,gl=a.jN[c8.end-1].end,e0=fN.a7I(f,dF,gl),bv="";
for(var gm=0;gm<e0.length;gm++){var iW=D.jO(dF),jx=e0[gm],aC=fN.C7(f,dF,dF),d9=aC.j3[aC.sn.Font].Name,Y=fN.Gb(aC.sn.FillColor),bS=Math.round(aC.sn.FontSize),jo=p.slice(dF,dF+jx);
if(aC.sn.FontCaps==2)jo=jo.toUpperCase();var g7=new jg;g7.translate(iW.uT.x,-O);var dI=[];CSS.a14(dI,aC,null,!0,!0,v);
var j=dI.join(";"),x=Z.u4[j];if(x==null){x="txt"+Z.gf;Z.gf++;Z.u4[j]=x;Z.A_[x]=j}var gn=iW.uT.x,hI=S.au9(aC,jo);
bv+="<tspan "+(gm==0?"x=\""+S.N2(iW.uT.x)+"\"":"")+" y=\""+S.N2(O)+"\" class=\""+x+"\""+hI+">"+S.E1(jo)+"</tspan>";
dF+=jx}Z.JS.push(S.OQ(b+1)+bv)}}Z.JS.push(S.OQ(b)+"</text>")}else if(w.add.SoLd&&_.MY){var d$=w.add.SoLd,eX=d$.Idnt.v,d3=0,cJ=d$.Crop?d$.Crop.v:null;
if(Z.dG[eX]!=null)d3=Z.dG[eX];else{Z.kH++;d3=Z.kH;Z.dG[eX]=Z.kH;var dM=e.qG(eX,cJ),aK="";if(dM==null)return;
var dh=dM.Sa,jh=fg.zV(dM.raw.buffer);if(jh=="pdf"){var ca=new aH("h");fg.H_("PDF").Fx(dM.raw.buffer,ca);
ca.FZ();ca.Di();ca.G();ca.Om();if(d$.Crop&&d$.Crop.v==1){i.Za.yi(ca,ca.root.jK(ca,!0))}var iY=fg.H_("SVG").ng(ca,ca.w,ca._,null,{W5:d});
aK="data:image/svg+xml;base64,"+fg.$J(iY)}else if(jh=="jpg"||jh=="png"||jh=="gif"||jh=="svg"){var et={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aK="data:"+et[jh]+";base64,"+fg.$J(dM.raw.buffer)}else{aK=fg.js(dh[0].buffer,dh[1].w,dh[1]._)}Z.MM.push(S.OQ(2)+"<image width=\""+dh[1].w+"\" height=\""+dh[1]._+"\" id=\"img"+d3+"\" href=\""+aK+"\"/>")}var jD=V.N.OL(d$),j6=[];
iL.Q7(w,Q,Z,j6);if(j6.length!=0)Z.JS.push(S.OQ(b)+"<g "+S.EP(j6,z)+">");if(n.length!=0)T.push("style=\""+n.join(";")+"\"");
var dc=S.EP(T,z);Z.JS.push(S.OQ(b)+"<use "+dc+" href=\"#img"+d3+"\" transform=\""+S.oH(jD)+"\"/>");if(j6.length!=0)Z.JS.push(S.OQ(b)+"</g>")}else if(!w.rect.BJ()&&(_.MY||u)){if(n.length!=0)T.push("style=\""+n.join(";")+"\"");
var dc=S.EP(T,z),ao=w.buffer;if(P)ao=d4.Pc(ao,P,w.rect);var ec=w.rect;Z.kH++;var aK=fg.js(ao.buffer,ec.w,ec._,"png",null,!0);
Z.MM.push(S.OQ(2)+"<image "+S.yR(u)+" width=\""+w.rect.w+"\" height=\""+w.rect._+"\" id=\"img"+Z.kH+"\" href=\""+aK+"\"/>");
Z.JS.push(S.OQ(b)+"<use "+dc+" href=\"#img"+Z.kH+"\" x=\""+ec.x+"\" y=\""+ec.y+"\" />")}}};iL.au9=function(e,Z){var F=e.sn.Tracking,b="";
if(F!=null&&F!=0){F=Math.round(F*e.sn.FontSize/1e3);b=" dx=\"0";for(var _=1;_<Z.length;_++)b+=" "+F;
b+="\" "}return b};iL.yR=function(e){if(e==null)return"";var Z=e.HV,F=fN.xf(Z);F=iL.E1(F.slice(0,F.length-1));
return"aria-label=\""+F+"\" "};iL.EP=function(e,Z){if(Z.length!=0)e.push("class=\""+Z.join(" ")+"\"");
return e.join(" ")};iL.E1=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
iL.oH=function(e){var Z=[e.Y0,e.S,e.d_,e.rl,e.lr,e.Xz].map(iL.N2);return"matrix("+Z.join(",")+")"};iL.Q7=function(e,Z,F,b){var _=iL;
if(Z||e.add.artb){var d;if(Z)d=V.c.GE(Z.T).qp;else{var S=e.iU(),U=V.H.gb(S);d=Typr.U.pathToSVG({crds:U.s,cmds:U.C},2)}F.ti++;
b.push("clip-path=\"url(#cp"+F.ti+")\"");F.MM.push(_.OQ(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+F.ti+"\">");
F.MM.push(_.OQ(3)+"<path d=\""+d+"\" />");F.MM.push(_.OQ(2)+"</clipPath>")}};iL.JY=function(e,Z,F,b){var _=iL,d=Z.vstk,S=Z.vmsk,U=Z.lmfx;
if(S&&S.Ov!=0){var r=_.N2(S.Ov);if(F.mD[r]==null){F.Wy++;F.mD[r]=F.Wy;F.MM.push(_.OQ(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+F.Wy+"\"> <feGaussianBlur stdDeviation=\""+r+"\" /> </filter>")}e.push("filter: url(#flt"+F.mD[r]+")")}var q=d4.dr(U,Z),w=q[0],X=q[1];
if(d&&!d.fillEnabled.v)e.push("fill: none");else if(w){var Q=CSS.xO(w.Clr.v);e.push("fill: "+Q)}else if(X){_.Xt(X,F,b);
e.push("fill: url(#grd"+F.bv+")")}if(d==null||!d.strokeEnabled.v)d=d4.Oh(U);if(d&&d.strokeEnabled.v){var c=d.strokeStyleContent.v,u=c.classID;
if(u=="solidColorLayer")e.push("stroke: "+CSS.xO(c.Clr.v));else{_.Xt(c,F,b);e.push("stroke: url(#grd"+F.bv+")")}var n=fu.jA.H9.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType),k=fu.jA.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType),B=d.strokeStyleOpacity.v.val/100,o=d.strokeStyleLineWidth.v.val,T=fu.jA.ej.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(T==2){o*=2;e.push("paint-order:stroke fill markers")}var z=d.strokeStyleLineDashSet.v,W=[];for(var l=0;
l<z.length;l++)W.push(Math.round(z[l].v.val*o));if(n!=0)e.push("stroke-linecap:"+["butt","round","square"][n]);
if(k!=0)e.push("stroke-linejoin:"+["miter","round","bevel"][k]);if(B!=1)e.push("stroke-opacity:"+_.N2(B));
if(o!=1)e.push("stroke-width: "+_.N2(o));if(W.length!=0)e.push("stroke-dasharray: "+W.join(","))}};iL.Xt=function(e,Z,F){Z.bv++;
var b=iL,_=e.Grad.v,d=JSON.parse(JSON.stringify(_.Clrs.v)),S=JSON.parse(JSON.stringify(_.Trns.v)),U=e.Ofst.v,r=e.Type.v.GrdT,q=r=="Rdl"?1:0,w=(q==1?"radial":"linear")+"Gradient",X=V.X.pH(e,F);
if(q==0){X[0].x=X[1].x+2*(X[0].x-X[1].x);X[0].y=X[1].y+2*(X[0].y-X[1].y)}var Q=b.OQ(2)+"<"+w+" id=\"grd"+Z.bv+"\" gradientUnits=\"userSpaceOnUse\" ";
if(q==0)Z.MM.push(Q+" x1=\""+b.N2(X[0].x)+"\" y1=\""+b.N2(X[0].y)+"\" x2=\""+b.N2(X[1].x)+"\" y2=\""+b.N2(X[1].y)+"\">");
if(q==1)Z.MM.push(Q+" cx=\""+b.N2(X[0].x)+"\" cy=\""+b.N2(X[0].y)+"\" r=\""+b.N2(bI.Ls(X[0],X[1]))+"\">");
if(r=="Rflc"){for(var c=0;c<2;c++){var u=c==0?d:S;for(var l=u.length-1;l>=0;l--){var n=u[l];n.v.Lctn.v=2048+(n.v.Lctn.v>>>1);
var k=JSON.parse(JSON.stringify(n));k.v.Lctn.v=4096-k.v.Lctn.v;u.push(k)}u.sort(function(W,$){return W.v.Lctn.v-$.v.Lctn.v})}}var B=e.Rvrs.v;
if(B){d.reverse();S.reverse()}for(var l=0;l<d.length;l++){var o=d[l].v,T=l<S.length?S[l].v.Opct.v.val/100:1,T=T==1?"":"stop-opacity=\""+b.N2(T)+"\"",z=o.Lctn.v/4096;
if(B)z=1-z;Z.MM.push(b.OQ(3)+"<stop offset=\""+b.N2(z)+"\" stop-color=\""+CSS.xO(o.Clr.v)+"\" "+T+" />")}Z.MM.push(b.OQ(2)+"</"+w+">")};
iL.wV=function(e,Z,F,b,_){var d=[],S=iL.wV,U=!1,r={bo:e,zA:Z,Bl:[!0,!0,!0],hi:!1,dO:F,aeb:0};r.uP=Math.round(Math.max(e,Z)*(.02+S.f2(r)*.03));
r.ab=S.ahI(r);r.lc=S.arm(r.ab,(S.f2(r)<.5?-1:1)*(.2+S.f2(r)*.3));if(S.f2(r)<.5){var q=r.ab;r.ab=r.lc;
r.lc=q}r.ajq=S.f2(r)<.4&&S.a1r(r.lc,{o:1,z:1,S:1})>.3;r.a04=S.f2(r)<.5?0:1;d.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+e+" "+Z+"\" width=\""+e+"\" height=\""+Z+"\">");
r.cA=b[Math.floor(S.rA(r)*b.length)];r.R6=b[Math.floor(S.rA(r)*b.length)];d.push("<style>");d.push("@font-face {  font-family: "+r.cA[2]+";  src: url("+r.cA[5]+");  }");
d.push("@font-face {  font-family: "+r.R6[2]+";  src: url("+r.R6[5]+");  }");d.push("</style>");
var w=[0,0,e,Z],X=w;if(_==null)d.push("<path style=\"fill: "+S.Wd(r.ab)+"\" d=\""+S.Rect(w[0],w[1],w[2]-w[0],w[3]-w[1])+"\" id=\"Background\" />");
else{r.hi=!0;S.rg(r,w,d,_)}if(S.f2(r)<.25&&!r.hi){r.Bl[0]=r.Bl[2]=!1;S.a7F(w,r,d);X=w}else if(S.f2(r)<.25||r.hi)X=w;
else{var Q=.52+S.f2(r)*.2;if(S.f2(r)<.5)Q=1-Q;var c=w.slice(0),u=w.slice(0);if(S.f2(r)<.5)c[2]=u[0]=Math.round(Q*e);
else c[3]=u[1]=Math.round(Q*Z);if(S.f2(r)<.5){var q=c;c=u;u=q}X=c;S.ate(r,u,d,_)}S.a5o(r,X,d);d.push("</svg>");
d=d.join("\n");var n=V.J(Math.round(d.length*1.5)),k=s.bB(d,n,0);return[n.buffer.slice(0,k),r._j]};iL.wV.a7F=function(e,Z,F){var b=iL.wV,_=e[2]-e[0],d=e[3]-e[1];
if(b.f2(Z)<.5){F.push("<path id=\"Border\" style=\"fill: "+b.Wd(Z.lc)+"\" d=\""+b.a4_(e[0],e[1],e[2]-e[0],e[3]-e[1],Z.uP)+"\" />")}else if(b.f2(Z)<-.4){b.aeu(Z,e,F)}else{var S=b.f2(Z)<.5?0:1,U=(S==0?d:_)/4,r=b.FY(Z,S,e,F,U,!0),r=b.FY(Z,S+2,e,F,U,!0,r)}};
iL.wV.a5o=function(e,Z,F){var b=iL.wV,_="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),d=2*Math.floor(b.f2(e)*_.length/2),S=Z[2]-Z[0],U=Z[3]-Z[1],q=0,X=0;
e.rE=(e.bo+S)*.5*(.04+b.f2(e)*.05);e.rE=Math.min(e.rE,U*.4,S*.12);e.rE=Math.round(e.rE);var r=Math.min(e.rE*_[d].length*(.35+.3*b.f2(e)),S*.9),w=(Z[1]+Z[3])/2,Q=V.NV(e.ab)<.85?{o:1,z:1,S:1}:{o:.1,z:.1,S:.1};
if(b.f2(e)<.25&&e.Bl[0]){X=0;q=Z[0]+e.uP}else if(b.f2(e)<.33&&e.Bl[2]){X=2;q=Z[2]-e.uP}else{X=1;q=(Z[0]+Z[2])/2}var c=Q.o==1?"0,0,0":"255,255,255",u=e.hi&&b.f2(e)<1;
if(u){var n=Z[0],k=S,B=w-e.rE*1.1,o=e.rE*2.2,T=.7;if(X==1&&b.f2(e)<.5){n=B=.2*Math.min(S,U);k=S-2*B;
o=U-B-B}else if(b.f2(e)<.7){n=B=0;k=S;o=U;T=.25}F.push("<path id=\"Strip\" style=\"fill: rgb("+c+"); opacity: "+T+"\" d=\""+b.Rect(n,B,k,o)+"\" />")}if(b.f2(e)<.4){var z=e.rE*.07;
z*=1.5+b.f2(e)*1;if(X==-1&&S/U<3&&!u){F.push("<path id=\"Bar-bottom\" style=\"fill: "+b.Wd(Q)+"\" d=\""+b.Rect(q-r/2,w+e.rE*1.1-z/2,r,z)+"\" />");
F.push("<path id=\"Bar-top\"    style=\"fill: "+b.Wd(Q)+"\" d=\""+b.Rect(q-r/2,w-e.rE*1.1-z/2,r,z)+"\" />")}if(X!=1){F.push("<path id=\"Bar\" style=\"fill: "+b.Wd(Q)+"\" d=\""+b.Rect(q-z/2,w-e.rE*.8,z,e.rE*.8*2)+"\" />");
q+=(X==0?1:-1)*e.rE/3}}var W=e.rE*.4;F.push(b.HK(_[d+1],q,w+W*1.6,W,Q,X,e.R6));F.push(b.HK(_[d],q,w+e.rE*.04,e.rE,Q,X,e.cA))};
iL.wV.ate=function(e,Z,F,b){var _=Z[2]-Z[0],d=Z[3]-Z[1],S=Math.max(_,d),U=Math.min(_,d),r=iL.wV;if(S/U<5&&!e.hi&&!1){r.rg(e,Z,F,b)}else if(r.f2(e)<0)F.push("<path style=\"fill: "+r.Wd(e.lc)+"\" d=\""+r.Rect(Z[0],Z[1],_,d)+"\" />");
else{var q=0;if(Z[3]!=e.zA)q=0;if(Z[2]!=e.bo)q=3;if(Z[0]!=0)q=1;if(Z[1]!=0)q=2;var w=q+2&3;if(S/U<3){var X=r.acE(w),Q=X[Math.round(r.f2(e)*(X.length-1))],c=Q.if.slice(0,4),u=c.indexOf(1);
Q=JSON.parse(JSON.stringify(Q));var n=-1;if(c!="0000"){var k=new jg;if(Q.if[5]=="0"){if(u==3&&q==1){n=1;
k.scale(-1,1)}else n=u}else{var B=w;while(B==w)B=Math.floor(r.f2(e)*4)&3;k.rotate((-u+B)*Math.PI/2)}r.A(Q,k)}var o=r.HA(Q),T=_-2*e.uP,z=d-2*e.uP;
if(n!=-1){if((n&1)==0)z-=e.uP;else T-=e.uP}var W=Math.min(T/o.w,z/o._),$=new jg;$.translate(-o.x,-o.y);
$.scale(W,W);var R=(_-o.w*W)/2,P=(d-o._*W)/2;if(n!=-1){if(n==3)R=0;if(n==0)P=0;if(n==1)R=_-o.w*W;if(n==2)P=d-o._*W}$.translate(Z[0]+R,Z[1]+P);
r.Dd(e,Q,$,e.lc,F)}else{r.FY(e,q,Z,F,1e9)}}};iL.wV.rg=function(e,Z,F,b){var _=Z[2]-Z[0],d=Z[3]-Z[1],S=Math.max(_,d),U=Math.min(_,d),r=iL.wV,q=r.rA(e),w,X,Q,c=b[0]instanceof ArrayBuffer;
if(c){w="data:image/jpg;base64,"+h5.tU(b[0]);X=b[1];Q=b[2]}else{var u=Math.floor(q*b.length),n=b[u];
e._j=n;w=n.webformatURL;X=n.webformatWidth;Q=n.webformatHeight}var k=Z[0],B=Z[1],o=_,T=d;if(_/d>X/Q){T=o*Q/X;
B=B-(T-d)/2}else{o=T*X/Q;k=k-(o-_)/2}if(c){F.push("<defs>");F.push("<image width=\""+X+"\" height=\""+Q+"\" id=\"Background\" href=\""+w+"\" />");
F.push("</defs>");var z=o/X;F.push("<use href=\"#Background\" transform=\""+iL.oH(new jg(z,0,0,z,k,B))+"\" />")}else{var W="cp"+Math.random();
F.push("<clipPath id=\""+W+"\">");F.push("<path style=\"fill: "+r.Wd(e.lc)+"\" d=\""+r.Rect(Z[0],Z[1],_,d)+"\" />");
F.push("</clipPath>");F.push("<image  clip-path=\"url(#"+W+")\" xlink:href=\""+w+"\" x=\""+k+"\" y=\""+B+"\" width=\""+o+"\" height=\""+T+"\" />")}};
iL.wV.HK=function(e,Z,F,b,_,d,S){var U=iL.wV;return"<text x=\""+Z+"\" y=\""+F+"\" style=\"fill:"+U.Wd(_)+"; font-size:"+b+"px; text-anchor:"+["start","middle","end"][d]+"; font-family:"+S[2]+";\"><tspan>"+e+"</tspan></text>"};
iL.wV.Dd=function(e,Z,F,b,_){var d=iL.wV,S=[];for(var l=0;l<Z.yk.length;l++){S.push(b);if(e.ajq){b=(l&1)==e.a04?{o:1,z:1,S:1}:S[0]}}_.push("<g id=\""+Z.if.split("-")[2]+":::\" style=\"transform: "+iL.oH(F)+";\" >");
for(var l=0;l<Z.yk.length;l++){var U=Z.yk[l];b=S.pop();_.push("<path style=\"fill: "+(b?d.Wd(b):"#"+U[0])+"\" d=\""+Typr.U.pathToSVG({crds:U[1].s,cmds:U[1].C})+"\" />")}_.push("</g>")};
iL.wV.aeu=function(e,Z,F){var b=iL.wV,_=iL.wV.W6,d=[];for(var l=0;l<_.length;l++){var S=_[l],U=S.if.slice(0,4);
if(U!="1001")continue;d.push(S)}var S=d[Math.floor(b.f2(e)*d.length)];if(b.f2(e)<.5)b.A(S,new jg(0,1,1,0,0,0));
var r=Z[3]-Z[1],q=Z[2]-Z[0],w=b.HA(S),X=.7*Math.min(q,r,.5*Math.max(q,r))/Math.max(w.w,w._),Q=new jg;
Q.scale(X,X);if(b.f2(e)<.5){Q.scale(1,-1);Q.translate(0,r)}b.Dd(e,S,Q,e.lc,F);Q.rotate(Math.PI);Q.translate(q,r);
b.Dd(e,S,Q,e.lc,F)};iL.wV.acE=function(e){var Z=iL.wV.W6,F=[];for(var l=0;l<Z.length;l++){var b=Z[l],_=b.if.slice(0,4);
if(_=="0000"){F.push(b);continue}if(["1000","0100","0010","0001"].indexOf(_)==-1)continue;var d=_.indexOf("1");
if(b.if[5]=="0"&&e==d&&d!=3)continue;F.push(b)}return F};iL.wV.FY=function(e,Z,F,b,_,d,S){var U=iL.wV.W6,r=iL.wV,q=[],o,T;
for(var l=0;l<U.length;l++){var w=U[l],X=w.if.slice(0,4);if(["1110","1101","1011","0111"].indexOf(X)==-1)continue;
var Q=X.indexOf("0")+2&3;if(w.if[5]=="0")if(d==!0||Z!=Q&&!(Z==1&&Q==3))continue;q.push(w)}var c=S!=null?S:Math.floor(r.f2(e)*q.length),w=q[c],w=JSON.parse(JSON.stringify(w)),X=w.if.slice(0,4),Q=X.indexOf("0")+2&3;
if(Q==3&&Z==1)V.A(w,new jg(1,0,0,-1,0,1e3));var u=new jg;u.translate(-500,-500);u.rotate(-Q*Math.PI/2);
u.translate(500,500);r.A(w,u);var n=F[3]-F[1],k=F[2]-F[0],B=r.HA(w);if(B.y<0){B._+=B.y;B.y=0}if(B.y>0){B._+=B.y;
B.y=0}if((Z&1)==0){T=n;o=k}else{o=n;T=k}var z=Math.min(Math.min(.5+.5*r.f2(e))*Math.min(k,n),_)/B._,W=Math.ceil(o/(1e3*z)),$=new jg,R=new jg;
R.scale(z,z);if(Z==0||Z==2){R.translate(-(k/2),-(n/2));R.rotate(-Z*Math.PI/2);R.translate(k/2+F[0],n/2+F[1])}else{R.rotate(Math.PI/2);
R.scale(1,-1);R.translate(F[0],F[1]);if(Z==1){R.scale(-1,1);R.translate(k,0)}}b.push("<g id=\"Border-"+["top","right","bottom","left"][Z]+":::\">");
for(var l=0;l<W;l++){var P=$.clone();P.concat(R);r.Dd(e,w,P,e.lc,b);$.translate(1e3-2,0)}b.push("</g>");
return c};iL.wV.Rect=function(e,Z,F,b){return Typr.U.pathToSVG({crds:[e,Z,e+F,Z,e+F,Z+b,e,Z+b],cmds:["M","L","L","L","Z"]})};
iL.wV.a4_=function(e,Z,F,b,_){var d=[e,Z,e+F,Z,e+F,Z+b,e,Z+b];e+=_;Z+=_;F-=2*_;b-=2*_;d.push(e,Z,e,Z+b,e+F,Z+b,e+F,Z);
return Typr.U.pathToSVG({crds:d,cmds:"M L L L Z M L L L Z".split(" ")})};iL.wV.arm=function(e,Z){var F=V.Q0(e.o,e.z,e.S);
F.HX=Math.max(.1,Math.min(.9,F.HX+Z));return V.FD(F.zA,F.ME,F.HX)};iL.wV.aj5=function(e,Z){var F=V.Q0(e.o,e.z,e.S);
F.zA+=Z;return V.FD(F.zA,F.ME,F.HX)};iL.wV.aa2=function(e){var Z=V.Q0(e.o,e.z,e.S);Z.HX=1-Z.HX;return V.FD(Z.zA,Z.ME,Z.HX)};
iL.wV.a1r=function(e,Z){var F=e.o-Z.o,b=e.z-Z.z,_=e.S-Z.S;return Math.sqrt(F*F+b*b+_*_)};iL.wV.ahI=function(e){var Z=iL.wV;
return{o:Z.f2(e),z:Z.f2(e),S:Z.f2(e)}};iL.wV.Wd=function(e){return CSS.$X({o:e.o*255,z:e.z*255,S:e.S*255})};
iL.wV.HA=function(e){var Z=e.yk,F=new e3;for(var l=0;l<Z.length;l++)F=F.Us(V.H.HA(Z[l][1].s));return F};
iL.wV.A=function(e,Z){var F=e.yk;for(var l=0;l<F.length;l++)V.H.A(F[l][1].s,Z,F[l][1].s)};iL.wV.f2=function(e){e.aeb++;
var Z=e.aeb&3;if(Z==0)e.dO=iL.wV.w8(e.dO);var F=e.dO>>>8*Z&255;return F*(.99999999/255)};iL.wV.rA=function(e){var Z=iL.wV.w8(e.dO);
e.dO=iL.wV.w8(Z);return Z*(1/4294967295)};iL.wV.w8=function(e){e=(e^61^e>>>16)>>>0;e=e+(e<<3)>>>0;e=(e^e>>>4)>>>0;
e=e*668265261>>>0;e=(e^e>>>15)>>>0;return e};iL.wV.W6=[{if:"0001-0-bird",yk:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{if:"0001-0-bird2",yk:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{if:"0000-1-flower",yk:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{if:"0000-1-flower",yk:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{if:"0000-1-flower",yk:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{if:"0000-1-flower",yk:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{if:"0000-1-flower",yk:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{if:"0000-0-hearts",yk:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{if:"0000-0-anchor",yk:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{if:"0000-1-leaf",yk:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{if:"0000-1-acorn",yk:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{if:"0000-0-skull",yk:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{if:"0000-0-ghost",yk:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{if:"1001-1-rose",yk:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{if:"1001-1-curls",yk:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{if:"0111-0-pines",yk:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{if:"0111-0-flowers",yk:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{if:"1101-1-confetti",yk:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{if:"1101-1-branch",yk:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{if:"1101-1-sticks",yk:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{if:"1101-1-dots",yk:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{if:"1101-1-strips",yk:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{if:"1101-1-circs",yk:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{if:"1101-1-squares",yk:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{if:"1101-0-christmas",yk:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var gg={};gg.parse=function(e){var Z=new Uint8Array(e),F=null;if(Z[0]==80&&Z[1]==75){var b=Date.now(),_=UZIP.parse(Z.buffer),F=_["document.json"];
F=JSON.parse(s.CI(F,0,F.length));gg.Fr(F,_)}else{var d=ey.parse(e);F=gg.LF(d[2][0][1])}return F};gg.Fr=function(e,Z){var F=typeof e;
if(F=="string"||F=="number"||F=="boolean")return e;if(e instanceof Array){for(var l=0;l<e.length;l++)e[l]=gg.Fr(e[l],Z);
return e}var b=e._class;if(b==null)return e;if(b=="MSJSONFileReference"){var _=e._ref;if(!1){}else if(Z[_+".json"]!=null){var d=Z[_+".json"],S=d.length;
for(var l=0;l<S;l++)if(d[l]==11||d[l]==3)d[l]=32;var U=s.CI(d,0,S);e=JSON.parse(U)}else if(Z[_+".png"]!=null)return{key:_.split("/").pop(),bdata:Z[_+".png"]};
else if(Z[_+".jpg"]!=null)return{key:_.split("/").pop(),bdata:Z[_+".jpg"]};else if(Z[_+".pdf"]!=null)return{key:_.split("/").pop(),bdata:Z[_+".pdf"]};
else if(Z[_]!=null)return{key:_.split("/").pop(),bdata:Z[_]};else{console.log(e,Z);return}}else if(b=="MSAttributedString"){var U=atob(e.archivedAttributedString._archive),r=U.length-1,q=new Uint8Array(r);
for(var l=0;l<r;l++)q[l]=U.charCodeAt(l);e.archivedAttributedString=gg.LF(q)}for(var w in e)e[w]=gg.Fr(e[w],Z);
return e};gg.JL=function(e,Z,F,b){if(e instanceof Uint8Array)return null;if(b.indexOf(e)!=-1)return null;
b.push(e);if(e==Z)return F;for(var _ in e){F.push(_);var d=gg.JL(e[_],Z,F,b);if(d){console.log(e,d);
throw"e"}F.pop()}};gg.LF=function(e){var Z=e7.parse(e,0),F=Z.$objects,b=new Uint8Array(F.length),_=gg.hA(F,b,Z.$top.root);
for(var l=0;l<F.length;l++)if(b[l]==0&&l!=0){console.log(l,F[l]);gg.JL(_,l,[],[])}for(var l=0;l<F.length;
l++){var d=F[l];if(d._class&&(d._class=="bitmap"||d._class=="fill"&&d.fillType==4&&(d.image||d.imageSHA))){var S=d.image,U=d.imageSHA,r=null,q=null;
if(S=="$null")S=null;if(U=="$null")U=null;if(S&&S.data){q=S.sha1["NS.bytes"];q=btoa(s.fl(q,0,q.length));
r=S.data instanceof Uint8Array?S.data:S.data["NS.bytes"]}else if(S==null&&U==null){var w=fg.H_("PNG").ng([[V.J(4).buffer]],1,1);
r=new Uint8Array(w)}else{var X=(_.assets?_.assets.imageCollection:_.images).images;if(U)q=U instanceof Uint8Array?U:U["NS.bytes"];
else q=S.sha1["NS.bytes"];q=btoa(s.fl(q,0,q.length));var r=X[q].data;if(r["NS.bytes"])r=r["NS.bytes"]}r=new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.length));
delete d.imageSHA;d.image={key:q,bdata:r}}}return _};gg.a8e=function(e){return e.slice(0,11)=="MSImmutable"?"MS"+e.slice(11):e};
gg.hA=function(e,Z,F){var b=e[F];if(Z[F]==1){return b}Z[F]=1;if(typeof b=="string")return b;if(typeof b=="number")return b;
if(typeof b=="boolean")return b;if(b instanceof Array)return b;if(b instanceof Uint8Array){return b}if(e[b.$class]==null){if(b.$class==null&&b["NS.data"]!=null)return b;
console.log(F,b);throw"e"}var _=e[b.$class],d=gg.a8e(_.$classname);Z[b.$class]=1;b.$class=d;if(gg.rw[d]){delete b.$class;
b._class=gg.rw[d]}var S=gg.hA;if(d=="NSMutableArray"||d=="NSArray"){var U=[];if(b["NS.objects"]!=null)for(var l=0;
l<b["NS.objects"].length;l++)U.push(S(e,Z,b["NS.objects"][l]));else for(var l=0;b["NS.object."+l]!=null;
l++)U.push(S(e,Z,b["NS.object."+l]));e[F]=U;return U}if(d=="NSDictionary"||d=="NSMutableDictionary"){var r={$class:d};
if(b["NS.keys"]!=null)for(var l=0;l<b["NS.keys"].length;l++){var q=S(e,Z,b["NS.keys"][l]);if(q instanceof Uint8Array)q=btoa(gg.gH.fl(q,0,q.length));
else if(typeof q!="string"&&typeof q!="number")q=btoa(gg.gH.fl(q["NS.bytes"],0,q["NS.bytes"].length));
r[q]=S(e,Z,b["NS.objects"][l])}else for(var l=0;b["NS.key."+l]!=null;l++){var q=S(e,Z,b["NS.key."+l]);
if(q instanceof Uint8Array)q=btoa(gg.gH.fl(q,0,q.length));else if(typeof q!="string"&&typeof q!="number")q=btoa(gg.gH.fl(q["NS.bytes"],0,q["NS.bytes"].length));
r[q]=S(e,Z,b["NS.object."+l])}for(var w in b)delete b[w];for(var w in r)b[w]=r[w];return b}if(d=="NSURL")return{$class:d,base:S(e,Z,b["NS.base"]),relative:S(e,Z,b["NS.relative"])};
if(gg.amy.indexOf(d)!=-1){e[F]=S(e,Z,b.array_do);return e[F]}if(b.do_objectID!=null)b.do_objectID=S(e,Z,b.do_objectID);
if(gg.aed.indexOf(d)!=-1)return b;var X=gg.aou[d];if(X==null){console.log(e,b);throw"unknown class "+d}for(var l=0;
l<X.length;l++)if(b[X[l]]!=null)b[X[l]]=S(e,Z,b[X[l]]);if(d=="MSTextLayer"){var Q=b,c,u,n,k;if(Q.attributedString)c=Q.attributedString.archivedAttributedString;
else c=Q.storage;k=c.NSString;if(typeof k!="string")k=s.CI(k["NS.bytes"],0,k["NS.bytes"].length);if(c.NSAttributeInfo)u=c.NSAttributeInfo["NS.bytes"];
else{var B=k.length,o=[];while(B>0){var T=Math.min(100,B);o.push(T,0);B-=T}u=new Uint8Array(o)}n=c.NSAttributes instanceof Array?c.NSAttributes:[c.NSAttributes];
var z={$class:"NSAttributedString",NSString:k,NSAttributes:n};Q.attributedString={_class:"MSAttributedString",archivedAttributedString:z};
z.NSAttributeInfo={$class:"NSMutableData","NS.data":u};delete Q.storage}return b};gg.gH={Ip:function(e,Z){return e[Z+1]<<8|e[Z]},l:function(e,Z){return e[Z+3]<<24|e[Z+2]<<16|e[Z+1]<<8|e[Z]},fl:function(e,Z,F){var b="";
for(var l=0;l<F;l++)b+=String.fromCharCode(e[Z+l]);return b}};gg.rw={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
gg.amy=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
gg.aed="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
gg.aou={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var e7={};e7.parse=function(e,Z){var F=s.fl(e,Z,8);Z+=8;var b=e7.parse.a0T(e,e.length-31),_=[];if(b.m8==1){var Z=e.length-31-b.m8*b.Of;
for(var l=0;l<b.Of;l++)_.push(e[Z+l])}else if(b.m8==2){var Z=e.length-31-b.m8*b.Of;for(var l=0;l<b.Of;
l++)_.push(s.Ip(e,Z+l*2))}else if(b.m8==4){var Z=e.length-31-b.m8*b.Of;for(var l=0;l<b.Of;l++)_.push(s.l(e,Z+l*4))}else{throw"e"}var d=e7.parse.hA(e,_,b.root,b);
return d};e7.parse.hA=function(e,Z,F,b){var _=e7.gH,d=b.ajF,S=d==4?_.l:d==2?_.Ip:_.amL,U=e7.parse,r=Z[F],q=e[r],w=q>>4,X=q&15,c=null;
r+=1;if([4,5,6,10,12,13].indexOf(w)!=-1&&X==15){var Q=U.ft(e,r);r+=Q.zZ;X=Q.I}if(!1){}else if(w==0)c=X==8?!1:X==9?!0:null;
else if(w==1)c=U.ft(e,r-1).I;else if(w==2)c=1<<X==4?s.ze(e,r):s.e8(e,r);else if(w==3)c=s.e8(e,r);else if(w==4)c=new Uint8Array(e.buffer,r,X);
else if(w==5)c=s.fl(e,r,X);else if(w==6)c=s.v6(e,r,X);else if(w==8){c=0;for(var l=0;l<X+1;l++)c=c<<8|e[r+l]}else if(w==10){c=[];
for(var l=0;l<X;l++)c.push(U.hA(e,Z,S(e,r+d*l),b))}else if(w==12){c=[];for(var l=0;l<X;l++)c.push(U.hA(e,Z,S(e,r+d*l),b))}else if(w==13){c={};
for(var l=0;l<X;l++){var u=U.hA(e,Z,S(e,r+d*l),b),n=U.hA(e,Z,S(e,r+d*(X+l)),b);c[u]=n}}else throw"unknown mask "+w;
return c};e7.parse.ft=function(e,Z){var F=1<<(e[Z]&15),b=0;for(var l=0;l<F;l++)b=b<<8|e[Z+1+l];return{I:b,zZ:F+1}};
e7.parse.a0T=function(e,Z){var F={};Z+=6;F.m8=e[Z];Z++;F.ajF=e[Z];Z++;Z+=4;F.Of=s.l(e,Z);Z+=4;Z+=4;F.root=s.l(e,Z);
Z+=4;Z+=4;F.aeM=s.l(e,Z);Z+=4;return F};e7.gH={amL:function(e,Z){return e[Z]},Ip:function(e,Z){return e[Z]<<8|e[Z+1]},l:function(e,Z){return e[Z]<<24|e[Z+1]<<16|e[Z+2]<<8|e[Z+3]},fl:function(e,Z,F){var b="";
for(var l=0;l<F;l++)b+=String.fromCharCode(e[Z+l]);return b}};var ey={parse:function(e){var Z=new Uint8Array(e),F=ey.cW(Z),b=[],_=new Uint8Array(Z.length),d=[];
b.push(d);ey.gI(Z,F,1,_,d);for(var l=0;l<d.length;l++){var S=[];b.push(S);ey.gI(Z,F,d[l][3],_,S);d[l][3]=l+1}return b},gI:function(e,Z,F,b,_){F--;
var d=F*Z.GP+(F==0?100:0),S=e[d],U=ey.Ip(e,d+1);if(U!=0)throw"free block in a page";var r=ey.Ip(e,d+3),q=ey.Ip(e,d+5);
if(q==0)q=65536;var w=e[d+7],X=ey.Ip(e,d+8);if(S==2||S==5)d+=4;else X=0;for(var Q=0;Q<r;Q++){var c=F*Z.GP+ey.Ip(e,d+8+2*Q),u=-1,n=0,k=0,B=0;
if(S==2||S==5){u=ey.l(e,c);c+=4}if(S==2||S==10||S==13){n=ey.i3(e,c);c+=n.zZ}if(S==5||S==13){k=ey.i3(e,c);
c+=k.zZ}if(S==5){ey.gI(e,Z,u,b,_);continue}var o=Z.GP-(F==0?100:0),T=n.Bi,z=S==13?o-35:Math.floor((o-12)*64/255)-23,W=Math.floor((o-12)*32/255)-23,$=W+(T-W)%(o-4);
if(T<=z){ey.Fk(e,c,b,0,T)}else{var R=$<=z?$:W,P=0;ey.Fk(e,c,b,0,R);P+=R;B=ey.l(e,c+R);while(B!=0){var H=(B-1)*Z.GP;
B=ey.l(e,H);var y=Math.min(Z.GP-4,T-P);ey.Fk(e,H+4,b,P,y);P+=y}}_.push(ey.alr(b,T))}},alr:function(e,Z){var F=0,b=ey.i3(e,F);
F+=b.zZ;var _=[],d=[];while(F<b.Bi){var S=ey.i3(e,F);F+=S.zZ;_.push(S.Bi)}if(F!=b.Bi)throw"e";for(var l=0;
l<_.length;l++){var S=_[l];if(!1){}else if(S==0)d.push(null);else if(S==1){d.push(ey.a4E(e,F));F+=1}else if(S==2){d.push(ey.Ea(e,F));
F+=2}else if(S==3){d.push(ey.alf(e,F));F+=3}else if(S==4){d.push(ey.ft(e,F));F+=4}else if(S==7){d.push(ey.ajk(e,F));
F+=16}else if(S==8)d.push(0);else if(S==9)d.push(1);else if(S>=12&&(S&1)==0){var U=S-13>>1,r=new Uint8Array(U);
ey.Fk(e,F,r,0,U);d.push(r);F+=U}else if(S>=13&&(S&1)==1){var U=S-12>>1;d.push(ey.CI(e,F,U));F+=U}else throw"unknonw type "+S}return d},cW:function(e){if(!(e[18]==1&&e[19]==1&&e[20]==0&&e[21]==64&&e[22]==32&&e[23]==32))throw"unexpected SQL3 header";
var Z={tf:ey.fl(e,0,15),GP:ey.Ip(e,16),auk:ey.l(e,24),size:ey.l(e,28),akf:ey.l(e,32),ajs:ey.l(e,36),alJ:ey.l(e,40),afK:ey.l(e,44),atn:ey.l(e,48),a7z:ey.l(e,52),arp:ey.l(e,56),ab3:ey.l(e,60),asG:ey.l(e,64)!=0,ak2:ey.l(e,68),a4d:ey.l(e,92),ac9:ey.l(e,96)};
if(Z.GP==1)Z.GP=65536;if(Z.arp!=1)throw"unsupported text encoding "+Z.arp;return Z},abR:function(e,Z){return e[Z]<<16|e[Z+1]<<8|e[Z+2]},alf:function(e,Z){var F=ey.abR(e,Z),b=F&8388608;
return b?-(16777215-F+1):F},a4E:function(e,Z){ey.N$[0]=e[Z];return ey.a8n[0]},ft:function(e,Z){var F=ey.N$;
for(var l=0;l<4;l++)F[l]=e[Z+3-l];return ey.acp[0]},Ea:function(e,Z){var F=ey.N$;F[0]=e[Z+1];F[1]=e[Z];
return ey.a7c[0]},Ip:function(e,Z){return e[Z]<<8|e[Z+1]},l:function(e,Z){return e[Z]<<24|e[Z+1]<<16|e[Z+2]<<8|e[Z+3]},ajk:function(e,Z){var F=ey.N$;
for(var l=0;l<8;l++)F[l]=e[Z+7-l];return ey.a4g[0]},i3:function(e,Z){var F=Z,gi=0;while(!0){var b=e[Z];
Z++;gi=gi*128+(b&127);if(b<128)break}return{Bi:gi,zZ:Z-F}},fl:function(e,Z,F){var b="";for(var l=0;l<F;
l++)b+=String.fromCharCode(e[Z+l]);return b},CI:function(e,Z,F){var b="";for(var l=0;l<F;l++)b+="%"+ey.a7X(e[Z+l].toString(16));
return decodeURIComponent(b)},Fk:function(e,Z,F,b,_){if(e[Z+_-1]==null||F[b+_-1]==null){console.log(Z,b,_);
throw"e"}for(var l=0;l<_;l++)F[b+l]=e[Z+l]},a7X:function(gi){return gi.length<2?"0"+gi:gi}};ey.N$=new Uint8Array(8);
ey.a8n=new Int8Array(ey.N$.buffer);ey.a7c=new Int16Array(ey.N$.buffer);ey.acp=new Int32Array(ey.N$.buffer);
ey.a4g=new Float64Array(ey.N$.buffer);function c_(e,Z,F){this.rj=e;this.DU=Z;this.alY=F;this.RX=new bI(0,0);
this.s_=-1;this.k_=0;this.gt=0;this.xD=new e3;this.ot=[];this.yo=null;this.a7S=null;this.tV=null;this.nQ=null;
this.Sd=null;this.a5j=null}c_.prototype.StartPage=function(e,Z,F,b,_){var d=this.DU,S=d.YE(),U=1,r=(F-e)*(b-Z);
if(_!=null)r=_;while(r*S*S/(U*U)>2*8192*8192)U++;d.scale(1/U,1/U);this.a7S=[e,Z,F,b];var U=d.YE();e=Math.round(e*U);
Z=Math.round(Z*U);F=Math.round(F*U);b=Math.round(b*U);var q=this.rj,w=this.tV;if(w==null){d.lr=-e}else{var X=w[2]-w[0]+30,Q=Math.round(F-e)+30;
if(this.RX.x+X+Q>8192){d.lr=-e;this.RX.x=0;this.RX.y+=this.gt+120;this.gt=0}else{d.lr+=X;this.RX.x+=X}}d.Xz=this.RX.y+(this.alY?b:-Z);
this.gt=Math.max(this.gt,Math.round(b-Z));this.tV=[e,Z,F,b];q.g.push(q.vs())};c_.prototype.SZ=function(){var e=this.rj,Z=e.g[e.g.length-1];
return Z};c_.prototype.dx=function(){var e=JSON.parse(JSON.stringify(fu.jA.default));e.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
e.strokeEnabled.v=!1;e.fillEnabled.v=!1;return e};c_.prototype.tH=function(){var e=this.rj,Z=e.yG();
Z.Hr("Path "+e.g.length);this.rj.g.push(Z);Z.jj|=16;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}};
Z.add.vmsk=new g.NX;Z.add.vstk=this.dx();return Z};c_.prototype.mx=function(e){var Z={s:e.crds,C:e.cmds},F=V.H.t6(Z,!1);
V.c.Jb(F,this.DU);return F};c_.aeZ=function(e,Z){for(var l=0;l<e.length;l++)if(e[l].A8!=null)e[l].A8=Z};
c_.amX=function(e){return Math.sqrt(Math.abs(e[0]*e[3]-e[1]*e[2]))};c_.NI=function(e){return V.X.Q9({o:e[0]*255,z:e[1]*255,S:e[2]*255})};
c_.o3=function(e){return new jg(e[0],e[1],e[2],e[3],e[4],e[5])};c_.prototype.Stroke=function(e){if(this.s_!=-1&&this.s_!=this.k_)return;
if(e.pth.cmds.length<=1)return;var Z=this.mx(e.pth);if(Z.length<=2)return;this.dJ(e);c_.aeZ(Z,-1);Z[2].A8=1;
var F=c_.NI(e.COLR),b=this.SZ(),_=this.dx();c_.mV(_,e,this.DU.YE(),F);var d=b!=null&&b.add.vmsk!=null&&!b.yx(),S=d&&!b.add.vstk.strokeEnabled.v&&g.NX.agg(b.add.vmsk.T,Z,!0),U=d&&!b.add.vstk.fillEnabled.v&&JSON.stringify(_)==JSON.stringify(b.add.vstk);
if(U){b.add.vmsk.T=b.add.vmsk.T.concat(Z.slice(2))}else if(S){b.add.vstk=_;_.fillEnabled.v=!0}else{b=this.tH();
b.add.vmsk.T=Z;b.add.vstk=_}};c_.mV=function(e,Z,F,b){e.strokeEnabled.v=!0;e.strokeStyleMiterLimit.v=Z.mlimit;
e.strokeStyleLineDashSet.v=d4.fL(Z.dash,1/Z.lwidth);e.strokeStyleLineDashOffset.v.val=Z.doff;e.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fu.jA.join[Z.ljoin];
e.strokeStyleLineCapType.v.strokeStyleLineCapType=fu.jA.H9[Z.lcap];e.strokeStyleLineWidth.v.val=Math.max(.4,Z.lwidth*c_.amX(Z.ctm)*F);
e.strokeStyleContent.v.Clr.v=b};c_.prototype.Fill=function(e,Z){if(this.s_!=-1&&this.s_!=this.k_)return;
if(e.ca==0)return;var F=e.pth.cmds;if(F.length==0)return;if(F.length==2&&JSON.stringify(F)=="[\"M\",\"L\"]")return;
var b=V.H.HA(e.pth.crds),_=V.H.HA(e.cpth.crds);if(b.QP(_).BJ())return;var d=e.pth,S=UDOC.G.isBox(d,[b.x,b.y,b.x+b.w,b.y+b._]),U=e.cpth,r=UDOC.G.isBox(U,[_.x,_.y,_.x+_.w,_.y+_._]);
if(S&&r&&b.Z()>_.Z()*2){var q=b.QP(_),w=q.x,X=q.y,Q=w+q.w,c=X+q._;d={cmds:["M","L","L","L","Z"],crds:[w,X,Q,X,Q,c,w,c]};
b=q}else if(this.nQ==null&&UDOC.G.isBox(d,[b.x,b.y,b.x+b.w,b.y+b._])&&b.tv(_)){d=U;b=_}else this.dJ(e);
var u=this.mx(d),n=V.H.gb(b);V.H.A(n.s,this.DU,n.s);b=V.H.HA(n.s);var k=c_.nA(e.colr,this.DU,b),B=this.SZ(),o=B!=null&&B.opacity==Math.round(255*e.ca)&&B.add.vstk!=null&&!B.add.vstk.strokeEnabled.v&&B.add.SoCo&&k.type=="SoFi"&&JSON.stringify(B.add.SoCo.Clr.v)==JSON.stringify(k.I.v.Clr.v);
if(o){var T=!1;for(var l=0;l<u.length;l++){if(u[l].A8==0||u[l].A8==2)T=!0}if(T){var z=V.H.HA(V.c.uW(B.add.vmsk.T)),W=V.H.HA(V.c.uW(u));
o=z.QP(W).BJ()}}if(o){var $=B.add.vmsk.T;for(var l=2;l<u.length;l++)$.push(u[l])}else{B=this.tH();delete B.add.SoCo;
B.add.vmsk.T=g.NX.o4(u);c_.MS(e.colr,B,this.DU,b);c_.AL(e,B)}};c_.MS=function(e,Z,F,b){var _=c_.nA(e,F,b),d=null,S=null;
Z.add.vstk.fillEnabled.v=!0;if(_.type=="SoFi"){d="SoCo";S=fu.On}if(_.type=="GrFl"){d="GdFl";S=fu.So}if(_.type=="patternFill"){d="PtFl";
S=fu.p6}if(d!=null){Z.add[d]={classID:"null"};for(var l=0;l<S.length;l++){var U=S[l];Z.add[d][U]=_.I.v[U]}}};
c_.prototype.dJ=function(e){var Z=this.rj,F=e.cpth,b=F.cmds.join(""),_=F.crds,d=b+" "+_.join(","),S=UDOC.G.isBox(F,this.a7S);
if(S&&this.nQ==null)return;if(d==this.nQ)return;this.Uv();if(!S){this.nQ=d;Z.g.push(Z.vs());var U=Z.yG();
U.Hr("Mask");U.add.lsct=jj.ZU;U.Du="pass";U.jj=24;var r=U.add.vmsk=new g.NX;r.T=this.mx(e.cpth);if(UDOC.G.isBox(F)){this.Sd=V.c.wS(r.T);
this.Sd.qN(3,3)}else this.Sd=null;this.a5j=U}};c_.prototype.Uv=function(){var e=this.rj;if(this.nQ!=null){var Z=e.g.length-1,l=Z,F=!1;
while(l>=0&&e.g[l].add.lsct!=jj.Hx)l--;var b=this.Sd;if(b){var _=new e3,d=Z;while(d>l){_=e.g[d].T8(this.rj,!1,!0);
d--}F=b.tv(_)}if(F){this.ot.splice(l,1);e.g.splice(l,1)}else{e.g.push(this.a5j)}this.nQ=null}};c_.nA=function(e,Z,F){var b,_;
if(e.length!=null){b="SoFi";var d=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);_={t:"Objc",v:d};_.v.Clr.v=c_.NI(e)}else{var S=c_.aha(e,Z,F);
b="GrFl";_={t:"Objc",v:S}}return{type:b,I:_}};c_.aha=function(e,Z,F){var b=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),_=b.Grad.v;
_.Intr.v=0;var d=c_.o3(e.mat);d.concat(Z);var S=new bI(0,0),U=new bI(F.w,0),r=e.crds;if(e.typ=="rad"){b.Type.v.GrdT="Rdl";
var q=.7;S.x=(1-q)*r[0]+q*r[3];S.y=(1-q)*r[1]+q*r[4];U.x=S.x;U.y=S.y;U.x+=Math.max(r[2],r[5])}else{b.Type.v.GrdT="Lnr";
S.x=r[0];S.y=r[1];U.x=r[2];U.y=r[3];S.x=U.x+.5*(S.x-U.x);S.y=U.y+.5*(S.y-U.y)}S=d.rS(S);U=d.rS(U);V.X.h4(S,U,F,b);
var w=e.grad;V.X.KY(w,_);return b};c_.prototype.PutText=function(e,Z,F,b){var _=Z.charCodeAt(0),Q=null;
if(this.s_!=-1&&this.s_!=this.k_)return;if(Z.length==0||Z.length==1&&(_==0||_==8203))return;this.dJ(e);
var d=this.rj,S=e.font,U=c_.o3(e.ctm);U.concat(this.DU);var r=c_.o3(S.Tm);r.concat(U);var q=i.Q.YE(r),w=new jg(1/q,0,0,-1/q,0,0);
w.concat(r);var X=S.Tfs*q,c=d.g.length-1;while(c>=0&&d.g[c].add.TySh==null)c--;if(w.S*w.S+w.d_*w.d_<.001&&b==null&&c>=0&&d.g[c].add.TySh&&d.g[c].opacity==Math.round(255*e.ca)){var u=d.g[c],n=this.ot[c],k=u.add.TySh.A,B=(k.lr+n.kn-w.lr)/X,o=Math.abs(B),T=Z.indexOf(" ")==-1,z=k.Y0==w.Y0&&k.S==w.S&&k.d_==w.d_&&k.rl==w.rl,W=z&&Math.abs(n.pc-w.Xz)<1e-5&&o<.6,$=w.Xz-n.pc;
if(W){Q=u;n.kn=w.lr-k.lr;if(B>.2&&T&&[".",",","?",":","!"].indexOf(Z)==-1)Z=" "+Z}else if(z&&Math.abs(w.lr-k.lr)<1e-5&&0<$&&$<X*1.7&&n.aoZ==X){Q=u;
this.WB(n);n.pc=w.Xz;Z="\n"+Z}}if(Q==null){c=d.g.length;this.ot[c]={xS:[],kn:0,pc:w.Xz,gp:"",aoZ:X};
Q=d.yG();d.g.push(Q);Q.add.lnsr="rend";Q.add.TySh=fN.hB(0,0);Q.add.TySh.A=w}var n=this.ot[c];n.kn+=F*X;
n.gp+=Z;var R=Q.add.TySh.HV,P=fN.xf(R);if(b){fN.mJ(R,1);var H=[0,0,Math.ceil(b[0]*q),Math.ceil(b[1]*q)];
fN.wH(R,H)}var y=P.length-1,h=y+Z.length;fN.Z4(R,y,Z);if(this.yo==null)this.yo=fN.C7(R,y,y);var m=this.yo;
m.sn.FontSize=Math.round(X);m.sn.Tracking=Math.round(S.Tc*100);m.sn.Underline=S.Tun==1;m.sn.FillColor={Type:1,Values:[1,e.colr[0],e.colr[1],e.colr[2]]};
if(S.Tal!=null)m.Qm.Justification=S.Tal;if(n.xS.length!=0){m.sn.AutoLeading=!1;m.sn.Leading=n.pc-n.xS[n.xS.length-1].y}var t=S.Tf;
t=t.replace(/#2B/g,"+");t=t.replace(/#2C/g,"-");t=t.split("+").pop();var j={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(j[t])t=j[t];fN.Kh(m,t);fN.IY(R,y,h-1,m);Q.Vn();Q.opacity=Math.round(255*e.ca)};c_.prototype.WB=function(e){e.xS.push({bo:e.kn,DE:e.gp.slice(e.xS.length==0?0:1)+"\n",y:e.pc,ME:e.aoZ});
e.kn=0;e.gp=""};c_.prototype.oC=function(e,Z,F){return new Uint8Array(fg.H_("PNG").ng([[e.buffer,0]],Z,F))};
c_.prototype.PutImage=function(e,Z,F,b,_,d,S){if(this.s_!=-1&&this.s_!=this.k_)return;var U=this.rj,r=e.font.Tmode;
if(r==7&&U.g[U.g.length-1].add.TySh){return}this.dJ(e);var q=c_.o3(e.ctm);q.concat(this.DU);var w=new jg(1/F,0,0,-1/b,0,1);
w.concat(q);q=w;Z=c_.bV(Z,F,b,d,!1);if(_)_=c_.bV(_,F,b,S,!0);if(_==null){if(Z.length==F*b*4)Z=this.oC(Z,F,b)}else{Z=this._C(Z,F,b,d,!1);
_=this._C(_,F,b,S,!0);var X=V.J(F*b);V.yC(_,X,0);V.s$(X,Z,3);Z=this.oC(Z,F,b)}var Q=U.mr(Z,"Bitmap",0,0),c=Q.rect.clone();
c.x=c.y=0;var u=V.H.gb(c).s;V.H.A(u,q,u);Q.add.SoLd.Trnf=i.Q.t1(u);Q.add.SoLd.nonAffineTransform=i.Q.t1(u);
Q.gV(U,!1);c_.AL(e,Q);U.g.push(Q)};c_.AL=function(e,Z){Z.opacity=Math.round(255*e.ca);var F=c_.Vi[e.bmode];
if(F==null)console.log("Unknown blend mode",F);else Z.Du=F};c_.Vi={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
c_.AQ=function(e){for(var Z in c_.Vi)if(c_.Vi[Z]==e)return Z};c_.bV=function(e,Z,F,b,_){var d=fg.zV(e.buffer);
if(d=="jpg"){try{e=new Uint8Array(fg.H_("JPG").a5T(e.buffer))}catch(gA){e=new Uint8Array(Z*F*4)}}else if(d=="jb2"){e=new Uint8Array(fg.H_("JPG").Fx(e.buffer,b,_)[0].data)}else if(e.length!=Z*F*4){var S=new Uint8Array(Z*F*4),U=Math.ceil(Z/8),r=new Uint8Array(F*U);
UTIF.decode._decodeG4(e,0,e.length,r,0,Z,1);var q=r[0]==(_?255:0);for(var w=0;w<F;w++){var X=U*w;for(var Q=0;
Q<Z;Q++){var l=w*Z+Q,c=l*4,u=(r[X+(Q>>3)]>>7-(Q&7)&1)*255;if(q)u=255-u;S[c]=u;S[c+1]=u;S[c+2]=u;S[c+3]=255}}e=S}return e};
c_.prototype._C=function(e,Z,F,b,_){if(e.length!=Z*F*4){var d=fg.zV(e.buffer);if(d=="jb2")throw"e";var S=fg.H_(d);
if(S==null||d=="tga")S=fg.H_("jpg");e=new Uint8Array(S.Fx(e,b,_)[0].data)}return e};c_.prototype.ShowPage=function(){var e=this.rj;
this.k_++;var Z=this.tV;this.Uv();var F=e.yG();e.g.push(F);var b=new e3(Math.round(this.RX.x),Math.round(this.RX.y),Math.round(Z[2]-Z[0]),Math.round(Z[3]-Z[1]));
if(b.BJ())b.w=b._=2e3;this.xD=this.xD.Us(b);F.bc(b);F.add.artb.artboardBackgroundType.v=3;F.Hr("Page "+this.k_);
F.add.lsct=jj.ZU;F.Du="pass";F.jj=24};c_.prototype.Print=function(e){console.log("Print:",e)};c_.prototype.Done=function(){var e=this.rj;
if(this.k_==1)e.g[e.g.length-1].add.lsct=jj.$R;e.zL(this.k_);for(var l=0;l<e.g.length;l++){var Z=e.g[l],F=Z.add.vmsk,b=Z.add.TySh,_=this.ot[l];
Z.ov();if(F){var d=!1;for(var S=0;S<F.T.length;S++){var U=F.T[S];if((U.type==0||U.type==3)&&U.length>32767)d=!0}if(d){e.g.splice(l,1);
l--;continue}}Z.kJ(e);if(b&&_.xS.length!=0){this.WB(_);var r=b.HV,q=_.xS.length,w=_.xS[0],X=0,Q=0;for(var S=0;
S<q;S++)X=Math.max(X,_.xS[S].bo);fN.mJ(r,1);b.A.Xz-=w.ME*.7;fN.wH(r,[0,0,Math.ceil(X*1.1),Math.ceil(_.xS[q-1].y-w.y+w.ME*2)])}if(b){var r=b.HV;
fN.a0J(r);var c=fN.xf(r).split("\n");for(var S=0;S<c.length-1;S++){var u=c[S],n=0;for(var k=0;k<u.length;
k++){var B=u.charCodeAt(k);if(1473<=B&&B<=1524)n++}if(n>u.length/2){c[S]=u.split("").reverse().join("");
var o=r.EngineDict.ParagraphRun.RunArray[S].ParagraphSheet.Properties;o._Direction=1;o.Justification=fN.Jz(o)}}fN.Pd(r,c.join("\n"))}}e.i6=!0;
e.w=this.xD.w;e._=this.xD._;e.buffer=V.J(this.xD.Z()*4)};var db={};db.WQ=function(e,Z,F,b,_,d){if(_==null)_=e.w;
if(d==null)d=e._;var S=!1,U=[e.root],r=e.root.children;if(e.add.artd){S=!0;for(var l=0;l<r.length;l++)if(r[l].i.add.artb==null)S=!1;
if(S)U=r}var q=new e3(0,0,e.w,e._),w=Z[0];w=w.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
w=w.split(" ");var X=[];for(var l=0;l<w.length;l++){var Q=w[l];if(Q=="-"){var c=X.pop(),u=parseInt(w[l+1]);
while(c<u){X.push(c);c++}}else X.push(parseInt(Q))}w=X;for(var l=0;l<w.length;l++)if(isNaN(w[l])||w[l]<1||w[l]>U.length){w.splice(l,1);
l--}var n=_/e.w,k=d/e._,B=n*72/e.Cr,o=k*72/e.Cr,T=Z[5];if(T==null)T=0;var z=72*T,W=72*T;for(var l=0;
l<U.length;l++){if(w.length!=0&&w.indexOf(l+1)==-1)continue;var $=U[l],R=S?$.i.iU():q,P=Math.round(R.w*B+2*z),H=Math.round(R._*o+2*W);
F.StartPage(0,0,P,H);var y=UDOC.getState([[0,0,P,H]]),h=new jg;h.translate(-R.x,-R.y-R._);h.scale(B,-o);
h.translate(z,W);if(Z[2]){var m=e.zB();if(!q.Tn(R)){m=V.J(R.Z()*4);V.Rf(e.zB(),q,m,R)}if(Z[1]!=100){var t=fg.H_("JPG").ng([[m.buffer]],R.w,R._,[Z[1]]);
m=new Uint8Array(t)}var j=new jg;j.translate(R.x,R.y);db._4(y,F,m,R,j,h)}else db.A6(e,$,y,F,h,Z,b);F.ShowPage()}F.Done()};
db.Hu=function(e){e=V.X.Gb(e);return[e.o/255,e.z/255,e.S/255]};db.A6=function(e,Z,F,b,_,d,S){var U=Z.i,r=U.add.lsct,q=U.add.lmfx,w=U.add.vmsk,X=U.add.vstk,Q=U.add.TySh,k,B;
if(!U.ir())return;var c=U.opacity/255,u=U.add.iOpa!=null?U.add.iOpa/255:1;F.bmode=c_.AQ(U.Du);F.ca=F.CA=c*u;
var n=q;if(n)n=n.solidFillMulti.v[0];if(n)n=n.v;if(n&&!n.enab.v)n=null;var o=U.rect;if(U.DZ()&&(!U.yx()||U.xP&&U.xP.AX)){if(U.yx){k=U.xP.AX;
o=U.xP.abJ}else{k=V.J(U.rect.Z());V.yC(U.buffer,k,3)}B=d4._e(q,null,k,o,e,o).type;var T=["DrSh","OrGl"];
if(u!=1||X&&!X.fillEnabled.v){var z=k.slice(0);V.eG(z);for(var l=0;l<T.length;l++){var W=B[T[l]];for(var $=0;
$<W.length;$++){var R=W[$],P=R.Od.clone();P.x+=o.x;P.y+=o.y;V.xW(z,o,R.XT,P)}}}}if(B)db.wm(U,k,o,B,F,b,_,d,!0);
if(U.yx()){for(var l=0;l<Z.children.length;l++)db.A6(e,Z.children[l],F,b,_,d,S)}else if(w&&U._l()){var H=w.T,y=V.c.wS(H),h=!1,m=!1,t=!1;
if(X.fillEnabled.v){var j=d4.dr(q,U.add),x=j[0],C=j[1];F.colr=db.P6(x?x:C,_,y);h=!0}var L=d4.Oh(q);if(!X.strokeEnabled.v&&L)X=L;
if(X.strokeEnabled.v){var f=X.strokeStyleContent.v,D=X.strokeStyleLineDashSet.v,v=fu.jA.ej.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
F.COLR=db.P6(f,_,y);F.lwidth=X.strokeStyleLineWidth.v.val*(v==2?2:1)*_.YE();F.mlimit=X.strokeStyleMiterLimit.v;
F.doff=X.strokeStyleLineDashOffset.v.val;F.ljoin=fu.jA.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
F.lcap=fu.jA.H9.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType);F.dash=[];for(var l=0;l<D.length;
l++)F.dash.push(D[l].v.val*F.lwidth);if(F.dash.length==1&&F.dash[0]==0)F.dash=[];m=!0;if(v==2)t=!0}var A=V.H.iL(H,m).qp;
V.H.A(A.s,_,A.s);F.pth={cmds:A.C,crds:A.s};if(h&&!t)b.Fill(F);if(m)b.Stroke(F);if(h&&t)b.Fill(F)}else if(Q&&d[4]){var M=Q.HV,Y=new ge(M,S),A=ac.PX(Y,Q),J=V.H.bb(A);
for(var I in J){var p=parseInt(I.slice(1),16);F.colr=n?db.Hu(n.Clr.v):[(p>>>16&255)/255,(p>>>8&255)/255,(p&255)/255];
var a=J[I];V.H.A(a.s,_,a.s);a=V.H.aeV(a);F.pth={cmds:a.C,crds:a.s};b.Fill(F)}}else if(Q&&d[3]==!1){var M=Q.HV,er=Q.A.clone(),c8=new jg(1,0,0,-1,0,0);
c8.concat(er);c8.concat(_);var O=fN.xf(M),Y=new ge(M,S);for(var l=0;l<Y.Qm.length;l++){var dF=Y.Qm[l];
if(dF.jN.length==1&&dF.jN[0].yz)continue;for(var $=0;$<dF.sg.length;$++){var gl=dF.sg[$],e0=dF.TF.y+gl.TF.y,bv=dF.jN[gl.start].start,gm=dF.jN[gl.end-1].end,iW=fN.a7I(M,bv,gm);
for(var jx=0;jx<iW.length;jx++){var aC=Y.jO(bv),d9=iW[jx],bS=fN.C7(M,bv,bv),jo=bS.j3[bS.sn.Font].Name;
F.font.Tf=jo;var I=fN.Gb(bS.sn.FillColor);F.colr=n?db.Hu(n.Clr.v):[I.o/255,I.z/255,I.S/255];var g7=F.font.Tfs=Math.round(bS.sn.FontSize),dI=O.slice(bv,bv+d9);
if(bS.sn.FontCaps==2)dI=dI.toUpperCase();var gn=new jg;gn.translate(aC.uT.x,-e0);gn.concat(c8);F.ctm=[gn.Y0,gn.S,gn.d_,gn.rl,gn.lr,gn.Xz];
b.PutText(F,dI,0);for(var hI=0;hI<2;hI++){var d$=bS.sn[hI==0?"Strikethrough":"Underline"];if(!d$)continue;
var eX=Y.jO(bv+d9-1),d3=hI==0?.27:-.2,cJ=g7*d3,dM=g7*(d3+.07),dh=eX.uT.x+eX.uT.w-aC.uT.x,jh=[0,cJ,dh,cJ,dh,dM,0,dM];
V.H.A(jh,gn,jh);F.pth={cmds:["M","L","L","L","Z"],crds:jh};b.Fill(F)}F.ctm=[1,0,0,1,0,0];bv+=d9}}}}else if(!U.rect.BJ()){var aK,ca,iY=!1,et=new jg;
if(U.add.SoLd){var jD=U.add.SoLd,j6=jD.Idnt.v,dc=e.qG(j6,jD.Crop?jD.Crop.v:null),fp="";if(dc==null)return;
var ao=dc.Sa,ec=fg.zV(dc.raw.buffer);if(d[6].indexOf(ec)!=-1){aK=dc.raw;iY=!0}else aK=ao[0];ca=ao[1];
et=V.N.OL(jD)}else{aK=U.buffer;ca=U.rect;et.translate(ca.x,ca.y)}if(n&&!iY)aK=d4.Pc(aK,n,ca);db._4(F,b,aK,ca,et,_);
if(n&&iY){var jh=[0,0,ca.w,0,ca.w,ca._,0,ca._];V.H.A(jh,et,jh);V.H.A(jh,_,jh);var eN=JSON.parse(JSON.stringify(F));
eN.ca=n.Opct.v.val/100;eN.pth={cmds:["M","L","L","L","Z"],crds:jh};eN.colr=db.Hu(n.Clr.v);b.Fill(eN)}}if(B)db.wm(U,k,o,B,F,b,_,d,!1)};
db.P6=function(e,Z,F){if(e.Clr)return db.Hu(e.Clr.v);var b=e,_=b.Rvrs?b.Rvrs.v:!1,d=[],S,U=b.Type.v.GrdT=="Rdl"?"rad":"lin",r=V.X.pH(b,F),q=Z.rS(r[0]),w=Z.rS(r[1]);
if(U=="rad")S=[q.x,q.y,0,q.x,q.y,bI.Ls(q,w)];else{q.zU(w.x+(q.x-w.x)*2,w.y+(q.y-w.y)*2);S=[q.x,q.y,w.x,w.y]}var X=b.Grad.v.Clrs.v;
for(var l=0;l<X.length;l++){var Q=X[l].v,c=Q.Lctn.v/4096;d.push([_?1-c:c,db.Hu(Q.Clr.v)])}if(_)d.reverse();
return{typ:U,mat:[1,0,0,1,0,0],grad:d,crds:S}};db.wm=function(e,Z,F,b,_,d,S,U,r){var q=F.clone(),w=Z;
if(e.add.TySh&&!U[3]&&!U[4])return;var X=_.ca,Q=_.bmode;for(var l=fu.order.length-1;l>=0;l--){var c=fu.order[l];
if(c=="GrFl"||c=="SoFi")continue;if(e.add.vmsk&&c=="FrFX")continue;var u=b[c],n=l>7||c=="FrFX";if(n!=r)continue;
for(var k=0;k<u.length;k++){var B=u[k];console.log(n,c,B);if(B.Od==null)B=B.Le?B.Le:B.PD;var o=B.Od.clone();
o.offset(q.x,q.y);if(!n){if(!q.tv(o)){var T=q.Us(o),z=V.J(T.Z());V.l2(w,q,z,T);w=z;q=T}V.xW(w,q,B.XT,o)}if(n&&c=="FrFX"&&B.zg)V.xW(B.zg,o,B.XT,o);
var W=new jg;W.translate(o.x,o.y);_.ca=B.Rv;_.bmode=c_.AQ(B.tg);db._4(_,d,B.XT,o,W,S)}}_.ca=X;_.bmode=Q};
db._4=function(e,Z,F,b,_,d){var S=new jg;S.scale(b.w,-b._);S.translate(0,b._);S.concat(_);S.concat(d);
e.ctm=[S.Y0,S.S,S.d_,S.rl,S.lr,S.Xz];Z.PutImage(e,F,b.w,b._);e.ctm=[1,0,0,1,0,0]};var hj={};hj.qj=function(e){var Z=new Uint8Array(e);
return hj.FJ(Z,0)};hj.FJ=function(e,Z){var F=s.l,b=s.fl,_={uz:b(e,Z,4),r:Z+8,size:F(e,Z+4)},d=_.uz=="FORM"||_.uz=="LIST"||_.uz=="CAT ";
if(d)_.BY=b(e,Z+8,4);if(_.size<0||_.r+_.size>e.length)throw"e";if(d){_.sub=[];Z+=12;var S=_.r+_.size;
while(Z<S){var U=hj.FJ(e,Z);_.sub.push(U);Z+=8+U.size+(U.size&1)}}return _};var e4={};e4.qj=function(e,Z){var F=new Uint8Array(e);
return e4.FJ(F,0,Z)};e4.FJ=function(e,Z,F){var b=s.lg,_=s.fl,d={uz:_(e,Z,4),r:Z+8,size:b(e,Z+4)};if(F&&F[d.size]!=null)d.size=F[d.size];
if(d.uz=="RIFF"||d.uz=="LIST"){d.BY=_(e,Z+8,4)}if(d.size<0||d.r+d.size>e.length)throw"e";if(d.uz=="RIFF"||d.uz=="LIST"&&(d.BY!="cmpr"&&d.BY!="stlt")){d.sub=[];
Z+=12;var S=d.r+d.size;while(Z<S){var U=e4.FJ(e,Z,F);d.sub.push(U);Z+=8+U.size+(U.size&1)}}return d};
function fx(){}fx.qj=function(e,Z){var F=new Uint8Array(e);Z.i6=!0;var b=s.fl(F,0,2);if(b=="WL"){alert("Unsupported CDR version")}else{var _=fx.xR,d=e4.qj(F.buffer),S={data:F,r:0,UJ:fx.aio(F[11])},U,r,u=300;
S.wM=S.UJ<600?16:32;fx.El(S,d.sub,Z,0);if(_(d,"cmpr")==null){U=_(d,"page");r=U}else{var q=_(d,"cmpr").sub;
U=q[0];r=q.slice(1)[1];var w=_(U,"filt").sub,X=_(U,"otlt").sub;U.xb={};for(var l=0;l<w.length;l++)U.xb[w[l].sub[0].I.id]=w[l].sub[0].I;
U.Ws={};for(var l=0;l<X.length;l++)U.Ws[X[l].I.id]=X[l].I}var Q=_(U,"mcfg").I,c=Q.at1;u/=g8.m7(new e3(0,0,Math.round(c.x*u),Math.round(c.y*u)),8192*8192);
var n=Math.round(c.x*u),k=Math.round(c.y*u);Z.w=n;Z._=k;Z.buffer=V.J(Z.w*Z._*4);var B=new jg(u,0,0,-u,c.x*u/2,c.y*u/2);
fx.K_(r,U,Z,B);Z.zL(1);Z.g[Z.g.length-1].bc(new e3(0,0,n,k))}};fx.xR=function(e,Z){var F=null;for(var l=0;
l<e.sub.length;l++){var b=e.sub[l];if(b.uz==Z||b.BY==Z)F=b}return F};fx.K_=function(e,Z,F,b){var _=fx.xR,d=e.BY?e.BY:e.uz,S=_(e,"lgob"),U=_(e,"txsm"),r,q;
if(S){r=_(S,"trfl");q=_(S,"loda")}else if(_(e,"lobj"))q=_(e,"lobj");var w=r?r.sub[0].dg.clone():new jg;
w.concat(b);var X=F.yG();if(d=="page"||d=="layr"||d=="grp "){X.Hr((d=="page"?"Page":"Group")+" "+F.g.length);
X.add.lsct=jj.$R;X.Du="pass";X.jj=24;var Q=[];if(d=="page")Q=_(e,"gobj").sub;if(d=="layr")Q=e.sub.slice(2);
if(d=="grp ")Q=e.sub.slice(4);if(Q.length==0)return;F.g.push(F.vs());for(var l=Q.length-1;l>=0;l--)fx.K_(Q[l],Z,F,b)}else if(d=="obj "&&q.I&&q.I.path){X.Hr("Object "+F.g.length);
var c,u;if(Z.xb){c=Z.xb[q.I.aki];u=Z.Ws[q.I.amU]}var n=X.getName(),k=c&&c.type!=0,B=k&&c.I!=null?c.I:[0,0,0];
X.jj|=16;X.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));var o=X.add.vstk;o.strokeEnabled.v=!1;
X.add.vmsk=new g.NX;if(u&&u.ae8!=1){o.strokeEnabled.v=!0;o.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
o.strokeStyleLineWidth.v.val=u.lineWidth*b.YE();var T=u.color;o.strokeStyleContent.v.Clr.v=V.X.Q9({o:T[0]*255,z:T[1]*255,S:T[2]*255})}var z=q.I.path;
X.add.vmsk.T=V.H.t6(z,!1);V.c.Jb(X.add.vmsk.T,w);c_.MS(B,X,w,V.c.wS(X.add.vmsk.T));o.fillEnabled.v=k;
X.ov();X.kJ(F)}else if(d=="obj "&&U){var W=q.I.ae$,$=q.I.a09,H="";X.add.TySh=fN.hB(0,0);var R=w.YE();
X.add.TySh.A.translate(w.lr,w.Xz);var P=X.add.TySh.HV,y=U.I.anz;for(var l=0;l<y.length;l++){var h=y[l],m=H.length;
H+=h.text+"\n";fN.Z4(P,m,h.text+"\n");var t=fx.akD(h.alL,Z),j=fN.C7(P,m,H.length);if(t.align==3)j.Qm.Justification=1;
else j.Qm.Justification=0;var x=t.fill.I;j.sn.FillColor={Type:1,Values:[1,x[0],x[1],x[2]]};j.sn.FontSize=Math.round(t.a5I.fontSize*w.YE());
fN.IY(P,m,H.length-1,j)}if($){fN.mJ(P,0)}else{fN.mJ(P,1);fN.wH(P,[0,0,Math.round(W.x*w.Y0),Math.round(-W.y*w.rl)])}X.Hr(H.slice(0,10))}else{X=null}if(X)F.g.push(X)};
fx.akD=function(e,Z){var F=fx.xR(Z,"stlt").I,b=JSON.parse(JSON.stringify(F.Ei[e]));if(b.mX!=0){var _=F.Ei[b.mX];
for(var d in _)if(b[d]==null||b[d]==0)b[d]=_[d];delete b.mX}b.align=F.a9U[b.a50];b.fill=Z.xb[F.a6h[b.apn]];
b.ahH=Z.Ws[F.afp[b.a2Y]];b.a5I=F.aly[b.afL];return b};fx.abn=function(l){var gi=l.data[l.r];l.r+=1;return gi};
fx.d6=function(l){var gi=s.lZ(l.data,l.r);l.r+=2;return gi};fx.E6=function(l){var gi=s.lg(l.data,l.r);
l.r+=4;return gi};fx.apr=function(l){var gi=s.lg(l.data,l.r);l.r+=8;return gi};fx.jn=function(l){var gi=s.ZL(l.data,l.r);
l.r+=2;return gi};fx._V=function(l){var gi=s.p8(l.data,l.r);l.r+=4;return gi};fx.e8=function(l){var gi=s.QZ(l.data,l.r);
l.r+=8;return gi};fx.Iz=function(l){if(l.r>=l.data.length)throw"e";var e=0;while(l.data[l.r+e]!=0)e++;
var Z=s.fl(l.data,l.r,e);l.r+=e+1;return Z};fx.ak8=function(e){if(e.UJ<600)return Math.PI*fx.jn(e)/1800;
return Math.PI*fx._V(e)/18e7};fx.ac_=function(e){if(e.UJ<1500)return fx.w0(e);else return fx.e8(e)/254e3};
fx.w0=function(e){if(e.UJ<600)return fx.jn(e)/1e3;else return fx._V(e)/254e3};fx.aq1=function(e){if(e.UJ<600)return fx.d6(e);
else return fx.E6(e)};fx.apj=function(e){if(e.UJ<600)return CRDParser.jn(e);else return fx._V(e)};fx.El=function(e,Z,F,b){var _=fx,d=_.abn,S=_.d6,U=_.E6,r=_.apr,q=_.jn,w=_._V,X=_.e8,Q=_.w0,c=_.ac_,u=_.ak8,n=_.aq1,k=_.apj;
for(var B=0;B<Z.length;B++){var o=e.UJ,T=Z[B];e.r=T.r+(T.uz=="LIST"?4:0);if(T.uz=="vrsn"){var z=S(e);
e.UJ=z;console.log("Version",z);e.wM=z<600?16:32}else if(T.uz=="DISP"){}else if(T.uz=="LIST"&&T.BY=="cmpr"){var W=U(e),$=U(e),R=U(e),P=U(e),H=new Uint8Array(e.data.buffer,e.r+8+2,W-6-8),y=pako.inflateRaw(H),j=0;
e.r+=W;H=new Uint8Array(e.data.buffer,e.r+8+2);var h=pako.inflateRaw(H),m=[];for(var t=0;t<h.length;
t+=4)m.push(s.lg(h,t));T.sub=[];while(j<y.length){var x=e4.FJ(y,j,m);j=x.r+x.size;T.sub.push(x)}var C={data:y,r:0,UJ:o,wM:e.wM};
fx.El(C,T.sub,F,b+1)}else if(T.uz=="LIST"&&T.BY=="stlt"){var L=e.r,gl=32;T.I={};var f=U(e);if(f==0)return;
T.I.a6h=fx.yf(e,o>=1300);T.I.afp=fx.yf(e);T.I.aly={};var D=U(e);for(var l=0;l<D;l++){var v=U(e);e.r+=o<1e3?12:20;
var A=S(e),M=S(e);e.r+=8;var Y=Q(e);e.r+=o<1e3?12:20;T.I.aly[v]={au8:A,abL:M,fontSize:Y}}T.I.a9U=fx.yf(e);
var J=U(e);e.r+=52*J;var I=U(e);e.r+=152*I;var p=U(e);e.r+=784*p;var a=U(e);for(var l=0;l<a;l++){e.r+=40;
if(o>1300)e.r+=4;if(o>=1300){if(U(e))e.r+=68;else e.r+=12}else{e.r+=20;if(o>=1e3)e.r+=8;if(U(e))e.r+=8;
e.r+=8}}var er=U(e);T.I.amB={};for(var l=0;l<er;l++){var c8=U(e),O={};e.r+=12;O.right=Q(e);O.a6R=Q(e);
O.left=Q(e);T.I.amB[c8]=O}var dF=U(e);if(o>=1300)gl+=4;e.r+=gl*dF;var e0=U(e);e.r+=28*e0;if(o>800){var bv=U(e);
e.r+=12*bv}T.I.Ei={};for(var l=0;l<f;l++){var gm=U(e),iW=U(e),jx={};jx.mX=U(e);e.r+=8;var aC=U(e);if(o>=1200)aC*=2;
e.r+=aC;jx.apn=U(e);jx.a2Y=U(e);if(gm>1){jx.afL=U(e);jx.a50=U(e);jx.an_=U(e);jx.aqw=U(e);if(o>800)jx.a3I=U(e)}if(gm>2){jx.akl=U(e);
jx.aiy=U(e);jx.adZ=U(e);jx.aja=U(e);jx.ajG=U(e)}T.I.Ei[iW]=jx}}else if(T.uz=="LIST")fx.El(e,T.sub,F,b+1);
else if(T.uz=="txsm"){T.I={};if(o<600)throw"e";if(o<700)throw"e";if(o>=1600)throw"e";if(o>=1500)e.r+=37;
else e.r+=36;if(U(e)){if(o<800)e.r+=32}if(o<800)e.r+=4;T.I.a5R=U(e);T.I.anz=[];e.r+=48;if(o>=800){if(U(e)){e.r+=32;
if(o>=1300)e.r+=8}}if(o>=1500)e.r+=12;var gm=U(e),d9=1,bS=!1;if(!gm){if(o>=800)e.r+=4;if(o>800)e.r+=2;
if(o>=1400)e.r+=2;e.r+=24;if(o<800)e.r+=8;d9=U(e)}for(var t=0;t<d9;t++){var jo=U(e),l=0;if(o>=1300&&gm)e.r++;
e.r++;var f=U(e),g7=[];for(l=0;l<f;l++){var dI=d(e),hI=0;d(e);var gn=d(e);if(o>=800)hI=d(e);var jx={};
if(gn&1){jx.au8=S(e);var d$=S(e);if(d$)jx.ahF=d$}if(gn&2)e.r+=4;if(gn&4)jx.a2J=Q(e);if(gn&8)e.r+=4;if(gn&16)e.r+=4;
if(gn&32)e.r+=4;if(gn&64){jx.apn=U(e);if(o>=1500)e.r+=48}if(gn&128){jx.a2Y=U(e)}if(hI&8){if(o>=1300){var eX=U(e);
if(e.r+eX*2>=e.data.length){bS=!0;break}e.r+=eX*2}else e.r+=4}if(hI&32){var d3=d(e);if(d3)e.r+=52}if(dI==2)if(o>=1300)e.r+=48;
g7.push(jx)}if(bS){break}var cJ=U(e);if(e.r+cJ*4>e.data.length)break;var dM=[];for(l=0;l<cJ;l++){var dh=0;
if(o>=1200)dh=r(e)&4294967295;else dh=U(e);dM[l]=dh>>16|dh&1}var jh=cJ;if(o>=1200)jh=U(e);var aK=fx.Iz(e);
T.I.anz.push({alL:jo,text:aK,Ei:g7})}}else if(T.uz=="font"){var ca=S(e),iY=S(e);e.r+=14;var et=fx.Iz(e);
T.I={id:ca,ao1:iY,name:et}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(T.uz)!=-1){}else if(T.uz=="flgs")T.I=U(e);
else if(T.uz=="bbox"){var jD=Q(e),j6=Q(e),dc=Q(e),ao=Q(e);T.I=new e3(jD,j6,dc-jD,ao-j6)}else if(T.uz=="fild"){var ec=U(e),fp=0,ha;
if(o>=1300){e.r+=4;fp=S(e);e.r+=2}var eN=S(e);if(eN==0){}else if(eN==1){e.r+=o>=1300?13:2;ha=fx.PT(e)}else if(eN==2){e.r+=o>=1300?8:2;
var bJ=d(e),g3=0;if(o>=1300){e.r+=17;g3=q(e)}else if(o>=600){e.r+=19;g3=w(e)}else{e.r+=11;g3=q(e)}var bL=u(e),fD=.5+k(e),bF=.5+k(e)-.5;
if(o>=600)e.r+=2;var du=n(e)&255,b8=d(e)/100;e.r++;var jf=n(e)&65535;if(o>=1300)e.r+=3;var c1=[];for(var l=0;
l<jf;l++){var eV=fx.PT(e);if(o>=1300){if(fp==158||o>=1600&&fp==150)e.r+=26;else e.r+=5}var be=n(e)/100;
if(o>=1300)e.r+=3;c1.push([be,eV])}ha={typ:bJ==1?"lin":"rad",crds:[fD-Math.cos(bL)/2,bF-Math.sin(bL)/2,fD,bF],grad:c1,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",eN);
T.I={id:ec,type:eN,I:ha}}else if(T.uz=="outl"){var fh=U(e);if(o>=1300){var ea=0,g4=0;while(ea!=1){e.r+=g4;
ea=U(e);g4=U(e)}}var i7=S(e),de=S(e),hb=S(e);if(o<1300&&o>=600)e.r+=2;var hk=Q(e),e9=S(e)/100;if(o>=600)e.r+=2;
var e2=u(e);if(o>=1300)e.r+=46;else if(o>=600)e.r+=52;var ha=fx.PT(e,fh==270963208||fh==276198e3,fh);
T.I={id:fh,ae8:i7,a5u:de,aa$:hb,lineWidth:hk,color:ha}}else if(T.uz=="mcfg"){if(1300<=o)e.r+=12;else if(900<=o)e.r+=4;
else if(600<=o&&o<700)e.r+=28;var bj=0,e8=0;if(o<400){e.r+=2;var jD=Q(e),j6=Q(e),dc=Q(e),ao=Q(e);bj=Math.abs(dc-jD);
e8=Math.abs(ao-j6)}else{bj=Q(e);e8=Q(e)}T.I={at1:new bI(bj,e8)}}else if(T.uz=="loda"||T.uz=="lobj"){var L=e.r,bt=n(e),cL=n(e),j2=n(e),e$=n(e),eI=n(e),fy=[],jO=[];
e.r=L+j2;for(var l=0;l<cL;l++)fy[l]=n(e);e.r=L+e$;for(var l=cL-1;l>=0;l--)jO[l]=n(e);T.I={};for(var l=0;
l<cL;l++){e.r=L+fy[l];var jR=jO[l];if(jR==10)T.I.amU=U(e);else if(jR==20)T.I.aki=U(e);else if(jR==200)T.I.a77=n(e);
else if(jR==30){if(o<400)eI--;if(eI==1){var jD=c(e),j6=c(e),g0=0,gL=0,cy=0,cP=0;if(o<1500){cP=c(e);cy=o<900?cP:c(e);
gL=o<900?cP:c(e);g0=o<900?cP:c(e)}else throw"e";T.I.path=V.H.Ju(V.c.wV.Rect(0,0,jD,j6,g0))}else if(eI==2){var cn=Q(e),aJ=Q(e),iR=u(e),gj=u(e),cZ=Math.abs(cn),dp=Math.abs(aJ);
T.I.path=V.H.Ju(V.c.wV._X(0,0,cZ,-dp))}else if(eI==3){T.I.path=fx.ary(e)}else if(eI==4){T.I.a09=fx.a2z(e)}else if(eI==6){T.I.ae$=fx.afu(e)}else if(eI==37){T.I.path=fx.yU(e)}else console.log(eI)}}}else if(T.uz=="trfd"){var L=e.r,bt=n(e),cL=n(e),j2=n(e);
e.r=L+j2;var fy=[];for(var l=0;l<cL;l++)fy[l]=n(e);for(var l=0;l<cL;l++){e.r=L+fy[l];if(o>=1300)e.r+=8;
var f0=S(e);if(f0==8){var g1,aV,jD,az,c0,j6;if(o>=600)e.r+=6;if(o>=500){g1=X(e);aV=X(e);jD=X(e)/(o<600?1e3:254e3);
az=X(e);c0=X(e);j6=X(e)/(o<600?1e3:254e3)}else throw"e";T.dg=new jg(g1,az,aV,c0,jD,j6)}else console.log(f0)}}else if(!1){console.log(T);
var fM=Math.min(T.size,32);console.log(s.cR(data,T.r,fM));console.log(s.ahU(data,T.r,fM))}}};fx.yf=function(e,Z){var F=fx.E6,b={},_=F(e);
for(var l=0;l<_;l++){var d=F(e);e.r+=4;var S=F(e);b[d]=S;if(Z)e.r+=48}return b};fx.a2z=function(e){var Z=fx,F=Z.w0,b=F(e),_=F(e);
return new bI(b,_)};fx.afu=function(e){var Z=fx,F=Z.w0;e.r+=4;var b=F(e),_=F(e);return new bI(b,_)};
fx.yU=function(e){var Z=fx,F=Z.E6,b=Z.d6,_=Z.w0;e.r+=4;var d=b(e)+b(e);e.r+=16;var S=fx.S9(e,d);return S};
fx.ary=function(e){var Z=fx.d6(e);e.r+=2;return fx.S9(e,Z)};fx.S9=function(e,Z){var F=fx,b=F.w0,_=e.UJ<600?2:4,d=e.r,S={s:[],C:[]},U=0,r=0,q=0;
for(var l=0;l<Z;l++){var U=b(e),r=b(e),w=e.data[d+Z*_*2+l];if(!(w&64)&&!(w&128)){S.s.push(U,r);S.C.push("M");
q+=2}else if(w&64&&!(w&128)){S.s.push(U,r);S.C.push("L");q+=2}else if(!(w&64)&&w&128){S.s.push(U,r);
S.C.push("C");q+=6}else if(w&64&&w&128){S.s.push(U,r)}}if(q!=S.s.length)throw"e";return S};fx.al2=function(e,Z){var F=s.lg;
Z+=8;var b=F(e,Z);Z+=4;var _=F(e,Z);Z+=4;Z+=4*7;var d=Z,S=V.J(b*_*4);Z+=1024;for(var U=0;U<_;U++)for(var r=0;
r<b;r++){var l=U*b+r,q=(_-U-1)*b+r,w=e[Z+l]<<2,X=q<<2;S[X+0]=e[d+w+2];S[X+1]=e[d+w+1];S[X+2]=e[d+w+0];
S[X+3]=255}return{XT:S,rect:new e3(0,0,b,_)}};fx.aio=function(e){if(e==32)return 300;else if(e<49)return 0;
else if(e<58)return 100*(e-48);else if(e<65)return 0;return 100*(e-55)};fx.PT=function(e,Z,F){var b=fx.d6,_=fx.E6,d=e.UJ,S=0,U=0;
if(d>=500){S=b(e);if(S==1&&d>=1300)S=25;if(S==25||S==30){var r=0;if(S==30){S=25;r=30}else{r=b(e);e.r+=4}var q=b(e),w=b(e)}else if(S==14)throw"e";
else{e.r+=6;U=_(e)}}else throw"e";var X=[];if(S==2||S==9||S==17){var Q=[U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255];
if(S==2)for(var l=0;l<4;l++)Q[l]=Math.round(255*Q[l]/100);for(var l=0;l<4;l++)Q[l]/=255;X=UDOC.C.cmykToRgb(Q)}else if(S==1||S==5){X=[U>>>0&255,U>>>8&255,U>>>16&255];
for(var l=0;l<3;l++)X[l]=X[l]/255}else console.log("Unknown color model "+S,U,U.toString(16));return X};
var a4=function(){var e,Z,F=new ArrayBuffer(4),b=new Uint8Array(F),_=new Uint32Array(F),d=new Float32Array(F);
function S(Q,c){for(var u=0;u<Q.length;u++)if(Q[u][0]==c)return Q[u]}function U(){var Q=0,c=0,u=0;do{u=e[Z++];
Q|=(u&127)<<c;c+=7}while(u&128&&c<35);return Q>>>0}function r(Q,c,u,n,k){e=Q;Z=c;var B=n[0]=="mesg",o=n[2],T={},z=1,W=B?1e9:o.length;
while(z<=W){var $=z;if(B){$=U();if($==0)break}var R=S(o,$),P=R[2],H=R[1]==1,y=H?U():1,h=new Array(y);
if(P==3){if(!H)throw"e";h=e.slice(Z,Z+y);Z+=y}else for(var l=0;l<y;l++){var m;if((P&1)==1){if(P==1)m=e[Z++]==1;
else if(P==3)m=e[Z++];else if(P==5){var t=U();m=t&1?~(t>>>1):t>>>1}else if(P==7)m=U();else if(P==9){if(e[Z]==0){m=0;
Z++}else{b[0]=e[Z];b[1]=e[Z+1];b[2]=e[Z+2];b[3]=e[Z+3];var j=_[0];_[0]=j<<23|j>>>9;m=d[0];Z+=4}}else if(P==11){var x=q(e,Z);
m=x[0];Z+=x[1]+1}else throw P}else{var C=u[P>>>1];if(C[0]=="enum"){var L=e[Z++];if(L>127)throw"e";m=C[2][L]}else{var f=r(e,Z,u,C,k+1);
m=f[0];Z=f[1]}}h[l]=m}T[R[3]]=H?h:h[0];z++}return[T,Z]}function q(Q,c){var u=c;while(Q[u]!=0)u++;return[s.CI(Q,c,u-c),u-c]}function w(Q,c){var u=c;
while(Q[u]!=0)u++;for(var l=c;l<u;l++)if(Q[l]>127)throw"e";return s.fl(Q,c,u-c)}function X(Q){e=Q;Z=1;
var c=[];while(Z<Q.length){var u=Z,n=c.length,k=w(Q,Z);Z+=k.length+1;var B=U();if(B>2)throw"e";var o=U(),T=[];
for(var l=0;l<o;l++){var z=w(Q,Z);Z+=z.length+1;var W=U(),$=U(),R=U();T.push(B==0?z:[R,$,W,z])}c.push([["enum","strc","mesg"][B],k,T])}return c}return{a69:X,aaX:r}}();
function c9(){}c9.qj=function(e,Z){var F=new Uint8Array(e),b=8,_=s.lg(F,b),q=0,C=0;b+=4;var d=[];while(b<F.length){var S=s.lg(F,b);
b+=4;var U=F.slice(b,b+S);if(F[b]==137&&F[b+1]==80){}else U=UZIP.inflateRaw(U);d.push(U);b+=S}var r=a4.a69(d[0]);
for(var l=0;l<r.length;l++)if(r[l][1]=="Message")q=l;var w=a4.aaX(d[1],0,r,r[q],0)[0],X={YD:{},Vk:{},an9:{}},Q=w.nodeChanges;
for(var c=0;c<Q.length;c++){var u=Q[c],n=u.guid;X.Vk[n.sessionID+","+n.localID]=u}for(var c=0;c<Q.length;
c++){var u=Q[c],n=u.parentIndex;if(n){var k=c9.k3(X.Vk,n.guid);if(k.children==null)k.children=[];k.children.push(u)}}var B=Q[0],o=B.children,T=new e3,z=[],W=[];
for(var n=0;n<o.length;n++){var $=o[n],R=$.children;if($.name=="Internal Only Canvas"||R==null)continue;
var P=new e3;for(var l=0;l<R.length;l++){var H=R[l],y=H.transform,h=H.size;if(y.m00==1&&y.m10==0&&y.m01==0&&y.m11==1){var m=new e3(y.m02,y.m12,h.x,h.y);
P=P.Us(m)}}var t=T._==0?0:T._+100,j=P.clone();j.x=0;j.y=t;T=T.Us(j);z[n]=P;W[n]=t}var x=g8.m7(new e3(0,0,T.w,T._),8192*8192);
Z.w=Math.round(T.w/x);Z._=Math.round(T._/x);Z.buffer=V.J(Z.w*Z._*4);for(var n=0;n<o.length;n++){var $=o[n],R=$.children;
if($.name=="Internal Only Canvas"||R==null)continue;R.sort(c9.Ir);var L=new jg(1,0,0,1,-z[n].x,W[n]-z[n].y);
L.scale(1/x,1/x);for(var l=0;l<R.length;l++){var H=R[l];c9.K_(H,[],L,w.blobs,Z,0,X);C++}}Z.zL(C);Z.i6=!0;
if(x!=1)alert("File scaled down "+x+"x")};c9.K_=function(e,Z,F,b,_,d,S){var U=c9,H=!1,y,h,t,j,x;for(var l=0;
l<Z.length;l++){var r=Z[l],q=r.guidPath.guids[0];if(U.aif(q,e.guid)){var w={};for(var X in e)w[X]=r[X]!=null?r[X]:e[X];
e=w}}var Q=e.type,c=e.children,u=e.size,n=e.effects,k=_.yG();k.Hr(e.name);k.cm(e.visible);k.opacity=Math.round(e.opacity*255);
var B=U._W(e.transform),o=B.clone();o.concat(F);var T=new e3(Math.round(o.lr),Math.round(o.Xz),Math.round(u.x*o.YE()),Math.round(u.y*o.YE())),z=e.fillPaints,W=e.inheritFillStyleID;
if(W){var w=U.k3(S.Vk,W);if(w)z=w.fillPaints}if(z==null)z=[];var z=U.pV(z),$=z[0],R=e.strokePaints,W=e.inheritFillStyleIDForStroke;
if(W){var w=U.k3(S.Vk,W);if(w)R=w.fillPaints}if(R==null)R=[];var R=U.pV(R),P="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(Q)!=-1;
if(P||Q=="FRAME"){y=new g.NX;h=[];U.JM(e,b,y,h);H=V.c.uc(y.T);V.c.Jb(y.T,o);T=V.H.Uu(V.c.wS(y.T));if(S.YD.rN&&$){var m=g.NX.o4(S.YD.rN.T);
for(var l=2;l<m.length;l++)if(m[l].A8!=null)m[l].A8=3;y.T=y.T.concat(m.slice(2));h=h.concat(JSON.parse(JSON.stringify(S.YD.$F)))}}if($&&$.type=="IMAGE"){x=$.imageScaleMode;
t=U.zB(b,$.image.dataBlob);var C=t.V4.w/t.V4._,L=u.x/u.y;j=Math.abs(C-L)}if(Q=="FRAME"){}else if(P&&H&&t&&(x=="FIT"||x=="FILL"&&j<=.05)){var f=b[$.image.dataBlob].bytes,D=_.mr(f,k.getName(),0,0);
D.jj=k.jj;D.opacity=k.opacity;k=D;var v=new e3(0,0,u.x,u.y);if(x=="FIT"){var A=t.V4.w,M=t.V4._,Y=Math.min(u.x/A,u.y/M),J=A*Y,I=M*Y;
v=new e3(v.x+(v.w-J)/2,v.y+(v._-I)/2,J,I)}var p=V.H.gb(v).s;V.H.A(p,o,p);k.add.SoLd.Trnf=i.Q.t1(p);k.add.SoLd.nonAffineTransform=i.Q.t1(p);
var a=[],n=e.effects,er=$.paintFilter;if(n)for(var l=0;l<n.length;l++)if(n[l].type=="FOREGROUND_BLUR"){var c8=n[l],O=ff.ac("GsnB",{});
a.push(O);O.v.enab.v=c8.visible;O.v.Fltr.v.Rds.v.val=c8.radius/2.4}if(er&&er.exposure!=0){var O=ff.ac("brit",{});
a.push(O);O.v.Fltr.v.Brgh.v=Math.round(er.exposure*160);O.v.Fltr.v.useLegacy.v=!0}if(er&&er.vibrance!=0){var O=ff.ac("vibA",{});
a.push(O);console.log(O);O.v.Fltr.v.Strt.v=Math.round(Math.round(er.vibrance*100))}if(a.length!=0){k.add.SoLd.filterFX=ff.Zb();
_.zp({id:k.add.SoLd.placed.v,rect:new e3,buffer:V.J(1),v:new g.hW});k.add.SoLd.filterFX.v.filterFXList.v=a}k.gV(_,!1);
U.fj(S,k,_)}else if(P){U.BT(k,h,y,e,$,o,T,b,_,S);var dF=U.U5(e,R[0],o,T,b,_,S);if(dF[0]!="None"){var gl=k.add.vstk;
gl.strokeEnabled.v=!0;gl.strokeStyleLineWidth.v.val=e.strokeWeight*o.YE();gl.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[["INSIDE","CENTER","OUTSIDE"].indexOf(e.strokeAlign)];
var e0={SoCo:"SoFi",GdFl:"GrFl"}[dF[0]],bv=["SoFi","GrFl","patternFill"].indexOf(e0),gm=[fu.On,fu.So,fu.p6][bv];
gl.strokeStyleContent.v={classID:fu.jA.BY[0]};var iW=e.dashPattern;if(iW)gl.strokeStyleLineDashSet.v=d4.fL(iW,1/e.strokeWeight);
var jx=gl.strokeStyleContent.v={classID:fu.jA.BY[bv]};for(var l=0;l<gm.length;l++)jx[gm[l]]=dF[1][gm[l]];
if(!gl.fillEnabled.v)U.D_(dF,k)}if(n)for(var l=0;l<n.length;l++){var c8=n[l];if(c8.type!="FOREGROUND_BLUR")continue;
y.Ov=c8.radius/2.4}k.kJ(_)}else if(Q=="TEXT"){var aC=e.textData,d9=aC.layoutSize,bS=["LEFT","RIGHT","CENTER"].indexOf(e.textAlignHorizontal);
k.add.lnsr="rend";k.add.TySh=fN.hB(0,0);k.add.TySh.nq=new e3(0,0,100,100);var jo=o.clone();k.add.TySh.A=jo;
var g7=k.add.TySh.HV,dI=aC.characters;if(e.textCase=="TITLE"){for(var l=0;l<dI.length;l++)if(l==0||dI[l-1]==" "){var gn=dI.slice(0,l),hI=dI.slice(l+1);
dI=gn+dI[l].toUpperCase()+hI}}dI=dI.replace(/\u2028/g,"\n");dI=dI.replace(/\u2029/g,"\n");dI=dI.replace(/\r\n/g," \n");
fN.Z4(g7,0,dI);var d$=e.textAutoResize,eX=aC.baselines;if(d$=="WIDTH_AND_HEIGHT"){var d3=bS==0?0:bS==1?d9.x:d9.x/2,cJ=eX?eX[0].position.y:0;
jo.translate(d3*o.YE(),cJ*o.YE());fN.mJ(g7,0)}else if(d$=="HEIGHT"||d$=="NONE"||d$==null){var cJ=eX?eX[0].position.y-e.fontSize*.7:0;
jo.translate(0,cJ*o.YE());fN.mJ(g7,1);fN.wH(g7,[0,0,Math.round(d9.x),Math.round((d$=="NONE"?1.8:1)*d9.y)])}else throw d$;
if(dI!=""){var dM=fN.C7(g7,0,1);U.xX(e,o,u,dM,k,b,_,S);fN.IY(g7,0,dI.length,dM);var dh=aC.characterStyleIDs,jh=aC.styleOverrideTable;
if(dh){dh=dh.slice(0);for(var l=0;l<dh.length;l++)if(dI[l]=="\n")dh[l]=-l-1;var aK=[0],ca=0,iY=0;for(var l=0;
l<dh.length;l++){iY++;var et=dh[l];if(l==0||et==dh[l-1]){}else{aK.push(iY-1,l);iY=1}}aK.push(iY);for(var l=0;
l<aK.length;l+=2){var jD=aK[l],j6=aK[l+1];if(dI[jD]=="\n")continue;var et=dh[jD];if(et!=0){var dc;for(var ao=0;
ao<jh.length;ao++)if(jh[ao].styleID==et)dc=jh[ao];var dM=fN.C7(g7,jD,jD+1);U.xX(dc,o,u,dM,k,b,_,S);fN.IY(g7,jD,jD+j6-1,dM)}}}}}else if(Q=="SYMBOL"){}else if(Q=="INSTANCE"){var ec=e.symbolData,fp=ec.symbolOverrides,w=U.k3(S.Vk,ec.symbolID);
if(w)c=w.children;else console.log(e.name,"symbol not found",ec.symbolID);Z=Z.slice(0);for(var l=0;l<fp.length;
l++)Z.push(fp[l])}else console.log(Q);if(!1){}else if(c&&!P){_.g.push(_.vs());var eN=!1,ha=d==0&&Q!="SYMBOL"&&Q!="INSTANCE";
if(ha)k.bc(T);$=z[z.length-1];if(ha&&$&&$.type=="SOLID"){var bJ=$.color;k.add.artb.artboardBackgroundType.v=4;
k.add.artb.Clr=U.PT(bJ)}else if($&&y){var g3=_.yG();g3.Hr("Background");U.BT(g3,h,y,e,$,o,T,b,_,S);g3.kJ(_);
_.g.push(g3);eN=!0}c.sort(U.Ir);var bL=S.YD;S.YD={};for(var fD=0;fD<c.length;fD++)U.K_(c[fD],Z,o,b,_,d+1,S);
S.YD=bL;k.add.lsct=!1?jj.$R:jj.ZU;k.Du="pass";var bF=k.ir();k.jj=24;k.cm(bF);var du=d!=0&&z.length!=0&&!e.frameMaskDisabled&&e.containerSupportsFillStrokeAndCorners;
if(!eN&&du&&y){k.add.vmsk=y;k.add.vogk=h;k.kJ(_)}else U.fj(S,k,_);_.g.push(k)}else if(e.mask){if(y){S.YD.rN=y;
S.YD.$F=h}}else{var b8=[],g4=1;if(n)for(var jf=0;jf<n.length;jf++){var c8=n[jf],c1=c8.color,eV=c8.type,be=["DROP_SHADOW","INNER_SHADOW"].indexOf(eV);
if(be!=-1){var fh=["DrSh","IrSh"][be],ea=JSON.parse(fu.qx[fu.order.indexOf(fh)]);b8.push([fh,ea]);ea.enab.v=c8.visible;
ea.Md.v.BlnM=ae.px(U.ae_(c8.blendMode));ea.Opct.v.val=Math.round(100*c1.a);ea.blur.v.val=Math.round(c8.radius*o.YE());
ea.Clr=U.PT(c1);var d3=c8.offset.x,cJ=c8.offset.y;ea.uglg.v=!1;ea.lagl.v.val=Math.round(180/Math.PI*Math.atan2(cJ,-d3));
ea.Dstn.v.val=Math.round(Math.sqrt(d3*d3+cJ*cJ)*o.YE())}}if(Q=="TEXT"&&z[0]&&z[0].type!="SOLID")g4=0;
for(var l=g4;l<z.length;l++){var i7=z[l],de=U.U5(e,i7,o,T,b,_,S);if(de[0]=="GdFl")b8.push(["GrFl",de[1]]);
else if(de[0]=="SoCo")b8.push(["SoFi",de[1]]);else if(de[0]=="PtFl")b8.push(["patternFill",de[1]]);else throw de}if(!P)for(var l=0;
l<R.length;l++){var i7=R[l],de=U.U5(e,i7,o,T,b,_,S);if(de[0]=="SoCo"){var ea=JSON.parse(fu.qx[fu.order.indexOf("FrFX")]);
b8.push(["FrFX",ea]);ea.enab=de[1].enab;ea.Opct=de[1].Opct;ea.Md=de[1].Md;ea.Clr=de[1].Clr;ea.Sz.v.val=e.strokeWeight}}if(b8.length!=0){var hb=JSON.parse(fu.default);
for(var l=0;l<fu.order.length;l++)hb[fu.VX[l]]={t:"VlLs",v:[]};for(var l=0;l<b8.length;l++){var hk=b8[l],fh=fu.VX[fu.order.indexOf(hk[0])];
hb[fh].v.unshift({t:"Objc",v:hk[1]})}if(c==null)k.add.lmfx=hb}_.g.push(k)}};c9.BT=function(e,Z,F,b,_,d,S,U,r,q){var w=c9;
e.jj|=16;e.add.vogk=Z;e.add.vmsk=F;var X=e.add.vstk=JSON.parse(JSON.stringify(fu.jA.default)),Q=w.U5(b,_,d,S,U,r,q);
if(Q[0]=="None"){X.fillEnabled.v=!1;e.add.SoCo=Q[1]}else{w.D_(Q,e);e.add[Q[0]]=Q[1]}};c9.D_=function(e,Z){var F=e[1].Opct.v.val;
if(F!=100)Z.opacity=Math.round(Z.opacity/255*(F/100)*255)};c9.Ir=function(e,Z){var F=e.parentIndex.position,b=Z.parentIndex.position;
return F>b?1:-1};c9.pV=function(e){for(var l=1;l<e.length;l++){var Z=e[l];if(Z.type=="IMAGE"&&Z.opacity==1){e=e.slice(l);
break}}for(var l=0;l<e.length;l++){var Z=e[l],F=Z.imageThumbnail;if(Z.type=="IMAGE"&&(Z.image==null||Z.image.dataBlob==null)&&F&&F.dataBlob)Z.image=F;
if(!Z.visible||Z.type=="IMAGE"&&Z.image.dataBlob==null){e.splice(l,1);l--}}return e};c9.fj=function(e,Z,F){if(e.YD.rN){Z.add.vmsk=e.YD.rN.clone();
Z.add.vogk=JSON.parse(JSON.stringify(e.YD.$F));Z.kJ(F)}};c9.xX=function(e,Z,F,b,_,d,S,U){var r=e.fontSize,q=e.lineHeight,w=e.fontName,X=e.textAlignHorizontal,Q=e.textTracking,c=e.textCase,u=e.textDecoration;
if(r==null)r=b.sn.FontSize;if(w)fN.Kh(b,w.postscript);if(r!=null)b.sn.FontSize=Math.round(r);if(u=="UNDERLINE")b.sn.Underline=!0;
if(Q)b.sn.Tracking=Math.round(Q*1e3);if(c)b.sn.FontCaps=c=="UPPER"?2:0;if(q&&(q.units!="PERCENT"||q.value!=100)){if(r==null)r=15;
var n=q.value;if(q.units=="PERCENT")n=1*r*n/100;if(q.units=="RAW")n=1*r*n;b.sn.AutoLeading=!1;b.sn.Leading=Math.round(n)}if(X)b.Qm.Justification=["LEFT","RIGHT","CENTER"].indexOf(X);
var k=e.fillPaints,B=e.inheritFillStyleID;if(B){var o=c9.k3(U.Vk,B);if(o)k=o.fillPaints}if(k&&k[0]){var T=c9.U5(e,k[0],Z,F,d,S,U);
if(T[0]=="SoCo"){var z=V.X.Gb(T[1].Clr.v);b.sn.FillColor={Type:1,Values:[1,z.o/255,z.z/255,z.S/255]};
c9.D_(T,_)}}};c9.U5=function(e,Z,F,b,_,d,S){var U=c9,r,q,w=e.size;if(Z){var X=Z.type,Q=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(X);
if(X=="SOLID"){r="SoCo";var c=Z.color;q=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);q.Clr=U.PT(c)}else if(Q!=-1){var u=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),n=u.Grad.v;
n.Intr.v=0;u.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][Q];var k=[],B=Z.stops;for(var l=0;l<B.length;l++){var o=B[l],T=o.color;
k.push([o.position,[T.r,T.g,T.b],T.a])}V.X.KY(k,n);var z=U._W(Z.transform);z.eG();var W=z.clone();if(w)W.scale(w.x,w.y);
W.concat(F);var $=new bI(0,.5),R=new bI(1,.5);$=W.rS($);R=W.rS(R);if(!0){$.x=R.x+.5*($.x-R.x);$.y=R.y+.5*($.y-R.y)}V.X.h4($,R,b,u);
if(Q==3){if(W.Y0*W.rl-W.S*W.d_<0)u.Rvrs.v=!u.Rvrs.v}r="GdFl";q=u}else if(X=="IMAGE"){var u=JSON.parse(fu.qx[fu.order.indexOf("patternFill")]),P=u.phase.v,H=Z.image.dataBlob,y=S.an9[H],D=1;
if(y==null){var h=U.zB(_,H);y=S.an9[H]={};y.id=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";y.ZV=[new Uint8Array(h.data),h.V4];
y.name="someImage";d.H7(y)}u.Algn.v=!0;u.Ptrn.v.Idnt.v=y.id;var m=F.lr,t=F.Xz,j=Z.imageScaleMode,z=U._W(Z.transform);
z.eG();var x=b.w,C=b._,L=y.ZV[1].w,f=y.ZV[1]._;if(j=="FILL"){D=Math.max(x/L,C/f);D=Math.round(D*100)/100}else if(j=="FIT"){D=Math.min(x/L,C/f);
D=Math.round(D*100)/100}else if(j=="STRETCH"){var v=x*z.Y0,A=C*z.rl;D=.5*(v/L+A/f);D=Math.round(D*100)/100;
m+=(v-x)/2+z.lr*x;t+=(A-C)/2+z.Xz*C}else if(j=="TILE"){D=Z.scale;D=Math.round(D*100)/100;m+=(v-x)/2;
t+=(A-C)/2}var M=D*L,Y=D*f;m+=-(M-x)/2;t+=-(Y-C)/2;u.Scl.v.val=Math.round(100*D);P.Hrzn.v=Math.round(m);
P.Vrtc.v=Math.round(t);r="PtFl";q=u}else throw X;if(q)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Z.opacity*100)}}}else{r="None";
q={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:0,z:0,S:0})}}}return[r,q]};c9.zB=function(e,Z){var F=e[Z];
if(F.rslt)return F.rslt;var b=F.bytes.buffer,_=fg.zV(b),d=fg.H_(_);try{F.rslt=d.Fx(b)[0]}catch(gA){F.rslt={data:V.J(4),V4:new e3(0,0,1,1)}}return F.rslt};
c9.JM=function(e,Z,F,b){var _=e.type,d=e.size,S=e.cornerRadius,X;if(S==null)S=0;var U=V.$F.eJ(),r=d.x,q=d.y,w=[S,S,S,S],Q=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var l=0;l<4;l++)if(e[Q[l]]!=null)w[l]=e[Q[l]];if(_=="RECTANGLE"||_=="ROUNDED_RECTANGLE"||_=="FRAME"){X=V.c.wV.Rect(0,0,r,q,w)}else if(_=="ELLIPSE"){var c=e.arcData,u=c?c.startingAngle:0,n=c?c.endingAngle:2*Math.PI,k=c?c.innerRadius:0;
if(u==0&&n>1.999*Math.PI)X=V.c.wV._X(0,0,r,q,0);else X=V.c.wV.a5C(r/2,q/2,q/2,u,n);if(k!=0&&k!=1){var B=g.NX.o4(X).slice(3);
B.reverse();for(var l=0;l<B.length;l++){var T=B[l],z=T.Gn;T.Gn=T.kM;T.kM=z}var W=new jg;W.translate(-r/2,-q/2);
W.scale(k,k);W.translate(r/2,q/2);V.c.Jb(B,W);X=X.concat(B);X[2].length*=2}}else if(_=="LINE"){X=V.c.wV.Rect(0,0,r,q,0);
X.pop();X.pop();X[2].length=2}else if(_=="STAR"){X=V.c.wV.dm(r/2,q/2,r/2,2*Math.PI*(1/4),5,0,e.starInnerScale)}else if(_=="REGULAR_POLYGON"){X=V.c.wV.xF(.5,.5,.5,Math.PI/2,e.count,0);
var $=new jg;$.scale(r,q);V.c.Jb(X,$)}else if(_=="BOOLEAN_OPERATION"){X=[{type:6},{type:8,all:0}];var R=e.children,P=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(e.booleanOperation);
if(P==-1)throw e;if(R==null)R=[];for(var l=0;l<R.length;l++){var H=R[l],y=new g.NX,h=[],m=c9.JM(H,Z,y,h);
if(y.T==null)continue;V.c.Jb(y.T,c9._W(H.transform));X=X.concat(y.T.slice(2));for(var t=0;t<h.length;
t++)b.push(h[t])}for(var l=3;l<X.length;l++)if(X[l].A8!=null)X[l].A8=P;U=null}else if(_=="VECTOR"){var j,x,p=3;
if(!0){var C=e.vectorData;j=C.normalizedSize;x=C.vectorNetworkBlob}var L=Z[x].bytes,f=new Uint32Array(L.buffer),D=new Float32Array(L.buffer),v=f[0],A=f[1],M=f[2],Y=[],J=[],I=[],a=p+v*3,er=a+A*7;
for(var l=0;l<v;l++){var c8=p+l*3,O=new bI(D[c8+1],D[c8+2]);Y.push(O)}for(var l=0;l<A;l++){var dF=a+l*7;
J.push([f[dF+0],f[dF+1],D[dF+2],D[dF+3],f[dF+4],D[dF+5],D[dF+6]])}for(var l=0;l<M;l++){var gl=f[er+1],e0=I[l]=[];
er+=2;for(var t=0;t<gl;t++){var bv=f[er++],gm=e0[t]=[];for(var iW=0;iW<bv;iW++)gm[iW]=f[er+iW];er+=bv}}if(er!=f.length)throw"e";
if(M==0){var jx=-1;for(var l=0;l<A;l++){if(jx==-1){}else{var aC=-1;for(var t=l;t<A;t++)if(J[t][4]==jx)aC=t;
for(var t=l;t<A;t++)if(J[t][1]==jx)aC=t;if(aC!=-1){var d9=0,z=J[aC];J[aC]=J[l];J[l]=z;if(z[1]!=jx){d9=z[1];
z[1]=z[4];z[4]=d9;d9=z[2];z[2]=z[5];z[5]=d9;d9=z[3];z[3]=z[6];z[6]=d9}}}jx=J[l][4]}I.push([[]]);for(var l=0;
l<A;l++)I[0][0].push(l)}var bS=[],jo=[];for(var g7=0;g7<I.length;g7++){for(var dI=0;dI<I[g7].length;
dI++){var gn=I[g7][dI],hI=0;if(gn.length>1){var d$=J[gn[0]],eX=J[gn[1]];hI=d$[4]==eX[1]?1:0}for(var l=0;
l<gn.length;l++){var d3=J[gn[l]],cJ=1,dM=4;if(hI==0){cJ=4;dM=1}var dh=Y[d3[cJ]],jh=Y[d3[dM]];if(l==0){jo.push("M");
bS.push(dh.x,dh.y)}jo.push("C");bS.push(dh.x+d3[cJ+1],dh.y+d3[cJ+2],jh.x+d3[dM+1],jh.y+d3[dM+2],jh.x,jh.y)}}}X=V.H.t6({s:bS,C:jo},!1);
if(S!=0){var w=[],aK=X[2].length;for(var l=0;l<aK;l++)w.push(S);if(V.c.oP(X))V.c.Hq(X,2,w)}var ca=new jg;
ca.scale(j.x==0?1:d.x/j.x,j.y==0?1:d.y/j.y);V.c.Jb(X,ca)}F.T=X;if(U)b.push(U)};c9.k3=function(e,Z){return e[Z.sessionID+","+Z.localID]};
c9.aif=function(e,Z){return e.sessionID==Z.sessionID&&e.localID==Z.localID};c9.ae_=function(e){var Z={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[e];
if(Z==null)throw e;return Z};c9.PT=function(e){return{t:"Objc",v:V.X.Q9({o:e.r*255,z:e.g*255,S:e.b*255})}};
c9._W=function(e){var Z=[e.m00,e.m10,e.m01,e.m11,e.m02,e.m12];for(var l=0;l<6;l++)if(Math.abs(Z[l])<1e-20)Z[l]=0;
return new jg(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])};function bQ(){}bQ.qj=function(){var e=s.fl;function Z(c,u,n,k){var B=k?[]:{};
while(u<c.length-1&&c[u]!=125){var o=e(c,u,3),T=e(c,u+3,1),z;u+=4;u++;if(T=="v"){var W=Z(c,u,n+1,o=="ELM"||o=="TIL");
z=W.I;u=W.r}else if(T=="i"||T=="f"){var $=u;while(c[$]!=125)$++;var R=e(c,u,$-u);z=T=="i"?parseInt(R,16):parseFloat(R);
u=$+1}else if(T=="s"){var P=s.Ip(c,u),R="";u+=2;for(var l=0;l<P;l++)R+=String.fromCharCode(c[u+2*l+1]);
z=R;u=u+2*P+1}else if(T=="b"){z=c[u]==49;u=u+2}else throw"e";if(k)B.push([o,z]);else if(B[o]==null)B[o]=z;
else{if(!(B[o]instanceof Array))B[o]=[B[o]];B[o].push(z)}}u++;return{I:B,r:u}}function F(c,u){var n=b(c).slice(1),c=u.Clr.v;
c.Rd.v=n[0]*255;c.Grn.v=n[1]*255;c.Bl.v=n[2]*255}function b(c){return[(c>>>24&255)/255,(c>>>16&255)/255,(c>>>8&255)/255,(c>>>0&255)/255]}function _(c,u){var n=u&4278190080|(u&255)<<16|(u>>>8&255)<<8|u>>>16&255;
new Uint32Array(c.buffer).fill(n)}function d(c,u){var n=c.TSZ,k=c.WPX,B=c.HPX,o=c.TIL,T=new e3(0,0,k,B),z=V.J(k*B*4),W=0;
for(var $=0;$<B;$+=n)for(var R=0;R<k;R+=n){var P=new e3(R,$,n,n),H,y=o[W];if(y[0]=="TMC"){H=V.J(P.Z()*4);
_(H,y[1])}else if(y[0]=="TID"){H=u[y[1]]}V.Rf(H,P,z,T);W++}return[z,T]}function S(c,u){c=new Uint8Array(c);
var n=8,k,B={},C=0;while(n<c.length){var o=s.l(c,n);n+=4;var T=e(c,n,4);n+=4;if(T=="mkTS"){var z=pako.inflate(c.slice(n,n+o)),W=Z(z,0,0);
k=W.I}else if(T=="mkBT"){var $=s.l(c,n+4),R=s.l(c,n+8),z=pako.inflate(c.slice(n+76,n+o));if(R==0)for(var l=0;
l<z.length;l+=4){var P=z[l],H=z[l+1],y=z[l+2],h=z[l+3];z[l+3]=P;z[l+2]=h;z[l+1]=y;z[l]=H}else{var m=V.J(z.length*4);
m.fill(255);V.jh(z,m);z=m}B[$]=z}n+=o+4}var t=k.PDC,j=t?t instanceof Array?t:[t]:[k.MKB],x=new e3;for(var l=0;
l<j.length;l++){var L=j[l];x=x.Us(new e3(0,C,L.WID,L.HIT));C+=L.HIT+100}u.w=x.w;u._=x._;u.buffer=V.J(x.Z()*4);
u.zL(j.length);C=0;for(var f=0;f<j.length;f++){u.g.push(u.vs());var L=j[f],D=L.WID,v=L.HIT,A=L.BGC,M=(L.LYL?L:k).LYL.LAY,I=3;
for(var l=0;l<M.length;l++)r(M[l],u,null,B,new jg(1,0,0,1,0,C));var Y=u.yG();u.g.push(Y);var J=new e3(0,C,D,v);
C+=v+100;Y.bc(J);if(A>>>24!=0){var p=V.X.Q9({o:A>>>16&255,z:A>>>8&255,S:A>>>0&255});Y.add.artb.Clr={t:"Objc",v:p};
I=4}Y.add.artb.artboardBackgroundType.v=I;Y.Hr(L.PGN?L.PGN:"Page "+(f+1));Y.add.lsct=jj.ZU;Y.Du="pass";
Y.jj=24}}function U(c,u,n){var k=c[u];return k instanceof Array?k[n]:k}function r(c,u,n,k,B){var o=u.yG();
if(c.VIS!=null)o.cm(c.VIS);if(c.VIF!=null)o.cm(c.VIF.VIS);if(c.OPA!=null)o.opacity=Math.round(255*c.OPA/1e3);
o.Du=c.CLL||n=="GRP"?"pass":"norm";if(c.BLD!=null){var T=c.BLD,z={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[T+""];
if(z==null)console.log(c.OBN,T);else o.Du=z;if(T==30)o.opacity>>>=1}if(c.CLL){o.Hr(c.LNM);u.g.push(u.vs());
var W=c.CLL.CEL;if(W.length==null)W=[W];for(var $=W.length-1;$>=0;$--){var R=W[$].ELM;for(var l=R.length-1;
l>=0;l--)r(R[l][1],u,R[l][0],k,B)}o.add.lsct=c.DIS?jj.$R:jj.ZU;o.jj|=24}else if(n=="GRP"){var P=o.add.lmfx=w(c.EFL),H;
u.g.push(u.vs());var R=c.ELM;if(c.MNA){H=R[0][1];R=R.slice(1)}o.Hr("Group: "+R.length+" objects");for(var l=R.length-1;
l>=0;l--)r(R[l][1],u,R[l][0],k,B);if(H){if(c.MRX){var y=d(H,k),h=o.v=new g.hW;h.rect=y[1].clone();h.rect.x=H.XLC;
h.rect.y=H.YLC+B.Xz;h.channel=V.J(h.rect.Z());V.yC(y[0],h.channel,0);V.eG(h.channel)}else{q(o,H,B);o.kJ(u)}}o.add.lsct=jj.ZU;
o.jj|=24}else if(n=="IMG"){o.Hr(c.OBN?c.OBN:"Bitmap");var y=d(c,k);o.rect=y[1].clone();o.rect.x=c.XLC;
o.rect.y=c.YLC+B.Xz;o.buffer=y[0]}else if(n=="TXT"){var m=c.TFS,t=m.TRN instanceof Array?m.TRN.length:1,L="";
o.add.lnsr="rend";o.add.TySh=fN.hB(0,0);o.add.TySh.nq=new e3(0,0,100,100);var j=new jg(1,0,0,1,c.LFT,c.TOP);
if(c.MTX){var x=c.MTX,h=new jg(x.M00,x.M01,x.M10,x.M11,x.M20,x.M21);j.concat(h)}j.concat(B);o.add.TySh.A=j;
var C=o.add.TySh.HV;for(var l=0;l<t;l++){var f=U(m,"TRN",l);fN.Z4(C,L.length,f);var D=fN.C7(C,0,1);fN.Kh(D,U(m,"FON",l));
D.sn.FontSize=Math.round(U(m,"PTS",l));var v=U(m,"FCL",l);D.sn.FillColor={Type:1,Values:b(v)};fN.IY(C,L.length,L.length+f.length,D);
L+=f}o.Hr(L.slice(0,255));var A=c.RIT-c.LFT,M=c.BOT-c.TOP;if(c.IMG){r(c.IMG,u,"IMG",k,B);var Y=u.g.pop();
o.buffer=Y.buffer;o.rect=Y.rect.clone()}fN.mJ(C,1);fN.wH(C,[0,0,A,M])}else if(n=="PTH"){o.Hr(c.OBN?c.OBN:"Path");
o.jj|=16;var J=!1;q(o,c,B);var I=o.add.vmsk,p=o.add.vstk,a=V.c.wS(I.T),er=c.PAT,c8=er.BPL,O=er.FPL,dF=er.TXF;
if(O&&O.FEF)I.Ov+=O.FEF/2.4;if(c8){var gl=c8.CAT;p.strokeEnabled.v=!0;p.strokeStyleLineWidth.v.val=c8.BDI;
p.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[c.BRP];F(er.BCL,p.strokeStyleContent.v);
if(gl!="bc_Basic"&&gl!="bc_Pencil")J=!0}if(O==null){p.fillEnabled.v=!1;o.add.SoCo=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);
F(0,o.add.SoCo)}else if(O.CAT=="fc_Solid"){o.add.SoCo=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);F(c.PAT.FCL,o.add.SoCo)}else if(O.CAT=="fc_Linear"||O.CAT=="fc_Circular"||O.CAT=="fc_Elliptical"){var e0=O.CAT=="fc_Linear",bv=o.add.GdFl=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),gm=bv.Grad.v,iW=[],jx=O.FGL.FGY,aC=jx.FG0.FGI,d9=jx.FG1.FGI;
for(var l=0;l<aC.length;l++){var bS=aC[l],jo=b(bS.FGC),g7=1;if(d9.length==aC.length)g7=b(d9[l].FGC)[0];
iW.push([bS.FGP,jo.slice(1),g7])}bv.Type.v.GrdT=e0?"Lnr":"Rdl";V.X.KY(iW,gm);gm.Intr.v=0;var dI=c.PRI?c.PRI:c,gn=new bI(dI.PSX,dI.PSY),hI=new bI(dI.PEX,dI.PEY);
if(O.CAT=="fc_Elliptical"&&dI.PFX!=null){var d$=new bI(dI.PFX,dI.PFY),eX=bI.Ls(gn,hI),d3=bI.Ls(gn,d$);
if(d3<eX){var cJ=eX;eX=d3;d3=cJ}hI=new bI(gn.x+(eX+d3)/2,gn.y);if(eX/d3<.5)J=!0}if(e0){gn.x=(gn.x+hI.x)/2;
gn.y=(gn.y+hI.y)/2}V.X.h4(gn,hI,a,bv)}else console.log(O.CAT);var P=o.add.lmfx=w(c.EFL,I);if(O&&O.FTB!=0){var y=d(dF.MSK,k),dM={};
dM.id=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";dM.name="someImage";dM.ZV=y;u.H7(dM);var dh=y[0];for(var l=0;
l<dh.length;l+=4){dh[l+3]=255-dh[l];dh[l]=dh[l+1]=dh[l+2]=255}var bv=JSON.parse(fu.qx[fu.order.indexOf("patternFill")]);
bv.Opct.v.val=Math.round(O.FTB/10);bv.Algn.v=!0;bv.Ptrn.v.Idnt.v=dM.id;P.patternFillMulti.v.unshift({t:"Objc",v:bv})}if(J&&c.IMG){r(c.IMG,u,"IMG",k,B);
var jh=u.g[u.g.length-1];jh.opacity=o.opacity;return}o.kJ(u)}else if(n=="URL")return;else console.log("unknown layer type",n,c);
u.g.push(o)}function q(c,u,n){if(u.PBL==null)return;var k=c.add.vmsk=new g.NX,B=c.add.vstk=JSON.parse(JSON.stringify(fu.jA.default)),o=u.PBL.PBP;
if(!(o instanceof Array))o=[o];for(var T=0;T<o.length;T++){var z=o[T].PBT,W=o[T].ISC?0:3;k.T.push({type:W,length:z.length,A8:0,SS:2,NF:0,Mg:0});
for(var l=0;l<z.length;l++){var $=z[l],R=$.XLC,P=$.YLC,H=[R,P,R,P,R,P],y="XPC YPC XLC YLC XSC YSC".split(" ");
for(var h=0;h<6;h++){var m=y[h],t=$[m];if(t!=null)H[h]=t}k.T.push({type:W+2,M:new bI(R,P),Gn:new bI(H[0],H[1]),kM:new bI(H[4],H[5])})}}V.c.Jb(k.T,n);
c.ov()}function w(c,u){var n=JSON.parse(fu.default);for(var l=0;l<fu.order.length;l++)n[fu.VX[l]]={t:"VlLs",v:[]};
if(c==null)return n;var k=c.EPS;if(!(k instanceof Array))k=[k];for(var l=0;l<k.length;l++){var B=k[l].DCE,o={};
for(var T=0;T<B.length;T++)o[B[T].DCK]=B[T].DCV;if(o.EffectIsVisible=="false")continue;var z=o.mkbFile_WriteOnly_TemporaryEffectUiName;
if(z=="Gaussian Blur..."&&u){u.Ov+=parseFloat(o.gaussian_blur_radius);continue}var W=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(z);
if(W==-1){continue}var $=["DrSh","ebbl","IrGl","OrGl"][W],R=fu.VX[fu.order.indexOf($)],P=JSON.parse(fu.qx[fu.order.indexOf($)]);
n[R].v.unshift({t:"Objc",v:P});if($=="DrSh"){P.uglg.v=!1;X(o,"ShadowDistance",P,"Dstn");X(o,"ShadowBlur",P,"blur");
X(o,"ShadowAngle",P,"lagl",180);P.Opct.v.val=100;Q(o,"ShadowColor",P,"Clr")}if($=="IrGl"){P.Md.v.BlnM="Nrml";
var H=o.MaskSoftness,y=o.GlowWidth;if(H&&y){H=parseInt(H);y=parseInt(y);P.blur.v.val=y+H;P.Ckmt.v.val=Math.round(100*y/(y+H))}X(o,"BevelContrast",P,"Opct");
Q(o,"OuterBevelColor",P,"Clr")}if($=="OrGl"){P.Md.v.BlnM="Nrml";var H=o.MaskSoftness,y=o.GlowWidth;if(H&&y){H=parseInt(H);
y=parseInt(y);P.blur.v.val=y+H}X(o,"BevelContrast",P,"Opct");Q(o,"OuterBevelColor",P,"Clr")}if($=="ebbl"){P.uglg.v=!1;
X(o,"BevelWidth",P,"blur");X(o,"AngleSoftness",P,"Sftn");X(o,"BevelContrast",P,"srgR");X(o,"LightAngle",P,"lagl")}}return n}function X(c,u,n,k,B){var o=c[u];
if(B==null)B=0;if(o)n[k].v.val=parseInt(o)+B}function Q(c,u,n,k){var B=c[u];if(B){B=B.slice(1);if(B.length==6)B=B+"ff";
if(B.length!=8)throw"e";var o=b(parseInt(B,16)),T=n[k].v;T.Rd.v=o[0]*255;T.Grn.v=o[1]*255;T.Bl.v=o[2]*255;
n.Opct.v.val=Math.round(n.Opct.v.val/100*o[3]*100)}}return S}();function hY(){}hY.qj=function(){function e(H,y){var h=!1,m=Date.now(),t=o(H,h),e0=1;
if(h)console.log("part found",Date.now()-m);m=Date.now();var j=B(t),x=j.Layer,C=j.Header;if(h)console.log(j);
var L=x[0];L=j.Layer[0];if(h)console.log("document parsed",Date.now()-m);m=Date.now();j.Setup.Gradient=k(j.Setup.Gradient,t);
if(h)console.log("grads loaded",Date.now()-m);m=Date.now();j.Setup.Pattern=n(j.Setup.Pattern,t);if(h)console.log("patts loaded",Date.now()-m);
m=Date.now();j.Setup.DocumentData=u(j.Setup.DocumentData,t).pop();if(h)console.log("docdata loaded",Date.now()-m);
m=Date.now();j.Setup.SVGFilter=u(j.Setup.SVGFilter,t);if(h)console.log("svgfilter loaded",Date.now()-m);
m=Date.now();var f=C.Cropmarks,D=C.BoundingBox.split(" ").map(parseFloat),v=C.ArtSize?C.ArtSize.split(" ").map(parseFloat):[D[2]-D[0],D[3]-D[1]];
y.w=Math.round(v[0]);y._=Math.round(v[1]);var A=[1,0,0,1,-D[0]+(y.w-(D[2]-D[0]))/2,-D[1]+(y._-(D[3]-D[1]))/2];
A[3]=-1;A[5]=y._-A[5];if(f){f=f.split(" ").map(parseFloat);y.w=Math.round(f[2]-f[0]);y._=Math.round(f[3]-f[1]);
A=[1,0,0,-1,-f[0],y._+f[1]]}var M=j.Setup.DocumentData;if(M&&M[0]&&M[0].ArtboardArray){var Y=M[0].ArtboardArray;
if(Y.length!=1)console.log(Y.length,"artboards");var J=new e3;for(var l=0;l<Y.length;l++){var I=Y[l],p=I.PositionPoint1,a=I.PositionPoint2,er=p[0],c8=Math.min(p[1],a[1]),O=a[0],dF=Math.max(p[1],a[1]);
J=J.Us(new e3(er,c8,O-er,dF-c8))}y.w=Math.round(J.w);y._=Math.round(J._);A[4]=-J.x;A[5]=J.y+y._}var gl=Math.max(y.w,y._);
while(gl*e0<1200)e0++;while(gl*e0>6e3)e0*=.5;y.w=Math.round(y.w*e0);y._=Math.round(y._*e0);y.Cr=Math.round(72*e0);
y.buffer=V.J(y.w*y._*4);for(var l=0;l<6;l++)A[l]*=e0;for(var bv=0;bv<x.length;bv++){var gm=x[bv];gm.Raster=Z(gm);
var iW=Q(t,gm);F(y,iW,A,j,gm,t)}if(h)console.log("layers created",Date.now()-m);m=Date.now()}function Z(H){var y=H.Layer,h=H.Raster;
if(h==null)h=[];if(y){for(var l=0;l<y.length;l++){var m=y[l],t=m.Raster=Z(m);h=h.concat(t)}h.sort(function(j,x){return j._begin-x._begin})}return h}function F(H,y,h,m,t,j){var x="",C=0,L="",f=UDOC.G,D=UDOC.getState(),v="norm",A=1,M="SoCo",I=!1,p=0,er=null,c8=!1,O=0,dF=null,gl,e0,bv,gm=0,iW=0,jx=0;
D.ctm=h;var Y=[0,0,0],J=[0,0,0],a=[],aC=[],d9=[];for(var bS=0;bS<y.length;bS++){var jo=y[bS];if(jo[0]=="%"){if(jo=="%_/ArtDictionary :"&&O==0)er=[jo.slice(2)];
else if(er!=null){if(jo=="%_"&&O==0){var g7=W(er)[0],dI=g7.AI10_ArtUID;if(dI&&!dI.startsWith("XMLID"))H.g[H.g.length-1].Hr(R(dI));
er=null}else{er.push(jo.slice(c8?1:2));if(jo=="%_X=")O++;if(jo=="%_X+")O--;if(jo=="%_/Binary : /ASCII85Decode ,")c8=!0;
if(c8&&jo.endsWith("~>"))c8=!1}}else if(dF){gl+=(gl==""?"":" ")+jo.slice(2);if(gl.endsWith("X#")){dF.push(gl.slice(0,gl.length-3));
gl=""}}continue}else if(jo=="/Mesh X!"){dF=[];gl="";continue}else if(jo=="/End X!"){b(dF,D,H);dF=null;
continue}jo=jo.trim();var gn=jo.split(" "),hI=gn[gn.length-1],d$=hI.toLowerCase(),eX=gn.map(parseFloat);
if(hI=="m")f.moveTo(D,eX[0],eX[1]);else if(hI=="L"||hI=="l")f.lineTo(D,eX[0],eX[1]);else if(hI=="V"||hI=="v"||hI=="Y"||hI=="y")f.quadCurveTo(D,eX[0],eX[1],eX[2],eX[3]);
else if(hI=="C"||hI=="c")f.curveTo(D,eX[0],eX[1],eX[2],eX[3],eX[4],eX[5]);else if(hI=="H"||hI=="h"){if(hI==d$)f.closePath(D);
a.push(JSON.parse(JSON.stringify(D.pth)))}else if(hI=="Xy"){v=["norm","mul ","scrn","over","sLit"][eX[0]];
A=eX[1];if(v==null){v="norm";console.log("unknown blend mode",eX[0])}}else if(hI=="Xd"){var d3=H.g[H.g.length-1];
d3.opacity=Math.round(255*A);d3.Du=d3.yx()&&v=="norm"?"pass":v}else if(hI=="AE")gm=eX[0];else if(hI=="Ae")iW=eX[0];
else if(hI=="Xw")jx=eX[0];else if(hI=="*"){var cJ=D.pth.crds,dM=D.ctm,dh=cJ[0]==cJ[2]?0:1;H.P3.push([dh,cJ[dh]]);
f.newPath(D)}else if(hI=="Xh")e0=eX;else if(hI=="XN")bv=jo.split(" ")[0];else if(hI=="XI"){if(e0==null)continue;
var jh=t.Raster;if(jh==null||jh.length==0){console.log("no Raster");continue}var aK=jh[C++].Data,ca=aK._begin,iY=aK._end;
while(j[ca]!=88)ca++;ca+=3;var et=j.slice(ca,iY),jD=e0[8],j6=e0[9],dc=jD*j6,ao=V.J(dc*4);ao.fill(255);
var ec=y[bS-2];ec=ec.slice(ec.indexOf("]")+2).split(" ").map(parseFloat);var fp=ec[7],eN=ec[8],ha=ec[6],bJ=Math.ceil(jD*fp*ha/8);
if(fp==1){if(ha==8)for(var l=0;l<dc;l++)for(var g3=0;g3<3;g3++)ao[4*l+g3]=et[l];else if(ha==1)for(var bL=0;
bL<j6;bL++)for(var fD=0;fD<jD;fD++)for(var g3=0;g3<3;g3++)ao[4*(bL*jD+fD)+g3]=255*(et[bL*bJ+(fD>>>3)]>>>7-(fD&7)&1);
else throw ha}else if(fp==3)for(var l=0;l<dc;l++)for(var g3=0;g3<3;g3++)ao[4*l+g3]=et[3*l+g3];else if(fp==4||fp==5)for(var l=0;
l<dc;l++){var bF=q([et[fp*l+0]/255,et[fp*l+1]/255,et[fp*l+2]/255,et[fp*l+3]/255]);ao[4*l+0]=bF[0]*255;
ao[4*l+1]=bF[1]*255;ao[4*l+2]=bF[2]*255}else throw bv;if(eN==1){var du=j6*bJ;for(var l=0;l<dc;l++)ao[4*l+3]=et[du+l]}var b8=V.fS(ao,jD,j6)?"JPG":"PNG";
if(jD*j6<700*700)b8="PNG";var jf=fg.H_(b8).ng([[ao.buffer]],jD,j6),c1=H.mr(new Uint8Array(jf),"<Image>",0,0);
H.g.push(c1);c1.Du=v;c1.opacity=Math.round(255*A);c1.cm(jx==0);var h=new jg;h.scale(1,-1);h.concat(r(e0.slice(1)));
h.concat(r(D.ctm));var eV=c1.rect.clone();eV.x=eV.y=0;var gn=V.H.gb(eV).s;V.H.A(gn,h,gn);c1.add.SoLd.Trnf=i.Q.t1(gn);
c1.add.SoLd.nonAffineTransform=i.Q.t1(gn);c1.gV(H,!1)}else if(hI=="Ln"){x=d(jo)}else if(hI=="u"||hI=="q"||hI=="Lb"){aC.push(iW==1);
d9.push((hI=="Lb"?1-eX[0]:jx)==0);if(I)continue;H.g.push(H.vs())}else if(hI=="U"||hI=="Q"||hI=="LB"){if(aC.length==0||d9.length==0)throw bS;
var be=aC.pop(),fh=d9.pop();if(hI=="LB")be=gm==1;if(I)continue;var c1=H.yG();c1.Hr((hI=="U"?"<Group>":"<Clip Group>")+L);
if(hI=="LB")c1.Hr(x);if(hI=="Q"&&a.length!=0){var ea=a.pop(),g4=UDOC.G.isBox(ea,[0,0,H.w,H._]);if(!g4)w(c1,ea,H)}c1.add.lsct=be?jj.$R:jj.ZU;
c1.Du="pass";c1.jj=24;c1.cm(fh);H.g.push(c1)}else if(hI=="Bb"||hI=="Bh"||hI=="BB"){}else if(hI=="Bg"){var i7=m.Setup.Gradient[d(jo)];
M="GdFl";Y=_(i7.K$,i7.adv)}else if(hI=="Bm"||hI=="Xm"){var de=Y.Type.v.GrdT;if(de=="Lnr"&&hI!="Xm"||de=="Rdl"&&hI!="Bm")continue;
var hb=V.H.HA(D.pth.crds),hk=new bI(0,0),e2=new bI(1,0),bj=new jg;bj.concat(r(eX));bj.concat(r(D.ctm));
hk=bj.rS(hk);e2=bj.rS(e2);if(de=="Lnr"){hk.x=(hk.x+e2.x)/2;hk.y=(hk.y+e2.y)/2}V.X.h4(hk,e2,hb,Y)}else if(hI=="p"){var e8=d(jo),bt=m.Setup.Pattern[e8];
if(bt.raw==null){var hb=bt.Dl,jD=Math.round(hb[2]-hb[0]),j6=Math.round(hb[3]-hb[1]),g7=new aH;g7.w=jD;
g7._=j6;g7.buffer=V.J(jD*j6*4);F(g7,bt.xS,[1,0,0,-1,-bt.Dl[0],j6+bt.Dl[1]],m,t,j);bt.raw=new Uint8Array(fg.H_("PSD").ng(g7))}var cL=jo.slice(jo.indexOf(")")+2),j2=cL.slice(0,cL.indexOf("[")-1).split(" ").map(parseFloat),e$=cL.slice(cL.indexOf("[")+1,cL.indexOf("]")).split(" ").map(parseFloat);
M="patt";Y=[e8,j2,e$]}else if(hI=="J"||hI=="j"||hI=="w"||hI=="M"||hI=="d"){for(var l=1;l<gn.length;l++){var eI=gn[l],fy=eX[l-1];
if(eI=="w")D.lwidth=fy;if(eI=="j")D.ljoin=fy;if(eI=="J")D.lcap=fy;if(eI=="d"){var jO=jo.slice(jo.indexOf("[")+1,jo.indexOf("]")).trim();
if(jO.length!=0){var jR=jO.split(" ").map(parseFloat);D.dash=jR}}}}else if(d$=="xa"||d$=="xx"){var g0=[eX[4],eX[5],eX[6]];
M="SoCo";if(hI=="Xa"||hI=="Xx")Y=g0;else J=g0}else if(d$=="xk"){var g0,gL=eX[eX.length-2],cy=eX[eX.length-3];
if(gL==0)g0=q(eX);else if(gL==1){g0=[eX[4],eX[5],eX[6]];for(var l=0;l<3;l++)g0[l]=cy*1+(1-cy)*g0[l]}else throw jo;
M="SoCo";if(hI=="Xk")Y=g0;else J=g0}else if(d$=="k"||d$=="x"){if(d$=="x"){eX.pop();var cP=1-eX.pop();
for(var l=0;l<4;l++)eX[l]*=cP}var g0=q(eX);M="SoCo";if(hI==d$)Y=g0;else J=g0}else if(d$=="g"){var g0=[eX[0],eX[0],eX[0]];
M="SoCo";if(hI==d$)Y=g0;else J=g0}else if(d$=="n")f.newPath(D);else if(hI=="*u"){I=!0;p=0}else if(hI=="*U"||d$=="s"||d$=="f"||d$=="b"){if(hI!="*U"&&I){if(d$=="f"||d$=="b")p|=1;
if(d$=="s"||d$=="b")p|=2;continue}if(hI==d$)f.closePath(D);if(hI=="*U"){I=!1}var c1;if(M=="patt"){var bt=m.Setup.Pattern[Y[0]];
c1=H.mr(bt.raw,"<Pattern>",0,0);var eV=c1.rect.clone();eV.x=eV.y=0;var gn=V.H.gb(eV).s,e$=r(Y[2]);e$.lr=e$.Xz=0;
V.H.A(gn,e$,gn);c1.add.SoLd.Trnf=i.Q.t1(gn);c1.add.SoLd.nonAffineTransform=i.Q.t1(gn);c1.gV(H,!1)}else{c1=H.yG();
c1.jj|=16;var cn=c1.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));cn.strokeEnabled.v=cn.fillEnabled.v=!1;
if(M=="SoCo"){c1.add.SoCo=JSON.parse(fu.qx[fu.order.indexOf("SoFi")]);var aJ=c1.add.SoCo.Clr.v;S(aJ,Y)}if(M=="GdFl")c1.add.GdFl=Y;
if(d$=="f"||d$=="b"||hI=="*U"&&p&1)cn.fillEnabled.v=!0;if(d$=="s"||d$=="b"||hI=="*U"&&p&2)c_.mV(cn,D,1,c_.NI(J))}c1.Hr("<"+(hI=="*U"?"Compound ":"")+"Path>"+L);
c1.Du=v;c1.opacity=Math.round(255*A);c1.cm(jx==0);w(c1,D.pth,H);H.g.push(c1);f.newPath(D)}else if(hI==","&&gn[1]=="/StoryIndex"){var iR=m.Setup.TextDocument,az=null;
if(!(iR instanceof Array))iR=m.Setup.TextDocument=c(iR,j);var gj=iR[0],cZ=iR[2];if(gj._DocumentResources)gj=iR[0]=hz.a3J(gj);
else hz.a5V(gj);var c1=H.yG();c1.add.lnsr="rend";c1.add.TySh=fN.hB(0,0);var dp=f9.ash(gj),f0=c1.add.TySh.HV=dp[eX[0]];
if(f0==null){console.log("text not found");continue}c1.Hr(fN.xf(f0).slice(0,50));c1.Du=v;c1.opacity=Math.round(255*A);
c1.cm(jx==0);var cP=gj._1._1[eX[0]]._1._0[0]._0;cP=parseInt(cP.slice(1));var g1=gj._0._8._0,aV=g1[cP]._0;
if(aV._0)az=U(aV._0);else if(aV._1)az=U(aV._1._0);else az=U(aV._2._2).slice(3);if(az.length!=2){var hb=V.H.HA(az);
az=[hb.x,hb.y];if(hb.Z()!=0){fN.mJ(f0,1);fN.wH(f0,[0,0,Math.round(hb.w),Math.round(hb._)])}}var c0=new jg,fM=new jg(1,0,0,1,az[0],az[1]),d_=new jg(1,0,0,1,-cZ[0],-cZ[1]),bN=r(D.ctm),hX=new jg;
if(aV._2&&aV._2._2){var h=U(aV._2._2);hX=new jg(h[0],h[1],h[2],h[3],h[4],h[5])}c0.concat(fM);c0.concat(hX);
c0.concat(d_);c0.scale(1,-1);c0.concat(bN);c1.add.TySh.A=c0;H.g.push(c1);H.i6=!0}}}function b(H,y,h){var m=UDOC.G,t=[],j=[],x="/DeviceGray",C,L=[],f=1,cJ=0,dM=0,dh=0;
for(var D=0;D<H.length;D++){var v=H[D];if(v.endsWith(" /CS")){var A=v.indexOf("/NChannel"),M=v.indexOf("/Process");
if(v.startsWith("/DeviceRGB")){x="/DeviceRGB";C=3}else if(v.startsWith("/DeviceGray")){x="/DeviceGray";
C=1}else if(v.startsWith("/DeviceCMYK")){x="/DeviceCMYK";C=4;L=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(A!=-1){x="/DeviceCMYK";
C=parseInt(v.slice(A-2,A-1));var Y=1;for(var l=0;l<C;l++){Y=v.indexOf("[",Y);L[C-1-l]=v.slice(Y+1,Y+8).split(" ").map(parseFloat);
Y++}}else if(M){x="/DeviceGray";C=1}else throw v}else if(v[0]=="["){var J=v.indexOf("]"),I=v.slice(1,J).split(" ").map(parseFloat),p=v.slice(J+2),a,er,c8,O,dF,gl;
if(p=="/Size"||p=="/P"||p=="/R")continue;if(p=="/S"||p=="/A"){a=I[0];er=I[1];c8=I[2];O=I[3];dF=I[4];
gl=I[5]}else if(p=="/N"){var e0=C+(f==1?0:1),bv;a=I[e0+0];er=I[e0+1];c8=I[e0+2];O=I[e0+3];dF=I[e0+5];
gl=I[e0+6];if(x=="/DeviceRGB")bv=I.slice(0,3);else if(x=="/DeviceGray")bv=[I[0],I[0],I[0]];else if(x=="/DeviceCMYK"){var gm=[0,0,0,0];
for(var l=0;l<C;l++){var iW=I[l],jx=L[l];gm[0]+=iW*jx[0];gm[1]+=iW*jx[1];gm[2]+=iW*jx[2];gm[3]+=iW*jx[3]}bv=q(gm)}else throw bv;
bv.push(I[C]);j.push([bv,a,er])}else throw p;t.push([p,dF,gl,a,er,c8,O])}else if(v=="/E"){var aC=t.slice(0),d9=0;
for(var l=0;l<t.length;l++){var bS=t[l][0];if(bS=="/N"){d9++;continue}var jo=l,g7=l+1;while(t[g7][0]!="/N"&&g7<t.length)g7++;
if(d9==0||d9==3){for(var dI=0;dI<g7-jo;dI++)aC[jo+dI]=t[g7-1-dI]}else for(var dI=jo;dI<g7;dI++){var gn=aC[dI],hI=gn[1];
gn[1]=gn[5];gn[5]=hI;hI=gn[2];gn[2]=gn[6];gn[6]=hI}l=g7-1}t=[];for(var l=0;l<aC.length;l++){var gn=aC[l];
t.push(gn[1],gn[2],gn[3],gn[4],gn[5],gn[6])}var d$=t.length;m.moveTo(y,t[2],t[3]);for(var l=0;l<d$;l+=6){var c8=t[(l+4)%d$],O=t[(l+5)%d$],dF=t[(l+6)%d$],gl=t[(l+7)%d$],a=t[(l+8)%d$],er=t[(l+9)%d$];
m.curveTo(y,c8,O,dF,gl,a,er)}m.closePath(y);t=[]}else if(v.endsWith("/Version"))f=parseFloat(v[0])}var eX=h.yG();
eX.jj|=16;eX.Hr("<Mesh>");var d3=eX.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));d3.strokeEnabled.v=!1;
for(var l=0;l<j.length;l++)for(var dI=l+1;dI<j.length;dI++){var jh=j[l][0],aK=j[dI][0],ca=jh[0]-aK[0],iY=jh[1]-aK[1],et=jh[2]-aK[2],jD=Math.sqrt(ca*ca+iY*iY+et*et);
if(jD>dh){dh=jD;cJ=l;dM=dI}}var j6=j[cJ],dc=j[dM],ao=eX.add.GdFl=_(0,[[0,j6[0]],[1,dc[0]]]),ec=r(y.ctm),fp=ec.rS(new bI(j6[1],j6[2])),eN=ec.rS(new bI(dc[1],dc[2])),ha=V.H.HA(y.pth.crds);
fp.x=(fp.x+eN.x)/2;fp.y=(fp.y+eN.y)/2;V.X.h4(fp,eN,ha,ao);w(eX,y.pth,h);h.g.push(eX);m.newPath(y)}function _(H,y){var h=JSON.parse(fu.qx[fu.order.indexOf("GrFl")]),m=h.Grad.v;
m.Intr.v=0;h.Type.v.GrdT=["Lnr","Rdl"][H];V.X.KY(y,m);return h}function d(H){return H.slice(H.indexOf("(")+1,H.indexOf(")"))}function S(H,y){H.Rd.v=y[0]*255;
H.Grn.v=y[1]*255;H.Bl.v=y[2]*255}function U(H){var y=[];for(var l=0;l<H.length;l++)y[l]=parseFloat(H[l].slice(1));
return y}function r(H){return new jg(H[0],H[1],H[2],H[3],H[4],H[5])}function q(H){return UDOC.C.cmykToRgb(H)}function w(H,y,h){H.add.vmsk=new g.NX;
if(y.crds.length!=0)H.add.vmsk.T=X(y);H.ov();H.kJ(h)}function X(H){var y={s:H.crds,C:H.cmds},h=V.H.t6(y,!1);
return h}function Q(H,y){var h=[y._begin],m=y._end-y._begin,t=m,j=y.Raster,D=0;if(j){for(var l=0;l<j.length;
l++){var x=j[l].Data,C=x._begin+32,L=x._end;if(C>L)C=L;h.push(C,L);t-=L-C}}h.push(y._end);var f=new Uint8Array(t);
for(var l=0;l<h.length;l+=2){var C=h[l],v=h[l+1]-C;f.set(new Uint8Array(H.buffer,C,v),D);D+=v}return s.CI(f).split(/\r\n|\r|\n/)}function c(H,y){if(H==null)return[];
var h=Q(y,H),m="",t="",j=0,x;for(var l=2;l<h.length;l++){var C=h[l];if(C[0]=="%"){if(j==0)m+=C.slice(1);
else t+=C.slice(1)}else if(C==";")j++;else if(C.endsWith("/RulerOrigin ,"))x=C.split(" ").slice(0,2).map(parseFloat)}var L=[m,t],f=[];
for(var l=0;l<2;l++){var D=L[l],v=new Uint8Array(D.length);s.Zh(v,0,D);var A=FromPS.F.ASCII85Decode({buff:v,off:0}),M=c4.qj(A);
f.push(M)}f.push(x);return f}function u(H,y){if(H==null)return[];var h=Q(y,H);h=h.slice(1);for(var l=0;
l<h.length;l++){var m=h[l];if(m[0]=="%")h[l]=m.slice(m[1]=="_"?2:1)}var t=W(h);return t}function n(H,y){var h={};
if(H==null)return h;for(var l=0;l<H.length;l++){var m=Q(y,H[l]),t=m[1],j=d(t),x=t.slice(t.indexOf(")")+2).split(" ").map(parseFloat),C=[];
for(var L=2;L<m.length;L++)C.push(m[L].slice(2));h[j]={Dl:x,xS:C}}return h}function k(H,y){var h={},m,t;
if(H==null)return h;var j=[];for(var l=0;l<H.length;l++){var x=Q(y,H[l]);for(var C=0;C<x.length;C++){var L=x[C];
if(L[0]=="("){var f=L.split(")");m=f[0].slice(1);var D=f[1].split(" ");t=parseInt(D[1])}else if(L.endsWith("%_BS")){var f=L.split(" "),Y,J=1;
f.pop();f=f.map(parseFloat);var v=f.pop(),A=f.pop(),M=f.pop();if(M==0)Y=[f[0],f[0],f[0]];else if(M==2||M==4)Y=[f[4],f[5],f[6]];
else if(M==1||M==3)Y=q(f);else if(M==6){if(f.length==3)Y=[f[0],f[0],f[0]];else Y=q(f);J=f.pop()}else{throw M}j.push([v/100,Y,J,A/100])}else if(L=="BD"){for(var I=0;
I<j.length-1;I++)j[I][3]=j[I+1][3];j.sort(function(p,a){return p[0]-a[0]});h[m]={K$:t,adv:j};j=[]}}}return h}function B(H){var y="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),h=Date.now(),m=0,t=[],j={Header:{}},x=[j],C=H.length;
while(m<C){var L=m;while(L!=C&&H[L]!=13&&H[L]!=10){L++}if(H[m]==37&&H[m+1]==95&&H[m+2]==37)m+=2;if(H[m]==37&&(H[m+1]==37||H[m+1]==65)){var f=s.fl(H,m,L-m);
if(f=="%%EndComments"||f=="%EndComments"||f=="%AI5_Begin_NonPrinting"||f=="%AI5_End_NonPrinting--"||f.startsWith("%AI17_Begin_Content_if_version_gt")||f=="%AI17_End_Versioned_Content"){}else{var D=f.indexOf("Begin"),v=Math.max(f.indexOf("_End"),f.indexOf("%End"));
if(D!=-1){var A=f.slice(D+5).split(":")[0],M={_begin:m,_end:m},Y=x[x.length-1];if(y.indexOf(A)!=-1){if(Y[A]==null)Y[A]=[];
Y[A].push(M)}else{if(Y[A]!=null){console.log(x);throw f}Y[A]=M}x.push(M);if(f.startsWith("%%BeginData")){L=s.it(H,"%%EndData",m)}else if(f=="%AI9_BeginDocumentData")L=s.it(H,"%AI9_EndDocumentData",L);
else if(f=="%AI11_BeginTextDocument")L=s.it(H,"%AI11_EndTextDocument",L)}else if(v!=-1){x.pop()._end=m}else if(x.length==1&&(f.startsWith("%AI")||f.startsWith("%%")&&f.indexOf(" ")!=-1)){var J=1;
if(f.startsWith("%AI"))while(f[J]!="_"&&J<f.length)J++;var I=f.indexOf(":");if(I==-1)I=f.indexOf(" ");
var p=f.slice(J+1,I),a=f.slice(I+1).trim();j.Header[p]=a}}}m=L;if(H[m]==13)m++;if(H[m]==10)m++}return j}function o(H,y){var h=Date.now(),m=new Uint8Array(H),t,j=m[2]==68;
if(y)console.log(!j?"EPS":"PDF");if(j){var x=s.it(m,"/AIMetaData "),O=!1,dF=!1;while(m[x]!=60)x--;x--;
var C=s.it(m,">>",x),L=s.fl(m,x+2,C-x-2).split("/"),f=[];for(var l=0;l<L.length;l++){var D=L[l],v=D.startsWith("AIPrivateData"),A=D.startsWith("AIPDFPrivateData");
if(!v&&!A)continue;var M=D.trim().split(/\s+/),Y=parseInt(M[1]),J=parseInt(M[0].slice(v?13:16));f.push([J,Y])}if(y)console.log("--- map made",Date.now()-h);
h=Date.now();var I=FromPDF.indexOfXref(m),p=[],a=FromPDF.readXrefTrail(m,I,p),er={buff:m,off:0},c8=new Array(f.length),gl=x;
for(var l=0;l<f.length;l++){var J=f[l][0],Y=f[l][1],e0=FromPDF.getIndirect(Y,0,er,p),bv=e0.buff,gm=e0["/Filter"],iW=0;
if(gm!=null&&typeof gm=="string")gm=[gm];var jx=s.fl(bv,iW,iW+20);if(jx=="%AI12_CompressedData"){iW+=20;
O=!0}else if(jx=="%AI24_ZStandard_Data"){iW+=20;dF=!0}bv=new Uint8Array(bv.buffer,bv.byteOffset+iW,bv.length-iW);
if(gm)for(var aC=0;aC<gm.length;aC++){var d9=gm[aC];if(d9=="/FlateDecode")bv=pako.inflate(bv);else if(d9=="/ASCIIHexDecode")bv=FromPS.F.HexDecode({buff:bv,off:0});
else if(d9=="/ASCII85Decode")bv=FromPS.F.ASCII85Decode({buff:bv,off:0});else throw d9}c8[J-1]=bv}if(y)console.log("--- arrays found",Date.now()-h);
h=Date.now();var bS=s.fl(c8[0],0,13);if(bS=="%%BoundingBox"||bS=="%AI7_Thumbnai")c8=c8.slice(1);if(bS=="%AI24_ZStanda"){c8[0]=c8[0].slice(20);
dF=!0}t=T(c8);if(y)console.log("--- concatenated",Date.now()-h);h=Date.now();if(O)t=UZIP.inflate(t);
if(dF)t=fg.YG.nu(t);if(y)console.log("--- inflated",Date.now()-h);h=Date.now()}else{var jo=s.CI(m);if(jo.indexOf("%AI5_BeginLayer")!=-1){t=m}else{var g7=jo.split(/[\n\r]+/),dI=[],gn=!1;
for(var hI=0;hI<g7.length;hI++){var d$=g7[hI].trim();if(d$=="%AI9_PrivateDataEnd"){gn=!1;break}else if(d$=="%AI9_DataStream"||d$=="%AI24_DataStream"){gn=!0}else if(gn)dI.push(d$.slice(1))}var eX=s.nw(dI.join("")),d3=FromPS.F.ASCII85Decode({buff:eX,off:0});
if(d3[0]==120&&d3[1]==156)t=UZIP.inflate(d3);else t=fg.YG.nu(d3)}}return t}function T(H){var y=0,m=0;
for(var l=0;l<H.length;l++)y+=H[l].length;var h=new Uint8Array(y);for(var l=0;l<H.length;l++){var t=H[l];
h.set(t,m);m+=t.length}return h}function z(H,y){for(var l=0;l<y.length;l++)if(H.startsWith(y[l]))return!0;
return!1}function W(H){var y=[],h=[],top=-1,m,t=null,j=null,x=0;for(var C=0;C<H.length;C++){var L=H[C];
if(m){L=m+L;m=null}var f="\t".repeat(y.length);if(t!=null){t.push(L);if(L.endsWith("~>")){var D=s.nw(t.join("")),v=FromPS.F.ASCII85Decode({off:0,buff:D});
y.push(v);h.push(!1);top++;t=null}}else if(j!=null){if(L=="X+"){if(x==1){y.push(j);h.push(!1);top++;
j=null}else x--}else if(L=="X=")x++;else j.push(L)}else if(L=="/Binary : /ASCII85Decode ,"){t=[]}else if(L=="X="){j=[];
x++}else if(L=="/SVGFilter :"||L=="; /Def ;")continue;else if(L.startsWith("/")&&L[1].toUpperCase()!=L[1].toLowerCase()){if(L.startsWith("/XMLUID")){var A=$(L);
if(h[top])throw"e";y[top][A[4]]=A[2]}if(L.startsWith("/GObjRef")){var A=$(L);if(!h[top])throw"e";y[top].push(A[2])}else{var M=L.startsWith("/Array")||L.startsWith("/Document");
y.push(M?[]:{});h.push(M);top++}}else if(L.endsWith(",")){var Y,J,A=$(L);A.pop();if(A[0]==";"||A.length==1){J=y.pop();
h.pop();top--;Y=h[top]?null:A.pop()}else{Y=h[top]?null:A.pop();var I=A.pop(),p=A[0];if(I=="/Int")J=parseInt(p);
else if(I=="/Real")J=parseFloat(p);else if(I=="/Bool")J=p=="1";else if(I=="/String"||I=="/UnicodeString")J=A.join("");
else if(I=="/RealMatrix"||I=="/RealPoint"||I=="/RealPointRelToROrigin")J=A.map(parseFloat);else throw I}if(h[top])y[top].push(J);
else y[top][Y]=J}else if(L==";"){}else if(L==""){}else{if(L.indexOf("/RealPoint")!=-1){}else if(L.startsWith("(")&&L.endsWith(")")){}else if(L.endsWith("/RealMatrix")){}else throw L;
m=m?m+L:L}}return y}function $(H){var y=0,h=[];while(y<H.length){var m=H[y],t=m.charCodeAt(0);if(m==" ")y++;
else if(m==","||m==";"||m==":"){h.push(m);y++}else if(m=="("){var j=y+1;while(!(H[j]==")"&&H[j-1]!="\\"))j++;
var x=H.slice(y+1,j);h.push(x);y=j+1}else if(m=="/"||m=="-"||48<=t&&t<=57){var j=y;while(H[j]!=" ")j++;
h.push(H.slice(y,j));y=j}else throw m}return h}function R(H){var y="";for(var l=0;l<H.length;l++){if(H[l]=="_"&&H[l+1]=="x"){var gi=parseInt(H.slice(l+2,l+4),16);
y+=String.fromCharCode(gi);l+=4}else if(H[l]=="_")y+=" ";else y+=H[l]}return y}function P(H){var y="xmlnode-nodename",h="xmlnode-nodevalue",m="xmlnode-attributes",t="xmlnode-children",j=H[y],x=H[m],C=H[t],L={_nam:j};
for(var f in x){var D=x[f];if(Object.keys(D[m]).length!=0||D[t].length!=0)throw"e";if(D[y]!=f)throw"e";
L[f]=D[h]}if(C.length==0)return L;var v=L.cln=[];for(var l=0;l<C.length;l++)v.push(P(C[l]));return L}return e}();
var i={};i.F=function(e){return window.devicePixelRatio||1};i.uE=function(e,Z){return(Z.anY=="touch"?12:4)*i.F()/e.t.e};
i.kC=function(e,Z,F){this.name=e;this.id=Z;this.bt=null;if(F!=null)this.gW=F};i.kC.prototype.at=function(e,Z,F,b,_){};
i.kC.prototype.enable=function(e,Z,F,b,_,d){var S=new j8(G.E.W,!0);S.data={d:G.B.MQ,$P:"default"};Z.$(S)};
i.kC.prototype.disable=function(e,Z,F,b,_){};i.kC.prototype.ke=function(e,Z,F,b,_){return!1};i.kC.prototype.NU=function(e,Z,F,b,_){};
i.kC.prototype.ym=function(e,Z,F,b,_){};i.kC.prototype.SE=function(e,Z,F,b,_){};i.kC.prototype.UD=function(e,Z,F,b,_,d){};
i.kC.prototype.og=function(e,Z,F,b,_){};i.kC.prototype.b8=function(e,Z,F,b){};i.kC.prototype.uB=function(e,Z,F,b){};
i.kC.prototype.Fm=function(e,Z){};i.kC.prototype.Mi=function(e,Z){};i.kC.prototype.OY=function(e,Z,F,b,_){};
i.kC.prototype.ZP=function(e,Z){};i.kC.prototype.TD=function(e,Z){return!1};i.kC.prototype.Hd=function(e,Z){return!1};
i.kC.prototype.dS=function(){return!1};i.kC.prototype.e2=function(e,Z){return!0};i.kC.prototype.GO=function(){return null};
i.kC.prototype.QT=function(e,Z,F){};i.kC.prototype.QY=function(){return!1};i.kC.prototype.Zx=function(e,Z,F,b){};
i.kC.prototype.track=function(e){var Z=new j8(G.E.GT,!0);Z.data=e;e.S$=!0;this.bt.$(Z)};i.kC.QB=function(e,Z,F,b){var _=10*i.F()*(e.anY=="touch"?2:1),d=e.x+_,S=e.y-_;
i.kC.Ka(d,S,[gA.get([12,41]).charAt(0)+": "+V.PR.Ix(Z.w,F.Cr,b,F.w,!0),gA.get([12,42]).charAt(0)+": "+V.PR.Ix(Z._,F.Cr,b,F._,!0)],F)};
i.kC.Ka=function(e,Z,F,b){var _=i.F(),d=Math.round,S=d(11*_),U=d(100*_),r=d((F.length*14+5)*_),q=new e3(e,Z-r,U,r),w=i.kC.jz;
if(w==null)w=i.kC.jz=document.createElement("canvas");w.width=U;w.height=r;var X=w.getContext("2d");
X.fillStyle="rgba(0,0,1,1)";X.fillRect(0,0,U,r);X.font=S+"px monospace";X.fillStyle="rgba(255,255,255,1)";
for(var l=0;l<F.length;l++)X.fillText(F[l],d(4*_),d((l+1)*13*_));var Q=[X.getImageData(0,0,U,r).data,q.clone()];
if(b)b.D.EM=[Q];return Q};i.kC.jz=null;i.l$="0";i._6="1";i.amk="2";i.aog="3";i.fq="5";i.adS="6";i.agm="7";
i.IJ="8";i.bL="9";i.WF="10";i.QI="11";i.IN="12";i.q1="13";i.Es="14";i.Wj="16";i.Ce="18";i.Ah="19";i.iW="20";
i.GR="21";i.an="22";i.f_="23";i.rr="24";i.nN="25";i.mp="27";i.hF="31";i.ad2="32";i.a1I="34";i.a9u="35";
i.kI="36";i.Ll="37";i.au="38";i.y0="39";i.qI="40";i.Rg="41";i.oo="42";i.rO="43";i.Xk="47";i.te="48";
i.qy="51";i.eK="52";i.Z2="54";i.Cp="55";i.w9="56";i.To="57";i.GN="58";i.mq="59";i.anU="60";i.GD="61";
i.qF="70";i.PF="100";i.uV="101";i.s9="102";i.Dz="103";i.Tw="120";i.v$="230";i.abe="231";i.Pi="232";i.__="233";
i.D7="234";i.Db="235";i.p4="236";i.XH=function(e){var Z=i.KH,F=null;for(var b in Z)if(Z[b][1].indexOf(e[1].classID)!=-1)F=b;
return F};i.KH={};i.KH[i.f_]=["tools/brush",["PbTl"]];i.KH[i.rr]=["tools/pencil",["PcTl"]];i.KH[i.hF]=["tools/eraser",["ErTl"]];
i.Aj=function(e,Z,F){i.kC.call(this,e,Z,F);this.Nd={brush:e?b6.mY():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Pk=null;this.pl=null;this.Wn=null;this.W8=null;this.Wk=null;this.VA=null;this.hD=null;this.H2=null;
this.IP=null;this.A$=null;this.Uj=null;this.pB=null;this.Vf=null;this.E$=1;this.ND=!1;this.pd=null;this.caller=null};
i.Aj.prototype=new i.kC;i.Aj.prototype.Hd=function(e,Z){return e.jP&&Z.j(ex.Ng)};i.Aj.prototype.ym=function(e,Z,F,b,_){if(b.j(ex.sW)){this.VA=new bI(_.x,_.y);
var d=this.Nd.brush.Brsh.v,S=d.Dmtr.v.val,U=d.Hrdn!=null?d.Hrdn.v.val:-1;this.hD=[S,U,!0,JSON.parse(JSON.stringify(this.Nd.brush)),_];
this.fC(F)}};i.Aj.prototype.qn=function(e,Z,F){var b=this.hD,_=e.t.e,d=F.x-b[4].x,S=F.y-b[4].y,U=b[0],r=b[1],q=Math.abs(d)>Math.abs(S);
if(q&&b[2]){var w=Math.round(2*d/_);U+=w;F.x-=d-.5*w*_}if(!q&&!b[2]&&r!=-1){var w=Math.round(.25*S);
r+=w;F.y-=S-4*w}U=Math.max(1,U);r=b[1]==-1?-1:Math.max(0,Math.min(100,r));var X=b[3];X.Brsh.v.Dmtr.v.val=U;
if(r!=-1)X.Brsh.v.Hrdn.v.val=r;this.hD=[U,r,q,X,F];var Q=fR.fn(X,Z.en.my,_),c=Q[1];c.x=Math.round(this.VA.x-c.w/2);
c.y=Math.round(this.VA.y-c._/2);e.D.r3=[Q];var u=e.t.mG(this.VA.x,this.VA.y);e.D.yp={tO:[],he:[u.x-U/2,u.y,u.x+U/2,u.y]};
if(r!=-1)e.D.yp.he.push(u.x+50/_,u.y-r/2,u.x+50/_,u.y+r/2);e.sp=!0};i.Aj.prototype.og=function(e,Z,F,b,_){if(this.id==i.iW||this.id==i.GR)return;
if(this.VA){this.VA=null;this.C$(JSON.parse(JSON.stringify(this.hD[3])));e.D.r3=[];e.D.yp=null;e.sp=!0;
return}var d=new j8(G.E.W,!0);d.data={d:G.B.Zw,k:this.id,a0i:"showBrushOpts",bj:new bI(_.Cl+4,_.mU)};
Z.$(d)};i.Aj.prototype.C$=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.aE,NG:c6.Iu,LL:e};this.caller.$(Z)};
i.Aj.eX=function(e,Z,F,b,_,d){if(e==null)e="FrgC";if(Z==null)Z="norm";if(F==null)F=1;if(_==null)_=!1;
var S={classID:"Fl",Usng:{t:"enum",v:{FlCn:e}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(F*100)}},PrsT:{t:"bool",v:_},Md:{t:"enum",v:{BlnM:ae.px(Z)}}};
if(e=="Clr")S.Clr={t:"Objc",v:b};if(e=="contentAware")S.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(e=="Ptrn")S.Ptrn={t:"Objc",v:d};return{qg:"fill",ni:S}};i.Aj.prototype.at=function(e,Z,F,b,_){this.bt=Z;
var d=F.kl.length;if(d==0&&!F.gy())return;var S=d!=0?-1-F.kl[0]:F.V[0],U=F.g[S];if(e.d=="fromAction"){var r=e.wO,q=r.ni;
if(q&&q.null&&q.null.v[0]&&q.null.v[0].v.classID=="Path"){var w=F.GJ(),X=w[0],Q=w[1],c=X[Q.length==0?0:Q[0]].add.vmsk;
if(r.qg=="fill"){var u=c.Vj(),n=_.Ly,k=this.Nd,B=n>>16&255,o=n>>8&255,T=n>>0&255;this.dF(F,U,u,B,o,T,Math.round(k.opacity*255),k.bmode,"Fill Path")}else{for(var z=0;
z<1e3;z++){var W=V.c.rD(c.T,z,!0);if(W==-1){this.UD(F,Z,_,b,null);break}var $=c.T[W],R=c.T.slice(W,W+1+$.length),P=V.H.Ju(R,!0).s,H=P.slice(0,8);
for(var y=8;y<P.length;y+=6)H.push(P[y-2],P[y-1],P[y],P[y+1],P[y+2],P[y+3],P[y+4],P[y+5]);var h={};h.Points=H;
h.TextOnPathTRange=c.yk.slice(0);var h=ge.lv(h,2),m=h[0];if(z==0)this.NU(F,Z,_,b,F.t.Td(m[0],m[1]));
else this.pl.moveTo(m[0],m[1]);for(var l=2;l<m.length;l+=2){var t=F.t.Td(m[l],m[l+1]);t.jP=!0;this.SE(F,Z,_,b,t,this.Nd.flow)}}}}else if(r.qg=="fill"){var j=q.PrsT?q.PrsT.v:!1,x=U?U.add.lspf:0;
if(j&&U){U.add.lspf=x==null?1:x|1}var C=(q.Opct?q.Opct.v.val:100)/100,L=q.Md?ae.Pp(q.Md.v.BlnM):"norm",f=q.Usng.v.FlCn;
if(f=="contentAware"){if(F.K==null){alert("Select an area to heal first.");return}if(!F.gy())return;
this.k$(F);this.By(F,0);var D=F.K,v=V.J(D.rect.Z()*4);V.s$(D.channel,v,3);this.RG(F,"sheal",v,D.rect,D.rect);
this.G(F,D.rect);this.finish(F,D.rect)}else if(f=="Ptrn"){var A=_.NY,M=F.K?F.K.rect.clone():new e3(0,0,F.w,F._),Y=V.J(M.Z()*4);
d4.sG(q,Y,M,A,new bI(0,0));this.dt(F,U,F.K,Y,"norm",[6,48,0,2])}else{var n;if(f=="FrgC")n=_.Ly;else if(f=="BckC")n=_.ZE;
else if(f=="Blck")n=0;else if(f=="Wht")n=16777215;else if(f=="Gry")n=8421504;else if(f=="Clr"){var J=V.X.Gb(q.Clr.v);
n=J.o<<16|J.z<<8|J.S}var B=n>>16&255,o=n>>8&255,T=n>>0&255;this.dF(F,U,F.K,B,o,T,Math.round(255*C),L,[2,3])}if(j&&U){U.add.lspf=x==null?0:x}}else if(r.qg=="delete"){var I=S<0?1:U.WA,D=F.K,c8;
if(D==null)return;var p=S<0?F.LE[-S-1]:I<=0?null:I==1?U.Vj():U.EB(F).v,M=I<=0?U.rect:p.rect,a=I<=0?D.rect.QP(M):D.rect.clone();
if(a.BJ())return;var er=a.Z();if(I<=0){c8=V.J(er*4);V.Rf(U.buffer,U.rect,c8,a)}else{c8=V.J(er);p.extend(a);
V.l2(p.channel,p.rect,c8,a)}if(0<=S&&U.ie(F,D)){if(I<=0){V.oi(c8,0);V.Rf(U.LW.Dl,U.LW.xK,c8,a)}else{c8.fill(255);
V.l2(U.LW.Dl,U.LW.xK,c8,a)}}else{if(I<=0){var O=V.J(c8.length>>2);V.yC(c8,O,3);V.a.Ur(V.eJ(D.rect.Z()),D.rect,O,a,D.channel,a,1);
V.s$(O,c8,3)}else{var dF=V.J(D.rect.Z()),B=_.ZE>>>16&255,o=_.ZE>>8&255,T=_.ZE>>0&255;dF.fill(Math.round(V.Mv(B,o,T)));
V.a.Ur(dF,D.rect,c8,a,D.channel,a,1)}}this._M(F,!0,[2,2],S,I,a,c8)}}if(e.d=="stroke"){var gl=e.a99,D=F.K;
if(D==null){D={rect:U.rect.clone(),channel:V.J(U.rect.Z())};V.yC(U.buffer,D.channel,3)}var e0=d4.tk(gl),bv=i.wL.S2(D,Math.ceil(e0[0]),Math.ceil(e0[1])),n=V.X.Gb(gl.Clr.v),B=Math.round(n.o),o=Math.round(n.z),T=Math.round(n.S);
this.dF(F,U,bv,B,o,T,Math.round(255*gl.Opct.v.val/100),ae.Pp(gl.Md.v.BlnM),[14,9])}if(e.d=="fillBMP"){this.dt(F,U,F.K,e.LR,e.tg,e.Pj)}if(e.d=="draw"){var gm=e.Uf,iW=gm.rect;
this.k$(F);var jx=F.g[F.V[0]];if(e.alC&&jx&&jx.WA<=0&&F.kl.length==0){iW=i.b0.cb(gm,F);jx.buffer=gm.buffer.slice(0);
jx.rect=iW.clone()}else{var aC=this.Nd.bmode;this.Nd.bmode="norm";this.RG(F,"draw",gm.buffer,iW,iW.QP(new e3(0,0,F.w,F._)));
this.Nd.bmode=aC}this.G(F,iW);F.oW=!0;this.finish(F,iW,e.Pj,e.alC)}};i.Aj.prototype.dF=function(e,Z,F,b,_,d,S,U,r){var q=F==null?new e3(0,0,e.w,e._):F.rect,w=S<<24|d<<16|_<<8|b<<0,X=V.J(q.Z()*4);
V.oi(X,w);this.dt(e,Z,F,X,U,r)};i.Aj.prototype.dt=function(e,Z,F,b,_,d){var S=e.kl.length!=0?-1-e.kl[0]:e.V[0],U=S<0?1:Z.WA,r=S<0?e.LE[-1-S]:U<=0?null:U==1?Z.Vj():Z.EB(e).v,q=U<=0?Z.rect:r.rect,w=F==null?new e3(0,0,e.w,e._):F.rect,X=F==null?V.sc(e.w*e._):F.channel,Q=w.Z(),c,u=null;
if(U<=0){c=V.J(Q*4);V.Rf(Z.buffer,Z.rect,c,w)}else{c=V.J(Q);r.extend(w);V.l2(r.channel,r.rect,c,w)}if(F!=null)V.ne(X,b);
if(U>0){u=V.J(Q);V.QE(b,u)}if(0<=S&&F&&Z.ie(e,F)){var n=Z.LW.iO,k=Z.LW.iO.slice(0);if(U<=0)V.Fk(b,k);
else V.Fk(u,k);var B=new eh([2,3],this);B.data={d:"drawtemp",i:e.V[0],JT:U,aan:n,a4I:k};e.XM(B);this.Fm(B.data,e)}else{if(U<=0){var o;
if(Z.oT(0)){o=V.J(w.Z());V.yC(c,o,3)}V.a.sB(_,b,w,c,w,w,1);if(Z.oT(0))V.s$(o,c,3)}else V.a.Ur(u,w,c,w,X,w,1);
this._M(e,!0,d,S,U,w,c)}};i.Aj.prototype.TD=function(e){if(ex.vU.indexOf(e)!=-1)return!0;return!1};i.Aj.prototype.b8=function(e,Z,F,b){var _=this.Nd.brush,d=b.j(ex.sW),S=d!=this.ND,U=i.Aj.Me(_,b);
if(U!=null)this.C$(U);if(!b.j(ex.Nh)&&b.Vd()!=-1){var r=ex.Dg(Math.round(this.Nd.opacity*100),b.Vd())/100;
this.Sb({opacity:r},Z)}if(this.id==i.IJ&&S&&e!=null){var q=this.Nd.qsmode;if(q==2)q=e.K==null?0:1;else q=2;
this.Sb({qsmode:q},Z)}this.ND=d;if(S){if(e)this.E$=e.t.e;this.fC(F,b)}};i.Aj.Me=function(e,Z){var F=e.Brsh.v.Dmtr.v.val,b=e.Brsh.v.Hrdn!=null?e.Brsh.v.Hrdn.v.val:-1,_=F,d=b,S=Z.j(ex.Ng);
if(Z.j(ex.iG)){if(S)b=25*Math.floor((b-1)/25);else{if(F<=10)F--;else if(F<=50)F=5*Math.floor((F-1)/5);
else if(F<=100)F=10*Math.floor((F-1)/10);else if(F<=200)F=25*Math.floor((F-1)/25);else if(F<=400)F=50*Math.floor((F-1)/50);
else F=100*Math.floor((F-1)/100)}}if(Z.j(ex.s7)){if(S)b=25*Math.ceil((b+1)/25);else{if(F<10)F++;else if(F<50)F=5*Math.ceil((F+1)/5);
else if(F<100)F=10*Math.ceil((F+1)/10);else if(F<200)F=25*Math.ceil((F+1)/25);else if(F<400)F=50*Math.ceil((F+1)/50);
else F=100*Math.ceil((F+1)/100)}}F=Math.max(1,F);b=Math.max(0,Math.min(100,b));if(d==-1)b=-1;if(F!=_||b!=d){var U=JSON.parse(JSON.stringify(e));
U.Brsh.v.Dmtr.v.val=F;if(d!=-1)U.Brsh.v.Hrdn.v.val=b;return U}return null};i.Aj.prototype.fC=function(e,Z,F,b){if(e.en.list.length==0)return;
var _=this.id,d;if((_==i.mp||_==i.Ah||_==i.f_||_==i.rr)&&(Z!=null&&Z.j(ex.sW)||this.Nd.alt[0]))d="crosshair";
else{var S=this.E$,U=this.Nd.brush;if((_==i.mp||_==i.Ah)&&F&&this.pB&&this.pB.length==this.Uj.Z()*4){var r=F.t.mG(b.x,b.y),q=this.wh(r),w=this.pB,X=this.Uj,Q=new e3(X.x+q.x,X.y+q.y,X.w,X._),c=fR.fn(U,e.en.my,S),u=c[0],n=c[1],k=Math.ceil(n.w/S),B=new e3(Math.round(r.x-k/2),Math.round(r.y-k/2),k,k),o=V.J(B.Z()*4),T,z;
V.Rf(w,Q,o,B);if(S==1){T=o;z=B}else{var W=new jg(S,0,0,S,0,0),$=i.Q.or([o,B],W,!0);z=n.clone();z.x=$.rect.x;
z.y=$.rect.y;if(z.Tn($.rect))T=$.buffer;else{T=V.J(z.Z()*4);V.Rf($.buffer,$.rect,T,z)}}var R=this.Nd.opacity/255;
for(var l=0;l<T.length;l+=4)T[l+3]=R*(u[l+3]*T[l+3]);fR.afc(new Uint32Array(T.buffer),z,4278190080,4294967295);
d={_j:T,uT:z,I7:new bI(z.w/2,z._/2)}}else d=fR.Y8(U,e.en.my,S,_==i.nN)}var P=new j8(G.E.W,!0);P.data={d:G.B.MQ,$P:d};
if(this.caller)this.caller.$(P)};i.Aj.prototype.enable=function(e,Z,F,b){this.Pk=F;this.caller=Z;this.C$(JSON.parse(JSON.stringify(this.Nd.brush)));
if(e&&e.t.e!=0)this.E$=e.t.e;this.fC(F,b)};i.Aj.prototype.ZP=function(e,Z){if(Z==c6.Iu){this.Nd.brush=e.en.yA;
this.fC(e)}};i.Aj.prototype.OY=function(e,Z,F,b,_){for(var d in e)this.Nd[d]=e[d];if(this.Nd.alt[0])this.fC(_,b,F)};
i.Aj.prototype.YW=function(e){var Z=e.kl.length!=0?-1-e.kl[0]:e.V[0],F=e.g[Z],b=Z<0?1:F.WA,_=Z<0?e.LE[-Z-1]:b<=0?null:b==1?F.Vj():F.EB(e).v,d=_?_.channel:F.buffer,S=(_?_.rect:F.rect).clone();
return[F,b,_,d,S]};i.Aj.prototype.k$=function(e,Z){this.Vf=e.K==null?null:{rect:e.K.rect.clone(),channel:e.K.channel.slice(0)};
var F=this.YW(e),b=F[0],_=F[1],d=F[2];this.A$=F[3];this.IP=F[4];var S=new e3(0,0,e.w,e._),U=S.Us(this.IP);
if((this.eg()&&_<=0||U.Tn(this.IP))&&Z!=!0)this.A$=this.A$.slice(0);else{if(d)d.extend(U);else b.extend(U)}};
i.Aj.prototype.By=function(e,Z){var F=this.YW(e),b=F[1],_=F[3],d=F[4],S=[_,d],U=Z!=null?Z:this.Nd.sfrom;
if(b<=0&&U!=0){S[1]=new e3(0,0,e.w,e._);S[0]=e.zB(U==1&&e.V[0]!=e.g.length-1?e.V[0]:null).slice(0)}this.Uj=S[1].clone();
this.pB=S[0].slice(0)};i.Aj.prototype.aG=function(e,Z,F){if(e.j(ex.sW)){var b=new j8(G.E.u,!0);b.k=i.Es;
b.data={d:"pickhere",a4N:F};Z.$(b);return!0}return!1};i.Aj.prototype.al=function(e,Z,F,b,_,d){if(this.id!=i.IJ&&!e.gy(this.caller)){this.pl=null;
return}this.k$(e);var S=new e3(0,0,e.w,e._),U=null;if(d!=null){var r=e.kl.length!=0?-1-e.kl[0]:e.V[0],q=e.g[r],w=r<0?e.LE[-r-1]:q.WA<=0?null:q.WA==1?q.Vj():q.EB(e).v;
U=V.J(S.Z()*4);if(w)i.Aj.oj(this.A$,this.IP,w.color,U,S);else V.Rf(this.A$,this.IP,U,S)}var X=this.Nd;
if(this.pl&&this.id==i.IJ&&X.qsmode!=0&&e.K!=null){}else{var Q=Z.Ly,c=Z.ZE;if(this.pd=="erase"){var u=Q;
Q=c;c=u}var n=this.id==i.IJ?this.IP:S;this.pl=new fR(X.brush,Z.en.my,Z.en.Jj,{Pv:_,Bg:d,aka:X.smth*50/e.t.e,Ew:this.id==i.rr||X.emode==1,w1:X.prsr},Q,c,n,U)}if(this.id==i.IJ){this.pl.a5W(X.brush,X.qsmode==2?0:16777215)}var k=e.t.mG(b.x,b.y);
if(F.j(ex.Ng)&&this.Wn){var B=this.Wn;this.pl.moveTo(B.x,B.y,b.BI);this.pl.lineTo(.001*B.x+.999*k.x,.001*B.y+.999*k.y,b.BI);
this.pl.lineTo(k.x,k.y,b.BI)}else this.pl.moveTo(k.x,k.y,b.BI);this.Wn=k;this.W8=k.clone();this.Wk=new eU(k,e.t.wQ)};
i.Aj.prototype.zq=function(e,Z,F){if(e&&e.t.e!=0&&e.t.e!=this.E$){this.E$=e.t.e;this.fC(F)}};i.Aj.prototype.DH=function(e,Z,F,b){if(this.pl==null)return;
var _=e.g[e.V[0]],d=e.t.mG(b.x,b.y),S=this.Wk.fp(d,F);if(S.Tn(this.Wn))return 1;this.pl.lineTo(S.x,S.y,b.BI);
this.Wn=S;if(this.id==i.mp||this.id==i.Ah){var U=this.Qw(),r=11;U=e.t.Td(d.x-U.x,d.y-U.y);var q=r>>>1,w=new e3(Math.round(U.x)-q,Math.round(U.y)-q,r,r),X=V.J(w.Z()*4);
V.oi(16777215);for(var l=0;l<r;l++)X[(l*r+q)*4+3]=X[(r*q+l)*4+3]=255;e.D.EM=[[X,w]];e.sp=!0}};i.Aj.prototype.uB=function(e,Z,F,b){if(F.yt!=this.id)return;
if(this.id!=i.IJ||e==null)return;if(e.K==null||e.V[0]!=this.aqx){this.aqx=e.V[0];this.Sb({qsmode:0},Z)}};
i.Aj.prototype.G=function(e,Z){if(e.kl.length!=0){e.sp=!0;return}var F=e.g[e.V[0]];if(Z==null){Z=this.pl.hh();
if(this.eg()&&F.WA<=0)Z=Z.QP(this.IP)}if(Z.BJ())return;if(F.WA<=0){F.G(Z)}if(F.WA==1){F.Vj().oy=!0;F.kJ(e)}if(F.WA==3){F.G()}e.G(e.root.QV(Z,e,e.V[0],!0))};
i.Aj.prototype.UD=function(e,Z,F,b,_){if(this.pl==null)return;this.pl.finish();if(this.id!=i.Ce&&this.id!=i.Ah&&this.id!=i.IJ)this.rG(e);
if(this.id==i.mp||this.id==i.Ah){e.D.EM=[];e.sp=!0}if(this.id==i.IJ){var d=e.K;e.K=this.Vf;var S=new j8(G.E.u,!0);
S.data={d:"setsel",Pj:this.name,K:d};S.k=i._6;Z.$(S);if(this.Nd.qsmode==0)this.Sb({qsmode:1},Z)}else{this.finish(e,this.pl.zx());
this.pl=null;this.H2=null}this.dir=0};i.Aj.prototype.Sb=function(e,Z){for(var F in e)this.Nd[F]=e[F];
var b=new j8(G.E.W,!0);b.data={d:G.B.Zw,k:this.id,x5:e};Z.$(b)};i.Aj.prototype.eg=function(){var e=this.id;
return e==i.IJ||e==i.hF||e==i.y0||e==i.qI||e==i.Rg||e==i.an};i.Aj.prototype.finish=function(e,Z,F,b,_){var d=e.kl.length!=0?-1-e.kl[0]:e.V[0],S=e.g[d],U=d<0?1:S.WA,r=d<0?e.LE[-d-1]:U<=0?null:U==1?S.Vj():S.EB(e).v,q=r?r.rect:S.rect,Q;
if(this.eg()||!q.Tn(this.IP)){if(r==null){if(this.eg())S.M5();else{var w=Z.Us(this.IP),X=V.J(w.Z()*4);
V.Rf(S.buffer,S.rect,X,w);S.buffer=X;S.rect=w}}else r.M5();this.G(e,q)}if(U<=0){Q=V.J(Z.Z()*4);V.Rf(this.A$,this.IP,Q,Z)}else{Q=V.J(Z.Z());
Q.fill(r.color);V.l2(this.A$,this.IP,Q,Z)}this._M(e,!1,F?F:this.name,d,U,Z,Q,b,_)};i.Aj.prototype._M=function(e,Z,F,b,_,d,S,U,r){var q=S;
if(_>0){q=V.J(d.Z()*4);i.Aj.oj(S,d,0,q,d)}var w=new eh(F,this);w.data=[{i:b,JT:_,uT:d,dq:q}];if(U)w.data.dI=[e.K,null];
if(r)w.data.dI=[this.Vf,e.K];e.XM(w);if(Z)this.Fm(w.data,e);else if(U)e.K=null;i.j4.$W(e,w.data)};i.Aj.prototype.Mi=function(e,Z){this.Rq(e,Z,!1)};
i.Aj.prototype.Fm=function(e,Z){this.Rq(e,Z,!0)};i.Aj.prototype.Rq=function(e,Z,F){if(e.d=="drawtemp"){var b=F?e.a4I:e.aan,_=Z.g[e.i];
_.LW.iO=b;_.$i(Z,0,0,Z.K);_.G();Z.oW=!0}else{i.j4.U0(Z,e);if(e.dI){Z.K=e.dI[F?1:0];Z.dw=!0}}Z.G()};i.Aj.prototype.rG=function(e){this.RG(e,this.pd,this.pl.n$(),this.pl.jK(),this.pl.hh());
this.G(e)};i.Aj.prototype.RG=function(e,Z,F,b,_){var d=this.Nd,S=e.g[e.V[0]],U=e.kl.length!=0?e.LE[e.kl[0]]:S.WA<=0?null:S.WA==1?S.Vj():S.EB(e).v,r=V.J(_.Z()*4),q,w=S.oT(0);
if(U==null){if(this.id==i.GR&&Z=="heal")V.Rf(S.buffer,S.rect,r,_);else V.Rf(this.A$,this.IP,r,_);if(w){q=V.J(_.Z());
V.yC(r,q,3)}}else{i.Aj.oj(this.A$,this.IP,U.color,r,_)}if(e.K&&Z!="qselect"){var X=_.QP(e.K.rect),Q=V.J(X.Z()*4);
if(Z=="copy"){var c=V.J(X.Z());V.l2(e.K.channel,e.K.rect,c,X);V.Rf(r,_,Q,X);V.a.i5(F,b,Q,X,c,X,0,X,1,!1)}else{V.Rf(F,b,Q,X);
V.xW(e.K.channel,e.K.rect,Q,X)}F=Q;b=X}function u(B,d9){var jo=Math.max(d9.x,Math.min(d9.x+d9.w-1,B.x)),g7=Math.max(d9.y,Math.min(d9.y+d9._-1,B.y));
return new bI(jo,g7)}if(Z=="idraw"||Z=="ierase"){if(this.H2==null)this.H2=V.J(this.IP.Z());var n=this.Nd.samp,k=this.Pk.ZE,B=u(this.Wn,_),o=n==0?B:this.W8,T=o.x,z=o.y,W=i.nx.Jk(this.A$,this.IP,[o,new bI(T-2,z),new bI(T+2,z),new bI(T,z-2),new bI(T,z+2)]);
if(n==2)W=[[k>>>16&255,k>>>8&255,k>>>0&255,255]];var $=i.nx.V$(r,_,B,W,this.Nd.wconf),R=V.J(_.Z());V.l2(this.H2,this.IP,R,_);
V.in.Us($,R,R);V.l2(R,_,this.H2,this.IP);V.xW(R,_,F,b);Z=Z.slice(1)}if(Z=="erase"&&(i.j4.di(e)!=16777215||U))Z="draw";
if(Z=="draw")V.a.sB(d.bmode,F,b,r,_,_,d.opacity);else if(Z=="erase"){var P=V.J(_.Z()*4);V.Rf(F,b,P,_);
if(U==null){var H=V.J(_.Z());V.yC(P,H,3);V.lk(H,d.opacity);V.eG(H);V.xW(H,_,r,_)}else{V.oi(P,0,4278190080);
V.a.sB("norm",P,_,r,_,_,d.opacity)}}else if(Z=="clone"||Z=="heal"){var y=this.Qw(),h=this.Uj.clone();
h.offset(y.x,y.y);var m=_.clone();m.qN(1,1);var t=V.J(m.Z()*4),j=V.J(m.Z());V.Rf(F,b,t,m);V.yC(t,j,3);
V.oi(t,0);if(U==null){V.Rf(this.pB,h,t,m);var x=V.J(m.Z());V.yC(t,x,3);V.vd(x,j)}else i.Aj.oj(this.pB,h,U.color,t,m);
if(Z=="clone"){V.s$(j,t,3);V.a.sB(d.bmode,t,m,r,_,_,d.opacity)}if(Z=="heal"){var C=j.slice(0);V.round(C,20);
var L=V.J(m.Z()*4);if(U==null)V.Rf(this.A$,this.IP,L,m);else i.Aj.oj(this.A$,this.IP,U.color,L,m);V.a.i5(t,m,L,m,C,m,0,m,1,!1);
V.VD.sh(L,C,m);V.a.i5(L,m,r,_,j,m,0,_,1,!1)}}else if(Z=="dodge"||Z=="burn"){var t=V.J(_.Z()*4),v=1,A=0,M=0,Y=0;
V.Rf(F,b,t,_);var f=_.Z()*4,D=i.Aj.PS;if(this.ND){if(Z=="dodge")Z="burn";else Z="dodge"}var J=d.rng;
if(Z=="dodge"){A=[1-v/2,1,1+v][J];M=[1,1/(1+v),1][J];Y=[v/2,0,0][J]}if(Z=="burn"){A=[1/(1-v/2),1,1-v/2][J];
M=[1,1+v,1][J];Y=[-(v/2)/(1-v/2),0,0][J]}for(var l=0;l<f;l+=4){var p=t[l+3];r[l+0]=D(r[l+0],A,M,Y,p);
r[l+1]=D(r[l+1],A,M,Y,p);r[l+2]=D(r[l+2],A,M,Y,p)}}else if(Z=="sponge"||Z=="redeye"){var t=V.J(_.Z()*4),j=V.J(_.Z());
V.Rf(F,b,t,_);V.yC(t,j,3);V.Fk(r,t);var a=d.smode;if(this.ND)a=1-a;var er=ff.wy("hue2");if(Z=="sponge")jb.OB(er,0,[0,[-50,46][a],[6,5][a]]);
else jb.OB(er,1,{_O:[265,305,25,55],U9:[0,-90,-70]});var c8=hc.WW("hue2",er);hc.Gm(c8,t,t,_);V.a.i5(t,_,r,_,j,_,0,_,1,!1)}else if(Z=="copy")V.Rf(F,b,r,_);
else if(Z=="sheal"){var t=V.J(_.Z()*4),j=V.J(_.Z());V.Rf(F,b,t,_);V.yC(t,j,3);t.fill(0);var O=this.pB,dF=this.Uj;
if(U){O=V.J(dF.Z()*4);i.Aj.oj(this.pB,dF,0,O,dF)}var gl=V.Zz.sh(O,dF,j,t,_);if(gl!=0)V.Rf(O,dF,t,_);
if(this.Nd.sfrom==0)V.Rf(t,_,r,_);else{V.Rf(this.A$,this.IP,r,_);V.s$(j,t,3);V.a.sB("norm",t,_,r,_,_,1)}}else if(Z=="qselect"){var e0=this.IP,bv=e0.w,gm=e0._,iW=bv*gm,jx=this.pl.n$(),W=this.A$,aC=i.wL.Hh,j=aC.JJ;
j.fill(128);for(var l=0;l<iW;l++){var d9=jx[l<<2],bS=jx[(l<<2)+3];if(bS==255&&(d9==0||d9==255))j[l]=d9}j[0]=j[bv-1]=0;
j[(gm>>>1)*bv]=j[(gm>>>1)*bv+bv-1]=0;i.vk.E0(aC,!0);e.K={rect:e0,channel:aC.K.slice(0)};e.dw=!0}if(U==null){if(w)V.s$(q,r,3);
V.Rf(r,_,S.buffer,S.rect)}else i.Aj.$q(r,_,U)};i.Aj.Qw=function(){return null};i.Aj.PS=function(e,Z,F,b,_){var d=e*(1/255),S=b+Z*Math.pow(d,F),U=Math.round(S*_+d*(255-_));
return Math.max(0,Math.min(255,U))};i.Aj.oj=function(e,Z,F,b,_){var d=V.J(_.Z());d.fill(F);V.l2(e,Z,d,_);
b.fill(255);V.jh(d,b)};i.Aj.$q=function(e,Z,F){var b=V.J(Z.Z());V.QE(e,b);V.l2(b,Z,F.channel,F.rect)};
i.wL=function(e,Z,F){i.kC.call(this,e,Z,F);this.Nd={binop:0,feat:0,cstr:{DE:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.kj=new bI(-1,-1);this.V0=new bI(-1,-1);this.vF="default";this.bt=null;this.atM=!0;this.I4=!1;this.o0=new f2;
this.fD=!1;this.nn=null;this.JP=null;this.Gj=!1;this.mv=!1};i.wL.prototype=new i.kC;i.wL.prototype.aj_=function(){var e=this.Nd,Z=[e.binop,e.feat];
if(this.id==i.bL)Z.push(e.wconf);return Z};i.wL.prototype.a8c=function(e,Z,F){var b=this.Nd;b.binop=e[0];
b.feat=e[1];b.wconf=e[2];var _=new j8(G.E.W,!0);_.data={d:G.B.Zw,k:this.id,Nd:b};F.$(_)};i.wL.Hh={key:""};
i.wL.i_=function(e,Z,F){var b={qg:e,ni:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(Z)b.ni.T=Z;if(F!=null)b.ni.AntA={t:"bool",v:F};return b};i.wL.rY=function(e,Z,F){return i.wL.i_("set",{t:"Objc",v:{classID:e,Top:{t:"UntF",v:{type:"#Pxl",val:Z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Z.y+Z._}},Rght:{t:"UntF",v:{type:"#Pxl",val:Z.x+Z.w}}}},F)};
i.wL.hL=function(e,Z,F){var b=[],_=[],S="set";for(var l=0;l<e.length;l+=2){b.push(e[l]);_.push(e[l+1])}var d={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:b},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:_}]}}}};
if(Z)S=["set","addTo","subtractFrom","interfaceWhite"][Z];return i.wL.i_(S,d,F)};i.wL.adg=function(e,Z,F){var b={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e.y}}}},_=i.wL.i_("set",b);
_.ni.Tlrn={t:"long",v:Z[0]};_.ni.AntA={t:"bool",v:Z[1]};_.ni.Cntg={t:"bool",v:Z[2]};if(F==!0)_.ni.Mrgd={t:"bool",v:F};
return _};i.wL.JG=function(e){return i.wL.i_("set",{t:"enum",v:{Ordn:e?"Al":"None"}})};i.wL.aav=function(e,Z,F){var b={classID:"null"};
if(e!="border")b.selectionModifyEffectAtCanvasBounds={t:"bool",v:F};var _={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[e[0]];
b[_]={t:"UntF",v:{type:"#Pxl",val:Z}};return{qg:e,ni:b}};i.wL.g9=function(e,Z,F){var b={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},_={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Z}}]};
if(F)_.v.push({t:"name",v:{classID:"Lyr",val:F}});var d=[{classID:"null",null:b,T:_},{classID:"null",null:_,T:b},{classID:"null",null:_,From:b},{classID:"null",null:_,With:b}],S=["set","add","subtract","interfaceIconFrameDimmed"];
return{qg:S[e],ni:d[e]}};i.wL.NE=function(e,Z){var F=new j8(G.E.W,!0);F.data={d:G.B.aE,NG:c6.m0};if(!Z.Fo)e.$(F);
F.data={d:G.B.aE,NG:c6.Kx};if(!Z.I9.dW)e.$(F)};i.wL.prototype.at=function(e,Z,F,b,_){i.wL.NE(Z,_);this.bt=Z;
var d=e.d,S,U,r=new e3(0,0,F.w,F._),cJ=!1,dM,dh,jh,aK;if(d=="fromAction"){var q=e.wO,w=q.qg,X=q.ni,Q=X?X.selectionModifyEffectAtCanvasBounds:null,c=Q&&Q.v;
if(w=="colorRange"){if(X.Clrs){var u=X.Clrs.v.Clrs,n=0,k=255,B={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[u],o=X[B+"LowerLimit"],T=X[B+"UpperLimit"];
if(o)n=o.v;if(T)k=T.v;var z=X[B+"Fuzziness"].v/100;S=i.wL.yK(F,n,k,z,!0)}else{var n=X.Mnm.v,k=X.Mxm.v,z;
n={qv:n.Lmnc.v,Y0:n.A.v,S:n.B.v};k={qv:k.Lmnc.v,Y0:k.A.v,S:k.B.v};z=X.Fzns.v/200;S=i.wL.yK(F,n,k,z)}U=[7,8]}else if(w=="inverse"){if(F.K==null){alert("No selection!");
return}S={channel:V.J(r.Z()),rect:r};V.l2(F.K.channel,F.K.rect,S.channel,S.rect);V.eG(S.channel);U=[7,2]}else if(w=="expand"){var W=X.By.v.val,$=F.K.rect.clone();
$.qN(W,W);var R=V.J($.Z()),P=V.J($.Z());V.l2(F.K.channel,F.K.rect,P,$);V.style.stroke(P,R,$,W);S={channel:R,rect:$};
U=[7,4]}else if(w=="contract"){var W=X.By.v.val,H=F.K.rect.clone();H.qN(1,1);if(!c)H=H.QP(r);var P=V.J(H.Z()),y=V.J(P.length);
V.l2(F.K.channel,F.K.rect,P,H);V.eG(P);V.style.stroke(P,y,H,W);V.eG(y);S={channel:y,rect:H};V.M5(S);
U=[7,5]}else if(w=="border"){var W=X.Wdth.v.val;S=i.wL.S2(F.K,W/2,W/2);U=[7,9]}else if(w=="feather"||w=="smoothness"){var W=X.Rds.v.val;
S=i.wL.Ac(F.K,W,w=="smoothness",r,c);U=w=="feather"?[7,6]:[19,3,0]}else{var h=X.null.v,m=X.AntA!=null&&X.AntA.v;
function t(bL){var fD=bL.Top.v.val,jD=bL.Left.v.val;return new e3(jD,fD,bL.Rght.v.val-jD,bL.Btom.v.val-fD)}function j(bL){var fD=bL[0].arr,bF=bL[1].arr,du={s:[],C:[]};
for(var l=0;l<fD.length;l++){du.C.push(l==0?"M":"L");du.s.push(fD[l],bF[l])}du.C.push("Z");return du}var x=["set","addTo","subtractFrom","interfaceWhite"].indexOf(w),C=X.T?X.T.v:null;
if(C&&C.classID=="Elps"){S=this.fa(i.f0.kN(t(C)));U=[10,4]}else if(C&&C.classID=="Rctn"){var L=t(C);
S={channel:V.J(L.Z()),rect:L.clone()};S.channel.fill(255);U=[10,15]}else if(C&&C.classID=="ObSl"){var L=t(C),f=i.wL.Hh,D=f.rect,v=f.JJ,A=D.w,M=D._,Y=L.x-D.x,J=Y+L.w-1,I=Math.max(Y,Math.min(J,Y+J>>>1)),p=L.y-D.y,a=p+L._-1,er=Math.max(p,Math.min(a,p+a>>>1)),c8=Math.max(Y,0),O=Math.min(J,A),dF=Math.max(p,0),gl=Math.min(a,M);
v.fill(128);if(0<=p)for(var e0=c8;e0<O;e0++)v[p*A+e0]=0;if(a<M)for(var e0=c8;e0<O;e0++)v[a*A+e0]=0;if(0<=Y)for(var bv=dF;
bv<gl;bv++)v[bv*A+Y]=0;if(J<A)for(var bv=dF;bv<gl;bv++)v[bv*A+J]=0;var gm=i.Md.S8,iW=Math.round(L.w*gm),jx=Math.round(L._*gm);
for(var e0=Math.max(0,I-iW);e0<Math.min(A,I+iW);e0++)v[er*A+e0]=255;for(var bv=Math.max(0,er-jx);bv<Math.min(M,er+jx);
bv++)v[bv*A+I]=255;i.vk.E0(f,!0);S={channel:f.K.slice(0),rect:D.clone()};U=[10,44]}else if(C&&C.classID=="Plgn"){S=this.fa(j(C.Pts.v.arr));
U=[10,9]}else if(C&&C.classID=="Pnt"){S=i.nx.HJ(F,new bI(C.Hrzn.v.val,C.Vrtc.v.val),[X.Tlrn.v,m,X.Cntg==null||X.Cntg.v],X.Mrgd?X.Mrgd.v:!1);
U=[10,12]}else if(C&&C.Ordn=="None"){S=null;U=[7,1]}else if(C&&C.Ordn=="Al"){var aC=r;if(F.V.length!=0){var d9=F.root.OV(F.V[0]);
while(d9.parent&&d9.parent.parent)d9=d9.parent;if(d9.i.add.artb)aC=d9.i.iU()}S={channel:V.J(aC.Z()),rect:aC};
S.channel.fill(255);U=[7,0]}else if(C&&C[0]&&C[0].v.keyID=="WrPt"){var bS={d:"frompath",wg:[-1,0,0]};
this.at(bS,Z,F,b,_);return}else{var jo=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(w),g7=w=="set"?C:h,dI=g7[0].v.enum,bS;
if(dI=="Trsp"||dI=="Msk"||dI=="vectorMask"||dI=="Trgt"){var gn=F.V[0];if(g7.length==2)gn=dz.I1(F,g7[1]);
var hI=["Trsp","Msk","vectorMask"].indexOf(dI);if(dI=="Trgt"&&F.g[gn].WA==1)hI=1;bS={d:"fromlayer",wg:[gn,hI,jo]}}else{if(g7[0].t=="name"){var gn=0;
for(var l=0;l<F.LE.length;l++)if(F.LE[l].name==g7[0].v.val)gn=l;bS={d:"fromchannel",wg:[-5-gn,0,jo]}}else{var d$=["RGB","Rd","Grn","Bl"].indexOf(dI);
bS={d:"fromchannel",wg:[-1-d$,0,jo]}}}this.at(bS,Z,F,b,_);return}if(!m&&S)V.round(S.channel);if(X.Fthr)S=i.wL.Ac(S,X.Fthr.v.val,!1);
if(w!="set"&&F.K!=null)S=V.in.j2(S,F.K,x)}if(w=="expand"||w=="contract")if(!c&&!r.contains(S.rect)){var eX=S.rect.QP(r),d3=V.J(eX.Z());
V.l2(S.channel,S.rect,d3,eX);S.channel=d3;S.rect=eX}}if(d=="qmask"){cJ=!0;var ca=F.aX(),iY=new e3(0,0,F.w,F._);
if(ca){S=ca.rect.Tn(iY)&&V.ZK(ca.channel,255)?null:{rect:ca.rect.clone(),channel:ca.channel.slice(0)};
dM=ca}else{S=null;dh=new g.hW;dh.color=0;dh.name="Quick Mask";dh.oB=!0;if(F.K){dh.rect=F.K.rect.clone();
dh.channel=F.K.channel.slice(0)}else{dh.rect=iY;dh.channel=V.J(dh.rect.Z());dh.channel.fill(255)}}U=[6,6,1];
F.oW=!0}if(d=="setsel"){S=e.K;U=e.Pj}if(d=="crange"){var n=e.ub,k=e.NZ;S=i.wL.yK(F,n,k,e.tB);U=[7,8]}if(d=="fromlayer"||d=="fromchannel"||d=="frompath"){var et=e.wg[0],hI=e.wg[1],x=e.wg[2];
if(d=="fromlayer"){if(et==null)et=F.V[0];var jD=F.g[et];if(hI==0){var j6=jD.rect,dc=jD.buffer;if(j6.BJ())return;
var ao=V.J(dc.length>>>2);V.yC(dc,ao,3);S={channel:ao,rect:j6.clone()}}else{if(jD.v==null)jD.kJ(F);var ec=hI==1?jD.Vj():jD.v;
S=i.wL.Ik(ec,r)}this.track(i.wL.g9(x,["Trsp","Msk"][hI],jD.getName()))}else if(d=="frompath"){var fp=F.GJ(),eN=fp[1],fp=fp[0];
if(et==null)if(fp.length==0||eN.length==0)return;var ha=fp[eN[0]];if(et!=null)for(var l=0;l<fp.length;
l++)if(fp[l].wD==et)ha=fp[l];var ec=ha.add.vmsk.Vj(),bJ=ec.jK();if(bJ.Z()==0)return;var ao=ec.DV();if(e.wg[3]!=null)this.atM=e.wg[3];
if(this.atM){ao=ao.slice(0);V.round(ao)}jh=[JSON.stringify(F.YN),JSON.stringify(F.sQ)];aK=["[]","[]"];
F.YN=[];F.sQ=[];S={channel:ao,rect:bJ}}else{if(et==null)et=i.wL.BU(F);S=i.wL.Ic(F,et)}if(x!=0&&F.K)S=V.in.j2(S,F.K,x);
U=[14,11]}if(S!=null&&V.ZK(S.channel,0)){S=null;U=[7,1]}if(S)V.M5(S);var g3=new eh(U,this);g3.data={d:"changesel",Vf:F.K,rn:S,aX:cJ,alO:dM,age:dh,CO:jh,ar$:aK};
F.XM(g3);this.Fm(g3.data,F)};i.wL.BU=function(e){var Z=0;if(e.kl.length!=0)Z=-5-e.kl[0];else if(JSON.stringify(e.t.$v)=="[1,1,1]")Z=-1;
else Z=-2-e.t.$v.indexOf(1);return Z};i.wL.Ic=function(e,Z){var F,b=new e3(0,0,e.w,e._);if(-5<Z&Z<0){var _=-Z-1,d=e.zB(),S=V.J(b.Z());
if(_==0)V.QE(d,S);else V.yC(d,S,_-1);F={channel:S,rect:b.clone()}}if(Z<-4){F=i.wL.Ik(e.LE[-Z-5],b)}return F};
i.wL.Ik=function(e,Z){var F,b;if(e.Gb()==0){b=e.jK().clone();if(b.Z()==0)return;F=e.DV()}else{b=Z;F=V.J(b.Z());
e.UZ(b,F)}return{channel:F,rect:b}};i.wL.prototype.Hd=function(e){return this.fD||e.jP&&this.id!=i.fq};
i.wL.prototype.b6=function(e,Z,F){var b=new j8(Z,!0);b.data=F;e.$(b)};i.wL.prototype.ka=function(e,Z){var F=new j8(G.E.W,!0);
F.data={d:G.B.MQ,$P:Z};e.$(F)};i.wL.prototype.jK=function(e,Z,F){Z=e.K==null||this.o0.ZC(1)||this.o0.jd(1)?Z:null;
var b=this.kj,_=this.V0;if(F){b.x=Math.max(0,Math.min(e.w,b.x));b.y=Math.max(0,Math.min(e._,b.y));_.x=Math.max(0,Math.min(e.w,_.x));
_.y=Math.max(0,Math.min(e._,_.y))}var d=i.Dd.NR(b,_,Z,!0,this.Nd.cstr),S=d[0].x,U=d[0].y;return new e3(S,U,d[1].x-S,d[1].y-U)};
i.wL.prototype.NU=function(e,Z,F,b,_){this.mv=!0;if(this.W3())return;this.bt=Z;this.I4=!1;this.o0.NU(b);
this.kj=e.t.mG(_.x,_.y);this.kj=i.rX.gC(e,this.kj,F);if(this.eF(e,this.kj,b)){this.fD=!0;this.nn=e.K.rect.clone();
return}this.s8(e,F,b,_);e.t.M1=new e3};i.wL.prototype.eF=function(e,Z,F){var b=F.j(ex.Ng),_=F.j(ex.sW);
if(e.K&&!b&&!_&&this.Nd.binop==0)return V.Ak(Z,e.K.channel,e.K.rect);return!1};i.wL.prototype.SE=function(e,Z,F,b,_){this.bt=Z;
if(this.Gj)return;var d=e.t.mG(_.x,_.y);if(bI.Ls(this.kj,d)*e.t.e>5){this.I4=!0;this.o0.SE()}if(b.j(ex.gT)){if(this.JP==null)this.JP=new bI(d.x-this.kj.x,d.y-this.kj.y);
this.kj.x=d.x-this.JP.x;this.kj.y=d.y-this.JP.y}else this.JP=null;this.V0=d;if(!this.fD)this.V0=i.rX.gC(e,this.V0,F);
if(this.eF(e,this.V0,b))this.ka(Z,"move");else this.ka(Z,this.vF);if(this.fD){var S=this.nn.clone();
S.x+=this.V0.x-this.kj.x;S.y+=this.V0.y-this.kj.y;var U=i.rX.DS(e,S,F);e.K.rect.x=Math.round(this.V0.x-this.kj.x+this.nn.x+U[0]);
e.K.rect.y=Math.round(this.V0.y-this.kj.y+this.nn.y+U[1]);e.dw=!0;i.rX.J9(e,S,U);return}this.Mn(e,F,b,_);
if(e.t.M1)e.t.M1=this.jK(e,b)};i.wL.prototype.W3=function(){return!1};i.wL.prototype.UD=function(e,Z,F,b,_,d){var S=this.mv;
this.mv=!1;if(d||!S)return;e.t.M1=null;this.V0=e.t.mG(_.x,_.y);this.V0=i.rX.gC(e,this.V0,F);if(this.fD){this.fD=!1;
if(e!=null&&e.D.Hv){e.D.Hv=null;e.sp=!0}if(this.V0.Tn(this.kj)&&this.Is()==0){this.b6(Z,G.E.GT,i.wL.JG());
return}this.XL(e,this.nn,e.K.rect.clone());return}this.fQ(e,F,b,_);i.wL.NE(Z,F);this.o0.UD();this.ln(Z)};
i.wL.prototype.XL=function(e,Z,F){var b=e.Yj();if(b!=null&&b.k==this&&b.data.d=="movesel"){}else{b=new eh([7,7],this);
b.data={d:"movesel",t9:Z};e.XM(b)}b.data.Xn=F;this.Fm(b.data,e)};i.wL.prototype.ym=function(e,Z,F,b,_){this.Gj=!0};
i.wL.prototype.og=function(e,Z,F,b,_){var d=new j8(G.E.W,!0);d.data={d:G.B.Zw,k:this.id,Pn:_,rj:e,J8:F};
Z.$(d);this.Gj=!1};i.wL.prototype.b8=function(e,Z,F,b){this.o0.b8(b);if(e!=null&&e.K!=null){var _=b.qY();
if(_.x!=0||_.y!=0){var d=e.K.rect.clone();d.x+=_.x;d.y+=_.y;this.XL(e,e.K.rect.clone(),d)}}this.ln(Z)};
i.wL.prototype.ln=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.Zw,k:this.id,Rv:this.Is()};e.$(Z)};
i.wL.prototype.Is=function(){var e=this.o0.ZC(0),Z=this.o0.jd(0);return i.wL.rL(this.Nd.binop,e,Z)};
i.wL.rL=function(e,Z,F){if(Z)e=1;if(F)e=2;if(Z&&F)e=3;return e};i.wL.prototype.finish=function(e,Z,F,b){var _=e.K,d=this.getSelection(e,Z,F,b);
if(d==null)d=i.wL.JG();else{var S=this.Nd.feat,U=this.Is();if(S!=0)d.ni.Fthr={t:"UntF",v:{type:"#Pxl",val:S}};
if(U!=0&&U!=4)d.qg=["","addTo","subtractFrom","interfaceWhite",""][U]}this.b6(this.bt,G.E.GT,d);this.kj.zU(-1,-1);
this.V0.zU(-1,-1)};i.wL.prototype.getSelection=function(e,Z,F,b){return null};i.wL.prototype.s8=function(e,Z,F,b){};
i.wL.prototype.Mn=function(e,Z,F,b){};i.wL.prototype.fQ=function(e,Z,F,b){};i.wL.prototype.Mi=function(e,Z){var F=e.d;
if(F=="changesel")Z.K=e.Vf;if(F=="movesel")Z.K.rect=e.t9;if(e.aX){if(e.alO){Z.kl=[Z.LE.length];Z.LE.push(e.alO)}else{Z.LE.pop();
Z.kl=[]}}if(e.CO){Z.YN=JSON.parse(e.CO[0]);Z.sQ=JSON.parse(e.CO[1])}Z.dw=!0};i.wL.prototype.Fm=function(e,Z){var F=e.d;
if(F=="changesel")Z.K=e.rn;if(F=="movesel")Z.K.rect=e.Xn;if(e.aX){if(e.age){Z.kl=[Z.LE.length];Z.LE.push(e.age)}else{Z.LE.pop();
Z.kl=[]}}if(e.CO){Z.YN=JSON.parse(e.ar$[0]);Z.sQ=JSON.parse(e.ar$[1])}Z.dw=!0};i.wL.prototype.OY=function(e){this.Nd=e.Nd};
i.wL.prototype.fa=function(e){var Z=V.H.CN(e.s);if(Z.BJ())return null;var F=V.LH(Z.w,Z._);F.save();F.beginPath();
F.translate(-Z.x,-Z.y);Typr.U.pathToContext({cmds:e.C,crds:e.s},F);F.closePath();F.fill();F.restore();
var b=V.J(Z.Z()),_=F.getImageData(0,0,Z.w,Z._);V.yC(_.data,b,3);return{rect:Z,channel:b}};i.wL.Ac=function(e,Z,F,b,_){if(F)Z=Math.round(Z*.7);
var d=Math.ceil(2.6*Z),S=e.rect.clone();S.qN(d,d);if(b&&!_)S=S.QP(b);var U=V.J(S.Z()),r=V.J(U.length);
V.l2(e.channel,e.rect,r,S);V.OS.$x(r,U,S,Z);if(F){var q=U.length;for(var l=0;l<q;l++){var w=(U[l]-128)*Z*2.5;
U[l]=Math.max(0,Math.min(255,Math.round(128+w)))}}return{channel:U,rect:S}};i.wL.S2=function(e,Z,F){var b=Math.max(1,Math.ceil(F)),_=e.rect.clone();
_.qN(b,b);var d=_.Z(),S={channel:V.J(d),rect:_},U=V.J(d);V.l2(e.channel,e.rect,U,S.rect);if(F!=0)V.style.stroke(U,S.channel,S.rect,F);
else V.Fk(U,S.channel);var r=V.J(d);V.eG(U);if(Z!=0)V.style.stroke(U,r,S.rect,Z);else V.Fk(U,r);V.in.QP(S.channel,r,S.channel);
return S};i.wL.yK=function(e,Z,F,b,_){var d=new e3(0,0,e.w,e._),S=e.zB();if(e.K){var U=e.K.rect.QP(d),r=V.J(U.Z()*4);
V.Rf(S,d,r,U);d=U;S=r}var q=d.Z(),w=V.J(q),X=1/b;if(_){if(Z>=F)Z=F-1;var Q=Z*(1-b),c=Z,u=F,n=F+(255-F)*b,k=Q==c?0:1/(c-Q),B=u==n?0:1/(n-u);
for(var l=0;l<q;l++){var o=l<<2,T=V.Mv(S[o],S[o+1],S[o+2]),z=0;if(T<Q)z=0;else if(T<c)z=(T-Q)*k;else if(T<=u)z=1;
else if(T<=n)z=1-(T-u)*B;else z=0;w[l]=S[o+3]*z*z}}else for(var l=0;l<q;l++){var o=l<<2,W=V.gc(S[o],S[o+1],S[o+2]),z=V.Ch(W,Z,F,b,X);
w[l]=S[o+3]*z}return{rect:d,channel:w}};i.$s=function(){i.Aj.call(this,[10,18],i.kI,"tools/blur");this.pd="copy"};
i.$s.prototype=new i.Aj;i.$s.prototype.NU=function(e,Z,F,b,_){var d=b.j(ex.sW)?fR.Lt:fR.kI;this.al(e,F,b,_,this.Nd.strn,d);
if(this.pl==null)return;this.rG(e)};i.$s.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.vP=function(){i.Aj.call(this,[10,0],i.f_,"tools/brush");
this.pd="draw"};i.vP.prototype=new i.Aj;i.vP.prototype.NU=function(e,Z,F,b,_){if(this.aG(b,Z,_))return;
this.al(e,F,b,_,this.Nd.flow);if(this.pl==null)return;this.rG(e)};i.vP.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.GK=function(){i.Aj.call(this,[10,42],i.nN,"tools/crepl");
this.pd="idraw";this.Nd.bmode="hue "};i.GK.prototype=new i.Aj;i.GK.prototype.NU=function(e,Z,F,b,_){if(this.aG(b,Z,_))return;
this.al(e,F,b,_,this.Nd.flow);if(this.pl==null)return;this.rG(e)};i.GK.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.qX=function(){i.Aj.call(this,[10,43],i.an,"tools/redeye");
this.Nd.smode=0;this.pd="redeye"};i.qX.prototype=new i.Aj;i.qX.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.flow);
if(this.pl==null)return;this.rG(e)};i.qX.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.RO=function(){i.Aj.call(this,[10,38],i.rr,"tools/pencil");
this.pd="draw"};i.RO.prototype=new i.Aj;i.RO.prototype.NU=function(e,Z,F,b,_){if(this.aG(b,Z,_))return;
this.al(e,F,b,_,this.Nd.flow);if(this.pl==null)return;this.rG(e)};i.RO.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.aF=function(){i.Aj.call(this,[10,22],i.qI,"tools/burn");
this.pd="burn"};i.aF.prototype=new i.Aj;i.aF.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.expo/Math.E);
if(this.pl==null)return;this.rG(e)};i.aF.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.JU=function(e,Z,F){i.Aj.call(this,e==""?null:e?e:[10,1],Z?Z:i.mp,F?F:"tools/clone");
this.pd="clone";this.TH=null;this.r=null};i.JU.prototype=new i.Aj;i.JU.prototype.NU=function(e,Z,F,b,_){var d=this.Nd,S=d.alt[0];
if(b.j(ex.sW)||b.j(ex.KP)||S){this.TH=e.t.mG(_.x,_.y);this.r=null;if(S)this.Sb({alt:[!1]},Z);this.By(e);
this.fC(F,b,e,_);return}if(this.TH==null){alert(gA.get([15,7,0]));return}this.fC(F,b);this.al(e,F,b,_,this.Nd.flow);
if(this.pl==null)return;this.r=this.wh(e.t.mG(_.x,_.y));this.rG(e)};i.JU.prototype.wh=function(e){var Z=this.r;
if(Z==null||!this.Nd.algnd)Z=new bI(Math.round(e.x-this.TH.x),Math.round(e.y-this.TH.y));return Z};i.JU.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null){if(this.TH!=null)this.fC(F,b,e,_);return}if(!_.jP||this.TH==null)return;
this.DH(e,F,b,_);this.rG(e)};i.JU.prototype.Qw=function(){return this.r};i.Za=function(e,Z,F){i.kC.call(this,e,Z,F);
this.vR={bz:{DE:0,x:0,y:0},yi:!1};this.cn=!1;this.VF=null;this.cursor=null;this.agN=0;this.Ok=null;this.kj=null;
this.WH=null;this.$l=!1};i.Za.prototype=new i.kC;i.Za.prototype.dS=function(){return this.VF!=null};
i.Za.prototype.Hd=function(e){return this.kj!=null||this.VF&&this.VF.pA()};i.Za.prototype.NU=function(e,Z,F,b,_){this.Ok=_;
var d=e.t.mG(_.x,_.y);d.x=Math.round(d.x);d.y=Math.round(d.y);var S=this.vR.bz,U=S.DE!=0?S.x/S.y:null,r=this.$l;
this.$l=!1;if(this.VF){var q=this.VF.JE(d,e.t.e);if(r&&q==null){this.VF.clear(e);this.VF=null}else{this.VF.NU(e,F,b,d,U,!1,_);
return}}this.kj=i.rX.gC(e,d,F)};i.Za.prototype.xm=function(e,Z,F){if(F==null)F=[e.x,e.y,e.x+e.w,e.y,e.x+e.w,e.y+e._,e.x,e.y+e._];
return new j1(F,!0,!1,this.id==i.QI,!0,Z,this.id==i.QI?2:0,this.id==i.QI?4:3)};i.Za.prototype.fC=function(e){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.MQ,$P:this.cursor};e.$(Z)};i.Za.prototype.enable=function(e,Z,F,b){this.bt=Z;this.cursor="crosshair";
this.fC(Z);if(e!=null){var _=e.K?{uC:"cropby",aeQ:3}:{uC:"config",vR:this.vR,aeL:!0};this.OY(_,Z,e,b,F);
if(e.K==null&&this.vR.bz.DE==0)this.$l=!0}};i.Za.prototype.SE=function(e,Z,F,b,_){this.Ok=_;var d=e.t.mG(_.x,_.y);
if(!_.jP){var S="crosshair";if(this.VF){var U=this.VF.JE(d,e.t.e,null,_);if(U)S=U;else S="default"}if(S!=this.cursor){this.cursor=S;
this.fC(Z)}}if(this.VF)this.VF.SE(e,F,b,d);else if(this.kj){if(this.cn){e.D.x9={C:["M","L"],s:[this.kj.x,this.kj.y,d.x,d.y]}}else{var r=i.Dd.NR(this.kj,i.rX.gC(e,d,F),b,!0,this.vR.bz),q=r[0].x,w=r[0].y,X=this.WH=new e3(q,w,r[1].x-q,r[1].y-w);
e.D.x9=V.H.gb(X);i.kC.QB(_,X,e,F)}e.sp=!0}};i.Za.a8C=function(e,Z,F){var b,_,U,r;if(Z<=F){b=Z;_=F}else{b=F;
_=Z}var d=e-Math.floor((e+Math.PI)/(2*Math.PI))*2*Math.PI;d=Math.abs(d);if(d>Math.PI/2)d=Math.PI-d;var S=b/(_*Math.sin(d)+b*Math.cos(d));
if(Z<=F){U=b*S;r=_*S}else{U=_*S;r=b*S}return{bo:U,zA:r}};i.Za.prototype.UD=function(e,Z,F,b,_){this.Ok=_;
var d=e.t.mG(_.x,_.y);if(this.VF==null){var S=this.WH;if(this.kj&&(S||this.cn)){if(this.cn){var U=this.kj,r=d;
if(U.x>r.x){var q=U;U=r;r=q}var U=Math.atan2(-(r.y-U.y),r.x-U.x),w=i.Za.a8C(U,e.w,e._),X=[0,0,w.bo,0,w.bo,w.zA,0,w.zA],Q=new jg;
Q.translate(-w.bo/2,-w.zA/2);Q.rotate(U);Q.translate(e.w/2,e._/2);V.H.A(X,Q,X);this.VF=this.xm(S,!1,X);
e.D.x9=null;this.cn=!1}else{var c=this.vR.bz;this.VF=this.xm(S,c.DE!=0)}this.VF.HS(e,F);this.WH=null;
this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,zr:!0});this.kj=null;e.D.EM=[];e.sp=!0}return}this.VF.UD(e,F,b,d);
this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,zr:!0});var X=this.VF.ZH();if(Math.abs(X[0]-X[4])<2&&Math.abs(X[1]-X[5])<2){this.disable(e,Z,null,b);
return}if(Date.now()-this.agN<200&&this.VF.Y$(d)){this.Ex(e,F);this.disable(e,Z,F,b);return}this.agN=Date.now()};
i.Za.prototype.b8=function(e,Z,F,b){var _=this.VF;if(_==null||this.Ok&&this.Ok.jP)return;if(b.j(ex.Dr)){this.Ex(e,F);
this.disable(e,Z,F,b)}else if(b.j(ex.ea)){this.disable(e,Z,F,b)}else _.b8(e,F,b)};i.Za.Nv=function(e,Z,F){var b={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:e[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:e[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:e[1]+e[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:e[0]+e[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:Z!=null?Z:0}},Dlt:{t:"bool",v:F!=null?F:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{qg:"crop",ni:b}};i.Za.hR=function(e,Z){if(Z==null)Z=[!0,!0,!0,!0];var F={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][e]}}},b=["Top","Left","Btom","Rght"];
for(var l=0;l<4;l++)F[b[l]]={t:"bool",v:Z[l]};return{qg:"trim",ni:F}};i.Za.ZA=function(e,Z,F,b){var _={classID:"null"};
if(b!=null){_.Wdth={t:"UntF",v:{type:"#Pxl",val:e}};_.Hght={t:"UntF",v:{type:"#Pxl",val:Z}};_.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][b]}}}if(F!=null)_.Rslt={t:"UntF",v:{type:"#Rsl",val:F}};
return{qg:"imageSize",ni:_}};i.Za.L1=function(e,Z,F){if(F==null)F=4;var b=Math.floor(F/3),_=F%3;return{qg:"canvasSize",ni:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:e}},Hght:{t:"UntF",v:{type:"#Pxl",val:Z}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][_]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][b]}}}}};
i.Za.prototype.at=function(e,Z,F,b,_){var d=new e3(0,0,F.w,F._),S=[11,3],U=F.Cr,r=F.w/2,q=F._/2,w=1,I,p;
if(e.d=="fromAction"){var X=e.wO,Q=X.qg,c=X.ni,u=F.w/F._,n=c.Wdth?c.Wdth.v.val:-1,k=c.Hght?c.Hght.v.val:-1,U=c.Rslt?c.Rslt.v.val:null,B=c.Wdth?c.Wdth.v.type:c.Hght?c.Hght.v.type:-1,o=1,T;
if(B=="#Prc"){if(n!=-1)n=Math.round(F.w*n/100);if(k!=-1)k=Math.round(F._*k/100)}if(Q=="imageSize"){if(c.Intr){if(c.Intr.v.Intp=="Nrst")o=0;
if(c.Intr.v.Intp=="bicubicSharper")o=2;if(n==-1&&k==-1){var z=U/F.Cr;n=Math.round(F.w*z);k=Math.round(F._*z)}if(c.CnsP&&c.CnsP.v){if(n==-1)n=Math.round(k*u);
if(k==-1)k=Math.round(n/u)}}else{if(B=="#Prc")U=Math.round(F.Cr*(F.w/n));else if(B==-1)U=Math.round(U);
else throw"e";n=F.w;k=F._}T={d:"imgsize",OC:n,Tu:k,KQ:U,nY:o}}else if(Q=="canvasSize"){if(n==-1)n=F.w;
if(k==-1)k=F._;if(c.Rltv&&c.Rltv.v==!0){if(c.Wdth)n+=F.w;if(c.Hght)k+=F._}var W=c.Vrtc?c.Vrtc.v.VrtL:"Cntr",$=c.Hrzn?c.Hrzn.v.HrzL:"Cntr";
T={d:"canvsize",OC:n,Tu:k,xq:3*["Top","Cntr","Btom"].indexOf(W)+["Left","Cntr","Rght"].indexOf($)}}else if(Q=="revealAll"){T={d:"revealAll"}}else if(Q=="trim"){var R={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[c.trimBasedOn.v.trimBasedOn];
if(R==null)throw"e";var P=["Top","Left","Btom","Rght"],H=[!0,!0,!0,!0];for(var l=0;l<4;l++)if(c[P[l]])H[l]=c[P[l]].v;
T={d:"trim",afy:R,OX:H}}else if(Q=="crop"){var y,h,m,t;if(c.T){var j=c.T.v,y=Math.round(j.Left.v.val),h=Math.round(j.Top.v.val),m=Math.round(j.Rght.v.val)-y,t=Math.round(j.Btom.v.val)-h}else{var x=F.g[F.V[0]],C=x.rect;
C=C.QP(new e3(0,0,F.w,F._));y=C.x;h=C.y;m=C.w;t=C._}T={d:"canvsize",OC:m,Tu:t,r:new bI(y,h),aiQ:c.Dlt!=null&&c.Dlt.v}}else console.log(X);
if(T)this.at(T,Z,F,b,_);return}else if(e.d=="imgsize"){d=new e3(0,0,e.OC,e.Tu);if(e.KQ)U=e.KQ;w=e.nY}else if(e.d=="canvsize"){var L=e.xq!=null?e.xq:0;
d=new e3(0,0,e.OC,e.Tu);var f=F.w-e.OC,D=F._-e.Tu,v=Math.round(f/2),A=Math.round(D/2);if(L==1||L==4||L==7)d.x=v;
if(L==2||L==5||L==8)d.x=f;if(L==3||L==4||L==5)d.y=A;if(L==6||L==7||L==8)d.y=D;if(e.r){d.x=e.r.x;d.y=e.r.y}}else if(e.d=="rot"&&(e.I+2*Math.PI)%(Math.PI/2)!=0){var M=V.H.gb(d).s,Y=new jg;
Y.translate(-r,-q);Y.rotate(e.I);Y.translate(r,q);V.H.A(M,Y,M);d=V.H.CN(M)}else if(e.d=="rot"&&e.I!=Math.PI&&e.I!=-Math.PI){d=new e3(r-F._/2,q-F.w/2,F._,F.w);
if((F.w+F._&1)==1){r=Math.floor(r);q=Math.floor(q);d=new e3(r-Math.floor(F._/2),q-Math.floor(F.w/2),F._,F.w);
if((F.w&1)==1&&e.I!=-Math.PI/2)d.y--;if((F._&1)==1&&e.I==-Math.PI/2)d.x--}}else if(e.d=="trim"){S=[11,12,0];
var J=F.zB(),C=new e3(0,0,F.w,F._);d=V.ip(J,C,e.afy,e.OX);if(d.BJ())d=C}else if(e.d=="cropbysel"){S=[11,12,1];
d=F.K.rect.clone()}else if(e.d=="revealAll"){S=[11,12,2];d=F.root.jK(F,!0)}var a=e.d=="canvsize"&&e.aiQ;
if(e.d=="imgsize"||e.d=="rot"||e.d=="scl"||a){var er=new jg;if(e.d=="imgsize"){S=[11,10];er.scale(e.OC/F.w,e.Tu/F._)}else if(a){}else{er.translate(-r,-q);
if(e.d=="rot")er.rotate(e.I);if(e.d=="scl")er.scale(e.I.x,e.I.y);er.translate(r,q);S=e.Pj}p=V.N.C5(er);
I=this.ww(F,_,!0,p,w,a?d:null)}else if(e.d=="auto-align"){if(F.V.length<2){alert("Select two or more layers.");
return}var c8=[];for(var l=0;l<F.V.length;l++){var x=F.g[F.V[l]];if(!x.nJ()&&x.add.SoLd==null){alert("Unsupported layer selected.");
return}if(x.rect.BJ()){alert("Empty layer selected.");return}c8.push([x.buffer,x.rect])}var O=V.ZY.eV(c8,0);
if(O==null){alert("No similarity found.");return}p=O[1];var dF=F.V;F.V=F.V.slice(1);I=this.ww(F,_,!1,O.slice(1),w);
F.V=dF;d=F.root.jK(F,!0);S=[2,10,1]}var gl=new e3(0,0,F.w,F._);if(!d.BJ()&&(!d.Tn(gl)||I!=null)){var e0=new eh(S,this);
e0.data={ac1:F.Cr,KQ:U,wn:I,Wc:p,Hw:i.Za.T1(F,d,gl,I!=null)};i.Za.pM(F,e0.data,d);F.XM(e0);this.Fm(e0.data,F)}};
i.Za.T1=function(e,Z,F,b){if(e.sP.length==0)return null;var _=JSON.stringify(e.sP),d=JSON.parse(_);i.re.aaj(d,Z,F,b);
d=JSON.stringify(d);return[_,d]};i.Za.prototype.ww=function(e,Z,F,b,_,d){var S={g:[],pZ:null,Co:null};
if(F){for(var l=0;l<e.g.length;l++)S.g.push(l);for(var l=0;l<e.Tl.length;l++)S.g.push(-1-l);for(var l=0;
l<e.LE.length;l++)S.g.push(-1e3-l)}else S.g=e.V.slice(0);S.pZ=i.Q.sT(e,S.g,!0);i.Q.$L(e,Z,S.g,S.pZ,_,b,null,!0,d);
S.Co=i.Q.sT(e,S.g,!0);return S};i.Za.prototype.Fm=function(e,Z){if(e.KQ)Z.Cr=e.KQ;if(e.Hw)Z.sP=JSON.parse(e.Hw[1]);
if(e.wn){i.Za.MJ(Z,V.N.tZ(e.Wc));i.Q.lq(Z,e.wn.g,e.wn.Co)}i.Za.Lz(Z,e)};i.Za.prototype.Mi=function(e,Z){if(e.ac1)Z.Cr=e.ac1;
if(e.Hw)Z.sP=JSON.parse(e.Hw[0]);i.Za.k9(Z,e);if(e.Tf)Z.t.r.VV(e.Tf);Z.aI();if(e.wn){var F=V.N.tZ(e.Wc).clone();
F.eG();i.Za.MJ(Z,F);i.Q.lq(Z,e.wn.g,e.wn.pZ)}};i.Za.MJ=function(e,Z){for(var l=0;l<e.g.length;l++){var F=e.g[l];
if(F.add.artb==null)continue;var b=V.H.gb(F.iU()).s;V.H.A(b,Z,b);var _=V.H.CN(b);F.bc(_)}};i.Za.YC=function(e){var Z=new e3,F=0,b=e.root.children.length;
for(var l=0;l<b;l++){var _=e.root.children[l].i;if(_.add.artb==null)continue;Z=Z.Us(_.iU());F++}var d=new e3(0,0,e.w,e._);
if(!Z.BJ()&&!d.Tn(Z)&&b==F)return Z;return null};i.Za.J4=function(e){var Z=i.Za.YC(e);if(Z)i.Za.yi(e,Z,!0);
return Z};i.Za.yi=function(e,Z,F){var b=e.w,_=e._,d=Z.w,S=Z._,U=Z.x==0&&Z.y==0;if(U&&b==d&&_==S)return;
e.w=d;e._=S;var r=[];for(var l=0;l<e.g.length;l++)r.push(l);if(!U)i.rX._u(e,r,null,-Z.x,-Z.y);for(var l=0;
l<e.g.length;l++){e.g[l].kJ(e)}e.aI();if(F){var q=e.t.r,w=e.t.e;q.x+=Math.round((Z.x+(d-b)/2)*w);q.y+=Math.round((Z.y+(S-_)/2)*w)}else e.t.r.zU(0,0);
if(e.K)e.K.rect.offset(-Z.x,-Z.y);var X=e.$j();for(var Q=0;Q<X[0].length;Q++)if(X[1][Q]==-1){var c=e.P3[Q];
c[1]-=c[0]==0?Z.x:Z.y}for(var l=0;l<e.LE.length;l++)e.LE[l].rect.offset(-Z.x,-Z.y)};i.Za.prototype.OY=function(e,Z,F,b,_){if(e.uC=="commit"){this.Ex(F,_);
this.disable(F,Z,null,b)}else if(e.uC=="cancel"){this.disable(F,Z,null,b)}var d=null,S=new e3(0,0,F.w,F._),U=this.vR.bz;
if(e.uC=="config"){this.vR=e.vR;U=this.vR.bz;if(F==null||!e.aeL)return;d=S;if(U.DE==1){var r=U.x/U.y;
if(d.w/r<d._)d._=Math.round(d.w/r);else d.w=Math.round(d._*r)}if(U.DE==2){d.w=U.x;d._=U.y}d.x=Math.round((F.w-d.w)/2);
d.y=Math.round((F._-d._)/2)}if(e.uC=="straighten"){alert("Draw a line in the image.");this.cn=!0}if(e.uC=="cropby"){if(F==null)return;
var q=e.aeQ,d;if(q==0)d=F.root.jK(F,!0);if(q==1){if(F.V.length==0)alert("No layer is selected.");else{var w=F.root.OV(F.V[0]);
d=w.jK(F,!0)}}if(q==2){if(F.V.length==0)alert("No layer is selected.");else{d=V.ip(F.zB(),S,0);if(d.BJ())d=S.clone()}}if(q==3){if(F.K!=null)d=F.K.rect;
else alert("There is no selection.")}if(q==4){d=new e3(0,0,F.w,F._)}}if(d&&d.BJ())d=null;if(d!=null){this.VF=this.xm(d,U.DE!=0);
this.VF.HS(F,_);this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,zr:!0})}};i.Za.prototype.Ex=function(e,Z){var F=this.VF.ZH(),b=V.H.CN(F),_=this.ah0(e,F),d=!1,S=this.vR.bz,U=this.vR.yi,r=S.x,q=S.y,Q;
if(this.id==i.WF&&S.DE==2&&_.Z()!=r*q){_=new e3(_.x,_.y,r,q);d=!0}var w=V.N.R5(F,_);w=V.N.eG(w);var X=V.N.ps(w),c=Math.atan2(w[3],w[0]);
if(Math.abs(c)>1e-9||!X||d||U)Q=this.ww(e,Z,!0,w,1,b);var u=new eh(this.name,this),n=new e3(0,0,e.w,e._);
u.data={wn:Q,Wc:w,Tf:e.t.r.clone(),Hw:i.Za.T1(e,_,n,!1)};i.Za.pM(e,u.data,_);e.XM(u);this.Fm(u.data,e);
this.track(i.Za.Nv([b.x,b.y,b.w,b._],null,U))};i.Za.pM=function(e,Z,F){if(F==null)return;Z.t9=new e3(0,0,e.w,e._);
Z.Xn=F};i.Za.Lz=function(e,Z){if(Z.Xn==null)return;i.Za.yi(e,Z.Xn)};i.Za.k9=function(e,Z){if(Z.Xn==null)return;
var F=Z.t9.clone();F.offset(-Z.Xn.x,-Z.Xn.y);i.Za.yi(e,F)};i.Za.prototype.ah0=function(e,Z){var F=V.N.R5(Z),b=V.N.ps(F),_=V.N.tZ(F),d=_.lr,S=_.Xz,U=Math.atan2(_.S,_.Y0);
_.rotate(U);var r=new e3(d,S,_.Y0,_.rl);if(!b){function q(T,l,z){var W=T[l]-T[z],$=T[l+1]-T[z+1];return Math.sqrt(W*W+$*$)}var w=q(Z,0,2),X=q(Z,4,6),Q=Math.max(w,X),c=q(Z,2,4),u=q(Z,6,0),n=Math.max(c,u),k=i.Za.agO(Z,e.w/2,e._/2),B,o;
if(isNaN(k)||k==Infinity||k==-Infinity||Math.min(k,1/k)<.1)k=(w+X)/(c+u);if(Q/n>k){B=Q*1;o=B/k}else{o=n*1;
B=o*k}r.w=B;r._=o}r.x=Math.round(r.x);r.y=Math.round(r.y);r.w=Math.round(r.w);r._=Math.round(r._);return r};
i.Za.agO=function(e,Z,F){var b=e[0]-Z,_=e[1]-F,d=e[2]-Z,S=e[3]-F,U=e[6]-Z,r=e[7]-F,q=e[4]-Z,w=e[5]-F,X=((_-w)*U-(b-q)*r+b*w-_*q)/((S-w)*U-(d-q)*r+d*w-S*q),Q=((_-w)*d-(b-q)*S+b*w-_*q)/((r-w)*d-(U-q)*S+U*w-r*q),c=-((Q*r-_)*(X*S-_)+(Q*U-b)*(X*d-b))/((Q-1)*(X-1));
function u(k){return k*k}var n=Math.sqrt((u(X-1)+u(X*S-_)/c+u(X*d-b)/c)/(u(Q-1)+u(Q*r-_)/c+u(Q*U-b)/c));
if(X==1&&Q==1)n=Math.sqrt((u(S-_)+u(d-b))/(u(r-_)+u(U-b)));return n};i.Za.prototype.disable=function(e,Z,F,b){if(e==null)return;
if(this.VF)this.VF.clear(e);this.VF=null;this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,zr:!1})};i.Za.prototype.b6=function(e,Z,F,b){var _=new j8(Z,!0);
_.data=F;if(b)_.k=b;e.$(_)};i.UA=function(){i.Za.call(this,[10,2],i.WF,"tools/rcrop")};i.UA.prototype=new i.Za;
i.P0=function(){i.Za.call(this,[10,39],i.QI,"tools/pcrop")};i.P0.prototype=new i.Za;i.fo=function(){i.Aj.call(this,[10,21],i.y0,"tools/dodge");
this.pd="dodge"};i.fo.prototype=new i.Aj;i.fo.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.expo/Math.PI);
if(this.pl==null)return;this.rG(e)};i.fo.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.hb=function(){i.Aj.call(this,[10,3],i.hF,"tools/eraser");
this.pd="erase"};i.hb.prototype=new i.Aj;i.hb.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.flow);
if(this.pl==null)return;this.rG(e)};i.hb.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;var d=this.DH(e,F,b,_);this.rG(e)};i.XN=function(){i.Aj.call(this,[10,45],i.ad2,"tools/beraser");
this.pd="ierase"};i.XN.prototype=new i.Aj;i.XN.prototype.NU=function(e,Z,F,b,_){if(this.aG(b,Z,_))return;
this.al(e,F,b,_,this.Nd.flow);if(this.pl==null)return;this.rG(e)};i.XN.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.wi=function(){i.wL.call(this,[10,15],i._6,"tools/rselect");
this.vF="crosshair"};i.wi.prototype=new i.wL;i.wi.prototype.Mn=function(e,Z,F,b){if(!b.jP||!this.I4)return;
var _=this.jK(e,F,!0);e.D.x9=V.H.gb(_);e.sp=!0;i.kC.QB(b,_,e,Z)};i.wi.prototype.fQ=function(e,Z,F,b){e.D.x9=null;
e.D.EM=[];e.sp=!0;this.finish(e,Z,F,b)};i.wi.prototype.getSelection=function(e,Z,F,b){if(this.kj.Tn(this.V0)||!this.I4)return null;
var _=this.jK(e,F,!0);if(_.BJ())return null;return i.wL.rY("Rctn",_,this.Nd.anta)};i.f0=function(){i.wL.call(this,[10,4],i.amk,"tools/eselect");
this.vF="crosshair"};i.f0.prototype=new i.wL;i.f0.prototype.Mn=function(e,Z,F,b){if(!b.jP||!this.I4)return;
var _=this.jK(e,F);e.D.x9=i.f0.kN(_);e.sp=!0;i.kC.QB(b,_,e,Z)};i.f0.prototype.fQ=function(e,Z,F,b){e.D.x9=null;
e.D.EM=[];e.sp=!0;this.finish(e,Z,F,b)};i.f0.prototype.getSelection=function(e,Z,F,b){if(this.kj.Tn(this.V0)||!this.I4)return null;
var _=this.jK(e,F);if(!_.iP(new e3(0,0,e.w,e._)))return null;return i.wL.rY("Elps",_,this.Nd.anta)};
i.f0.kN=function(e){var Z=e.x,F=e.y,b=e.x+e.w,_=e.y+e._,d=(Z+b)/2,S=(F+_)/2,U=(Z-b)/2,r=(F-_)/2,q=.5522848,w={s:[d,S-r],C:["M","C","C","C","C"]};
w.s.push(d+q*U,S-r,d+U,S-q*r,d+U,S);w.s.push(d+U,S+q*r,d+q*U,S+r,d,S+r);w.s.push(d-q*U,S+r,d-U,S+q*r,d-U,S);
w.s.push(d-U,S-q*r,d-q*U,S-r,d,S-r);return w};i.wB=function(e){i.kC.call(this,[10,5],e?i.Dz:i.Es,"tools/eyedropper");
this.Wb=null;this.m$=0;this.I6=null;this.Hf=1;this.$D=2;this.aag=!0;this.mR=!1};i.wB.prototype=new i.kC;
i.wB.prototype.Hd=function(e){return e.jP};i.wB.prototype.at=function(e,Z,F,b,_){if(e.d=="pickhere")this.tG(F,Z,_,null,e.a4N);
if(e.d=="supertool")this.Wb=e.k};i.wB.prototype.NU=function(e,Z,F,b,_){var d=this.Wb;if(d){d.NU(e,Z,F,b,_);
return}this.m$=F.Ly;this.I6=_;var S=this.tG(e,null,F,b,_);this.fC(e,Z,S,_)};i.wB.prototype.SE=function(e,Z,F,b,_){var d=this.Wb;
if(d){d.SE(e,Z,F,b,_);return}var S=this.I6;if(S){var U=_.x-S.x,r=_.y-S.y,q=1,w=new bI(S.x+U*q,S.y+r*q),X=this.tG(e,null,F,b,w);
this.fC(e,Z,X,w,new bI(U*(1-q),r*(1-q)))}};i.wB.prototype.fC=function(e,Z,F,b,_){var d=this.aag,S=this.mR,q=12,w=11;
if(e.t.e>4)S=!1;if(!S&&!d)return;if(_==null)_=new bI(0,0);var U=new e3(0,0,e.w,e._),r=e.zB(),X=(q*2+1)*w,Q=new bI(X/2,X/2),c=new e3(0,0,X,X),u=V.J(c.Z()*4),n=e.t.mG(b.x,b.y),k=Math.floor(n.x),B=Math.floor(n.y),o=new jg;
o.scale(1/w,1/w);o.translate(k-q,B-q);if(S)V.scale.AA(r,U,o,u,c);var T=(q-3.4)*w,z=(q-1.7)*w,W=q*w;for(var $=0;
$<X;$++)for(var R=0;R<X;R++){var P=bI.Ls(new bI(R,$),Q);if(P>T){if(d){var H=Math.max(0,T-P+1),y=($*X+R)*4,h=u[y+3]<<24|u[y]<<16|u[y+1]<<8|u[y+2],m=255<<24|($<W+w*.5?F:this.m$);
if(P>z){H=Math.max(0,z-P+1);h=m;m=4286611584}else if(!S){h=m&16777215}u[y+0]=(1-H)*(m>>>16&255)+H*(h>>>16&255);
u[y+1]=(1-H)*(m>>>8&255)+H*(h>>>8&255);u[y+2]=(1-H)*(m>>>0&255)+H*(h>>>0&255);u[y+3]=(1-H)*(m>>>24&255)+H*(h>>>24&255)}if(P>W){u[($*X+R)*4+3]=Math.max(0,255*(W-P+1))}}}function t(l){var p=l<<2;
u[p]=0;u[p+1]=0;u[p+2]=0;u[p+3]=255}function j(l){var p=l<<2;u[p]=255;u[p+1]=255;u[p+2]=255;u[p+3]=255}var x=this.Hf*w+2,C=X-x>>>1,L=C+x-1;
if(S&&x<X)for(var l=0;l<x;l++){var f=C*X+C+l,D=L*X+C+l,v=(C+l)*X+C,A=(C+l)*X+L;t(f);t(D);t(v);t(A);if(l!=0&&l!=x-1){j(f+X);
j(D-X);j(v+1);j(A-1)}}if(!S)for(var l=-9;l<=9;l++){if(-3<l&&l<3)continue;var M=X>>>1,R=M*X+M+l,$=(M+l)*X+M;
j(R-X);t(R);j(R+X);j($-1);t($);j($+1)}var Y=i.kC.Ka(0,0,["#"+V.Z0(F),"RGB "+(F>>>16&255)+","+(F>>>8&255)+","+(F>>>0&255)]),U=Y[1];
U.y=0;U.x=X-U.w>>>1;V.Rf(Y[0],U,u,c);var J={_j:u,uT:c,I7:new bI(Q.x+_.x,Q.y+_.y)},I=new j8(G.E.W,!0);
I.data={d:G.B.MQ,$P:J};Z.$(I)};i.wB.prototype.UD=function(e,Z,F,b,_,d){this.tG(e,Z,F,b,_);var S=this.Wb;
if(S){S.UD(e,Z,F,b,_);return}if(this.I6){this.I6=null;if(d)this.tG(e,Z,F,b,_,this.m$);var U=new j8(G.E.W,!0);
U.data={d:G.B.MQ,$P:"default"};Z.$(U)}};i.wB.prototype.tG=function(e,Z,F,b,_,d){if(d==null)d=i.wB.TC(e,_,this.Hf,this.$D);
var S=new j8(G.E.W);S.data={d:G.B.aE,NG:c6.kp,Yu:b&&b.j(ex.sW)?1:0,I:d};if(Z)Z.$(S);return d};i.wB.TC=function(e,Z,F,b){if(b==null)b=2;
var _=e.t.mG(Z.x,Z.y),d,S,U=e.V.length==1&&e.g[e.V[0]].WA>0,r=e.kl.length!=0,z=0,W=0,$=0;if(U||r){var q;
if(r)q=e.LE[e.kl[0]];else{var w=e.g[e.V[0]];q=w.WA==1?w.Vj():w.a9Y()}S=q.jK();if(!S.rI(_))return q.color==0?0:16777215;
d=V.J(S.Z()*4);d.fill(255);var X=q.DV();V.jh(X,d)}else if(b==0&&e.V.length!=0){var w=e.g[e.V[0]];d=w.buffer;
S=w.rect}else{d=b==2?e.zB():e.zB(e.V[0]);S=new e3(0,0,e.w,e._)}var Q=Math.floor(_.x)-S.x,c=Math.floor(_.y)-S.y,u=(F-1)/2,n=Math.max(0,Q-u),k=Math.max(0,c-u),B=Math.min(S.w,Q+u+1),o=Math.min(S._,c+u+1),T=(B-n)*(o-k);
for(var Q=n;Q<B;Q++)for(var c=k;c<o;c++){var l=4*(c*S.w+Q);z+=d[l];W+=d[l+1];$+=d[l+2]}z=Math.round(z/T);
W=Math.round(W/T);$=Math.round($/T);return z<<16|W<<8|$};i.wB.prototype.OY=function(e){var Z=e.Nd;this.Hf=[1,3,5,11,31][Z[0]];
this.$D=Z[1];this.aag=Z[2];this.mR=Z[3]};i.vS=function(){i.kC.call(this,[10,6],i.a1I,"tools/gradient");
this.Nd={X:JSON.parse(fu.Jr.CL).v,J_:"Lnr",_J:!1,acr:!1,arQ:"norm",Pv:1};this.Bp=!1;this.XY=null};i.vS.prototype=new i.kC;
i.vS.prototype.enable=function(e,Z,F,b){var _=new j8(G.E.W,!0);_.data={d:G.B.MQ,$P:"default"};Z.$(_)};
i.vS.prototype.OY=function(e){this.Nd=e.NG};i.vS.prototype.NU=function(e,Z,F,b,_){if(!e.gy())return;
this.XY=e.t.mG(_.x,_.y);this.XY=i.rX.gC(e,this.XY,F);this.Bp=!0};i.vS.prototype.SE=function(e,Z,F,b,_){if(!this.Bp)return;
var d=e.t.mG(_.x,_.y);d=i.rX.gC(e,d,F);if(b.j(ex.Ng))d=i.vS.eo(this.XY,d);e.D.x9={s:[this.XY.x,this.XY.y,d.x,d.y],C:["M","L"]};
e.D.Zq=[this.XY.x,this.XY.y,d.x,d.y];e.sp=!0};i.vS.prototype.UD=function(e,Z,F,b,_){if(!this.Bp)return;
var d=e.g[e.V[0]],S=e.t.mG(_.x,_.y);S=i.rX.gC(e,S,F);if(b.j(ex.Ng))S=i.vS.eo(this.XY,S);var U=S.iv(this.XY),r=bI.uS(this.XY,S,.5),q=Math.atan2(U.y,U.x),w=bI.Ls(this.XY,S),X=Math.sin(q),Q=Math.cos(q);
if(w>2){var c;if(e.K)c=e.K.rect;else c=new e3(0,0,e.w,e._);var u=V.J(c.Z()*4),n=this.Nd,k=n.J_;if(k!="Lnr"){w*=2;
r=this.XY}V.X.v_(n.X,u,c,[Q*1/w,X*1/w,-X*1/w,Q*1/w],r.x,r.y,n._J,fu.X.types.indexOf(k),F.Ly,F.ZE,null,n.acr);
var B=Math.round(n.Pv*256),o=u.length;if(B!=256)for(var l=0;l<o;l+=4)u[l+3]=u[l+3]*B>>>8;var T=new j8(G.E.u);
T.k=i.hF;T.data={d:"fillBMP",LR:u,tg:n.arQ,Pj:this.name};Z.$(T)}e.D.x9=null;e.D.Zq=[];e.sp=!0;this.Bp=!1};
i.vS.eo=function(e,Z){if(e.Tn(Z))return e;var F=Z.x-e.x,b=Z.y-e.y,_=Math.abs(F),d=Math.abs(b);if(_>d)d=_/2>d?0:_;
if(d>_)_=d/2>_?0:d;_=F>0?_:-_;d=b>0?d:-d;var S=Math.sqrt(F*F+b*b)/Math.sqrt(_*_+d*d);return new bI(e.x+_*S,e.y+d*S)};
i.vS.Bk=function(e,Z,F,b,_,d,S){if(S==null)S=document.createElement("canvas");var U=S.getContext("2d");
S.width=Z;S.height=F;var r=new e3(0,0,Z,F),q=V.J(Z*F*4);V.Ag(q,Z,F,4);var w=Math.sin(b),X=Math.cos(b),Q=V.J(Z*F*4);
V.X.v_(e,Q,r,[X*1/Z,w*1/Z,-w*1/F,X*1/F],Z/2,F/2,!1,0,_,d);V.a.sB("norm",Q,r,q,r,r,1);var c=U.getImageData(0,0,Z,F);
V.Fk(q,c.data);U.putImageData(c,0,0);return S.toDataURL()};i.vS.atq=function(e,Z,F){var b=JSON.parse(JSON.stringify(e));
if(b.Clrs)for(var l=0;l<b.Clrs.v.length;l++){var _=b.Clrs.v[l].v,d=_.Type.v.Clry;if(d=="UsrS")continue;
var S=d=="FrgC"?Z:F;_.Type.v.Clry="UsrS";_.Clr={t:"Objc",v:V.X.Q9({o:S>>16&255,z:S>>8&255,S:S&255})}}return b};
i.pu=function(){i.kC.call(this,[10,7],i.mq,"tools/hand");this.I6=new bI(0,0);this.Lc=null;this.AR=0};
i.pu.prototype=new i.kC;i.pu.prototype.at=function(e,Z,F,b,_){var d=e.d;if(d=="setcls"){F.t.$v=e.$v;
F.sp=!0;F.Zc=!0}if(d=="scroll"&&!b.j(ex.sW)){if(b.j(ex.Nh))i.pu.nZ(F,F.t.r.x-e.Nk.y,F.t.r.y-e.Nk.x);
else i.pu.nZ(F,F.t.r.x-e.Nk.x,F.t.r.y-e.Nk.y)}};i.pu.prototype.enable=function(e,Z,F,b){this.Lc=null;
var _=new j8(G.E.W,!0);_.data={d:G.B.MQ,$P:"grab"};Z.$(_);if(e&&Date.now()-this.AR<300){_.type=G.E.u;
_.k=i.GD;_.data={d:"adapt",I:"fitscr"};Z.$(_)}this.AR=Date.now()};i.pu.prototype.NU=function(e,Z,F,b,_){this.Lc=e.t.r.clone();
this.I6.zU(_.x,_.y)};i.pu.prototype.SE=function(e,Z,F,b,_){if(!_.jP)return;if(this.Lc==null)this.NU(e,Z,F,b,_);
i.pu.nZ(e,this.Lc.x+(_.x-this.I6.x),this.Lc.y+(_.y-this.I6.y))};i.pu.prototype.UD=function(e,Z,F,b,_){this.Lc=null};
i.pu.nZ=function(e,Z,F){var b=e.t.e,_=e.t.JS,d=_.w,S=_._,U=e.w*b,r=e._*b,q=U<d&&r<S,w=d/2+U/2-64,X=S/2+r/2-64;
e.t.r.zU(Math.max(-w,Math.min(w,Z)),Math.max(-X,Math.min(X,F)));e.Zc=!0};i.M3=function(){i.kC.call(this,[10,47],i.anU,"tools/rview");
this.I6=new bI(0,0);this.Wn=null;this.apm=null;this.AR=0};i.M3.prototype=new i.kC;i.M3.prototype.enable=function(e,Z,F,b){this.Lc=null;
var _=new j8(G.E.W,!0);_.data={d:G.B.MQ,$P:"grab"};Z.$(_);if(e&&Date.now()-this.AR<300&&e.t.wQ!=0){e.t.wQ=0;
e.sp=!0}this.AR=Date.now();if(e)this.I$(e,Z)};i.M3.prototype.disable=function(e,Z,F,b,_){if(e)this.I$(e,Z)};
i.M3.prototype.Zx=function(e,Z,F,b){if(e)this.I$(e,Z)};i.M3.prototype.NU=function(e,Z,F,b,_){this.I6.zU(_.x,_.y);
var d=e.t;this.Wn=d.mG(d.JS.w/2,d.JS._/2);this.apm=d.gu()};i.M3.prototype.SE=function(e,Z,F,b,_){if(!_.jP)return;
var d=e.t,S=this.Wn,U=this.I6,r=new bI(d.JS.w/2,d.JS._/2),q=Math.atan2(_.y-r.y,_.x-r.x),w=Math.atan2(U.y-r.y,U.x-r.x);
this.uZ(e,Z,this.apm.clone(),S,q-w)};i.M3.prototype.OY=function(e,Z,F,b){this.uZ(F,Z,null,null,e.hu-F.t.wQ);
F.t.wQ=e.hu};i.M3.prototype.uZ=function(e,Z,F,b,_){var d=e.t;if(F==null)F=d.gu();if(b==null)b=d.mG(d.JS.w/2,d.JS._/2);
F.translate(-b.x,-b.y);F.rotate(_);F.translate(b.x,b.y);d.me(F);if(e.w*d.e<d.JS.w&&e._*d.e<d.JS._)d.r.zU(0,0);
e.sp=!0;this.I$(e,Z)};i.M3.prototype.I$=function(e,Z){var F=new j8(G.E.W,!0);F.data={d:G.B.Zw,k:this.id,hu:e.t.wQ};
Z.$(F)};i.pF=function(){i.JU.call(this,[10,25],i.Ah,"tools/hbrush")};i.pF.prototype=new i.JU("");i.pF.prototype.UD=function(e,Z,F,b,_){if(this.pl==null)return;
this.RG(e,"heal",this.pl.n$(),this.pl.jK(),this.pl.zx());this.G(e,this.pl.zx());i.Aj.prototype.UD.call(this,e,Z,F,b,_);
if(!this.Nd.algnd)this.r=null};i.DD=function(e){i.kC.call(this,e?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],e?i.te:i.Xk,e?"tools/vtype":"tools/htype");
this.HW=[];this.Bm=null;this.J8=null;this.caller=null;this.Eg=1;this.hg=null;this.aop=0;this.uN=0;this.acR=null;
this.LP=null;this.W9=null;this.e$=null;this.zt=null;this.eh=null;this.as8=null;this.ET=null;this.VF=null;
this.go=null;this.a4K=null;this.oV=!1;this.bs=!1;this.qf=!1;this.V7=null;this.SH=null;this.a6N=null;
this.v8=!1;this.yN=!1;this.Wp=-1;this.n4=-1;this.oG=document.createElement("textarea");this.oG.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.oG.addEventListener("input",this.wK.bind(this),!1);this.oG.addEventListener("keydown",this.aoz.bind(this),!1);
this.oG.addEventListener("keyup",this.atT.bind(this),!1);var Z=function(F){F.stopPropagation()};this.oG.addEventListener("keydown",Z,!1);
this.oG.addEventListener("keyup",Z,!1)};i.DD.prototype=new i.kC;i.DD.prototype.Hd=function(e){return e.jP};
i.DD.prototype.uB=function(e,Z,F,b){if(this.W9!=null||this.id==i.te)return;this.caller=Z;this.Bm=e;var _=this.Fd(e);
if(_.length!=0){var d=null,S=[],U=[];for(var l=0;l<_.length;l++){var r=e.g[_[l]],q=r.add.TySh,w=0,X=fN.xf(q.HV).length-2,Q=fN.C7(q.HV,w,X);
fN.G$(Q,i.Q.YE(q.A));if(Q.sn.Font!=null)Q.sn.Font=Q.j3[Q.sn.Font].Name;d=Q.j3;S.push(Q.sn);U.push(Q.Qm)}var Q={j3:d,sn:fN.vp(S),Qm:fN.vp(U)};
if(Q.sn.Font!=null)fN.Kh(Q,Q.sn.Font);this.RU(Z,Q,q)}};i.DD.prototype.Fd=function(e){var Z=[];for(var l=0;
l<e.V.length;l++)if(e.g[e.V[l]]&&e.g[e.V[l]].add.TySh)Z.push(e.V[l]);return Z};i.DD.prototype.at=function(e,Z,F,b,_){var d=e.d=="insertGlyph";
if((d||e.d=="insertText")&&this.W9){var S=d?String.fromCharCode(65533):e.I,U=this.oG,r=U.value,q=U.selectionStart,w=U.selectionEnd;
U.value=r.slice(0,q)+S+r.slice(w);U.selectionStart=U.selectionEnd=q+S.length;this.wK(null,d?e.I:null);
U.focus()}if(e.d=="updateStyles"){if(this.W9==null){var X=this.Fd(F),Q=!1;if(X.length!=0){this.pC(F,Z,_,X);
for(var l=0;l<X.length;l++){var c=F.g[X[l]],u=c.add.TySh;fN.W_(u,this.Eg);this.W9=c;var n=fN.xf(u.HV);
this.Wp=0;this.n4=n.length-1;fN.IY(u.HV,this.Wp,this.n4,this.v2(_,u));var k=this.iw(F,_);if(k==!1)Q=!0}if(Q){this.v8=!0;
return}this.VZ(F,Z)}return}this.X6(_)}if(e.d.startsWith("warp")){var B=this.yN;if(e.d=="warp"||e.d=="warpCancel"){if(this.W9==null)return;
if(e.d=="warp")this.W9.add.TySh.mw=e.YY;else this.W9.add.TySh.mw=this.as8;var F=this.Bm;this.iw(F,_);
if(!B)this.q5(F)}if(e.d!="warp")this.oG.focus();if((e.d=="warpConfirm"||e.d=="warpCancel")&&B){this.yN=!1;
if(e.d=="warpConfirm")this.VZ(F,Z);else this.Zn(F,Z)}}if(e.d=="editCurr"){if(_.yt!=i.Xk){this.hg=_.yt;
var o=new j8(G.E.W,!0);o.data={d:G.B.LN,k:i.Xk};Z.$(o)}if(this.W9!=null)this.disable(F,Z,_,b);this.Bm=F;
this.J8=_;this.caller=Z;this.pC(F,Z,_,[e.xo]);var n=fN.xf(this.W9.add.TySh.HV);this.Wp=0;this.n4=n.length-1;
this.q5(F);this.QH();this.oG.focus()}if(e.d=="switchPntPrgr"){if(this.W9)return;var c=F.g[F.V[0]],u=c.add.TySh,T=u.A.YE(),z=JSON.parse(JSON.stringify(u.HV)),W=fN.ms(z),$=W==1?fN.Lx(z):[0,0,Math.round(c.rect.w*1.05/T),Math.round(c.rect._*1.25/T)],R=fN.C7(z,0,0),P=R.j3[R.sn.Font].Name,H=_.W5.J7(P),y=[0,$[2],$[2]/2][R.Qm.Justification%3],h=H?ge.c$(H,P,R.sn):R.sn.FontSize*.8;
fN.mJ(z,1-W);if(W==0){y=-y;h=-h;fN.wH(z,[0,0,$[2],$[3]])}var m=new jg(1,0,0,1,y,h);m.concat(u.A);this.at({Jq:F.V[0],d:"newED",cM:z,A:m,asp:[16,3,W==1?0:1]},Z,F,b,_)}if(e.d=="newED"){var c=F.g[e.Jq],u=c.add.TySh,t=this.ur(F,[e.Jq]);
u.HV=e.cM;if(e.A)u.A=e.A;var j=new ge(u.HV,_.W5),x=ac.b9(j,u);c.rect=x.uT;c.buffer=x.XT;c.G();F.G();
var C=new eh(e.asp?e.asp:this.name,this);C.data={GH:t,Si:this.ur(F,[e.Jq])};F.XM(C)}if(e.d=="fromAction"){var L=e.wO.ni.Usng.v,f=L.TxtC.v,D=[];
for(var l=0;l<2;l++){var v=f[l==0?"Hrzn":"Vrtc"].v,S=v.val;if(v.type=="#Prc")S=(l==0?F.w:F._)*(S/100);
D[l]=S}this.qu(F,Z,_,b,F.t.Td(D[0],D[1]));var c=F.g[F.V[0]],u=c.add.TySh,A=u.HV,r=fN.xf(A);fN.HO(A,0,r.length-1);
fN.Z4(A,0,L.Txt.v.replace(/\r/g,"\n"));r=fN.xf(A);for(var W=0;W<2;W++){var M=L[W==0?"Txtt":"paragraphStyleRange"].v;
for(var l=0;l<M.length;l++){var Y=M[l].v,q=Y.From.v,w=Math.min(Y.T.v-1,r.length-1);Y=Y[W==0?"TxtS":"paragraphStyle"].v;
var J=fN.C7(A,q,w),I=W==0?J.sn:J.Qm;for(var p in Y){var a=Y[p].v;if(p=="Sz")I.FontSize=Math.round(a.val);
else if(p=="fontPostScriptName")fN.Kh(J,a);else if(p=="Algn")I.Justification={Left:1,Cntr:2}[a.Alg];
else if(p=="leading")I.Leading=Y[p].v.val;else if(p=="baselineShift")I.BaselineShift=Y[p].v.val;else if(p=="autoLeading")I.AutoLeading=Y[p].v;
else if(p=="syntheticBold")I.FauxBold=Y[p].v;else if(p=="syntheticItalic")I.FauxItalic=Y[p].v;else if(p=="Trck")I.Tracking=Y[p].v;
else if(p=="verticalScale")I.VerticalScale=Y[p].v/100;else if(p=="horizontalScale")I.HorizontalScale=Y[p].v/100;
else if(p=="Clr")I.FillColor={Type:1,Values:[1,a.Rd.v/255,a.Grn.v/255,a.Bl.v/255]}}fN.IY(A,q,w,J)}}var j=new ge(u.HV,_.W5),x=ac.b9(j,u);
c.rect=x.uT;c.buffer=x.XT;c.G();F.G();this.VZ(F,Z)}};i.DD.prototype.X6=function(e){var Z=Math.min(this.Wp,this.n4),F=Math.max(this.Wp,this.n4),b=this.W9.add.TySh;
fN.W_(b,this.Eg);fN.IY(b.HV,Z,F-1,this.v2(e,b));var _=this.Bm,d=this.iw(_,e);if(d)this.q5(_);if(document.activeElement.tagName.toLowerCase()!="input")this.oG.focus()};
i.DD.prototype.TD=function(e){return this.HW.indexOf(e)!=-1};i.DD.prototype.enable=function(e,Z,F,b){var _=this.oG;
Z.m.appendChild(_);this.ET="default";this.fC(Z)};i.DD.prototype.dS=function(){return this.W9!=null};
i.DD.HH=function(e,Z){for(var l=e.g.length-1;l>=0;l--){var F=e.g[l];if(F.add.TySh&&F.rect.rI(Z)&&e.jm(l)){var b=F.oT(2)||F.oT(31);
return b?-2:l}}return-1};i.DD.prototype.NU=function(e,Z,F,b,_){this.Bm=e;this.J8=F;this.caller=Z;var d=e.t.mG(_.x,_.y),S=this.W9==null;
if(S){var U=i.DD.HH(e,d);if(U==-2){alert(gA.get([6,57,0]));return}if(U>=0&&!b.j(ex.Ng)){if(!ac.h5(e.g[U].add.TySh,F.W5,Z)){alert("Fonts not loaded yet");
return}this.pC(e,Z,F,[U])}else{this.qf=!0;this.V7=_;return}}var r=S?-1:fN.ms(this.W9.add.TySh.HV),q=this.go?this.go:this.VF;
if(q&&q.NU(e,F,b,d,null,null,_)&&V.YY.k2(this.W9.add.TySh.mw)||!S&&V.H.G_(d,this.W9.rect)>20/e.t.e&&(r==0||r==1)){this.oV=!0;
this.SH=d;this.a6N=this.W9.add.TySh.A.clone();if(this.Wp==-1&&this.n4==-1)this.Wp=this.n4=this.CR(d)}else{if(this.zt==null){alert("Fonts not loaded yet");
return}this.bs=!0;this.Wp=this.n4=this.CR(d);var w=Date.now();if(w-this.aop>300)this.uN=0;this.uN++;
this.aop=w;if(this.uN==2)this.ad3();if(this.uN==3)this.aaO();if(this.uN>1){this.bs=!1}}this.QH();this.q5(e)};
i.DD.prototype.pC=function(e,Z,F,b){var _=e.g[b[0]];this.W9=_;this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,uC:"showactive"});
this.e$=b;e.V=b.slice(0);e.$f();e.BV=!0;this.eh=this.ur(e,b);this.qe(_.add.TySh);this.iw(e,F)};i.DD.prototype.qe=function(e){if(fN.ms(e.HV)!=1)return;
var Z=fN.Lx(e.HV);Z=new e3(0,0,Z[2]-Z[0],Z[3]-Z[1]);var F=[Z.x,Z.y,Z.x+Z.w,Z.y,Z.x+Z.w,Z.y+Z._,Z.x,Z.y+Z._];
V.H.A(F,e.A,F);this.VF=new j1(F,!1,!1,!1,!0)};i.DD.prototype.ad3=function(){var e=fN.xf(this.W9.add.TySh.HV);
this.Wp=this.xz(e,this.Wp);this.n4=this.U3(e,this.Wp)};i.DD.prototype.xz=function(e,Z){var F=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];
for(var l=0;l<F.length;l++)b.push(F.charAt(l));var _=b.indexOf(e[Z])==-1?!0:!1;for(var l=Z-1;l>=0;l--)if(b.indexOf(e.charAt(l))!=-1==_)return l+1;
return 0};i.DD.prototype.U3=function(e,Z){var F=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];for(var l=0;
l<F.length;l++)b.push(F.charAt(l));var _=b.indexOf(e[Z])==-1?!0:!1;for(var l=Z+1;l<e.length;l++)if(b.indexOf(e.charAt(l))!=-1==_)return l;
return e.length-1};i.DD.prototype.aaO=function(){var e=this.zt.a7k(this.Wp);this.Wp=e[0];this.n4=e[1]};
i.DD.prototype.fC=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.MQ,$P:this.ET};e.$(Z)};i.DD.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=this.W9;
if(!_.jP){var U="default",r=this.VF,q=this.go?this.go:r;if(q&&V.YY.k2(S.add.TySh.mw)){var w=q.JE(d,e.t.e,null,_);
if(w)U=w;else if(q==r&&r.Y$(d))U="text"}else if(S&&V.H.G_(d,S.rect)>20/e.t.e)U="move";else if(i.DD.HH(e,d)>=0)U="text";
if(U!=this.ET){this.ET=U;this.fC(Z)}}var X=this.V7;if(this.qf&&Math.min(_.x-X.x,_.y-X.y)>4/e.t.e){this.qf=!1;
this.qu(e,Z,F,b,_);S=this.W9;this.oV=!0;this.VF=new j1(null,!1,!1,!1,!0);var Q=e.t.mG(this.V7.x,this.V7.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);this.VF.NU(e,F,b,Q,null,null,_)}if(this.oV){var c=S.add.TySh;
if(this.go){this.go.SE(e,F,b,d);var u=V.N.tZ(V.N.R5(this.go.ZH(),this.a4K));c.A=u;this.iw(e,F);fN.yU(c)}else if(this.VF){this.VF.SE(e,F,b,d);
var n=c.A.clone(),k=Math.atan2(n.S,n.Y0);n.rotate(k);var u=V.N.tZ(V.N.R5(this.VF.ZH())),B=Math.atan2(u.S,u.Y0);
u.rotate(B);if(!isNaN(u.Y0)&&u.Y0*u.rl-u.S*u.d_!=0){var o=new e3(0,0,u.Y0/n.Y0,u.rl/n.rl),T=Math.round(o.w),z=Math.round(o._),W=c.HV.Curve;
if(W){var $=fN.Lx(c.HV),R=new jg(T/$[2],0,0,z/$[3],0,0);V.H.A(W.Points,R,W.Points);fN.yU(c)}fN.wH(c.HV,[0,0,T,z]);
c.A=V.N.tZ(V.N.R5(this.VF.ZH(),o));this.iw(e,F);fN.yU(c)}}else{var P=d.x-this.SH.x,H=d.y-this.SH.y;c.A=this.a6N.clone();
var y=new bI(c.A.lr+P,c.A.Xz+H);y=i.rX.gC(e,y,F);c.A.lr=y.x;c.A.Xz=y.y;this.iw(e,F)}}if(this.bs)this.n4=this.CR(d);
if(this.oV||this.bs)this.q5(e)};i.DD.prototype.qu=function(e,Z,F,b,_){var d=e.GJ(),S=d[0],U=d[1],r=e.yG();
r.add.lnsr="rend";var q=e.g.slice(0);r.Hr("Text layer "+q.length);this.W9=r;var w=e.V.length==0?e.g.length-1:e.V[e.V.length-1],X=w+1;
if(q[w].add.lsct==jj.$R)X--;this.eh={Gt:q.slice(0),Vf:e.V.slice(0)};q.splice(X,0,r);e.V=[X];this.Wp=this.n4=0;
e.ed(q);this.eh.Op=q.slice(0);this.eh.rn=e.V.slice(0);this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,uC:"showactive"});
var Q=e.t.mG(_.x,_.y),c=F.Cv;console.log(c);if(this.id==i.te){c=JSON.parse(JSON.stringify(c));c.sn.BaselineDirection=1}r.add.TySh=fN.hB(Q.x,Q.y,c);
var u=r.add.TySh,n=u.HV;if(this.id==i.te)n._LineOrientation=2;fN.W_(u,this.Eg);if(_.jP)fN.mJ(n,1);else{fN.mJ(n,0);
var k=S[U.pop()],B=k?k.add.vmsk:null;if(B&&!b.j(ex.Ng)){B=B.clone();var o=B.T,z,$;for(var l=0;l<o.length;
l++)if(o[l].A8!=null)o[l].A8=0;var T=5/e.t.e;z=V.c.Ak(B.T,Q,!0,T);if(z.wD==-1)z=V.c.Ak(B.T,Q);if(z.wD!=-1){fN.mJ(n,1);
var R=V.c.rD(o,z.wD),P=V.c.wp(o,z.wD)-1;o=B.T=o.slice(0,2).concat(o.slice(R,R+P+1));B.V=[];u.add={vmsk:B,vogk:g.ov(o)};
n.Curve={};fN.vI(u);if(z.YD!=null){var H=ge.lv(n.Curve);V.H.A(H[0],u.A,H[0]);var y=V.H.zz(H[0],Q.x,Q.y),h=F.Cv.Qm.Justification;
if(h==2||h==5){var m=(H[2][y]+H[3]*.5)%H[3];y=ge.w6(m,H[2])}var t=H[1][y];t=t%P;B.yk=[t,t];fN.vI(u)}else this.qe(u)}}}return r};
i.DD.prototype.UD=function(e,Z,F,b,_,d){if(d){this.qf=!1;return}if(this.W9==null&&!this.qf)return;var S=e.t.mG(_.x,_.y),U=this.qf;
if(this.qf){this.qf=!1;this.qu(e,Z,F,b,_);this.bs=!0}if(this.oV||this.bs){this.q5(e);this.QH();if(U)this.X6(F)}if(this.oV&&this.VF)this.VF.UD(e,F,b,S);
this.oV=this.bs=!1;this.oG.focus()};i.DD.prototype.QH=function(){var e=this.W9.add.TySh,Z=Math.min(this.Wp,this.n4),F=Math.max(this.Wp,this.n4),b,_;
if(Z==F){var d=fN.xf(e.HV);if(Z==0||d.charAt(Z-1)=="\n")b=_=Z;else b=_=Z-1}else{b=Z;_=F-1}var S=fN.C7(e.HV,b,_);
fN.G$(S,i.Q.YE(e.A));this.RU(this.caller,S,e)};i.DD.prototype.RU=function(e,Z,F){this.b6(e,G.E.W,{d:G.B.aE,NG:c6.fU,Cv:Z});
var b=this.Eg=fN.zK(F);this.b6(this.caller,G.E.W,{d:G.B.Zw,k:this.id,uC:"changeAA",mQ:b})};i.DD.prototype.LO=function(){var e=this.W9;
if(e&&!this.oV&&this.go!=null){this.go.UD(this.Bm,this.J8,null,null);this.go=null;this.qe(e.add.TySh);
this.q5(this.Bm)}};i.DD.prototype.disable=function(e,Z,F,b){var _=this.W9;this.VZ(e,Z)};i.DD.prototype.OY=function(e,Z,F,b,_){if(this.yN)return;
if(e.uC=="commit")this.VZ(F,Z);if(e.uC=="cancel")this.Zn(F,Z);if(e.uC=="changeAA"){this.Eg=e.mQ;if(F!=null)this.at({d:"updateStyles"},Z,F,b,_)}if(e.uC=="showwarp"){if(F==null)return;
if(this.W9==null){var d=F.g[F.V[0]],S=d.add.TySh;if(S==null)return;this.pC(F,Z,_,[F.V[0]]);this.oG.focus();
this.yN=!0}this.as8=this.W9.add.TySh.mw;var U=new j8(G.E.W,!0);U.data={d:G.B.tJ,ZB:"textwarp"};Z.$(U)}};
i.DD.prototype.ZP=function(e,Z){if(Z!=c6.jZ)return;if(this.v8){this.v8=!1;var F=this.Bm,b=this.e$;for(var l=0;
l<b.length;l++){this.W9=F.g[b[l]];this.iw(F,e)}this.VZ(F,this.caller);return}if(this.W9)this.X6(e)};
i.DD.prototype.v2=function(e,Z){var F=JSON.parse(JSON.stringify(e.Cv));fN.G$(F,1/i.Q.YE(Z.A));return F};
i.DD.prototype.Fm=function(e,Z){if(e.GH!=null)this.su(Z,e.Si);else this.rb(Z,e.Op,e.rn)};i.DD.prototype.Mi=function(e,Z){if(e.GH!=null)this.su(Z,e.GH);
else this.rb(Z,e.Gt,e.Vf)};i.DD.prototype.su=function(e,Z){for(var l=0;l<Z.length;l++){var F=Z[l],b=F.Jq,_=e.g[b];
_.buffer=F.dq;_.rect=F.uT.clone();_.G();var d=_.add.TySh;d.mw=F.YY;d.nq=F.nq.clone();d.A=F.A.clone();
d.HV=JSON.parse(JSON.stringify(F.HV));_.Vn()}e.G()};i.DD.prototype.ur=function(e,Z){var F=[];for(var l=0;
l<Z.length;l++){var b=Z[l],_=e.g[b],d=_.add.TySh;F.push({Jq:b,A:d.A.clone(),YY:JSON.parse(JSON.stringify(d.mw)),nq:d.nq.clone(),HV:JSON.parse(JSON.stringify(d.HV)),dq:_.buffer.slice(0),uT:_.rect.clone()})}return F};
i.DD.prototype.rb=function(e,Z,F){e.V=F;e.ed(Z);e.G();e.oW=!0};i.DD.prototype.iw=function(e,Z,F){if(F==null)F=!1;
var b=this.W9.add.TySh;if(!ac.h5(b,Z.W5,this.caller))return!1;this.zt=new ge(b.HV,Z.W5);if(!F){var _=fN.xf(b.HV);
this.oG.value=_.slice(0,_.length-1)}var d=ac.b9(this.zt,b);if(V.YY.k2(b.mw))b.nq=new e3;else{if(fN.ms(b.HV)==1){var S=fN.Lx(b.HV),gi=d.nq.y;
b.nq=new e3(0,gi,S[2]-S[0],S[3]-S[1]-gi)}else{b.nq=d.nq}}var U=this.W9.rect;this.W9.rect=d.uT;this.W9.buffer=d.XT;
this.W9.G();e.FZ();e.G(e.root.QV(d.uT.Us(U),e,e.g.indexOf(this.W9)));return!0};i.DD.prototype.wK=function(e,Z){if(this.W9==null||this.yN)return;
var F=this.oG.selectionStart,b=this.W9.add.TySh,_=fN.xf(b.HV),d=this.oG.value+"\n",S=Math.min(this.Wp,this.n4),U=Math.max(this.Wp,this.n4),Q=!1;
this.Wp=Math.min(F,S);if(d.length-F<_.length-this.n4)this.n4=_.length-d.length+F;if(_!=d){while(this.Wp>0&&_.charAt(this.Wp-1)!=d.charAt(this.Wp-1))this.Wp--}var r=_.substring(0,this.Wp),q=_.substring(this.n4,_.length),w=d.substring(this.Wp,d.length-q.length);
fN.HO(b.HV,this.Wp,this.n4);fN.Z4(b.HV,this.Wp,w);if(Z!=null)fN.asE(b.HV,this.Wp,Z);var X=this.v2(this.J8,b),c=-1,u=Array.from(w);
for(var l=0;l<u.length;l++)c=Math.max(c,u[l].codePointAt(0));if(c!=-1&&c>128&&c!=65533&&X.sn.Font!=null){var n=X.j3[X.sn.Font].Name,k=this.J8.W5.ON(c,n,X.j3);
if(n!=k){fN.Kh(X,k);Q=!0}}if(this.LP!=null&&w==this.LP){var B=JSON.parse(this.acR);X.sn=B.sn;X.j3=B.j3;
Q=!0}fN.IY(b.HV,this.Wp,this.Wp+w.length-1,X);this.Wp=this.n4=r.length+w.length;var o=this.Bm,T=this.iw(o,this.J8,!0);
if(T)this.q5(o,!0);if(Q)this.QH()};i.DD.prototype.atT=function(e){if(!e.ctrlKey)this.LO()};i.DD.prototype.aoz=function(e){if(this.W9==null||this.yN)return;
if(this.W9==null)return;if(this.go==null&&e.ctrlKey){var Z=this.W9.add.TySh,F=fN.ms(Z.HV),b;if(F==1){b=fN.Lx(Z.HV);
b=new e3(0,0,b[2]-b[0],b[3]-b[1])}else b=this.zt.n6();var _=[b.x,b.y,b.x+b.w,b.y,b.x+b.w,b.y+b._,b.x,b.y+b._];
V.H.A(_,Z.A,_);this.go=new j1(_,!0,!0,!1,!1);this.a4K=b;this.q5(this.Bm)}var d=ex,S=0,U=0,z=!1;if(d.Ww(e.code,d.sl))S=1;
if(d.Ww(e.code,d.g1))S=-1;if(d.Ww(e.code,d.kg))U=-1;if(d.Ww(e.code,d.ZF))U=1;var r=e.ctrlKey||e.metaKey,q=d.Ww(e.code,ex.asB),w=d.Ww(e.code,ex.a3Y);
if(d.Ww(e.code,ex.Dr)&&r){this.VZ(this.Bm,this.caller);return}if(d.Ww(e.code,ex.ea)){this.Zn(this.Bm,this.caller);
return}if(d.Ww(e.code,ex.$_)){e.preventDefault();var X=this.oG,Q=X.value,c=X.selectionStart,u=X.selectionEnd;
X.value=Q.substring(0,c)+"\t"+Q.substring(u);X.selectionStart=X.selectionEnd=c+1;this.wK(null);return}if((d.Ww(e.code,d.Id)||d.Ww(e.code,d.jy))&&r){var n=this.Wp,k=this.n4;
if(n>k){var B=n;n=k;k=B}var Z=this.W9.add.TySh,o=fN.xf(Z.HV);if(n!=k){this.LP=o.slice(n,k);this.acR=JSON.stringify(this.J8.Cv)}}var T=fN.xf(this.W9.add.TySh.HV);
if(S!=0||U!=0||q||w){e.preventDefault();var W=this.Wp;if(S!=0){if(r&&S==-1)W=this.xz(T,this.Wp-1);else if(r&&S==1)W=this.U3(T,this.Wp);
else{var X=this.oG,Q=X.value;W=this.Wp+S;if(W!=0&&Q.codePointAt(W-1)>65535)W+=S}}else if(U!=0){var $=this.zt.jO(this.Wp);
if(U==-1&&$.Nf==0)W=0;else if(U==1&&$.Nf==this.zt.alZ()-1)W=99999999999;else W=this.zt.a0c(new bI($.uT.x+$.uT.w/2,0),$.Nf+U)}else if(q){var R=this.Wp-1;
while(R>0&&T.charCodeAt(R)!=10)R--;W=R==0?0:R+1}else if(w){var R=this.Wp;while(R<T.length-1&&T.charCodeAt(R)!=10)R++;
W=R}W=Math.max(0,Math.min(T.length-1,W));if(e.shiftKey)this.Wp=W;else this.Wp=this.n4=W;z=!0}if(d.Ww(e.code,ex.B)&&r){this.Wp=0;
this.n4=T.length-1;z=!0}if(z){this.QH();this.q5(this.Bm)}};i.DD.arN=function(e,Z){var F=e.length;if(F!=Z.length)return!1;
for(var l=0;l<F;l++)if(e[l].Jq!=Z[l].Jq)return!1;return!0};i.DD.prototype.VZ=function(e,Z){if(this.W9==null)return;
this.W9.Vn();var F=this.eh;if(F instanceof Array){var b=this.ur(e,this.e$),_=e.Yj();if(_!=null&&_.k==this&&_.data.GH&&i.DD.arN(_.data.GH,F))_.data.Si=b;
else{var d=new eh(this.name,this);d.data={GH:F,Si:b};e.XM(d)}}else{var d=new eh(this.name,this);d.data={Gt:F.Gt,Op:F.Op,Vf:F.Vf,rn:F.rn};
e.XM(d)}this.escape(e,Z)};i.DD.prototype.Zn=function(e,Z){if(this.W9==null)return;if(this.eh instanceof Array){this.su(e,this.eh);
if(this.W9)fN.yU(this.W9.add.TySh)}else{e.V=this.eh.Vf;e.ed(this.eh.Gt)}e.G();this.escape(e,Z)};i.DD.prototype.escape=function(e,Z){this.LO();
this.W9=null;this.e$=null;this.zt=null;this.VF=null;this.oG.blur();e.D.x9=null;e.D.ct=null;e.D.Zq=[];
e.sp=!0;this.oV=!1;this.bs=!1;this.Wp=this.n4=-1;this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,uC:"hideactive"});
if(this.hg){var F=new j8(G.E.W,!0);F.data={d:G.B.LN,k:this.hg};Z.$(F);this.hg=null}};i.DD.prototype.b6=function(e,Z,F,b){var _=new j8(Z,!0);
_.data=F;if(b)_.k=b;e.$(_)};i.DD.prototype.CR=function(e){var Z=this.W9.add.TySh,F=this.zt,b=Z.A.clone();
b.eG();var _=b.rS(e),d=fN.jK(Z,F),S=V.YY.wl(Z.mw,d),U=V.u5.a6M(S,_);if(U==null)U=new Float64Array(2);
_=new bI(d.x+U[0]*d.w,d.y+U[1]*d._);if(F.wF){var r=F.wF.clone();r.eG();_=r.rS(_)}var q=F.a0c(_);return q};
i.DD.prototype.q5=function(e,Z){if(Z==null)Z=!1;var F=this.W9.add.TySh,b=fN.ms(F.HV),_=this.zt,d=_?fN.jK(F,_):null;
e.D.Zq=[];e.D.x9=null;e.D.ct=null;var S=this.go?this.go:this.VF;if(S){S.HS(e,this.J8,!V.YY.k2(F.mw));
var U=F.A.clone();U.eG();if(_&&_.wF&&_.K$==1){var r=_.wF.clone();r.eG();U.concat(r)}V.H.A(e.D.Zq,U,e.D.Zq);
V.H.A(e.D.x9.s,U,e.D.x9.s);if(_&&_.wF==null&&_.abk()){var q=d.w-20,w=d._+8;e.D.x9.s.push(q,w,q+10,w,q+5,w-5,q+5,w+5);
e.D.x9.C.push("M","L","M","L")}}else if(b==0)this.anT(e,F,_);else e.D.x9={s:[],C:[]};var X=Math.min(this.Wp,this.n4),Q=Math.max(this.Wp,this.n4);
if(!Z){this.oG.selectionStart=X;this.oG.selectionEnd=Q}if(_!=null){var c=function(S,z){var W=S.x,$=S.y+S._,R=new jg;
R.translate(-W,-$);R.rotate(-z);R.translate(W,$);S.y+=S._*.27;var T=V.H.gb(S);V.H.A(T.s,R,T.s);return T};
if(X==Q){X=Math.max(X,0);var u=_.jO(X);if(u){var n=u.uT,k=this.J8.Cv.sn.FontSize;if(k!=null&&k!=0){k/=F.A.YE();
n.y+=n._-k;n._=k}var B=_.a8S(X);if(B!=null&&B.th==1)n.x+=n.w;var o=c(n,u.wQ).s;e.D.x9.C.push("M","L");
e.D.x9.s.push(o[0],o[1]-1,o[6],o[7]-1)}}else{e.D.ct={s:[],C:[]};for(var l=X;l<Q;l++){var u=_.jO(l),T=c(u.uT,u.wQ);
V.H.concat(e.D.ct,T)}}}e.D.x9=ac.He(e.D.x9,F,_);e.D.ct=ac.He(e.D.ct,F,_);e.D.Zq=ac.He({s:e.D.Zq},F,_).s;
e.sp=!0};i.DD.prototype.anT=function(e,Z,F){if(F==null)return;e.D.Zq.push(0,0);if(e.D.x9==null)e.D.x9={C:[],s:[]};
for(var l=0;l<F.Qm.length;l++){var b=F.Qm[l];for(var _=0;_<b.sg.length;_++){var d=b.sg[_],S=b.TF.x+d.TF.x+d.uT.x,U=b.TF.y+d.TF.y+d.uT.y+d.uT._;
e.D.x9.C.push("M","L");e.D.x9.s.push(S,U,S+d.uT.w,U)}}e.sp=!0};i.Ps=function(){i.DD.call(this,!0)};i.Ps.prototype=new i.DD;
i.pg=function(){i.wL.call(this,[10,9],i.fq,"tools/lasso");this.vF="crosshair";this.lI=null;this.A3=null;
this.SH=null};i.pg.prototype=new i.wL;i.pg.prototype.s8=function(e,Z,F,b){this.lI=this.kj;this.A3={s:[this.lI.x,this.lI.y],C:["M"]}};
i.pg.prototype.Mn=function(e,Z,F,b){this.SH=b;var _=this.A3;if(_==null)return;if(!b.jP){if(this.A3!=null&&this.Uq>1&&F.j(ex.sW)){_.s.pop();
_.s.pop();_.s.push(this.V0.x,this.V0.y);e.D.x9=_;e.sp=!0}return}_.C.push("L");_.s.push(this.V0.x,this.V0.y);
this.lI=this.V0;if(this.I4){e.D.x9=_;e.sp=!0}};i.pg.prototype.dS=function(){return this.A3!=null};i.pg.prototype.W3=function(){return this.A3!=null};
i.pg.prototype.b8=function(e,Z,F,b){i.wL.prototype.b8.call(this,e,Z,F,b);if(this.A3&&this.Uq>1&&this.SH&&!this.SH.jP&&!b.j(ex.sW))this.UW(e,F,b)};
i.pg.prototype.fQ=function(e,Z,F,b){this.SH=b;var _=this.A3;if(_==null)return;if(this.Uq>1&&F.j(ex.sW)){_.C.push("L");
_.s.push(this.V0.x,this.V0.y);return}this.UW(e,Z,F)};i.pg.prototype.UW=function(e,Z,F){this.finish(e,Z,F,this.SH);
this.A3=null;e.D.x9=null;e.sp=!0};i.pg.prototype.getSelection=function(e,Z,F,b){if(this.kj.Tn(this.V0)||!this.I4)return null;
return i.wL.hL(this.A3.s,null,this.Nd.anta)};i.rX=function(){i.kC.call(this,[10,11],i.l$,"tools/move");
this.Eb=new bI(0,0);this.ar=new bI(0,0);this.HL=null;this.Wk=null;this.QQ=new bI(0,0);this.Ao=null;this.Pk=null;
this.bt=null;this.AR=0;this.Su=null;this.VO=[];this._S=null;this.Ta=null;this.Bp=!1;this.d=0;this._E=null;
this.un=null;this.xU=null;this.Yw=!1;this.Nd={zb:!1,M2:!1,yp:!1};this.a8h=!1;this.asm=!1;this.VF=null;
this.Xu=null;this.ack=null;var e=[];for(var l=0;l<V.PR.$c.length;l++)e.push({name:V.PR.$c[l],P:function(Z,F,b){return{b2:F.I9._b==b}}});
this.lL=new gx(e);this.lL.h("select",this.e1,this)};i.rX.prototype=new i.kC;i.kC.prototype.Hd=function(e){return this.Bp&&this.d!=2};
i.rX.prototype.QY=function(){return this.Bp&&this.d==0};i.rX.prototype.Zx=function(e,Z,F,b){this.UK(e,-this.QQ.x,-this.QQ.y);
this.QQ.zU(0,0);this.GA(e,null,F);this.$T(e)};i.rX.prototype.GO=function(){var e=this.Nd;return[e.zb?1:0,e.M2?1:0,e.yp?1:0]};
i.rX.prototype.QT=function(e,Z,F){var b=this.Nd;if(e&&e[0]!=null)b.zb=e[0]==1;if(e&&e[1]!=null)b.M2=e[1]==1;
if(e&&e[2]!=null)b.yp=e[2]==1;var _=new j8(G.E.W,!0);_.data={d:G.B.Zw,k:this.id,DL:b,a4M:Z};F.$(_)};
i.rX.Hi=function(e,Z,F,b,_,d,S){if(S==null)S=[!1,!0];var U=e.V9(null,_,!0),r,q;if(e.add.artd&&e.V.length==1&&e.g[e.V[0]].add.artb){var w=e.g[e.V[0]].iU();
r=e.Ze(U,w,w)[0]}else{var X=new e3(0,0,e.w,e._),r=e.Ze(U,S[0]?X:null,S[1]?null:X)[0],q=r.add.artd;if(q){for(var l=0;
l<r.g.length;l++)delete r.g[l].add.artb;delete r.add.artd}if(S[1]){var Q=V.ip(r.zB(),new e3(0,0,r.w,r._),2);
i.Za.yi(r,Q)}}if(F!=1){var c=new e3(0,0,Math.round(r.w*F),Math.round(r._*F));i.Za.yi(r,c);var u=[];for(var l=0;
l<r.g.length;l++)u.push(l);var n=i.Q.sT(r,u,!0);i.Za.MJ(r,new jg(F,0,0,F,0,0));i.Q.$L(r,b,u,n,1,V.N.C5(new jg(F,0,0,F,0,0)),null,!0);
r.Om()}else if(q){r.G();r.Om()}var k=[];for(var l=0;l<Z.length;l++)if(r.w*r._!=0)k.push(fg.T4(r,Z[l].toUpperCase(),null,null,d?d[l]:null,b));
return k};i.rX.prototype.FS=function(e,Z,F,b,_){if(e==null||e.V.length==0)return;var d=i.rX.Hi(e,[Z],F,b,null)[0],S=new j8(G.E.W,!0);
S.data={d:G.B.Ax,data:d,name:e.g[e.V[0]].getName()+(F==1?"":"@"+F+"x")+"."+Z};_.$(S)};i.rX.prototype.OY=function(e,Z,F,b,_){if(e.Yu=="getPNG"){this.FS(F,"png",e.cp,_,Z)}else if(e.Yu=="getSVG"){this.FS(F,"svg",e.cp,_,Z)}if(e.Yu=="prms"){this.Nd=e;
this.$T(F)}};i.rX.a5A=function(e){var gi=e.length,F=0;e.sort(function(d,S){return d[0]+d[1]/2-(S[0]+S[1]/2)});
var Z=e[gi-1][0]+e[gi-1][1]-e[0][0];for(var l=0;l<gi;l++)F+=e[l][1];var b=Math.round((Z-F)/(gi-1)),_=e[0][0];
for(var l=0;l<gi;l++){e[l][0]=_;_+=e[l][1]+b}};i.rX.prototype.at=function(e,Z,F,b,_){var d=e.d;if(d=="trsl"){var S=Math.round(e.vZ),U=Math.round(e.D3);
this.QQ.zU(S,U);this.Zy(F,Z,b,_,!1,e.i);this.UK(F,S,U);this.GA(F,null,_)}else if(d=="lockguides"){if(F)F.fH=!F.fH}else if(d=="gids"||d=="gidsFromLayer"){var r=e.un,q,w;
if(r==null)r=F.$j();if(d=="gids"){q=e.d$;var X=r[0].length,Q=q[0].length;w=X==Q?[23,2]:X>Q?[23,3]:[23,4];
if(Q==0)w=[11,15,0]}else if(d=="gidsFromLayer"){var c=[],u=[],n=F.eZ();for(var l=0;l<F.V.length;l++){var k=F.g[F.V[l]].rect;
if(k.BJ())continue;c.push([0,k.x],[1,k.y],[0,k.x+k.w],[1,k.y+k._]);u.push(n,n,n,n)}w=[11,15,1];q=F.$j();
i.rX.PH(q,[c,u])}if(JSON.stringify(r)==JSON.stringify(q))return;var d=new eh(w,this);d.data={d:2,un:r,d$:q};
F.XM(d);this.Fm(d.data,F)}else if(d=="algn"){var B=e.I;if(F==null)return;if(F.V.length<2&&!(F.K!=null&&B!=3&&B!=7)){alert(gA.get([15,7,5]));
return}var o=F.K;F.K=null;var k=o?o.rect:i.Q.jK(F);this.Zy(F,Z,b,_,!1);if(!this.Bp)return;var T=this.Su,z={},W=[],$=[],R=[];
for(var l=0;l<T.length;l++){var P=T[l];while(F.g[P].getName()=="</Layer group>")P++;var H=F.root.OV(P),y=H;
while(H.parent!=null){H=H.parent;if(T.indexOf(H.index)!=-1)y=H}var h=$.indexOf(y.index);if(h==-1){h=$.length;
$.push(y.index)}W[l]=h}var m=[],t=[],j=[];for(var l=0;l<$.length;l++){var x=i.Q.jK(F,F.V9(!0,$[l]));
j.push(x);var C=B==3?[x.y,x._]:[x.x,x.w];m[l]=C;t.push(C)}i.rX.a5A(t);for(var l=0;l<$.length;l++){var x=j[l],L=x.x,f=x.y;
if(B==0)L=k.x;if(B==1)L=k.x+(k.w-x.w)/2;if(B==2)L=k.x+(k.w-x.w);if(B==3)f=m[l][0];if(B==4)f=k.y;if(B==5)f=k.y+(k._-x._)/2;
if(B==6)f=k.y+(k._-x._);if(B==7)L=m[l][0];R.push(Math.round(L-x.x),Math.round(f-x.y))}var D=[];for(var l=0;
l<T.length;l++){var v=W[l];D[2*l]=R[2*v];D[2*l+1]=R[2*v+1]}this.UK(F,0,0,null,D);var A=B==3||B==7?[20,4,6]:[20,4,B<3?B:B-1];
this.GA(F,null,_,D,A);F.K=o}else if(d=="disabAuto"){this.QT([!1],null,Z)}};i.rX.PH=function(e,Z){for(var l=0;
l<Z[0].length;l++){var F=Z[0][l],b=Z[1][l],_=!1;for(var d=0;d<e[0].length;d++){var S=e[0][d],U=e[1][d];
if(F[0]==S[0]&&F[1]==S[1]&&b==U)_=!0}if(!_){e[0].push(F.slice(0));e[1].push(b)}}};i.rX.prototype.enable=function(e,Z,F,b,_){this.Pk=F;
this.bt=Z;this.Yw=_?!0:!1;this.$T(e);this.fC("default",Z)};i.rX.prototype.disable=function(e,Z,F,b){this.AE(e)};
i.rX.prototype.AE=function(e){if(e==null)return;if(this.VF){this.VF.clear(e);this.VF=null}if(e.D.yp){e.D.yp=null;
e.sp=!0}if(e.D.Hv){e.D.Hv=null;e.sp=!0}if(e.D.h6[this.id]){delete e.D.h6[this.id];e.sp=!0}if(e.D.EM.length!=0){e.D.EM=[];
e.sp=!0}};i.rX.prototype.uB=function(e,Z,F,b){if(F.yt!=this.id)return;this.$T(e)};i.rX.prototype.$T=function(e,Z){if(e==null)return;
var F=this.Nd;this.AE(e);if(!this.Yw){var b;if(F.M2||F.yp)b=V.H.Uu(i.Q.jK(e));if(F.M2&&!b.BJ()){this.VF=new j1([b.x,b.y,b.x+b.w,b.y,b.x+b.w,b.y+b._,b.x,b.y+b._],!0);
this.VF.HS(e,this.Pk)}if(F.yp){var _=null,w=null,X=!1;if(e.eZ()!=-1)_=e.g[e.eZ()].iU();else _=new e3(0,0,e.w,e._);
e.D.yp={tO:[b],he:[]};var d=e.D.yp.he,S=b.x+b.w,U=b.y+b._,r=b.x+Math.floor(b.w/2),q=b.y+Math.floor(b._/2);
if(Z){var Q=e.root.Ak(new bI(Math.floor(Z.x),Math.floor(Z.y)));if(Q){w=V.H.Uu(Q.i.T8(e));if(w.iP(b)){X=(w.tv(b)||b.tv(w))&&!b.Tn(w);
if(!X)w=null}}}this.EL(b,d);if(w!=null){e.D.yp.tO.push(w);var c=w.x+w.w,u=w.y+w._,n=w.x+Math.floor(w.w/2),k=w.y+Math.floor(w._/2);
if(X){var B=r,o=q;if(b.tv(w)){B=n;o=k}d.push(b.x,o,w.x,o);d.push(S,o,c,o);d.push(B,b.y,B,w.y);d.push(B,U,B,u)}else{this.EL(w,d);
var T=U<w.y||u<b.y,z=S<w.x||c<b.x;if(S<w.x)d.push(S,q,w.x,q);if(c<b.x)d.push(c,q,b.x,q);if(U<w.y)d.push(r,U,r,w.y);
if(u<b.y)d.push(r,u,r,b.y);if(T&&!z){if(b.x<w.x)d.push(b.x,k,w.x,k);if(w.x<b.x)d.push(w.x,q,b.x,q)}}}else{if(b.y>_.y)d.push(r,_.y,r,b.y);
if(U<_.y+_._)d.push(r,U,r,_.y+_._);if(b.x>_.x)d.push(_.x,q,b.x,q);if(S<_.x+_.w)d.push(S,q,_.x+_.w,q)}e.sp=!0}}if(this.d==2&&this.Bp){var W=new e3(0,0,e.w,e._),$=e.eZ();
if($!=-1){var R=e.$j(),P=R[1][this.Su];if(P==-1)P=$;W=e.g[P].iU()}var H=e.P3[this.Su],y=H[0],h=(y==0?"X":"Y")+": "+V.PR.Ix(H[1]-(y==0?W.x:W.y),e.Cr,this.Pk,y==0?W.w:W._,!0);
i.kC.Ka(Math.round(this.HL.x)+10,Math.round(this.HL.y)-10,[h],e);e.sp=!0}if(this.d==3&&this.Bp){var m=V.H.gb(this._E);
e.D.h6[this.id]={x9:m};e.sp=!0}};i.rX.prototype.EL=function(e,Z){var F=e.w,b=e._,_=e.x+Math.floor(F*.2),d=e.y+Math.floor(b*.2);
Z.push(_,e.y,_,e.y+b);Z.push(e.x,d,e.x+F,d)};i.rX.prototype.fC=function(e,Z){var F={d:G.B.MQ,$P:e},b=new j8(G.E.W,!0);
b.data=F;Z.$(b)};i.rX.prototype.lW=function(e){var Z=this.Xu.Ko()[0],F=this.Ao,b=this.ack[Z];this.pz(F,b)};
i.rX.prototype.e1=function(e){var Z=JSON.parse(JSON.stringify(this.Pk.I9));Z._b=this.lL.Ko()[0];var F=new j8(G.E.W,!0);
F.data={d:G.B.aE,NG:c6.Ga,mQ:Z};this.bt.$(F)};i.rX.prototype.og=function(e,Z,F,b,_){if(this.Bp)this.UD(e,Z,F,b,_);
this.Ao=e;this.Pk=F;this.bt=Z;var d=e.t.mG(_.x,_.y),S;if(i.rX.wd(F,_,e.t)){S=this.lL}else{if(this.Xu)this.Xu.removeEventListener("select",this.lW);
var U=[];e.root.Ak(d,U);if(U.length==0)return;var r=[];this.ack=U;for(var l=0;l<U.length;l++)r.push({name:e.g[U[l]].getName()});
S=this.Xu=new gx(r);S.h("select",this.lW,this)}S.parent=Z;S.n();S.update(e,F);var q=new j8(G.E.W,!0);
q.data={d:G.B.f6,Gw:S,x:_.Cl+2,y:_.mU+1};Z.$(q)};i.rX.prototype.ke=function(e,Z,F,b,_){var d=i.rX.f1(e,_);
return d!=-1||i.rX.wd(F,_,e.t)};i.rX.f1=function(e,Z){if(e==null||e.add.artd==null)return-1;var F=e.t.mG(Z.x,Z.y),b=12*i.F()/e.t.e;
for(var l=0;l<e.g.length;l++){var _=e.g[l];if(!_.ir()||_.add.artb==null)continue;var d=_.iU(),S=new e3(d.x,d.y-1.7*b,b*_.getName().length*.5,b);
if(S.rI(F))return l}return-1};i.rX.prototype.NU=function(e,Z,F,b,_){var d=i.rX.f1(e,_);if(d!=-1){e.V=[d];
if(F.yt==i.l$){var S=new j8(G.E.W);S.data={d:G.B.LN,k:i.qF};Z.$(S)}return}this.HL=_;this.Eb.zU(_.x,_.y);
this.ar=e.t.mG(_.x,_.y);this.Wk=new eU(this.ar);this.Zy(e,Z,b,F,!0)};i.rX.wd=function(e,Z,F,b){var _=V.PR.Np,d=F.JS._;
return e.PG&&(0<Z.x&&Z.x<_||0<Z.y&&Z.y<_||b&&0<Z.x&&Z.x<4*_&&d-_<Z.y&&Z.y<d)};i.rX.prototype.Zy=function(e,Z,F,b,_,d){var S,U=this.ar,r=!1;
if(_){var q=b.Fo&&b.I9.P3;if(i.rX.wd(b,this.Eb,e.t)){S=e.$j();var w=e.$j(),X=null;if(this.Eb.x<V.PR.Np){X=[0,U.x]}if(this.Eb.y<V.PR.Np){X=[1,U.y]}w[0].push(X);
w[1].push(e.eZ());e.p$(w);if(!q){var Q=new j8(G.E.W);if(!b.I9.P3){Q.data={d:G.B.aE,NG:c6.IU};Z.$(Q)}if(!b.Fo){Q.data={d:G.B.aE,NG:c6.m0};
Z.$(Q)}q=!0}}var c=this.r2(e,U);if(q&&c!=null&&!e.fH){this.d=2;this.un=S?S:e.$j();this.Su=c;this.Bp=!0;
this.Ta=i.Q.jK(e);return}if(e.kl.length!=0){this.d=4;this.Ta=e.LE[e.kl[0]].rect.clone();this.Bp=!0;return}if(this.VF&&this.VF.JE(U,e.t.e,!0,this.HL)!=null){var Q=new j8(G.E.W);
Q.data={d:G.B.LN,k:i.PF,afM:!0};Z.$(Q);return}if(e.K&&e.K.rect.rI(U)){var u=Math.round(U.x),n=Math.round(U.y),k=e.K.rect;
r=e.K.channel[(n-k.y)*k.w+u-k.x]>128}if(!r&&(!this.Yw&&this.Nd.zb||this.Yw&&this.Nd.zb&&(F.j(ex.Ng)||e.V.length<2))){var B=this.afD(e,U,F);
if(!B){e.V=[];e.sQ=null;e.oW=e.z3=!0;this.d=3;this._E=new e3;this.Bp=!0;return}}if(F.j(ex.sW)&&!r){var o=new j8(G.E.u);
o.k=i.__;o.data={d:g.YB,a7Z:!0};Z.$(o)}}if(e.kl.length!=0){this.d=4;this.Ta=e.LE[e.kl[0]].rect.clone();
this.Bp=!0;return}this.Su=e.V9(d==null,d,null,!0);for(var l=0;l<this.Su.length;l++){var T=e.g[this.Su[l]];
if(T.oT(2)||T.oT(31)){alert(gA.get([6,57,0]));return}}if(e.add.artd&&_){var z=this.Su,W=!1;for(var l=0;
l<z.length;l++)if(e.g[z[l]].add.artb)W=!0;if(!W){this._S=[e,e.g.slice(0),e.V.slice(0),-1];this.Su.sort(function(t,j){return t-j})}}this.VO=i.rX.ajY(e,this.Su);
this.d=0;if(e.K&&(!_||r)&&e.V.length==1&&e.gy(!1)){if(!e.cf()){this.Bp=!1;return}var $=e.g[e.V[0]],R=F.j(ex.sW);
this.d=1;var P=e.history[e.Ti];if(P.k==this&&P.data.d==1&&P.data.i==e.V[0]&&$.WA==$.LW.WA&&!R){this.xU=P}else{var H=$.LW,y=!1,h;
if(!$.ie(e,e.K)||R){y=!0;$.YS(e,e.K,R)}if($.LW.WA<=0){h=V.J($.LW.iO.length>>2);V.yC($.LW.iO,h,3)}else h=e.K.channel.slice(0);
var m={rect:$.LW.NN.clone(),channel:h};this.xU=new eh(R?[12,53]:[12,54],this);this.xU.data={d:1,i:e.V[0],LW:$.LW,nV:H,ut:y,Vf:e.K,rn:m,rl:new bI(0,0)};
e.XM(this.xU);e.K=m;e.dw=!0}}this.Bp=!0;this.Ta=i.Q.jK(e)};i.rX.prototype.afD=function(e,Z,F){var b=e.root.Ak(new bI(Math.floor(Z.x),Math.floor(Z.y)));
if(b){if(b.i.add.vmsk)e.sp=!0;var _=e.g.indexOf(b.i);if(F.j(ex.Ng)){var d=e.V.indexOf(_);if(d==-1)e.V.push(_);
else if(e.V.length>1)e.V.splice(d,1)}else if(e.V.indexOf(_)==-1){this.pz(e,_)}}return b!=null};i.rX.prototype.pz=function(e,Z){e.g[Z].WA=0;
e.V=[Z];e.sQ=null;e.$f();e.BV=!0;e.oW=!0};i.rX.prototype.SE=function(e,Z,F,b,_){this.HL=_;var d=e.t.mG(_.x,_.y),c,u;
if(this.Wk&&this.d<2)d=this.Wk.fp(d,b);if(!this.Bp){if(F.Fo&&F.I9.P3&&e&&!e.fH){var S=this.r2(e,d),U="default",r=i.rX.f1(e,_);
if(S!=null)U=["col-resize","row-resize"][e.P3[S][0]];else if(this.VF){var q=this.VF.JE(d,e.t.e,null,_);
if(q)U=q}else if(r!=-1){U="pointer"}this.fC(U,Z)}this.$T(e,d);return}var w=this.ar,X=Math.round(d.x-w.x)-this.QQ.x,Q=Math.round(d.y-w.y)-this.QQ.y;
if(this.Ta){if(this.d==2){d=i.rX.gC(e,d,F,[!1,e.K?e.K.rect:this.Ta,!0])}else{u=this.Ta.clone();u.offset(this.QQ.x+X,this.QQ.y+Q);
c=i.rX.DS(e,u,F);X+=Math.round(c[0]);Q+=Math.round(c[1])}}this.QQ.x+=X;this.QQ.y+=Q;var n=this._S;if(n&&e==n[0]){e.ed(n[1]);
e.V=n[2].slice(0);n[3]=-1}this.UK(e,X,Q,d,null,b.j(ex.Ng));if(n&&e==n[0]){var k=this.Ta.clone();k.offset(this.QQ.x,this.QQ.y);
var B=new bI(k.x+k.w/2,k.y+k._/2),r=e.eZ(),o=-1;for(var l=0;l<e.g.length;l++){var T=e.g[l];if(!T.ir()||T.add.artb==null)continue;
var z=T.iU();if(z.rI(B))o=l}if(o!=-1&&o!=r){var W=i.b0.mT(e,this.Su,o,!0,null,!1);e.ed(W[0]);e.V=W[1];
n[3]=o}}this.$T(e,d);if(c)i.rX.J9(e,u,c)};i.rX.prototype.r2=function(e,Z){var F=i.uE(e,this.HL);Z=[Z.x,Z.y];
var b=e.$j(),_=e.eZ();for(var l=0;l<b[0].length;l++){var d=b[0][l],S=b[1][l];if(S!=-1&&S!=_)continue;
if(Math.abs(d[1]-Z[d[0]])<F)return l}return null};i.rX.prototype.UK=function(e,Z,F,b,_,d){if(this.d==0){if(_)i.rX.d3(e,this.Su,this.VO,_);
else i.rX._u(e,this.Su,this.VO,Z,F)}else if(this.d==1){var S=this.xU.data;S.rl.offset(Z,F);i.rX.vh(e,S.i,Z,F)}else if(this.d==2){var U=1e-5;
if(d)U=e.t.e<=1?10:1;else if(e.t.e<=1)U=1;var r=U*Math.round(b.x/U),q=U*Math.round(b.y/U),w=[r,q],X=e.P3[this.Su];
X[1]=w[X[0]]}else if(this.d==3){var Q=this.ar,c=V.H.CN([Q.x,Q.y,b.x,b.y]);this._E=c;var u=[];e.root.Pl(c,u);
if(JSON.stringify(e.V)!=JSON.stringify(u)){e.V=u;e.oW=e.z3=!0}}else if(this.d==4){for(var l=0;l<e.kl.length;
l++)e.LE[e.kl[l]].rect.offset(Z,F);e.sp=!0}};i.rX.vh=function(e,Z,F,b){var _=e.g[Z];e.K.rect.offset(F,b);
_.$i(e,F,b,e.K);e.dw=!0;e.G()};i.rX.prototype.UD=function(e,Z,F,b,_,d){this.GA(e,_,F);this.$T(e);if(Date.now()-this.AR<300&&!d){var S=i.DD.HH(e,e.t.mG(_.x,_.y));
if(i.rX.wd(F,_,e.t,!0)){var U=new j8(G.E.W);if(_.y>e.t.JS._-20){U.data={d:G.B.tJ,ZB:"doczoom",Xd:e.t.e*100,kD:{Y:G.E.u,k:i.GD,R:{d:"pzoom"}}}}else{U.data={d:G.B.tJ,ZB:"preferences"}}Z.$(U)}else if(S>=0){var r=new j8(G.E.u,!0);
r.k=i.Xk;r.data={d:"editCurr",xo:S};Z.$(r)}}this.AR=Date.now();i.Za.J4(e)};i.rX.prototype.GA=function(e,Z,F,b,_){if(!this.Bp)return;
this.Bp=!1;if(this.d==0){if(b){this.IC(e,null,b,_)}else{if(this.QQ.x==0&&this.QQ.y==0)return;this.IC(e,this.QQ.clone())}e.Zc=!0}else if(this.d==2){var d=0;
Z=[Z.x,Z.y];var S=this.Su,U=e.P3[S],hr=this.un[0].length,r=e.P3.length;if(F.PG&&Z[U[0]]<V.PR.Np){var q=e.$j();
q[0].splice(S,1);q[1].splice(S,1);e.p$(q);d=1;if(hr==r-1)return}if(hr<r)d=2;var w=new eh([[23,2],[23,3],[23,4]][d],this);
w.data={d:2,un:this.un,d$:e.$j()};e.XM(w)}else if(this.d==4){var w=new eh([12,54],this);w.data={d:4,V:e.kl.slice(0),r:this.QQ.clone()};
e.XM(w)}this.QQ.zU(0,0)};i.rX.prototype.b8=function(e,Z,F,b){var _=b.qY();if(e!=null&&(_.x!=0||_.y!=0)){if(b.j(ex.sW)&&e.K==null){var d=new j8(G.E.u);
d.k=i.__;d.data={d:g.YB,a7Z:!0};Z.$(d)}this.QQ.zU(_.x,_.y);this.Zy(e,Z,b,F,!1);if(!this.Bp)return;this.UK(e,_.x,_.y);
this.GA(e,null,F);this.$T(e)}var S=b.j(ex.Nh);if(!this.Yw&&this.asm!=S){if(S){this.a8h=this.Nd.zb;this.Nd.zb=!0}else{this.Nd.zb=this.a8h}this.asm=S;
var U=new j8(G.E.W,!0);U.data={d:G.B.Zw,k:this.id,DL:this.Nd};Z.$(U)}};i.rX.prototype.Mi=function(e,Z){if(e.d==0){var F=e.YO;
if(F){Z.ed(F.Gt);Z.V=F.lF.slice(0);Z.G();Z.oW=!0}i.rX.d3(Z,e.V,e.uw,e.xt,!0);i.Za.J4(Z)}else if(e.d==2){Z.p$(e.un);
Z.sp=!0}else if(e.d==4){for(var l=0;l<e.V.length;l++)Z.LE[e.V[l]].rect.offset(-e.r.x,-e.r.y);Z.sp=!0}else{var b=Z.g[e.i];
if(e.ut){b.Z3(Z,e.nV);Z.K=e.Vf;Z.dw=!0;Z.G();b.G()}else{i.rX.vh(Z,e.i,-e.rl.x,-e.rl.y)}}};i.rX.prototype.Fm=function(e,Z){if(e.d==0){i.rX.d3(Z,e.V,e.uw,e.xt);
var F=e.YO;if(F){Z.ed(F.Op);Z.V=F.GI.slice(0);Z.G();Z.oW=!0}i.Za.J4(Z)}else if(e.d==2){Z.p$(e.d$);Z.sp=!0}else if(e.d==4){for(var l=0;
l<e.V.length;l++)Z.LE[e.V[l]].rect.offset(e.r.x,e.r.y);Z.sp=!0}else{var b=Z.g[e.i];if(e.ut){b.LW=e.LW;
Z.K=e.rn;i.rX.vh(Z,e.i,0,0);b.G()}else{i.rX.vh(Z,e.i,e.rl.x,e.rl.y)}}};i.rX.prototype.IC=function(e,Z,F,b){if(F){var _=!0;
for(var l=0;l<F.length;l++)if(F[l]!=0)_=!1;if(_)return}var d=e.history[e.Ti],S=this._S,U=S!=null&&S[3]!=-1&&S[0]==e;
if(!U&&F==null&&d.data&&d.k==this&&d.data.d==0&&JSON.stringify(d.data.V)==JSON.stringify(this.Su)&&JSON.stringify(d.data.uw)==JSON.stringify(this.VO)){var r=d.data.xt,q=d.data.a5X.ni.T.v;
q.Hrzn.v.val+=Z.x;q.Vrtc.v.val+=Z.y;for(var l=0;l<r.length;l+=2){r[l]+=Z.x;r[l+1]+=Z.y}}else{if(Z==null)Z=new bI(F[0],F[1]);
var w={qg:"move",ni:{classID:"null",null:dz.vz("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:Z.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:Z.y}}}}}},X=null;
if(U)X={Gt:S[1],lF:S[2],Op:e.g.slice(0),GI:e.V.slice(0)};this._S=null;var Q=new eh(b?b:[12,54],this);
if(F)Q.data={d:0,V:this.Su,uw:this.VO,YO:X,xt:F};else Q.data={d:0,V:this.Su,uw:this.VO,YO:X,xt:i.rX.$Y(this.Su,Z.x,Z.y)};
Q.data.a5X=w;e.XM(Q);this.track(w)}};i.rX.$Y=function(e,Z,F){var b=[];for(var l=0;l<e.length;l++)b.push(Z,F);
return b};i.rX._u=function(e,Z,F,b,_){i.rX.d3(e,Z,F,i.rX.$Y(Z,b,_))};i.rX.d3=function(e,Z,F,b,_){if(Z.length==0)return;
if(F==null){F=[];for(var l=0;l<Z.length;l++){F.push(e.g[Z[l]].Xp(e,!0))}}var d=new e3,S=new e3(0,0,e.w,e._);
for(var l=0;l<Z.length;l++){var U=b[2*l],r=b[2*l+1];if(_){U=-U;r=-r}var q=e.g[Z[l]],w=F[l];if(q.add.fxrp&&(w.indexOf(0)!=-1||q._l()))q.add.fxrp.offset(U,r);
for(var X=0;X<w.length;X++){var Q=w[X];if(Q==0){q.rect.offset(U,r);if(q.bR()&&q.EB(e))q.EB(e).rect.offset(U,r);
if(q.add.artb){var c=q.iU();c.offset(U,r);q.bc(c);var u=q.add.artb.guideIndeces;u=u?u.v:[];for(var n=0;
n<u.length;n++){var k=e.P3[u[n].v];k[1]+=k[0]==0?U:r}}if(q.add.TySh){q.add.TySh.A.translate(U,r);if(q.add.TySh.add){q.add.TySh.add.vmsk.offset(U,r)}}if(q.add.SoLd){var B=new jg(1,0,0,1,U,r),o=q.add.SoLd,T=i.Q.rt(o.Trnf),z=i.Q.rt(o.nonAffineTransform);
V.H.A(T,B,T);V.H.A(z,B,z);o.Trnf=i.Q.t1(T);o.nonAffineTransform=i.Q.t1(z);i.Q.u2(o,B)}}if(Q==1)q.Vj().rect.offset(U,r);
if(Q==2){q.add.vmsk.offset(U,r);if(q.add.vogk)V.$F.A(q.add.vogk,[1,0,U,0,1,r,0,0],[])}if(Q==3){q.EB(e).v.rect.offset(U,r);
if(w.length==1)q.G()}}if(w.length>0){var W=q.add.GdFl;if(W==null)W=q.add.PtFl;if(q._l()&&!q.Ms()&&q.add.vmsk!=null&&V.c.Ih(q.add.vmsk.T)&&q.add.vmsk.cj==255&&(W==null||W.Algn&&W.Algn.v)){q.rect.offset(U,r)}else q.kJ(e);
var $=e.root.QV(q.T8(e),e,Z[l]);if(q.add.artb)$=$.Us(q.iU());d=d.Us($);$.offset(-U,-r);d=d.Us($);if(q.DZ()&&q.v&&q.v.color==255)d=d.Us(S);
q._0()}}e.G(V.H.Uu(d))};i.rX.ajY=function(e,Z){var F=[];for(var l=0;l<Z.length;l++){var b=e.g[Z[l]];
F.push(b.Xp(e))}return F};i.rX.J9=function(e,Z,F){var b=e.D.Hv={s:[],C:[]},_=Z.x+F[0],d=Z.y+F[1];if(F[2]!=1e9){b.C.push("M","L");
b.s.push(F[2],d,F[2],d+Z._)}if(F[3]!=1e9){b.C.push("M","L");b.s.push(_,F[3],_+Z.w,F[3])}e.sp=!0};i.rX.gC=function(e,Z,F,b){var _=i.rX.SX(e,[[Z.x],[Z.y]],F,b);
return new bI(Z.x+_[0],Z.y+_[1])};i.rX.DS=function(e,Z,F,b,_){var d=_==!0?1:.5,S=i.rX.SX(e,[[Z.x,Z.x+Math.round(Z.w*d),Z.x+Z.w],[Z.y,Z.y+Math.round(Z._*d),Z.y+Z._]],F,b);
return S};i.rX.SX=function(e,Z,F,b){if(b==null)b=[!0,null,!0];var _=[0,0,1e9,1e9];if(!F.XE)return _;
var d=JSON.parse(JSON.stringify(Z));for(var S=0;S<2;S++){var U=1e9,r=Z[S],q=0;for(var w=0;w<r.length;
w++){var X=i.rX.aa9(e,r[w],d[1-S][w],S,F,b);if(X!=1e9)d[S][w]=X;if(X!=1e9&&Math.abs(X-r[w])<Math.abs(U)){U=X-r[w];
q=X}}if(U!=1e9){_[S]=U;_[S+2]=q}}return _};i.rX.aa9=function(e,Z,F,b,_,d){var S=1e9,U=_.Nb,r=_.I9,q=[e.root];
while(q.length!=0&&U[2]){var w=q.pop(),X=w.i,Q=X.rect;if(!X.ir())continue;if(w.children)for(var l=0;
l<w.children.length;l++)q.push(w.children[l]);if(e.V.indexOf(w.index)!=-1||Q.BJ())continue;if(b==0){var c=Q.w,u=c>>>1;
if(Math.abs(Q.x-Z)<Math.abs(S-Z))S=Q.x;if(Math.abs(Q.x+u-Z)<Math.abs(S-Z))S=Q.x+u;if(Math.abs(Q.x+c-Z)<Math.abs(S-Z))S=Q.x+c}else{var n=Q._,k=n>>>1;
if(Math.abs(Q.y-Z)<Math.abs(S-Z))S=Q.y;if(Math.abs(Q.y+k-Z)<Math.abs(S-Z))S=Q.y+k;if(Math.abs(Q.y+n-Z)<Math.abs(S-Z))S=Q.y+n}}if(d[0]&&U[0]&&r.P3&&_.Fo){var B=e.$j(),o=B[0],T=B[1],z=e.eZ();
for(var l=0;l<o.length;l++)if((T[l]==-1||T[l]==z)&&o[l][0]==b&&Math.abs(o[l][1]-Z)<Math.abs(S-Z))S=o[l][1]}if(U[1]&&r.B5&&_.Fo){var W=Math.round(V.PR.tm(r.av,e.Cr,e.w,r.iK));
if(b==1&&r.zI==1){var $=F*.5*Math.sqrt(4/3),R;W*=Math.sqrt(4/3);R=Math.round((Z-$)/W)*W+$;if(Math.abs(R-Z)<Math.abs(S-Z))S=R;
R=Math.round((Z+$)/W)*W-$;if(Math.abs(R-Z)<Math.abs(S-Z))S=R}else{var R=Math.round(Z/W)*W;if(Math.abs(R-Z)<Math.abs(S-Z))S=R}}var P=e.sP;
if(U[3]&&r.sP&&_.Fo&&P.length!=0){for(var l=0;l<P.length;l++){if(!d[2]&&e.l7.indexOf(l)!=-1)continue;
var H=i.re.SO(P,l);for(var y=0;y<3;y+=2)if(H[y+b]!=Z&&Math.abs(H[y+b]-Z)<Math.abs(S-Z))S=H[y+b]}}if(d[1]){var Q=d[1],c=Q.w,n=Q._,h=[Q.x,Q.y,Q.x+(c>>>1),Q.y+(n>>>1),Q.x+c,Q.y+n];
for(var l=0;l<6;l+=2)if(Math.abs(h[l+b]-Z)<Math.abs(S-Z))S=h[l+b]}if(U[4]){var Q=new e3(0,0,e.w,e._),z=e.eZ();
if(z!=-1)Q=e.g[z].iU();var c=Q.w,n=Q._,h=[Q.x,Q.y,Q.x+(c>>>1),Q.y+(n>>>1),Q.x+c,Q.y+n];for(var l=0;l<6;
l+=2)if(Math.abs(h[l+b]-Z)<Math.abs(S-Z))S=h[l+b]}var m=Math.abs(S-Z)<=4*i.F()/e.t.e?S:1e9;return m};
i.nx=function(){i.wL.call(this,[10,12],i.bL,"tools/mwand")};i.nx.prototype=new i.wL;i.nx.prototype.GO=i.wL.prototype.aj_;
i.nx.prototype.QT=i.wL.prototype.a8c;i.nx.prototype.s8=function(e,Z,F,b){this.finish(e,Z,F,b)};i.nx.prototype.getSelection=function(e,Z,F,b){var _=this.V0,d=i.wL.adg(new bI(Math.floor(_.x),Math.floor(_.y)),this.Nd.wconf,this.Nd.sall);
return d};i.nx.HJ=function(e,Z,F,b,_){if(e.V.length!=1){alert("More than one layer selected.");return null}var d=e.g[e.V[0]],S=null,U;
if(_)S=d.WA<=0?null:d.WA==1?d.Vj():d.EB(e).v;if(S==null&&d.add.lsct!=null&&d.add.lsct!=jj.MH){alert("No layer selected.");
return null}if(Z.x<0||Z.x>e.w||Z.y<0||Z.y>e._)return null;var r=new e3(0,0,e.w,e._);if(b){U=e.zB()}else if(S==null&&r.Tn(d.rect))U=d.buffer;
else{U=V.J(r.Z()*4);if(S==null)V.Rf(d.buffer,d.rect,U,r);else i.Aj.oj(S.channel,S.rect,S.color,U,r)}var q=i.nx.V$(U,r,Z,null,F),w=V.HR(q,r),X=V.J(w.Z());
V.l2(q,r,X,w);return{rect:w,channel:X}};i.nx.Jk=function(e,Z,F){var b=Z.w,_=Z._,S=0,U=0,r=0,q=0;e=new Uint32Array(e.buffer);
var d=[],w=F.length;for(var l=0;l<w;l++){var X=F[l],Q=Math.round(X.x-.5-Z.x),c=Math.round(X.y-.5-Z.y);
Q=Math.max(0,Math.min(b-1,Q));c=Math.max(0,Math.min(_-1,c));var u=c*b+Q,n=e[u];d.push([n&255,n>>8&255,n>>16&255,n>>>24])}return d};
i.nx.V$=function(e,Z,F,b,_){e=new Uint32Array(e.buffer);var d=Z.w,S=Z._,U=d*S;if(b==null)b=i.nx.Jk(e,Z,[F]);
var r=Math.round(F.x-.5-Z.x),q=Math.round(F.y-.5-Z.y),w=q*d+r,X=Date.now(),Q=V.J(d*S),c=_[0],u=1/c,n=_[1]&&c>0?255:0;
if(_[2]){var k=V.J(Q.length),B=new Uint32Array(U),o=1;B[0]=r<<16|q;k[w]=1;while(o>0){var T=B[o-1];o--;
var z=T>>>16,W=T&65535,l=W*d+z,$=i.nx.tS(e[l],b);if($>c){var R=n*(1-Math.max(0,Math.min(1,($-c)*u)));
Q[l]=~~R}else{Q[l]=255;if(W!=S-1&&k[l+d]==0){B[o++]=z<<16|W+1;k[l+d]=1}if(W!=0&&k[l-d]==0){B[o++]=z<<16|W-1;
k[l-d]=1}if(z!=d-1&&k[l+1]==0){B[o++]=z+1<<16|W;k[l+1]=1}if(z!=0&&k[l-1]==0){B[o++]=z-1<<16|W;k[l-1]=1}}}}else{for(var l=0;
l<U;l++){var $=i.nx.tS(e[l],b);if($<=c)Q[l]=255}for(var W=0;W<S;W++)for(var z=0;z<d;z++){var l=W*d+z;
if(Q[l]==0&&(z>0&&(Q[l-1]==255||W>0&&Q[l-d-1]==255||W<S-1&&Q[l+d-1]==255)||z<d-1&&(Q[l+1]==255||W>0&&Q[l-d+1]==255||W<S-1&&Q[l+d+1]==255)||W>0&&Q[l-d]==255||W<S-1&&Q[l+d]==255)){var $=i.nx.tS(e[l],b),R=n*(1-Math.max(0,Math.min(1,($-c)*u)));
Q[l]=~~R}}}return Q};i.nx.tS=function(e,Z){var F=Z.length,b=i.nx.Vu(e,Z[0]),l=1;while(l!=F){b=Math.min(b,i.nx.Vu(e,Z[l]));
l++}return b};i.nx.Vu=function(e,Z){var F=e&255,b=e>>>8&255,_=e>>>16&255,d=e>>>24&255;if(Z[3]==0)return d<5?0:255;
var S=Math.max(Math.abs(F-Z[0]),Math.max(Math.abs(b-Z[1]),Math.abs(_-Z[2])));return d==0?255:S};i.NM=function(e,Z){if(Z)i.Aj.call(this);
else if(e)i.Aj.call(this,[10,49],i.GR,"tools/camove");else i.Aj.call(this,[10,26],i.iW,"tools/patch");
this.lI=null;this.A3=null;this.r=null;this.TF=null;this.yI=new bI;this.lH=null;this.tE=null};i.NM.prototype=new i.Aj;
i.NM.prototype.NU=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);if(e.K&&V.Ak(d,e.K.channel,e.K.rect)){var S=new e3(0,0,e.w,e._),U=S.QP(e.K.rect);
if(!e.gy()||U.BJ())return;if(!0){var r=V.J(U.Z());V.l2(e.K.channel,e.K.rect,r,U);e.K={channel:r,rect:U}}this.k$(e);
this.By(e);this.TF=d;this.yI=new bI(d.x-e.K.rect.x,d.y-e.K.rect.y);this.tE=V.J(e.K.rect.Z()*4);this.tE.fill(255);
if(this.Nd.patch==1){var q=e.g[e.V[0]];q.YS(e,e.K,!0);if(q.LW==null)this.TF=null}this.lH=e.K.rect.clone()}else{this.A3={s:[d.x,d.y],C:["M"]};
this.lI=d}};i.NM.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);if(this.TF){if(this.Nd.patch==1){if(e.kl.length==0){var S=e.g[e.V[0]].LW,U=d.x-this.yI.x,r=d.y-this.yI.y;
i.rX.vh(e,e.V[0],Math.round(U-S.NN.x),Math.round(r-S.NN.y))}}else this.Fh(e,d,"clone")}if(this.lI){this.A3.C.push("L");
this.A3.s.push(d.x,d.y);this.lI=d;e.D.x9=this.A3;e.sp=!0}};i.NM.prototype.UD=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);
if(this.TF){var S=e.K.rect.clone();if(this.id==i.GR){var U=e.g[e.V[0]];U.Z3(e,U.LW);e.K.rect=this.lH.clone();
var r=V.J(e.K.rect.Z()*4);V.s$(e.K.channel,r,3);this.RG(e,"sheal",r,e.K.rect,e.K.rect);e.K.rect=S;S=S.Us(this.lH)}this.Fh(e,d,"heal");
this.finish(e,S,null,null,!0);e.G(S);this.TF=null}if(this.lI){var q=i.wL.rL(this.Nd.setop,b.j(ex.Ng),b.j(ex.sW)),w=new j8(G.E.GT,!0);
if(this.A3.s.length<=4)w.data=i.wL.JG();else w.data=i.wL.hL(this.A3.s,q);Z.$(w);this.lI=null;e.D.x9=null;
e.sp=!0}};i.NM.prototype.Qw=function(){return this.r};i.NM.prototype.OY=function(e,Z,F,b,_){i.Aj.prototype.OY.call(this,e,Z,F,b,_);
this.fC(_,b)};i.NM.prototype.fC=function(e,Z){var F="auto;";if(Z!=null&&Z.j(ex.Ng)&&!Z.j(ex.sW)||this.Nd.setop=="union")F="copy";
var b=new j8(G.E.W,!0);b.data={d:G.B.MQ,$P:F};if(this.caller)this.caller.$(b)};i.NM.prototype.Fh=function(e,Z,F){var b=new bI(Math.round(this.TF.x-Z.x),Math.round(this.TF.y-Z.y));
if(this.Nd.patch==1)b.zU(-b.x,-b.y);this.r=b;this.RG(e,F,this.tE,e.K.rect,e.K.rect);this.G(e,e.K.rect)};
i.q9=function(){i.NM.call(this,!0);this.Nd.patch=1};i.q9.prototype=new i.NM(!0,!0);i.FF=function(){i.Aj.call(this,[10,13],i.a9u,"tools/pbucket");
this.CJ=!1};i.FF.prototype=new i.Aj;i.FF.prototype.enable=function(e,Z,F,b){var _=new j8(G.E.W,!0);_.data={d:G.B.MQ,$P:"default"};
Z.$(_)};i.FF.prototype.ZP=function(e,Z){};i.FF.prototype.NU=function(e,Z,F,b,_){this.CJ=!0};i.FF.prototype.UD=function(e,Z,F,b,_,d){var S=this.CJ;
this.CJ=!1;if(!S||d)return;if(this.aG(b,Z,_))return;if(!e.gy())return;var U=e.t.mG(_.x,_.y),r=i.nx.HJ(e,U,this.Nd.wconf,this.Nd.sall,!0);
if(r==null)return;var q=V.J(r.rect.Z()*4);V.oi(q,(F.Ly&255)<<16|(F.Ly>>8&255)<<8|(F.Ly>>16&255)<<0);
V.s$(r.channel,q,3);this.k$(e);this.RG(e,"draw",q,r.rect,r.rect);this.G(e,r.rect);this.finish(e,r.rect)};
i.M9=function(){i.wL.call(this,[10,14],i.adS,"tools/plasso");this.vF="crosshair";this.HW=[];this.yd=null;
this.A3=null;this.ai$=0};i.M9.prototype=new i.wL;i.M9.prototype.disable=function(e,Z,F,b){this.hO(e)};
i.M9.prototype.s8=function(e,Z,F,b){this.HW=[ex.Fp,ex.yr]};i.M9.prototype.TD=function(e){return this.HW.indexOf(e)!=-1};
i.M9.prototype.Hd=function(e){return this.A3!=null};i.M9.prototype.W3=function(){return this.A3!=null};
i.M9.prototype.dS=function(){return this.A3!=null};i.M9.prototype.Mn=function(e,Z,F,b){if(this.A3==null)return;
var _=this.A3,d=_.s,S=d.length-2,U=this.V0;if(this.o0.jd(1)&&F.j(ex.sW)&&b.jP){d.push(0,0);_.C.push("L");
S+=2}else if(F.j(ex.Ng))U=i.vS.eo(new bI(d[S-2],d[S-1]),U);d[S]=U.x;d[S+1]=U.y;e.D.x9=_;e.sp=!0};i.M9.prototype.fQ=function(e,Z,F,b){var _=Date.now();
if(this.A3==null)this.A3={s:[this.V0.x,this.V0.y,this.V0.x,this.V0.y],C:["M","L"]};else{this.Mn(e,Z,F,b);
if(_-this.ai$<250||bI.Ls(this.V0,new bI(this.A3.s[0],this.A3.s[1]))<i.uE(e,b)){this.yd=this.A3;this.finish(e,Z,F,b);
this.hO(e);return}this.A3.C.push("L");this.A3.s.push(this.V0.x,this.V0.y)}this.ai$=_;e.D.x9=this.A3};
i.M9.prototype.hO=function(e){this.A3=null;this.HW=[];if(e!=null){e.D.x9=null;e.sp=!0}};i.M9.prototype.b8=function(e,Z,F,b){i.wL.prototype.b8.call(this,e,Z,F,b);
if(b.j(ex.ea)&&this.A3==null&&this.yd&&e.K!=null){var _=new j8(G.E.u);_.k=i.Pi;_.data={d:"h_stepbck"};
Z.$(_);this.s8(e,F,b,null);this.A3=this.yd;return}if(this.A3==null)return;if(b.j(ex.Fp)||b.j(ex.yr)){this.A3.s.pop();
this.A3.s.pop();this.A3.C.pop();this.Mn(e,F,b)}if(b.j(ex.Dr)){if(this.A3.s.length>4){this.yd=this.A3;
this.finish(e,F,b)}this.A3=null}if(b.j(ex.ea)){this.A3=null}e.D.x9=this.A3;e.sp=!0};i.M9.prototype.getSelection=function(e,Z,F,b){return i.wL.hL(this.A3.s,null,this.Nd.anta)};
i.Em=function(){i.wL.call(this,[10,10],i.agm,"tools/mlasso");this.vF="crosshair";this.HW=[];this.T=[];
this.lQ=[];this.sg=[];this.Kn=null;this.dZ=null;this.Gh=null;this.AR=0;this._n=0};i.Em.prototype=new i.wL;
i.Em.prototype.disable=function(e,Z,F,b){this.clear(e)};i.Em.prototype.Hd=function(e){return this.T.length!=0};
i.Em.prototype.dS=function(){return this.T.length!=0};i.Em.prototype.TD=function(e){return this.HW.indexOf(e)!=-1};
i.Em.prototype.s8=function(e,Z,F,b){this.HW=[ex.Fp,ex.yr];var _=this.S1(this.kj,e);if(this.T.length!=0&&(bI.Ls(_,this.T[0])<i.uE(e,b)||Date.now()-this.AR<300)){this.cC(e,this.T[0]);
this.finish(e,Z,F);this.clear(e);return}this.AR=Date.now();if(this.T.length!=0)_=this.CD(_,e);else{var d=e.w,S=e._,U=V.J(d*S),r=e.zB(),q=d*S*4;
for(var l=0;l<q;l+=4)U[l>>>2]=~~(.5+V.Mv(r[l],r[l+1],r[l+2])*(r[l+3]*(1/255)));this.Kn=V.Ns.apW(U,d,S);
this.Gh=new Uint16Array(U.length)}this.cC(e,_);this._n=F.j(ex.sW)?1:0;this.Yl(e)};i.Em.prototype.cC=function(e,Z){var F=this.T;
this.lQ[F.length]=this.sg.length;if(F.length!=0){V.Ns._P(this.dZ,Z.y*e.w+Z.x);var b=this.vj(e,Z);b.reverse();
var _=i.Em.vo(e,b);this.sg=this.sg.concat(_)}F.push(Z);this.F_(e)};i.Em.prototype.F_=function(e){var Z=this.T[this.T.length-1],F=Z.y*e.w+Z.x;
this.dZ=V.Ns.ams(this.Kn.vt,this.Kn.HX,F);this.Gh.fill(0)};i.Em.prototype.S1=function(e,Z){return new bI(Math.floor(Math.max(0,Math.min(Z.w-1,e.x))),Math.floor(Math.max(0,Math.min(Z._-1,e.y))))};
i.Em.prototype.clear=function(e){this.sg=[];this.T=[];this.lQ=[];this.Kn=null;this.dZ=null;this.Gh=null;
if(e!=null){e.D.x9=null;e.D.Zq=[];e.sp=!0}this.HW=[]};i.Em.prototype.Mn=function(e,Z,F,b){var _=this.T,d=_.length;
if(d==0)return;var S=this.CD(this.S1(this.V0,e),e),U=this.vj(e,S);for(var l=0;l<U.length;l++){var r=U[l],q=new bI(r%e.w,Math.floor(r/e.w));
if(this.Gh[r]>30&&bI.Ls(q,_[d-1])>20){this.cC(e,q);return}this.Gh[r]++}if(this._n==1&&b.jP)this.cC(e,S);
this.Yl(e)};i.Em.prototype.Yl=function(e){var Z=this.T;if(Z.length!=0){var F=this.CD(this.S1(this.V0,e),e),b=this.vj(e,F);
b.reverse();var _=i.Em.vo(e,b),d=this.sg.concat(_),S=e.D.x9={s:d,C:["M"]};for(var l=2;l<d.length;l+=2)S.C.push("L")}e.D.Zq=[];
for(var l=0;l<Z.length;l++)e.D.Zq.push(Z[l].x+.5,Z[l].y+.5);e.sp=!0};i.Em.prototype.fQ=function(e,Z,F,b){};
i.Em.prototype.b8=function(e,Z,F,b){if(this.T.length==0)return;if(b.j(ex.Fp)||b.j(ex.yr)){this.T.pop();
this.sg=this.sg.slice(0,this.lQ[this.T.length]);this.lQ.pop();if(this.T.length==0)this.clear(e);else this.F_(e);
this.Yl(e)}if(b.j(ex.Dr)){var _=this.S1(this.V0,e);this.cC(e,_);this.finish(e,F,b);this.clear(e)}if(b.j(ex.ea)){this.clear(e)}};
i.Em.prototype.getSelection=function(e,Z,F,b){return i.wL.hL(this.sg,null,this.Nd.anta)};i.Em.prototype.vj=function(e,Z){var F=this.T[this.T.length-1],b=F.y*e.w+F.x,_=Z.y*e.w+Z.x;
if(this._n==1)return[_,b];var d=[_];while(_!=b){_=this.dZ.HI[_];d.push(_);if(d.length>5e3){console.log(d);
throw"e"}}return d};i.Em.vo=function(e,Z){var F=[],b=e.w;for(var l=0;l<Z.length;l++){var _=Z[l];F.push(_%b+.5,Math.floor(_/b)+.5)}return F};
i.Em.prototype.CD=function(e,Z){var F=Z.w,b=Z._,_=e.clone(),S=3;V.Ns._P(this.dZ,e.y*F+e.x);var d=this.dZ.h3[e.y*F+e.x];
for(var U=-S+1;U<S;U++)for(var r=-S+1;r<S;r++){var q=e.x+r,w=e.y+U;if(q<0||q>=F||w<0||w>=b)continue;
V.Ns._P(this.dZ,w*F+q);if(this.dZ.h3[w*F+q]<d)_.zU(q,w)}return _};i.dp=function(){i.kC.call(this,[10,36],i.Wj,"tools/ruler");
this.yk=null;this.tw=null;this.Rn=null;this.nK=null;this.dv=null};i.dp.prototype=new i.kC;i.dp.prototype.Hd=function(e){return e.jP};
i.dp.prototype.enable=function(e,Z,F,b){i.kC.prototype.enable.call(this,e,Z,b,F);if(e)this.$T(e)};i.dp.prototype.disable=function(e,Z,F,b){if(e)this.hO(e)};
i.dp.prototype.at=function(e,Z,F,b,_){this.yk=this.Rn=null;this.$T(F)};i.dp.prototype.NU=function(e,Z,F,b,_){var d=i.uE(e,_),S=e.t.mG(_.x,_.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);var U=this.yk;this.tw=U?U.slice(0):null;var r=U&&bI.Ls(S,U[0])<d,q=U&&bI.Ls(S,U[1])<d,w=U&&U[2]&&bI.Ls(S,U[2])<d;
if(r||q||w){if(b.j(ex.sW)&&U.length==2){if(q){var X=U[0];U[0]=U[1];U[1]=X}U[2]=U[0].clone();this.Rn=[2]}else this.Rn=[r?0:q?1:2]}else if(U&&i.dp.afv(U[0],U[1],S)<d&&Math.min(U[0].x,U[1].x)-5<=S.x&&S.x<=Math.max(U[0].x,U[1].x)+5&&Math.min(U[0].y,U[1].y)-5<=S.y&&S.y<=Math.max(U[0].y,U[1].y)+5){this.Rn=[];
this.dv=[];for(var l=0;l<U.length;l++){this.Rn.push(l);this.dv.push(U[l].clone())}this.nK=S}else{this.yk=[S.clone(),S.clone()];
this.Rn=[1]}};i.dp.prototype.SE=function(e,Z,F,b,_){if(this.Rn==null)return;var d=this.yk,S=this.Rn,U=e.t.mG(_.x,_.y);
U.x=Math.round(U.x);U.y=Math.round(U.y);if(S.length>1){var r=U.x-this.nK.x,q=U.y-this.nK.y;for(var l=0;
l<d.length;l++){d[l]=this.dv[l].clone();d[l].offset(r,q)}}else{d[S[0]].zU(U.x,U.y);if(b.j(ex.Ng)){d[S[0]]=i.vS.eo(d[1-S[0]],d[S[0]])}}this.$T(e);
this.b6(Z,G.E.W,{d:G.B.Zw,k:this.id,a06:d[0],ec:d[1],_Z:d[2],Cr:e.Cr,adY:e.w})};i.dp.prototype.UD=function(e,Z,F,b,_,d){this.Rn=null;
if(d){this.yk=this.tw.slice(0);this.$T(e)}};i.dp.prototype.b6=function(e,Z,F){var b=new j8(Z,!0);b.data=F;
e.$(b)};i.dp.prototype.$T=function(e){var Z=this.yk;if(Z==null)this.hO(e);else{var F=[Z[1].x,Z[1].y,Z[0].x,Z[0].y],b=["M","L"];
if(Z.length>2){F.push(Z[2].x,Z[2].y);b.push("L")}e.D.x9={C:b,s:F};e.D.Zq=F}e.sp=!0};i.dp.prototype.hO=function(e){e.D.x9=null;
e.D.Zq=[]};i.dp.afv=function(e,Z,F){var b=Z.x-e.x,_=Z.y-e.y,d=Math.abs(_*F.x-b*F.y+Z.x*e.y-Z.y*e.x),S=Math.sqrt(b*b+_*_);
return S==0?0:d/S};i.n1=function(){i.Aj.call(this,[10,19],i.Ll,"tools/sharpen");this.pd="copy"};i.n1.prototype=new i.Aj;
i.n1.prototype.NU=function(e,Z,F,b,_){var d=this.Nd.pdetail?fR.Lt:fR.Ll;if(b.j(ex.sW))d=fR.kI;this.al(e,F,b,_,this.Nd.strn,d);
if(this.pl==null)return;this.rG(e)};i.n1.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.xE=function(){i.Aj.call(this,[10,24],i.Ce,"tools/shbrush");
this.pd="draw";this.Nd.opacity=.5};i.xE.prototype=new i.Aj;i.xE.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,1);
if(this.pl==null)return;this.By(e);this.rG(e)};i.xE.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.xE.prototype.UD=function(e,Z,F,b,_){if(this.pl==null)return;
this.RG(e,"sheal",this.pl.n$(),this.pl.jK(),this.pl.zx(),null);this.G(e,this.pl.zx());i.Aj.prototype.UD.call(this,e,Z,F,b,_)};
i.O3=function(){i.Aj.call(this,[10,20],i.au,"tools/smudge");this.pd="copy"};i.O3.prototype=new i.Aj;
i.O3.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.strn,fR.au);if(this.pl==null)return;this.rG(e)};
i.O3.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);if(this.pl==null)return;
if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.Oy=function(){i.Aj.call(this,[10,23],i.Rg,"tools/sponge");
this.pd="sponge"};i.Oy.prototype=new i.Aj;i.Oy.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,this.Nd.flow);
if(this.pl==null)return;this.rG(e)};i.Oy.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);if(this.VA)this.qn(e,F,_);
if(this.pl==null)return;if(!_.jP)return;this.DH(e,F,b,_);this.rG(e)};i.Jt=function(){i.kC.call(this,[10,17],i.GD,"tools/zoom");
this.eG=!1;this.FU=!0;this.y2=0;this.oh=null;this.XY=null;this.sw=0;this.Tf=null;this.MW=0;this.lL=new gx([{name:[8,0],Nr:"Ctrl + +"},{name:[8,1],Nr:"Ctrl + -",jr:!0},{name:[20,3],Nr:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Nr:"Ctrl + 1"}],[{Y:G.E.u,k:i.GD,R:{d:"zoom",FU:!0}},{Y:G.E.u,k:i.GD,R:{d:"zoom",FU:!1}},{Y:G.E.u,k:i.GD,R:{d:"adapt",I:"fitscr"}},{Y:G.E.u,k:i.GD,R:{d:"adapt",I:"pixel"}}])};
i.Jt.prototype=new i.kC;i.Jt.prototype.og=function(e,Z,F,b,_){var d=this.lL;d.n();d.parent=Z;d.update(e,F);
var S=new j8(G.E.W,!0);S.data={d:G.B.f6,Gw:d,x:_.Cl+2,y:_.mU+1};Z.$(S)};i.Jt.prototype.enable=function(e,Z,F,b){this.eI(Z,b);
if(e&&Date.now()-this.y2<300)this.at({d:"adapt",I:"pixel"},Z,e,b,F);this.y2=Date.now()};i.Jt.prototype.NU=function(e,Z,F,b,_){this.XY=new bI(_.x,_.y);
this.sw=e.t.e;this.Tf=e.t.r.clone()};i.Jt.prototype.SE=function(e,Z,F,b,_){if(this.XY==null)return;var d=Math.exp(Math.log(this.sw)+(_.x-this.XY.x)/64);
d=Math.max(.02,Math.min(i.Jt.H$[0],d));e.t.e=this.sw;e.t.r=this.Tf.clone();this.at({d:"zoom",e:d,HL:this.XY},Z,e,b,F)};
i.Jt.prototype.UD=function(e,Z,F,b,_){if(bI.Ls(this.XY,_)<4){var d=this.wc(b);this.at({d:"zoom",FU:d,HL:_},Z,e,b,F)}this.XY=null};
i.Jt.H$=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
i.Jt.WE=function(e,Z,F,b){var _=1;while(e*_*1/2>F||Z*_*1/2>b)_*=1/2;if(e*_*2/3>F||Z*_*2/3>b)_*=1/2;else if(e*_>F||Z*_>b)_*=2/3;
return _};i.Jt.RZ=function(e,Z){var F=i.Jt.akG(e);if(Z&&F==0)return e;if(!Z&&F==i.Jt.H$.length-1)return e;
return i.Jt.H$[Z?F-1:F+1]};i.Jt.akG=function(e){var Z=0;while(i.Jt.H$[Z]>e)Z++;return Z};i.Jt.nX=function(e,Z,F,b){var _=e.Bm;
if(b==0||b==null){b=i.Jt.RZ(e.e,F);if(b==e.e)return}var d=e.mG(Z.x,Z.y);if(_.w*b<=e.JS.w&&_._*b<=e.JS._){e.r.zU(0,0);
e.e=b}else{var S=e.gu(),U=e.e/b;S.translate(-d.x,-d.y);S.scale(U,U);S.translate(d.x,d.y);e.me(S)}};i.Jt.prototype.at=function(e,Z,F,b,_){if(e.d=="pzoom"){if(typeof e.I=="string")return;
e={d:"zoom",e:e.I/100}}var d=0,S=!1,U=null;if(e.d=="adapt"){var r=0;if(e.I=="pixel")r=1;if(e.I=="fitscr"){var r=0,q=F.t.JS.w,w=F.t.JS._,X=_.PG?V.PR.Np+4:8;
r=Math.min((q-X*2)/F.w,(w-X*2)/F._)}U=new bI(Math.round(F.t.JS.w/2),Math.round(F.t.JS._/2));d=r;i.Jt.nX(F.t,U,S,d);
F.Zc=!0}if(e.d.startsWith("multi")){function Q(R){var P=R[0].x-R[1].x,H=R[0].y-R[1].y;return Math.sqrt(P*P+H*H)}function c(R){return new bI((R[0].x+R[1].x)/2,(R[0].y+R[1].y)/2)}var u=e._1,n=c(u);
if(e.d=="multidown"){this.oh=[u,F.t.e,F.t.mG(n.x,n.y)]}else{var k=i.Jt.H$;d=this.oh[1]*Q(u)/Q(this.oh[0]);
d=Math.max(k[k.length-1],Math.min(k[0],d));if(d!=F.t.e)i.Jt.nX(F.t,n,S,d);var B=this.oh[2],o=F.t.Td(B.x,B.y),T=F.t.r;
T.x=Math.round(T.x+n.x-o.x);T.y=Math.round(T.y+n.y-o.y);F.Zc=!0}}if(e.d=="scroll"){U=e.HL;this.MW+=e.Nk.y;
var z=14;if(this.MW<-z){S=!0;this.MW=Math.max(this.MW+z,-(z-1))}else if(this.MW>z){S=!1;this.MW=Math.min(this.MW-z,z-1)}else return;
i.Jt.nX(F.t,U,S,d);F.Zc=!0}if(e.d=="zoom"){U=e.HL?e.HL:new bI(Math.round(F.t.JS.w/2),Math.round(F.t.JS._/2));
if(e.e!=null)d=e.e;else S=e.FU;i.Jt.nX(F.t,U,S,d);F.Zc=!0}if(e.d=="mskView"){var W=F.g[F.V[0]];if(W.WA<=0){W.WA=1;
F.oW=!0}var $=W.WA==3?W.EB(F).v:W.Vj();if(e.I==0){F.t.$v=[1,1,1];$.oB=!1}if(e.I==1){F.t.$v=[1,1,1];$.oB=!0}if(e.I==2){F.t.$v=[0,0,0];
$.oB=!0}for(var l=0;l<F.LE.length;l++)F.LE[l].oB=!1;F.kl=[];F.sp=!0}};i.Jt.prototype.b8=function(e,Z,F,b){if(this.eG!=b.j(ex.sW)){this.eG=b.j(ex.sW);
var _={d:G.B.Zw,k:this.id,eG:this.eG},d=new j8(G.E.W,!0);d.data=_;Z.$(d);this.eI(Z,b)}};i.Jt.prototype.eI=function(e,Z){var F=new j8(G.E.W,!0),b=this.wc(Z);
F.data={d:G.B.MQ,$P:b?"zoom-in":"zoom-out"};e.$(F)};i.Jt.prototype.OY=function(e,Z,F,b){this.FU=e.FU;
this.eI(Z,b)};i.Jt.prototype.wc=function(e){var Z=this.FU;if(e.j(ex.gT)&&e.j(ex.Nh))Z=!0;if(this.eG)Z=!Z;
return Z};i.Jt.zu=function(e,Z){if(e.j(ex.yv)||e.j(ex.ajd)){Z.k=i.GD;Z.data={d:"zoom",FU:!0}}if(e.j(ex.Z9)){Z.k=i.GD;
Z.data={d:"zoom",FU:!1}}if(e.j(ex.E9)){Z.k=i.GD;Z.data={d:"adapt",I:"fitscr"}}if(e.j(ex.zW)){Z.k=i.GD;
Z.data={d:"adapt",I:"pixel"}}};i._N=function(e,Z,F){i.kC.call(this,e,Z,F);this.pL=null;this.Pk=null;
this.bt=null;this.a5b=0};i._N.prototype=new i.kC;i._N.prototype.enable=function(e,Z,F,b,_){this.Pk=F;
var d=new j8(G.E.W,!0);d.data={d:G.B.MQ,$P:"default"};Z.$(d)};i._N.prototype.og=function(e,Z,F,b,_){var d=e.GJ(),S=d[0],U=d[1];
if(U.length==0)return;var r=S[U[0]],q=r.add.vmsk,w=e.t.mG(_.x,_.y),X=4*i.F()/e.t.e,Q=new e3(w.x-X,w.y-X,X*2,X*2),c=V.c.mL(q.T,Q)[0];
if(c.length!=0){q.LD=c;e.sp=!0}var u=V.c.Ak(q.T,w).wD;if(u!=-1){q.V=[u];e.sp=!0}var n=new j8(G.E.W,!0);
n.data={d:G.B.Zw,k:this.id,Pn:_,rj:e,J8:F};Z.$(n)};i._N.prototype.bS=function(e,Z){var F=new j8(G.E.W,!0);
F.data={d:G.B.aE,NG:c6.m0};if(!Z.Fo)e.$(F);F.data={d:G.B.aE,NG:c6.ys};if(!Z.I9.Tl)e.$(F)};i._N.prototype.uB=function(e,Z,F,b){if(F.yt!=this.id)return;
if(e.V.length==0)return;var _=e.g[e.V[0]],d=_.add.vmsk,S=_.add.vstk,U=i._N.US(e,e.V[0]);this.pL=e;this.bt=Z;
if(_._l()&&d!=null&&(JSON.stringify(S)!=JSON.stringify(F.L7)||JSON.stringify(U)!=JSON.stringify(F.lz))){this.a5b=Date.now();
var r=new j8(G.E.W,!0);r.data={d:G.B.aE,NG:c6.aT,I:U};Z.$(r);r.data={d:G.B.aE,NG:c6.yw,I:S};Z.$(r)}};
i._N.prototype.ZP=function(e,Z){if(this.pL==null)return;if(Z==c6.vy||Z==c6.aT||Z==c6.yw){if(Date.now()-this.a5b<50)return;
var F=Z==c6.aT,b=this.pL,_=F?e.lz:e.L7,d=[],S=b.V;for(var l=0;l<S.length;l++){var U=S[l],r=b.g[U];if(!r._l()||r.add.vmsk==null)continue;
d.push(U)}var q=new j8(G.E.u,!0);q.k=i.__;q.data={d:g.VL,X$:d,sY:F,I:_};if(d.length!=0)this.bt.$(q)}};
i._N.prototype.a9j=function(e){if(typeof e=="number"){var Z=new j8(G.E.GT,!0);Z.data=i.Dd.eX(0);Z.data.ni.Usng.v.Type.v.Clr.v=V.X.Q9({o:e>>>16&255,z:e>>>8&255,S:e>>>0&255});
this.bt.$(Z)}};i._N.prototype.at=function(e,Z,F,b,_){this.bt=Z;if(e.d=="newfill"){if(e.K$==0){var d=new j8(G.E.W,!0);
d.data={d:G.B.tJ,ZB:"colorpicker",RW:_.Ly,E3:this.a9j.bind(this)};Z.$(d)}}else if(e.d=="pathedit"){var S=e.Yu,U="",r=F.Tl.slice(0),q=F.YN.slice(0),w=F.Tl.slice(0),X=F.YN.slice(0);
if(S=="rnm"){var Q=-1-e.wD,c=r[Q],u=aH.o7(e.name,c.add);if(Q!=0)w[Q]=u;else{X=[w.length];w.push(u);w[0]=aH.o7("Work Path")}U="Rename"}else if(S=="new"){var u=aH.o7("Path "+r.length);
if(e.ag5){var n=F.GJ(),k=n[0],B=n[1],o=k[B[0]];u.add.vmsk=o.add.vmsk.clone();u.add.vogk=JSON.parse(JSON.stringify(o.add.vogk));
if(o.wD==-1){var T=w[X[0]]=aH.o7("Path "+r.length);T.name=o.name;T.wD=o.wD}}w.push(u);X=[w.length-1];
U="New"}else if(S=="del"){if(X.length==0)return;X.sort(function(t,A){return t-A});if(X[0]==0){w[0]=aH.o7(r[0].name);
X=X.slice(1)}var z=0;while(X.length!=0){w.splice(X[0]-z,1);X=X.slice(1);z++}U="Delete"}else if(S=="fromsel"){var W=w[0]=aH.o7("Work Path");
X=[0];if(F.K==null)return;var $=F.K.channel.slice(0);for(var l=0;l<$.length;l++)$[l]=$[l]>128?2:1;var R=F.K.rect.clone();
R.qN(1,1);var P=V.J(R.Z());V.l2($,F.K.rect,P,R);var H=aE.Zf(P,R.w,R._,Math.round(R.Z()*5e-4)),k=aE.GJ(H),y=new jg(1,0,0,1,-1+F.K.rect.x,-1+F.K.rect.y);
for(var l=0;l<k.length;l++)V.H.A(k[l].path.s,y,k[l].path.s);for(var l=0;l<k.length;l++){var h=k[l];if(h.color==1&&h.parent==-1)continue;
var m=V.H.t6(k[l].path,!1);W.add.vmsk.T=W.add.vmsk.T.concat(m.slice(2))}W.add.vogk=g.ov(W.add.vmsk.T);
U="Selection to"}var t=new eh(U+" Path",this);t.data={tw:r,YT:q,amd:w,yH:X};if(S=="fromsel"){t.data.Vf=F.K;
t.data.rn=null}F.XM(t);this.Fm(t.data,F)}else{var j=e.Pj,n=F.GJ(e.d=="append"),k=n[0],B=n[1],W=k[B[0]],x=W.add.vmsk,C=W.add.vogk,L=x.clone(),f=x.clone(),D=JSON.stringify(C);
if(e.d=="remove"){if(e._i&&f.LD.length!=0){f.T=V.c.apx(f.T,f.LD,C);var v=V.c.q$(f.T);for(var l=0;l<f.V.length;
l++)if(f.V[l]>=v){f.V.splice(l,1);l--}f.LD=[];j="Delete Anchors"}else{if(f.V.length==0)return;var z=0;
for(var l=0;l<f.V.length;l++){C.splice(f.V[l]+z,1);z--}f.T=V.c.ar3(f.T,f.V);f.V=[];f.LD=[];if(j==null)j="Delete Paths"}}if(e.d=="append"){i._N.XF(e.aow,f,C)}this.k8(F,W.wD,f,C);
this.fF(F,j,W.wD,L,f.clone(),null,D,JSON.stringify(C))}};i._N.fu=function(e,Z){var F=V.c.a6$(e.T,e.V),b=[];
for(var l=0;l<e.V.length;l++)b.push(JSON.parse(JSON.stringify(Z[e.V[l]])));return[F,b]};i._N.XF=function(e,Z,F){var b=V.c.q$(Z.T),_=V.c.q$(e[0]);
Z.T=Z.T.concat(e[0].slice(2));Z.V=[];for(var l=0;l<_;l++)Z.V.push(b+l);for(var l=0;l<_;l++)F.push(JSON.parse(JSON.stringify(e[1][l])))};
i._N.prototype.TD=function(e,Z){if(Z==null)return!1;var F=Z.GJ(),b=F[0],_=F[1];if(_.length==0)return!1;
var d=b[_[0]],S=d.add.vmsk;if(S&&S.V.length+S.LD.length!=0)return[ex.Fp,ex.yr].indexOf(e)!=-1};i._N.prototype.b8=function(e,Z,F,b){if(e==null)return;
var _=e.GJ(),d=_[0],S=_[1];if(S.length==0)return;var U=d[S[0]],r=U.add.vmsk;if(b.j(ex.ea)||b.j(ex.Dr)){r.LD=[];
e.sp=!0}if(r.V.length!=0){var q=b.qY();if(q.x!=0||q.y!=0){var w=r.clone(),X=r.clone(),Q=new jg(1,0,0,1,q.x,q.y),c=U.add.vogk,u=JSON.stringify(c);
V.c.Jb(X.T,Q,X.V);V.$F.A(c,V.N.C5(Q),X.V);this.k8(e,U.wD,X,c);this.fF(e,"Move Paths",U.wD,w,X.clone(),!0,u,JSON.stringify(c))}if(b.j(ex.Fp)||b.j(ex.yr))this.at({d:"remove",_i:this.id==i.oo},Z,e,b,F)}};
i._N.prototype.fF=function(e,Z,F,b,_,d,S,U){var r=new eh(Z,this);r.data={CE:F,tW:b,gL:_,a2w:d,a6B:S,Zi:U};
e.XM(r)};i._N.prototype.Fm=function(e,Z){if(e.CE!=null)this.k8(Z,e.CE,e.gL.clone(),JSON.parse(e.Zi));
else{Z.Tl=e.amd.slice(0);Z.YN=e.yH.slice(0);Z.sp=Z.oW=!0}if(e.Vf||e.rn){Z.K=e.rn;Z.dw=!0}};i._N.prototype.Mi=function(e,Z){if(e.CE!=null)this.k8(Z,e.CE,e.tW.clone(),JSON.parse(e.a6B));
else{Z.Tl=e.tw.slice(0);Z.YN=e.YT.slice(0);Z.sp=Z.oW=!0}if(e.Vf||e.rn){Z.K=e.Vf;Z.dw=!0}};i._N.prototype.k8=function(e,Z,F,b){var _=Z<0?e.Tl[-1-Z]:Z<1e6?e.g[Z]:e.g[Z-1e6].add.TySh,d=_.add.vmsk;
d.channel=null;d.oy=!0;if(d.KX){d.KX.channel=null;d.KX.oy=!0}_.add.vmsk=F;_.add.vogk=b;if(1e6<=Z){fN.vI(_);
var S=e.g[Z-1e6],U=_,r=this.Pk,q=new ge(U.HV,r.W5),w=ac.b9(q,U);S.rect=w.uT;S.buffer=w.XT;S.G();e.G()}else if(0<=Z){F.oy=!0;
_.kJ(e);e.G()}e.sp=e.oW=!0};i._N.US=function(e,Z){var F=e.g[Z],b=F.add.vstk,_=null;if(b&&!b.fillEnabled.v)_={QL:0};
else if(F.add.SoCo)_={QL:1,n8:F.add.SoCo};else if(F.add.GdFl)_={QL:2,n8:F.add.GdFl};else if(F.add.PtFl)_={QL:3,n8:F.add.PtFl};
return _};i._N.Px=function(e,Z){var F=e.add.vmsk,b=e.add.vstk,_=Z.QL;if(b)b.fillEnabled.v=_!=0;if(_>0){var d=["SoCo","GdFl","PtFl"][_-1];
for(var l=0;l<3;l++)delete e.add[["SoCo","GdFl","PtFl"][l]];e.add[d]=Z.n8}};i.Dd=function(e,Z,F,b){i._N.call(this,e,Z,F);
this.Nd={shape:fK.wy(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{DE:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.asy=b;this.ZQ=null;this.Y6=null;this.gd=null;this.o0=new f2};i.Dd.prototype=new i._N;i.Dd.prototype.Hd=function(e){return e.jP&&this.id!=i.rO};
i.Dd.prototype.enable=function(e,Z,F,b,_){this.Pk=F;var d=new j8(G.E.W,!0);d.data={d:G.B.MQ,$P:"crosshair"};
Z.$(d)};i.Dd.prototype.b8=function(e,Z,F,b){i._N.prototype.b8.call(this,e,Z,F,b);this.o0.b8(b);this.ln(Z,F)};
i.Dd.prototype.ln=function(e,Z){var F=new j8(G.E.W,!0);F.data={d:G.B.Zw,k:this.id,Rv:this.Is(Z)};e.$(F)};
i.Dd.prototype.Is=function(e){var Z=this.o0.ZC(0),F=this.o0.jd(0),b=i.wL.rL(this.Nd.binop,Z,F);if(e.Sl==1&&b==0)b=1;
return b};i.Dd.prototype.Q2=function(e,Z,F,b){};i.Dd.prototype.NU=function(e,Z,F,b,_){var d=F.Sl;if(d!=2)this.bS(Z,F);
if(d==2&&!e.gy())return;var S=e.t.mG(_.x,_.y);S=i.rX.gC(e,S,F);this.gd=[S.x,S.y];this.ZQ=S;this.Y6=new bI(0,0);
this.o0.NU(b)};i.Dd.prototype.SR=function(e,Z,F){var b=[this.ZQ.clone(),Z.clone()];F=this.o0.ZC(1)||this.o0.jd(1)?F:null;
if(this.asy)b=i.Dd.NR(b[0],b[1],F,!0,this.Nd.cstr);if(e)e.t.M1=new e3(b[0].x,b[0].y,b[1].x-b[0].x,b[1].y-b[0].y);
return this.Q2(b[0],b[1],this.o0.ZC(1),this.gd)};i.Dd.prototype.Hc=function(e,Z,F){var b=e.t.mG(Z.x,Z.y),_=this.Nd.cstr;
if(_.DE==2){var d=new e3(b.x-_.x,b.y-_.y,_.x,_.y),S=i.rX.DS(e,d,F);b.x+=S[0];b.y+=S[1];i.rX.J9(e,d,S)}else b=i.rX.gC(e,b,F);
return b};i.Dd.prototype.SE=function(e,Z,F,b,_){if(this.ZQ==null)return;var d=this.gd,S=d.length,U=_?this.Hc(e,_,F):new bI(d[S-2],d[S-1]);
if(b.j(ex.gT))this.ZQ=U.iv(this.Y6);else this.Y6=U.iv(this.ZQ);d.push(U.x,U.y);if(this.Nd.shape==null)this.Nd.shape=F.Ez[0];
var r=this.SR(e,U,b)[0],q=V.H.Ju(r);e.D.x9=q;if(this.id!=i.rO&&this.id!=i.w9&&this.id!=i.To)i.kC.QB(_,e.t.M1,e,F);
e.sp=!0;this.o0.SE()};i.Dd.prototype.a7W=function(e,Z,F,b){var _=e[4].clone();if(b){_.x-=Z/2;_.y-=F/2}var d=this.Q2(_,new bI(_.x+Z,_.y+F),!1,this.gd);
this.Qr(e[0],e[1],e[2],d)};i.Dd.prototype.Qr=function(e,Z,F,b){var _=new j8(G.E.GT,!0);_.data=i.Dd.NQ(b[1],F);
Z.$(_);if(b[1].v.classID=="customShape"&&b[1].v.Nm.v.startsWith("--")){var d=e.GJ(),S=d[0],U=d[1],r=S[U.pop()],q=r.add.vmsk,w=r.add.vogk,X=q.clone();
X.T=b[0];this.k8(e,r.wD,X,w)}};i.Dd.prototype.UD=function(e,Z,F,b,_,d){if(this.ZQ==null)return;var S=this.Hc(e,_,F),U=this.Is(F),r=F.Sl,q=this.gd,w=q.length;
if(this.id==i.rO&&w<=4){}else if(w<=4){S.x=Math.round(S.x);S.y=Math.round(S.y);var X=new j8(G.E.W);X.data={d:G.B.tJ,ZB:"createshape",a8u:this.a7W.bind(this),arP:this.name,a1D:[e,Z,F,b,S]};
if(!d)Z.$(X)}else if(w!=2){var Q=this.SR(e,S,b),c=Q[0],u=e.GJ(!0),n=u[0],k=u[1],B=k.length-1;if(r==1&&c.length>2||r==0&&U!=0&&B!=-1&&n[k[B]].wD>=0){c[2].A8=[1,2,3,0][U-1];
var o=n[k.pop()],T=o.add.vmsk,z=o.add.vogk,W=T.clone(),$=T.clone(),R=JSON.stringify(z);$.T=$.T.concat(c.slice(2));
$.V=[V.c.q$($.T)-1];var P=V.$F.yj(Q[1]);z.push(P?P:V.$F.eJ());this.k8(e,o.wD,$,z);this.fF(e,this.name,o.wD,W,$,null,R,JSON.stringify(z))}else if(r==0){this.Qr(e,Z,F,Q)}else if(r==2){var $=new g.NX;
$.T=$.T.concat(c.slice(2));var H=$.Vj();if(!this.Nd.anta)V.round(H.channel);var y=V.J(H.rect.Z()*4);
V.oi(y,(F.Ly&255)<<16|(F.Ly>>8&255)<<8|(F.Ly>>16&255)<<0);V.s$(H.channel,y,3);var h=new j8(G.E.u,!0);
h.k=i.f_;h.data={d:"draw",Uf:{buffer:y,rect:H.rect.clone()},Pj:this.name};Z.$(h)}}this.ZQ=null;e.D.x9=null;
e.D.Hv=null;e.D.EM=[];e.t.M1=null;e.sp=!0;this.o0.UD();this.ln(Z,F)};i.Dd.prototype.OY=function(e,Z,F,b,_){for(var F in e)this.Nd[F]=e[F]};
i.Dd.NR=function(e,Z,F,b,_){var d=e.x,S=e.y,U=Z.x,r=Z.y;if(_&&_.DE==2){if(b){U=Math.round(U);r=Math.round(r)}d=U-_.x;
S=r-_.y}else{var q=0;if(_&&_.DE==1)q=_.y/_.x;else if(F&&F.j(ex.Ng))q=1;if(q!=0){if(b){if(d<U)d=Math.floor(d);
else d=Math.ceil(d);if(S<r)S=Math.floor(S);else S=Math.ceil(S)}var w=Math.abs(U-d),X=Math.abs(r-S),Q=w;
if(X/w<q)Q*=X/w/q;U=U>d?d+Q:d-Q;r=r>S?S+Q*q:S-Q*q}if(F&&F.j(ex.sW)){d-=U-d;S-=r-S}}var e=new bI(d,S),Z=new bI(U,r);
if(b)i.Dd.a2N(e,Z);return[e,Z]};i.Dd.a2N=function(e,Z){if(e.x>Z.x){var F=e.x;e.x=Z.x;Z.x=F}if(e.y>Z.y){var F=e.y;
e.y=Z.y;Z.y=F}e.x=Math.floor(e.x);e.y=Math.floor(e.y);Z.x=Math.ceil(Z.x);Z.y=Math.ceil(Z.y)};i.Dd.a2u=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
i.Dd.eX=function(e,Z){var F=i.Dd.a2u();if(Z==null)Z=JSON.parse(JSON.stringify(fu.hV[e]));i.b0.V5(Z,F.Usng.v.Type.v,e);
return{qg:"make",ni:F}};i.Dd.NQ=function(e,Z){var F=Z.lz,b=JSON.parse(JSON.stringify(Z.L7));if(F.QL==0)b.fillEnabled.v=!1;
var _=i.Dd.eX(Math.max(0,F.QL-1),F.n8);_.ni.Usng.v.Shp=e;_.ni.Usng.v.strokeStyle={t:"Objc",v:b};return _};
i.X0=function(){i._N.call(this,[10,29],i.oo,"tools/pen");this.YL=null;this.jL=null;this.Aq=null;this.ahX=0;
this.Ho=null;this.D9=!1;this.qa=!1;this.o2=!1;this.FL=!1};i.X0.prototype=new i._N;i.X0.prototype.Hd=function(e){return this.jL!=null};
i.X0.prototype.b8=function(e,Z,F,b){i._N.prototype.b8.call(this,e,Z,F,b);if(!b.j(ex.sW))this.o2=!1};
i.X0.prototype.NU=function(e,Z,F,b,_){this.YL=_;this.bS(Z,F);var d=e.t.mG(_.x,_.y),n,k;d.x=Math.round(d.x);
d.y=Math.round(d.y);var S=i.rX.gC(e,d,F),U=F.Sl,r=this.ahX;if(U==2)U=0;var q=e.GJ(U==1),w=q[0],X=q[1],Q=w[X.pop()],c=Q?Q.add.vmsk:null;
if(U==0&&r!=0&&Q&&Q.wD>=0)U=1;var u=i.uE(e,_);if(c)n=V.c.Ak(c.T,d,!0,u);var B=b.j(ex.sW);if(U==0&&(c==null||c.LD.length==0&&n.wD==-1)){var o=new j8(G.E.GT,!0),T=V.$F.z9("customShape",[0,0,1,1],null,null,null,"--");
o.data=i.Dd.NQ(T,F);Z.$(o);this.FL=!0;q=e.GJ(!0);w=q[0];X=q[1];Q=w[X.pop()];c=Q.add.vmsk;c.T=c.T.slice(0,2)}var z=Q.add.vogk;
this.jL=c.clone();this.Aq=JSON.stringify(z);var W=c.T,$=V.c.q$(W);k=V.c.mL(c.T,new e3(d.x-u,d.y-u,u*2,u*2),c.LD);
n=V.c.Ak(c.T,d,!0,u);var R=k[0].length+k[1].length+k[2].length;if(n.wD!=-1&&k[0].length==0){var P=V.c.rD(W,n.wD);
while(W[P].length<=n.YD){n.YD-=W[P].length;P+=W[P].length+1}W[P].length++;W.splice(P+2+n.YD,0,{type:4,Gn:S.clone(),M:S.clone(),kM:S.clone()});
c.LD=[P+2+n.YD]}else if(R!=0&&B){var H=0;for(var l=0;l<3;l++)if(k[l].length!=0){H=k[l][0];this.qa=l==1;
break}if(k[0].length!=0){var y=c.T.length-1,h=c.T[H];h.kM=h.M.clone();var m=h.type>=3?3:0;if(H!=y){h.Gn=h.M.clone();
h.type=m+1;this.o2=!0}else h.type=m+2}c.LD=[H]}else if(k[0].length==1&&W[k[0][0]-1]&&W[k[0][0]-1].A8==null){var H=k[0][0],P=V.c.Dk(W,H);
P=V.c.rD(W,P);var t=P+W[P].length;if(H!=t){W[P].length--;W.splice(H,1);t--}c.LD=[t]}else{var j=0;if(c.LD.length!=1){c.V=[$];
W.push({type:3,length:1,A8:[1,2,3,0][Math.max(0,r-1)],SS:0,NF:0,Mg:0});j=W.length;z.push(V.$F.eJ())}else{var x=c.LD[0],C=V.c.Dk(W,x),P=V.c.rD(W,C);
x=P+W[P].length;if(bI.Ls(d,W[P+1].M)<u){W[P].type=0;c.LD=[P+1];this.Ho=S;this.D9=!0;this.k8(e,Q.wD,c,z);
e.sp=!0;return}W[P].length++;j=x+1;if(x==P+1&&W[P].length!=2)j=P+1}if(b.j(ex.Ng)&&W[j-1]&&W[j-1].M)S=i.vS.eo(W[j-1].M,S);
W.splice(j,0,{type:4,Gn:S.clone(),M:S.clone(),kM:S.clone()});c.LD=[j];this.Ho=S}this.k8(e,Q.wD,c,z);
e.sp=!0};i.X0.prototype.SE=function(e,Z,F,b,_){if(this.jL==null)return;var d=this.YL;if(d&&bI.Ls(d,_)<i.uE({t:{e:1}},_))return;
this.YL=null;var S=e.t.mG(_.x,_.y),U=i.rX.gC(e,S,F),r=e.GJ(F.Sl==1),q=r[0],w=r[1],X=q[w.pop()],Q=X.add.vmsk,c=Q.T,u=c[Q.LD[0]];
if(b.j(ex.gT)){if(b.j(ex.Ng))U=i.vS.eo(this.Ho,U);var n=u.M.iv(u.kM),k=u.Gn.iv(u.M);u.kM=U;u.M=U.add(n);
u.Gn=u.M.add(k)}else{if(b.j(ex.Ng))U=i.vS.eo(u.M,U);if(this.qa){var B=u.Gn;u.Gn=u.kM;u.kM=B}if(this.D9){var o=bI.Ls(u.M,U),T=o==0?0:bI.Ls(u.M,u.kM)/o;
u.kM.x=u.M.x+T*(U.x-u.M.x);u.kM.y=u.M.y+T*(U.y-u.M.y)}else u.kM=U;if(b.j(ex.sW)&&!this.o2)u.type=5;else{u.type=4;
u.Gn=u.M.add(u.M.iv(U))}this.Ho=U;if(this.qa){var B=u.Gn;u.Gn=u.kM;u.kM=B}}this.k8(e,X.wD,Q,X.add.vogk);
e.sp=!0};i.X0.prototype.UD=function(e,Z,F,b,_){if(this.jL==null)return;var d=e.GJ(F.Sl==1),S=d[0],U=d[1],r=S[U.pop()],q=r.add.vmsk,w=r.add.vogk;
if(this.D9){q.LD=[];this.k8(e,r.wD,q,r.add.vogk)}var X=this.jL.T.length,Q=q.T.length;if(!this.FL)this.fF(e,this.D9?"Close Path":(X==Q?"Move":X<Q?"Add":"Delete")+" Anchor Point",r.wD,this.jL,q.clone(),null,this.Aq,JSON.stringify(w));
this.FL=!1;this.D9=!1;this.qa=!1;this.o2=!1;this.jL=null};i.X0.prototype.OY=function(e,Z,F,b,_){this.ahX=e.binop};
i.SK=function(){i.Dd.call(this,[10,30],i.rO,"tools/fpen",!1)};i.SK.prototype=new i.Dd;i.SK.prototype.Q2=function(e,Z,F,b){return[V.c.fG(b,this.Nd.tolr),V.$F.z9("customShape",[0,0,1,1],null,null,null,"--")]};
i.vG=function(){i._N.call(this,[10,27],i.qy,"tools/pselect");this.xj=null;this.ic=!1;this.A3=null;this.jL=null;
this.Tt=null;this.Aq=null;this.n3=null;this.Ta=null;this.sf=null;this.Wk=null};i.vG.prototype=new i._N;
i.vG.prototype.Hd=function(e){return e.jP};i.vG.prototype.NU=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=e.GJ(),U=S[0],r=S[1],q,w;
for(var l=0;l<r.length;l++){var X=U[r[l]],Q=X.add.vmsk,c=V.c.Ak(Q.T,d).wD;if(c!=-1){this.A3=q=X;w=c}for(var u=0;
u<Q.yk.length;u++){var n=V.c.aa(Q.T,Q.yk[u]);if(n==null)continue;var k=bI.Ls(n,d);if(k<4*i.F()/e.t.e){var B=e.g[X.wD-1e6].add.TySh,o=B.HV.Curve,T=B.A,z=o.Reversed;
o.Reversed=!1;var o=ge.lv(B.HV.Curve);o.Reversed=z;V.H.A(o[0],T,o[0]);this.sf=[o,u,T.Y0*T.rl-T.S*T.d_];
this.A3=q=X;w=0}}if(this.sf)break}if(q!=null){var Q=q.add.vmsk;Q.LD=[];var W=Q.V.indexOf(w);if(b.j(ex.Ng)){if(W==-1){Q.V.push(w);
this.ic=!0}else Q.V.splice(W,1)}else{if(W==-1)Q.V=[w];this.ic=!0}this.Ta=V.c.wS(Q.T,Q.V)}this.xj=d;this.Wk=new eU(d);
e.oW=!0;e.sp=!0};i.vG.prototype.SE=function(e,Z,F,b,_){if(this.xj==null)return;var d=e.t.mG(_.x,_.y);
if(this.ic){d=this.Wk.fp(d,b);var S=this.A3;if(this.jL==null){this.jL=this.Tt=S.add.vmsk.clone();this.Aq=this.n3=JSON.stringify(S.add.vogk);
if(b.j(ex.sW)){var U=this.jL.clone(),r=JSON.parse(this.Aq),q=i._N.fu(U,r);i._N.XF(q,U,r);this.Tt=U;this.n3=JSON.stringify(r)}}var U=this.Tt.clone(),r=JSON.parse(this.n3);
if(this.sf){var w=this.sf,X=w[0][0],Q=V.H.zz(X,d.x,d.y);U.yk[w[1]]=w[0][1][Q];var c=X[Q*2],u=X[Q*2+1],n=(X[Q*2+2]-c)*(d.y-u)-(X[Q*2+3]-u)*(d.x-c);
if(w[2]<0)n=-n;U._J=n>0}else{var k=this.Ta.clone(),B=k.x,o=k.y;k.offset(d.x-this.xj.x,d.y-this.xj.y);
k.x=Math.round(k.x);k.y=Math.round(k.y);var T=i.rX.DS(e,k,F),z=new jg(1,0,0,1,k.x-B+T[0],k.y-o+T[1]);
V.c.Jb(U.T,z,U.V);V.$F.A(r,V.N.C5(z),U.V);i.rX.J9(e,k,T)}this.k8(e,S.wD,U,r)}else{var W=this.xj;e.D.x9=V.H.gb(new e3(W.x,W.y,d.x-W.x,d.y-W.y));
e.sp=!0}};i.vG.prototype.UD=function(e,Z,F,b,_){if(this.xj==null)return;var d=e.t.mG(_.x,_.y),S=this.A3,U=S?S.add.vmsk:null;
if(this.ic){var r=JSON.stringify(S.add.vogk);if(!this.xj.Tn(d))this.fF(e,"Move Paths",S.wD,this.jL,U,null,this.Aq,r);
if(e!=null&&e.D.Hv){e.D.Hv=null;e.sp=!0}}else{if(U){var q=this.xj,w=new e3(q.x,q.y,d.x-q.x,d.y-q.y),X=V.c.a02(U.T,w);
if(b.j(ex.Ng)){for(var l=0;l<X.length;l++)if(U.V.indexOf(X[l])==-1)U.V.push(X[l])}else U.V=X}e.D.x9=null;
e.sp=!0}this.xj=null;this.jL=null;this.sf=null;this.ic=!1;this.Wk=null};i.vG.prototype.uB=function(e,Z,F,b){i._N.prototype.uB.call(this,e,Z,F,b);
if(F.yt!=this.id)return;if(e.V.length==0)return;var _=e.GJ(),d=_[0],S=_[1];if(S.length==0)return;var U=d[S[0]],r=U.add.vmsk,q=U.add.vstk,w=U.add.vogk,X=new j8(G.E.W,!0);
X.data={d:G.B.Zw,k:this.id,uC:"main",rN:r?r:null,$F:w};Z.$(X)};i.vG.prototype.OY=function(e,Z,F,b,_){var d=e.wg;
if(d.rN){var S=F.GJ(),U=S[0],r=S[1];if(r.length==0)return;var q=U[r[0]],w=q.add.vmsk.clone(),X=JSON.stringify(q.add.vogk),Q=d.rN;
this.k8(F,q.wD,Q,d.$F);var c=[18,5];if(w.T.length==Q.T.length)c=w.V[0]==Q.V[0]?"Fill Rule":"Path Order";
this.fF(F,c,q.wD,w,Q,null,X,JSON.stringify(d.$F))}};i.AU=function(){i._N.call(this,[10,28],i.eK,"tools/dselect");
this.yg=-1;this._v=-1;this.eA=null;this.xj=null;this.A3=null;this.jL=null;this.Aq=null;this.pL=null;
this.AR=0;this.a3y={psnap:!1};this.Wk=null};i.AU.prototype=new i._N;i.AU.prototype.Hd=function(e){return e.jP};
i.AU.prototype.OY=function(e){this.a3y=e};i.AU.prototype.at=function(e,Z,F,b,_){if(e.d=="crnr"){if(F==null)return;
var d=F.GJ(),S=d[0],U=d[1];if(U.length==0){alert("No paths selected");return}var r=S[U[0]],q=r.add.vmsk;
if(q.LD.length==0){alert("No corners selected");return}for(var l=0;l<q.LD.length;l++){var w=q.T[q.LD[l]];
if(!w.M.Tn(w.kM)||!w.M.Tn(w.Gn)){alert("Only sharp corners can be rounded");return}}if(this.jL==null){this.jL=r.add.vmsk.clone();
this.Aq=JSON.stringify(r.add.vogk);this.A3=r;this.pL=F}var X=new j8(G.E.W,!0);X.data={d:G.B.tJ,ZB:"cornerradius",Xd:5,c4:this.a9l.bind(this)};
Z.$(X)}else i._N.prototype.at.call(this,e,Z,F,b,_)};i.AU.prototype.a9l=function(e){if(e=="confirm"){var Z=this.pL,F=this.A3,b=F.add.vmsk,_=F.add.vogk;
this.fF(Z,[12,94,0],F.wD,this.jL,b,null,this.Aq,JSON.stringify(_));this.hO();return}var b=this.jL.clone(),_=JSON.parse(this.Aq),d=b.LD;
if(e=="cancel"){}else{var S=[];for(var l=0;l<d.length;l++){var U=d[l],r=V.c.Dk(b.T,U,!0),X=0;if(S.indexOf(r)!=-1)continue;
S.push(r);var q=V.c.rD(b.T,r,!0),w=b.T[q].length,Q=[];for(var c=0;c<w;c++){var u=b.LD.indexOf(q+c+1)==-1?0:e;
Q.push(u);if(u!=0)X++}V.c.Hq(b.T,q,Q);for(var c=0;c<d.length;c++)if(d[c]>q+w)d[c]+=X}this.Yx(b,_);b.LD=[]}this.k8(this.pL,this.A3.wD,b,_);
if(e=="cancel")this.hO()};i.AU.prototype.disable=function(e,Z,F,b){this.cT(e)};i.AU.prototype.NU=function(e,Z,F,b,_){this.cT(e);
var d=e.t.mG(_.x,_.y),X,Q,c;this.eA=d.clone();var S=e.GJ(),U=S[0],r=S[1];if(r.length==0)return;var q=i.uE(e,_),w=new e3(d.x-q,d.y-q,q*2,q*2);
for(var u=0;u<r.length;u++){X=this.A3=U[r[u]];Q=X.add.vmsk;c=V.c.mL(Q.T,w);if(c[0].length+c[1].length+c[2].length!=0)break}var n=[!1,!1,!1];
for(var l=0;l<3;l++){for(var k=0;k<c[l].length;k++){var B=c[l][k];if(Q.LD.indexOf(B)!=-1||l==1&&Q.LD.indexOf(B-1)!=-1||l==2&&Q.LD.indexOf(B+1)!=-1){c[l]=[B];
n[l]=!0;break}}}if(c[0].length!=0&&(n[0]||!n[1]&&!n[2])){var o=c[0][0],T=Q.LD.indexOf(o);if(b.j(ex.Ng)){if(T==-1)Q.LD.push(o);
else{Q.LD.splice(T,1);e.sp=!0;return}}else if(T==-1)Q.LD=[o];this.yg=o;this._v=0}else if(c[1].length!=0&&n[1]){this.yg=c[1][0];
this._v=1}else if(c[2].length!=0&&n[2]){this.yg=c[2][0];this._v=2}else{var z=V.c.Ak(Q.T,d,!0,q);if(z.wD==-1)this.xj=d;
else{Q.V=[z.wD];Q.LD=[]}}if(this.jL==null){this.jL=X.add.vmsk.clone();this.Aq=JSON.stringify(X.add.vogk)}this.Wk=new eU(d);
e.sp=!0};i.AU.prototype.SE=function(e,Z,F,b,_){if(e==null)return;var d=e.t.mG(_.x,_.y),S=this.A3;if(this.yg!=-1){var U=this.jL.clone(),r=S.add.vogk,q=U.T[this.yg];
q=[q.M,q.Gn,q.kM][this._v];if(b.j(ex.Ng)){if(this._v==0){d=this.Wk.fp(d,b);d.x+=q.x-this.eA.x;d.y+=q.y-this.eA.y}else d=i.vS.eo(U.T[this.yg].M,d)}else{if(this.a3y.psnap){d.x=Math.round(d.x);
d.y=Math.round(d.y)}d=i.rX.gC(e,d,F)}if(this._v==0){var w=new jg(1,0,0,1,d.x-q.x,d.y-q.y);V.c.Jb(U.T,w,null,U.LD)}else{var X=U.T[this.yg],Q=X.Gn,c=X.kM;
if(this._v==2){Q=X.kM;c=X.Gn}if(b.j(ex.sW)&&(X.type==1||X.type==4))X.type++;Q.zU(d.x,d.y);if(X.type==1||X.type==4){var u=bI.Ls(Q,X.M),n=bI.Ls(c,X.M);
if(n!=0){c.x=X.M.x-(Q.x-X.M.x)*(n/u);c.y=X.M.y-(Q.y-X.M.y)*(n/u)}}}this.Yx(U,r);this.k8(e,S.wD,U,r)}else if(this.xj!=null){var k=this.xj;
e.D.x9=V.H.gb(new e3(k.x,k.y,d.x-k.x,d.y-k.y));e.sp=!0}else{var B=e.GJ(),o=B[0],T=B[1],S,U,$;if(T.length==0)return;
var z=i.uE(e,_),W=new e3(d.x-z,d.y-z,z*2,z*2);for(var R=0;R<T.length;R++){S=o[T[R]];U=S.add.vmsk;$=V.c.mL(U.T,W);
if($[0].length+$[1].length+$[2].length!=0)break}this.cT(e);for(var l=0;l<3;l++){for(var P=0;P<$[l].length;
P++){var H=$[l][P],y=U.T[H];y=l==0?y.M:l==1?y.Gn:y.kM;e.D.kX.push(e.D.B_.length>>>1);e.D.B_.push(y.x,y.y);
e.sp=!0}}}};i.AU.prototype.cT=function(e){if(e&&e.D.B_.length!=0){e.D.B_=[];e.D.kX=[];e.sp=!0}};i.AU.prototype.UD=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=this.A3,U=S?S.add.vmsk:null,r=S?S.add.vogk:null;
if(this.yg!=-1){if(Date.now()-this.AR<300){var q=U.T[this.yg],w=this._v,X=null;if(w==0){var Q=q.Gn.Tn(q.M),c=q.kM.Tn(q.M);
if(!Q&&!c){X="Anchor Type";if(q.type==1||q.type==4)q.type++;else{q.type--;q.kM=q.M.add(q.M.iv(q.Gn))}}else{X="Add Handles";
if(Q&&c){q.Gn.x-=30;q.kM.x+=30}else if(Q)q.Gn=q.M.add(q.M.iv(q.kM));else if(c)q.kM=q.M.add(q.M.iv(q.Gn))}}else{X="Remove Handle";
if(w==1)q.Gn.VV(q.M);else q.kM.VV(q.M)}this.Yx(U,r);this.k8(e,S.wD,U,r);this.fF(e,X,S.wD,this.jL,U,null,this.Aq,JSON.stringify(r))}else if(!this.eA.Tn(d)){this.fF(e,"Drag Anchors",S.wD,this.jL,U,null,this.Aq,JSON.stringify(r))}this.AR=Date.now()}else if(this.xj!=null){var u=this.xj,n=new e3(u.x,u.y,d.x-u.x,d.y-u.y);
if(n.w<0)n.x+=n.w;if(n._<0)n.y+=n._;n.w=Math.abs(n.w);n._=Math.abs(n._);var k=V.c.mL(U.T,n);U.LD=k[0].concat(b.j(ex.Ng)?U.LD:[]);
e.D.x9=null}this.hO();e.sp=!0};i.AU.prototype.hO=function(){this.A3=null;this.jL=null;this.xj=null;this.yg=this._v=-1;
this.Wk=null};i.AU.prototype.Yx=function(e,Z){for(var l=0;l<e.LD.length;l++){var F=V.c.Dk(e.T,e.LD[l]);
V.$F.q4(Z,F)}};i.AU.prototype.b8=function(e,Z,F,b){if(e==null)return;var _=e.GJ(),d=_[0],S=_[1];if(S.length==0)return;
var U=d[S[0]],r=U.add.vmsk;if(r==null||r.LD.length==0)return;var q=U.add.vogk,w=JSON.stringify(q),X=b.qY();
if(X.x!=0||X.y!=0){var Q=r.clone(),c=r.clone(),u=new jg(1,0,0,1,X.x,X.y);V.c.Jb(c.T,u,null,c.LD);this.Yx(c,q);
this.k8(e,U.wD,c,q);this.fF(e,"Move Anchors",e.V[0],Q,c.clone(),!0,w,JSON.stringify(q))}if(b.j(ex.Fp)||b.j(ex.yr))this.at({d:"remove",_i:!0},Z,e,b,F)};
i.AU.prototype.fF=function(e,Z,F,b,_,d,S,U){var r=e.Yj();if(d&&r!=null&&r.k==this&&r.data.a2w&&r.data.CE==F&&JSON.stringify(r.data.tW.LD)==JSON.stringify(b.LD)){r.data.gL=_;
r.data.Zi=U}else{var r=new eh(Z,this);r.data={CE:F,tW:b,gL:_,a2w:d,a6B:S,Zi:U};e.XM(r)}};i.Rect=function(){i.Dd.call(this,[10,32],i.Z2,"tools/rect",!0)};
i.Rect.prototype=new i.Dd;i.Rect.prototype.Q2=function(e,Z,F){var b=this.Nd.crad,_=Z.x-e.x,d=Z.y-e.y;
return[V.c.wV.Rect(e.x,e.y,_,d,b),V.$F.z9("Rctn",[e.x,e.y,Z.x,Z.y],[b,b,b,b])]};i._X=function(){i.Dd.call(this,[10,33],i.Cp,"tools/ellipse",!0)};
i._X.prototype=new i.Dd;i._X.prototype.Q2=function(e,Z,F){var b=Z.x-e.x,_=Z.y-e.y;return[V.c.wV._X(e.x,e.y,b,_),V.$F.z9("Elps",[e.x,e.y,Z.x,Z.y])]};
i.as=function(){i.Dd.call(this,[10,34],i.w9,"tools/pshape",!1);this.Nd.aopts=[!1,!0,50,100,0]};i.as.prototype=new i.Dd;
i.as.prototype.Q2=function(e,Z,F){var b=this.Nd.pshape,_=this.Nd.crad,d=this.Nd.irad/100,S=this.Nd.sides,U=this.Nd.width,r=this.Nd.aopts,q=this.Nd.length,k;
Z=Z.clone();if(F){if(Math.abs(Z.x-e.x)<Math.abs(Z.y-e.y))Z.x=e.x;else Z.y=e.y}var w=e.x,X=e.y,Q=Z.x,c=Z.y,u=Math.sqrt((Q-w)*(Q-w)+(c-X)*(c-X)),n=Math.atan2(-c+X,Q-w);
if(b==0)k=V.c.wV.xF(w,X,u,n,S,_);if(b==1)k=V.c.wV.dm(w,X,u,n,S,_,d);if(b==2)k=V.c.wV.BS(e.x,e.y,Z.x,Z.y,U,r);
if(b==3)k=V.c.wV.a0h(w,X,u,n,q);return[k,V.$F.z9("customShape",[e.x,e.y,Z.x,Z.y],null,null,null,"--")]};
i.as.prototype.b8=function(e,Z,F,b){var _=b.qY(),d=this.Nd,S,U;if(_.y!=0){var r=-_.y,q=d.pshape;if(q<2){S="sides";
U=Math.max(3,Math.min(100,d.sides+r))}else if(q==2){S="width";U=Math.max(1,Math.min(100,d.width+r))}else if(q==3){S="length";
U=Math.max(4,Math.min(40,d.length+r))}}if(_.x!=0){S="pshape";U=Math.max(0,Math.min(3,d.pshape+_.x))}if(S){var w=new j8(G.E.W,!0),X={};
X[S]=U;d[S]=U;w.data={d:G.B.Zw,k:this.id,Yu:"vals",anW:X};Z.$(w);this.SE(e,Z,F,b)}};i.jl=function(){i.Dd.call(this,[10,35],i.To,"tools/line",!1)};
i.jl.prototype=new i.Dd;i.jl.prototype.Q2=function(e,Z,F){var b=this.Nd.width,_=this.Nd.aopts;Z=Z.clone();
if(F){Z=i.vS.eo(e,Z)}return[V.c.wV.BS(e.x,e.y,Z.x,Z.y,b,_),V.$F.z9("Ln",null,null,[e.x,e.y,Z.x,Z.y],b,null,_)]};
i.UQ=function(){i.Dd.call(this,[10,31],i.GN,"tools/cshape",!0)};i.UQ.prototype=new i.Dd;i.UQ.prototype.Q2=function(e,Z,F){var b=this.Nd.shape,_=b.Dl.w/b.Dl._,d=g.NX.o4(b.T);
Z=Z.clone();if(F){Z.y=e.y+(Z.x-e.x)/_}var S=Z.x-e.x,U=Z.y-e.y;V.c.Jb(d,new jg(S,0,0,U,e.x,e.y));return[d,V.$F.z9("customShape",[e.x,e.y,Z.x,Z.y],null,null,null,b.aJ)]};
i.Q=function(e,Z,F){i.kC.call(this,e,Z,F);this._8=0;this.g=null;this.s1=null;this.J8=null;this.nY=1;
this.Iq=!1;this.cursor=null;this.nV=null;this.Vf=null;this.ut=!1;this.pZ=null;this.a0d=0;this.Xb=null;
this._n=0;this.t9=null;this.VF=null;this.EW=null;this.BX=null;this.a0B=null;this.iq=null};i.Q.prototype=new i.kC;
i.Q.Mj=function(e,Z){var F={classID:"null",null:dz.vz("Dcmn",!0)};if(e)F.Angl={t:"UntF",v:{type:"#Ang",val:Z}};
else F.Axis={t:"enum",v:{Ornt:Z}};return{qg:e?"rotateEventEnum":"flip",ni:F}};i.Q.prototype.og=function(e,Z,F,b,_){var d=new j8(G.E.W,!0);
d.data={d:G.B.Zw,k:this.id,Pn:_,rj:e,J8:F};Z.$(d);this.Gj=!1};i.Q.prototype.Hd=function(e){return this.VF&&this.VF.pA()};
i.Q.prototype.at=function(e,Z,F,b,_){this.J8=_;if(e.d=="again"&&this.Xb==null)return;if(!this.e2(F,_))return;
if(this.VF){this.W1(e,this.VF.mf());this.Hb(F,_,0,!0);this.GM(F);return}this.V1(F,e.i==null,e.i);this.G7(F);
this.W1(e);this.VZ(F,Z,e.Pj,!1)};i.Q.prototype.W1=function(e,Z){var F=this.t9;if(Z==null){var b=e.xq!=null?e.xq:4;
Z=this.VF.a3N()[b]}var _=Z.x,d=Z.y;if(e.d=="rot"&&e.I!=Math.PI&&(F.w+F._&1)==1){_=Math.floor(_);d=Math.floor(d)}var S=new jg;
S.translate(-_,-d);if(e.d=="rot")S.rotate(e.I);if(e.d=="scl")S.scale(e.I.x,e.I.y);if(e.d=="mat")S.concat(e.I);
S.translate(_,d);if(e.d=="again")S=this.Xb;var U=this.VF.ZH();V.H.A(U,S,U);this.VF.vA(U)};i.Q.prototype.dS=function(){return!0};
i.Q.prototype.e2=function(e,Z){if(e==null)return!1;if(this.id==i.uV)return e.K!=null;var F=e.V9(!0,null,null,!0);
if(this.id==i.s9&&e.g[F[0]].rect.BJ()){alert("Layer is empty.");return!1}for(var l=0;l<F.length;l++){var b=e.g[F[l]];
if(b.oT(2)||b.oT(31)){alert(gA.get([6,57,0]));return!1}if(b.add.artb){alert("You can not transform the whole artboard");
return!1}if(b.add.TySh)if(!ac.h5(b.add.TySh,Z.W5))return!1;if(b.add.SoLd){if(F.length==1&&!V.YY.k2(b.add.SoLd.warp.v)&&(b.Vj()&&b.Vj().wJ||b.add.vmsk&&b.add.vmsk.wJ)){alert("Unlink masks before transforming Smart Object");
return!1}if(!e.a8W(b.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+e.mI(b.add.SoLd.Idnt.v).Iv+")");
return!1}}}if(e.K==null)return!0;if(!e.gy())return!1;return e.cf()};i.Q.prototype.NU=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);
if(this._n==1){var S=V.N.eG(V.N.R5(this.VF.ZH(),this.t9));d=V.N.y8(S,d)}var U=this._n==0?this.VF:this.EW;
this.Iq=U.NU(e,F,b,d,null,null,_);if(this.Iq&&U.Y$(d)){if(Date.now()-this.a0d<250)this.VZ(e,Z,null,!0);
this.a0d=Date.now()}};i.Q.prototype.fC=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.MQ,$P:this.cursor};
e.$(Z)};i.Q.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);if(this._n==1){var S=V.N.eG(V.N.R5(this.VF.ZH(),this.t9));
d=V.N.y8(S,d)}var U=this._n==0?this.VF:this.EW;if(!_.jP){var r="default";if(U){var q=U.JE(d,e.t.e,null,_);
if(q)r=q}if(r!=this.cursor){this.cursor=r;this.fC(Z)}}if(!this.Iq)return;U.SE(e,F,b,d);this.Hb(e,F,0,!0);
this.GM(e);this.Py(Z)};i.Q.prototype.UD=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);this.VF.UD(e,F,b,d);
this.Iq=!1};i.Q.prototype.b8=function(e,Z,F,b){if(b.j(ex.Dr))this.VZ(e,Z,null,!0);else if(b.j(ex.ea))this.Zn(e,Z);
else{var _=this.VF.b8(e,F,b);if(_){this.Hb(e,F,0,!0);this.Py(Z)}}};i.Q.prototype.OY=function(e,Z,F,b){if(e.uC=="commit")this.VZ(F,Z,null,!0);
else if(e.uC=="cancel")this.Zn(F,Z);else if(e.uC=="switchWarp"){this._n=1-this._n;this.aqc();this.GM(F);
this.Py(Z)}else if(e.uC=="wrp"){this.EW.u1(e.zy);this.GM(F);this.Hb(F,this.J8,0,!0)}else if(e.uC=="ctyp"){this.VF.a9V(e.gh);
this.GM(F);this.Py(Z)}else if(e.uC=="cen"){this.VF.a5O(e.I7);this.GM(F);this.Hb(F,this.J8,0,!0);this.Py(Z)}else if(e.uC=="trn"){var _=V.N.C5(e.BB),d=this.t9,S=V.N.R5(this.VF.ZH(),this.t9);
_[6]=S[6],_[7]=S[7];var U=[d.x,d.y,d.x+d.w,d.y,d.x+d.w,d.y+d._,d.x,d.y+d._];V.N.A(_,U);this.nY=e.nY;
this.VF.vA(U);this.GM(F);this.Hb(F,this.J8,0,!0)}};i.Q.prototype.GM=function(e){if(this._n==0)this.VF.HS(e,this.J8);
else{this.EW.HS(e);var Z=V.N.R5(this.VF.ZH(),this.t9);V.N.A(Z,e.D.x9.s);V.N.A(Z,e.D.Zq)}};i.Q.prototype.VZ=function(e,Z,F,b){this.Hb(e,this.J8,this.nY);
var _=new eh(F?F:this.name,this);if(this._8==0)_.data={type:this._8,g:this.g,pZ:this.s1,Co:i.Q.sT(e,this.g)};
else if(this._8==1){var d=e.g[this.g[0]],S;if(d.LW.WA<=0){S=V.J(d.LW.NN.Z());V.yC(d.LW.iO,S,3)}else S=e.K.channel;
var U={rect:d.LW.NN.clone(),channel:S};_.data={type:this._8,i:this.g[0],Vf:this.Vf,rn:U,nV:this.nV,ut:this.ut,LW:d.LW,pZ:this.pZ,Co:{uT:d.LW.NN,dq:d.LW.iO}}}else if(this._8==2){_.data={type:this._8,Vf:this.Vf,rn:{rect:e.K.rect.clone(),channel:e.K.channel.slice(0)}}}e.XM(_);
var r=this.t9,q=new bI(r.x+r.w/2,r.y+r._/2),w=V.N.R5(this.VF.ZH(),r),X=V.N.tZ(w),Q=new jg;Q.translate(q.x,q.y);
Q.concat(X);Q.translate(-q.x,-q.y);X=Q.clone();var c=-Math.atan2(-X.S,X.Y0),u=new jg;u.rotate(c);X.concat(u);
function n(o,T){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][T],val:o}}}var k=dz.vz("Lyr",!0);if(this.id==i.uV)k.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var B={classID:"null",null:k,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:n(Q.lr,0),Vrtc:n(Q.Xz,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:n(Math.atan(X.d_)*180/Math.PI,2),Vrtc:n(0,2)}},Wdth:n(X.Y0*100,1),Hght:n(X.rl*100,1),Angl:n(c*180/Math.PI,2)};
this.bt=Z;this.track({qg:"transform",ni:B});this.escape(e,Z,b)};i.Q.prototype.Zn=function(e,Z){if(this._8==0)i.Q.lq(e,this.g,this.s1);
else if(this._8==1){var F=e.g[this.g[0]];e.K=this.Vf;if(!this.ut){F.LW.NN=this.pZ.uT;F.LW.iO=this.pZ.dq;
F.$i(e,0,0,e.K)}else{F.Z3(e,this.nV)}e.G();e.dw=!0}else if(this._8==2){e.K=this.Vf;e.dw=!0}this.escape(e,Z,!0)};
i.Q.prototype.escape=function(e,Z,F){this.VF.clear(e);this.VF=null;this.EW=null;this.iq=null;this._n=0;
if(F)this.b6(Z,G.E.W,{d:G.B._k})};i.Q.prototype.Fm=function(e,Z){if(e.type==0)i.Q.lq(Z,e.g,e.Co);else{if(e.type==1){var F=Z.g[e.i];
if(e.ut){F.LW=e.LW}else{F.LW.NN=e.Co.uT;F.LW.iO=e.Co.dq}F.$i(Z,0,0,Z.K);Z.G()}Z.K={rect:e.rn.rect.clone(),channel:e.rn.channel.slice(0)};
Z.dw=!0}};i.Q.prototype.Mi=function(e,Z){if(e.type==0)i.Q.lq(Z,e.g,e.pZ);else{if(e.type==1){var F=Z.g[e.i];
if(e.ut){F.Z3(Z,e.nV)}else{F.LW.NN=e.pZ.uT;F.LW.iO=e.pZ.dq;F.$i(Z,0,0,Z.K)}Z.G()}Z.K=e.Vf;Z.dw=!0}};
i.Q.prototype.V1=function(e,Z,F){e.GJ();var b=[];if(F==null)for(var l=0;l<e.YN.length;l++)if(e.Tl[e.YN[l]].add.vmsk.T.length>2)b.push(-1-e.YN[l]);
var _=[],d=e.t.$v;if(d[0]+d[1]+d[2]==3)if(F!=null||b.length==0||e.sQ!=null&&e.sQ.length!=0)_=e.V9(Z,F,null,!0);
_=_.concat(b);for(var l=0;l<e.kl.length;l++)_.push(-1e3-e.kl[l]);this.g=_};i.Q.prototype.enable=function(e,Z,F,b,_,d,S){if(this.cursor==null)this.cursor="default";
this.fC(Z);if(this.VF)return;this.J8=F;this.V1(e,!0);this.G7(e,d&&d.kK!=null&&d.kK!=-1?d.kK:null,S);
this.Py(Z);this.GM(e);if(d&&d.kK==-1)this.OY({uC:"switchWarp"},Z,e,b)};i.Q.prototype.Py=function(e){var Z={d:G.B.Zw,k:this.id};
if(this._n==0){var F=V.N.R5(this.VF.ZH(),this.t9),b=V.N.tZ(F);Z.BB={dg:b,gh:this.VF.ak6(),I7:this.VF.mf(),uT:this.t9.clone()}}else{Z.zy=this.EW.Ad()}Z.alp=this.EW!=null;
this.b6(e,G.E.W,Z)};i.Q.prototype.G7=function(e,Z,F){var b=this.id==i.uV,_=!0,d=this.g[0],S=e.g[d],r=null,q=null;
if(b){this._8=2;this.Vf=e.K}else if(e.K&&this.g.length==1&&d>=0&&!S.rect.BJ()){this._8=1;this.Vf=e.K;
this.nV=S.LW;this.ut=!1;if(!S.ie(e,e.K)){this.ut=!0;S.YS(e,e.K,!1)}this.pZ={dq:S.LW.iO,uT:S.LW.NN}}else{this._8=0;
this.s1=i.Q.sT(e,this.g,null,F);for(var l=0;l<this.s1.length;l++)if(this.s1[l][3]!=null)_=!1}var U=this._8==1;
if(this.s1&&this.s1.length==1){var w=this.s1[0];if(w[2]!=null&&w[2].$F){var X=w[2].rN.V;if(X.length<2){q=w[2].$F[X.length==0?0:X[0]].v;
if(!V.$F.G1(q))q=null}}if(w[3]==null)U=!0;if(w[4]!=null){r=e.g[this.g[0]].add.SoLd;if(w[1]||w[2])U=!1}}var Q=b?e.K.rect.clone():i.Q.jK(e,this.g,F);
this.t9=Q;if(!b&&r){var c=i.Q.rt(r.nonAffineTransform);this.t9=V.H.HA(V.YY.wl(r.warp.v));if(U)this.EW=new bn(r.warp.v);
this.BX=V.N.R5(c,this.t9);this.VF=new j1(c,!0,!0,_,!1,!1,Z)}else{if(U||b)this.EW=new bn(V.YY.J(this.t9));
this.BX=[1,0,0,0,1,0,0,0];if(this.id==i.s9)Z=3;this.VF=new j1([Q.x,Q.y,Q.x+Q.w,Q.y,Q.x+Q.w,Q.y+Q._,Q.x,Q.y+Q._],!0,!0,_,!1,!1,Z)}this.a0B=[1,0,0,0,1,0,0,0];
if(this.id==i.s9){var u,n;if(this.s1){var k=this.s1[0][0],B=k.iu;u=B[0];n=B[1]}else if(this.pZ){u=this.pZ.dq;
n=this.pZ.uT}this.iq=V.hJ.agx(u,n.w,n._)}};i.Q.jK=function(e,Z,F){if(Z==null)Z=e.V9(!0,null,null,!0);
var b=new e3,_=new e3;if(e.K&&Z.length==1&&Z[0]>=0)b=e.K.rect.clone();else for(var l=0;l<Z.length;l++){var d=Z[l],S=0<=d?e.g[d]:-1e3<d?e.Tl[-1-d]:e.LE[-1e3-d],U=S.add?S.add.vmsk:null,r=0<=d?S.T8(e,Z.length==1,!1,F,!0):-1e3<d?V.c.wS(U.T,Z.length==1&&U.V.length!=0?U.V:null):S.rect.clone();
b=b.Us(r);if(d>0&&S.add.artb)_=_.Us(S.iU())}return!_.BJ()?_:b};i.Q.prototype.b6=function(e,Z,F,b){var _=new j8(Z,!0);
_.data=F;if(b)_.k=b;e.$(_)};i.Q.sT=function(e,Z,F,b){var _=[];for(var l=0;l<Z.length;l++){var d=Z[l],S,U;
if(d>=0){S=e.g[d];U=S.Xp(e,F,b)}else if(d>-1e3){S=e.Tl[-1-d];U=[2]}else{_.push([null,null,null,null,null,null,null,e.LE[-1e3-d].clone()]);
continue}var r=[];if(U.indexOf(0)!=-1){var q={iu:[S.buffer.slice(0),S.rect.clone()]};r.push(q);if(S.bR()){var w=S.EB(e);
q.a0Y=w.buffer.slice(0);q.a2L=w.rect.clone()}}else r.push(null);if(U.indexOf(1)!=-1)r.push(S.Vj().clone());
else r.push(null);if(U.indexOf(2)!=-1)r.push({rN:S.add.vmsk.clone(),jA:S.add.vstk?JSON.parse(JSON.stringify(S.add.vstk)):null,n8:S.add.vstk?i._N.US(e,d):null,$F:S.add.vogk?JSON.parse(JSON.stringify(S.add.vogk)):null});
else r.push(null);if(S.add.TySh&&r[0]){fN.vI(S.add.TySh);r.push(S.add.TySh.A.clone())}else r.push(null);
if(S.add.SoLd&&r[0])r.push(JSON.parse(JSON.stringify(S.add.SoLd)));else r.push(null);if(U.indexOf(3)!=-1)r.push(S.EB(e).v.clone());
else r.push(null);if(S.add.lmfx)r.push(JSON.stringify(S.add.lmfx));else r.push(null);_.push(r)}return _};
i.Q.lq=function(e,Z,F){for(var l=0;l<Z.length;l++){var b=Z[l],_=0<=b?e.g[b]:-1e3<b?e.Tl[-1-b]:e.LE[-1e3-b],d=F[l];
if(d[0]){_.rect=d[0].iu[1].clone();_.buffer=d[0].iu[0].slice(0);if(_.bR()){var S=_.EB(e);S.buffer=d[0].a0Y.slice(0);
S.rect=d[0].a2L.clone()}}if(d[1]){_.Vj().channel=d[1].channel.slice(0);_.Vj().rect=d[1].rect.clone();
_.Vj().oy=!0}if(d[2]){_.add.vmsk=d[2].rN.clone();if(d[2].n8)i._N.Px(_,d[2].n8);if(d[2].jA)_.add.vstk=JSON.parse(JSON.stringify(d[2].jA));
if(d[2].$F)_.add.vogk=JSON.parse(JSON.stringify(d[2].$F))}if(d[3]){_.add.TySh.A=d[3].clone();fN.yU(_.add.TySh)}if(d[4]){_.add.SoLd=JSON.parse(JSON.stringify(d[4]))}if(d[5]){var U=_.EB(e).v;
U.channel=d[5].channel.slice(0);U.rect=d[5].rect.clone()}if(d[6]){_.add.lmfx=JSON.parse(d[6])}if(d[7]){_.channel=d[7].channel.slice(0);
_.rect=d[7].rect.clone();_.oy=!0}if(0<=b){_.kJ(e);_.G()}}e.G()};i.Q.YE=function(e){var Z=e.clone(),F=Math.atan2(-Z.S,Z.Y0),b=new jg;
b.rotate(-F);Z.concat(b);return(Math.abs(Z.Y0)+Math.abs(Z.rl))/2};i.Q.$L=function(e,Z,F,b,_,d,S,U,r,q){if(typeof d[0]=="number"){var w=[];
for(var l=0;l<F.length;l++)w[l]=d;d=w}for(var l=0;l<F.length;l++){var X=d[l],Q=V.N.tZ(X),c=i.Q.YE(Q),u=F[l],n=0<=u?e.g[u]:-1e3<u?e.Tl[-1-u]:e.LE[-1e3-u],k=b[l];
if(k[0]&&n.add.lmfx&&U)d4.Q1(n.add.lmfx,c);if(k[0]&&!k[3]&&!k[4]&&!k[5]){var B=k[0].iu;if(r){var o=r.clone(),T=V.J(o.Z()*4);
V.Rf(B[0],B[1],T,o);B=[T,o]}var z=i.Q.Wm(B,_,X,S,_==0?n.buffer.buffer:null,null,null,q);if(z){n.rect=z.rect;
n.buffer=z.buffer}}if(k[1]){var W=n.Vj();i.Q.qr(e,k[1],W,_,X,S);if(r){var o=n.rect.QP(r),$=V.J(o.Z());
V.l2(W.channel,W.rect,$,o);W.channel=$;W.rect=o}}if(k[2]){var R=S&&!V.YY.k2(S),P=k[2].rN.clone(),H=F.length==1&&P.V.length!=0,y=F.length==1&&P.LD.length>1;
if(y)H=!1;var h=H?P.V:null,m=y?P.LD:null;if(R){var t=V.YY.wl(S);V.N.A(X,t);V.c.agI(P.T,t,h,m)}else V.c.aml(P.T,X,h,m);
if(n.add.vstk&&U){n.add.vstk.strokeStyleLineWidth.v.val=k[2].jA.strokeStyleLineWidth.v.val*c;var j=k[2].n8;
if(j&&j.QL==3){j=JSON.parse(JSON.stringify(j));var x=j.n8.phase.v;j.n8.Scl.v.val=Math.round(j.n8.Scl.v.val*c);
x.Hrzn.v=Math.round(x.Hrzn.v*c);x.Vrtc.v=Math.round(x.Vrtc.v*c);i._N.Px(n,j)}}if(n.add.vogk){n.add.vogk=JSON.parse(JSON.stringify(k[2].$F));
if(R||y)V.$F.aak(n.add.vogk);else V.$F.A(n.add.vogk,X,F.length>1?[]:P.V,U)}P.Ov*=c;n.add.vmsk=P;if(n.add.vogk)V.$F.GF(n.add.vogk,n.add.vmsk)}if(k[3]){var C=k[3].clone();
C.concat(Q);n.add.TySh.A=C;fN.yU(n.add.TySh);var L=new ge(n.add.TySh.HV,Z.W5),f=ac.b9(L,n.add.TySh);
n.rect=f.uT;n.buffer=f.XT}if(k[4]){var D=n.add.SoLd,v=i.Q.rt(k[4].nonAffineTransform);V.N.A(X,v);var A=V.H.CN(v);
if(j1.F0(v)){if(S){var M=V.H.HA(V.YY.wl(k[4].warp.v)),$=V.N.R5(v,M),Y=V.H.HA(V.YY.wl(S));v=[Y.x,Y.y,Y.x+Y.w,Y.y,Y.x+Y.w,Y.y+Y._,Y.x,Y.y+Y._];
V.N.A($,v);D.warp.v=S}var J=V.N.R5(v),I=v;if(!V.N.ps(J)){J[6]=J[7]=0;I=[0,0,1,0,1,1,0,1];V.N.A(J,I)}D.Trnf=i.Q.t1(I);
D.nonAffineTransform=i.Q.t1(v);if(D.filterFX)D.filterFX=JSON.parse(JSON.stringify(k[4].filterFX));i.Q.u2(D,Q);
n.gV(e,_==0)}}if(k[5])i.Q.qr(e,k[5],n.EB(e).v,_,X,S);if(k[7])i.Q.qr(e,k[7],n,_,X,S);if(0<=u){if(_!=0)n.M5();
n.kJ(e);n.G()}}e.G()};i.Q.or=function(e,Z,F,b,_,d){if(F==null)F=!1;return i.Q.Wm(e,F?0:1,V.N.C5(Z),null,b,_,d,F)};
i.Q.Wm=function(e,Z,F,b,_,d,S,U){if(U==null)U=!1;if(U&&S)throw"e";var r={},Q=0,c=.3;if(b&&!V.YY.k2(b)){var q=V.YY.wl(b);
V.N.A(F,q);r.rect=V.H.CN(q);r.buffer=V.J(r.rect.Z()*4);V.u5.drawImage(q,e[0],e[1].w,e[1]._,r.buffer,r.rect,Z==0);
return r}V.nP(e);var w=e[0],X=e[1],u=X.Z()*i.Q.YE(V.N.tZ(F));if(U&&u>4e6)c=u>8e6?2.2:1.2;while(Q+3<e.length&&e[Q+3].Z()>16&&V.N.ps(F)&&i.Q.YE(V.N.tZ(F))<c){Q+=2;
var n=e[Q],k=e[Q+1],B=X.w/k.w,o=X._/k._;F=V.N.vp(F,[1,0,X.x,0,1,X.y,0,0]);F=V.N.vp(F,[B,0,0,0,o,0,0,0]);
F=V.N.vp(F,[1,0,-X.x,0,1,-X.y,0,0]);X=k;w=n}var T=V.N.vp(F,V.N.C5(new jg(X.w,0,0,X._,X.x,X.y))),z=[0,0,1,0,1,1,0,1];
V.N.A(T,z);r.rect=V.H.CN(z);if(S)r.rect=r.rect.QP(S);if(U){while((r.rect.w&3)!=0)r.rect.w++;while((r.rect._&3)!=0)r.rect._++}if(!j1.F0(z)||r.rect.w>1e5||r.rect._>1e5||r.rect.Z()>3e4*3e4)return null;
var W=r.rect.Z()*4;if(_&&_.byteLength>=W&&W>=_.byteLength>>2){r.buffer=new Uint8Array(_)}else{r.buffer=V.J(W)}V.N.drawImage(T,w,X.w,X._,r.buffer,r.rect,Z==0,d,U);
if(Z==2&&r.buffer){var $=r.rect.w,R=r.rect._,P;P=[0,-1,0,-1,16,-1,0,-1,0];P=V.Qb.OD(P);var H=r.buffer.slice(0);
V.Qb.MP(H,r.buffer,$,R,P,255,!1,!0)}if(r.buffer)return r};i.Q.qr=function(e,Z,F,b,_,d){if(Z.color==255)V.eG(Z.channel);
var S=Z.rect,U=V.J(S.Z()*4);V.s$(Z.channel,U,3);var r=i.Q.Wm([U,S],b,_,d);if(r){F.rect=r.rect;F.channel=V.J(r.rect.Z());
V.yC(r.buffer,F.channel,3);F.oy=!0}if(Z.color==255){V.eG(Z.channel);if(r)V.eG(F.channel)}};i.Q.u2=function(e,Z){var F=e.filterFX;
if(F)F=F.v.filterFXList;if(F)F=F.v;if(F)for(var b=0;b<F.length;b++){var _=F[b].v.Fltr;if(_==null||_.v.classID!="rigidTransform")continue;
_=_.v;console.log(_);var d=[];for(var S=0;S<4;S++)d.push(_["PuX"+S].v,_["PuY"+S].v);V.H.A(d,Z,d);for(var S=0;
S<4;S++){_["PuX"+S].v=d[S*2];_["PuY"+S].v=d[S*2+1]}var U=["PinP","posFinalPins"],r=["originalVertexArray","deformedVertexArray"],q=_.puppetShapeList.v;
for(var w=0;w<q.length;w++){var X=q[w].v;for(var Q=0;Q<U.length;Q++){var c=i.Q.rt(X[U[Q]]);V.H.A(c,Z,c);
X[U[Q]]=i.Q.t1(c);var u=new Uint8Array(X[r[Q]].v),n=new Float32Array(u.buffer);V.H.A(n,Z,n);var k=[];
for(var B=0;B<u.length;B++)k[B]=u[B];X[r[Q]].v=k}}}};i.Q.rt=function(e){var Z=[],F=e.v.length;for(var l=0;
l<F;l++)Z.push(e.v[l].v);return Z};i.Q.t1=function(e){var Z={t:"VlLs",v:[]},F=e.length;for(var l=0;l<F;
l++)Z.v.push({t:"doub",v:e[l]});return Z};i.Q.prototype.aqc=function(){var e=V.H.HA(V.YY.wl(this.EW.Ad())),Z=V.N.R5(this.VF.ZH(),this.t9),F=[e.x,e.y,e.x+e.w,e.y,e.x+e.w,e.y+e._,e.x,e.y+e._];
V.N.A(Z,F);this.VF.vA(F);this.t9=e};i.Q.prototype.Hb=function(e,Z,F,b){var _=V.N.R5(this.VF.ZH(),this.t9);
_=V.N.vp(_,V.N.eG(this.BX));var d=this.EW?this.EW.Ad():null;if(this._8==0){var S=this.Xb=V.N.tZ(_);if(this.id==i.s9){var U=this.s1[0][0],r=U.iu,q=r[1],w=~~(q.w*Math.max(0,S.Y0)),X=~~(q._*Math.max(0,S.rl)),Q=new e3(Math.round(S.Y0*q.x+S.lr),Math.round(S.rl*q.y+S.Xz),w,X),c=V.hJ.A(this.iq,Q),u=e.g[this.g[0]];
u.buffer=c;u.rect=Q;u.G();e.G()}else i.Q.$L(e,Z,this.g,this.s1,F,_,d,null,null,b)}else if(this._8==1){var n=e.g[this.g[0]],q=this.pZ.uT;
if(n.WA<=0){var k=this.pZ.dq,B=this.Vf,o=null;if(d&&!V.YY.k2(d)&&!B.rect.Tn(q)){var c=V.J(B.rect.Z()*4);
V.Rf(k,q,c,B.rect);k=c;q=B.rect}if(this.id==i.s9){var S=this.Xb=V.N.tZ(_),w=~~(q.w*Math.max(0,S.Y0)),X=~~(q._*Math.max(0,S.rl)),Q=new e3(Math.round(S.Y0*q.x+S.lr),Math.round(S.rl*q.y+S.Xz),w,X),c=V.hJ.A(this.iq,Q);
o={buffer:c,rect:Q}}else o=i.Q.Wm([k,q],F,_,d);if(o){n.LW.iO=o.buffer;n.LW.NN=o.rect;var T=V.J(o.rect.Z());
V.yC(n.LW.iO,T,3);e.K={channel:T,rect:n.LW.NN.clone()}}}else{var z=V.J(q.Z()*4);V.s$(this.pZ.dq,z,3);
var o=i.Q.Wm([z,q],F,_,d);if(o){n.LW.iO=V.J(o.rect.Z());V.yC(o.buffer,n.LW.iO,3);n.LW.NN=o.rect}this.CH(e,F,_,d)}n.$i(e,0,0,e.K);
if(F!=0){n.M5();V.M5(e.K)}e.dw=!0;e.G()}else if(this._8==2)this.CH(e,F,_,d)};i.Q.prototype.CH=function(e,Z,F,b){var _=this.Vf.rect,d=V.J(_.Z()*4);
V.s$(this.Vf.channel,d,3);var S=i.Q.Wm([d,_],Z,F,b),U=V.J(S.rect.Z());V.yC(S.buffer,U,3);e.K={channel:U,rect:S.rect};
e.dw=!0};i.Q.prototype.disable=function(e,Z,F,b){if(this.VF)this.VZ(e,Z,null,!0)};i.vV=function(){i.Q.call(this,[10,16],i.PF,"tools/transform")};
i.vV.prototype=new i.Q;i.vq=function(){i.Q.call(this,[7,10],i.uV,"tools/transform")};i.vq.prototype=new i.Q;
i.C9=function(){i.Q.call(this,[10,48],i.s9,"tools/transform")};i.C9.prototype=new i.Q;i.FB=function(e,Z,F){i.kC.call(this,[10,46],i.Tw,"tools/transform");
this.Y_=[1,1,2,!0];this.Nw="rigidTransform";this.Q6=null;this.asj=null;this.iI=null;this.Cd=null;this.SH=null;
this.Ts=null;this.oE=[]};i.FB.prototype=new i.kC;i.FB.prototype.dS=function(){return!0};i.FB.L2=function(e){if(e==null)return!1;
if(e.V.length!=1)return!1;var Z=e.g[e.V[0]];return Z.add.SoLd||e.gy(!1)};i.FB.prototype.e2=function(e,Z){return i.FB.L2(e)};
i.FB.prototype.enable=function(e,Z,F,b,_,d,S){this.asj=d.PY;var U=d.PY,r,n=null;if(U){var q=e.g[U.i];
if(q.add.SoLd.filterFX!=null){var w=q.add.SoLd.filterFX.v.filterFXList.v;if(w[U.index])r=JSON.parse(JSON.stringify(w[U.index].v.Fltr.v))}}var X=r==null,q=e.g[e.V[0]],Q=q.buffer,c=q.rect,u=q.add.SoLd;
if(u){var k=u.nonAffineTransform.v;n=[];for(var l=0;l<4;l++)n.push(k[l*2].v,k[l*2+1].v);if(X)this.AT("edit",Z);
var B=q.EB(e);Q=B.buffer;c=B.rect}this.Q6={buffer:Q.slice(0),rect:c.clone(),at5:n};if(X)r=i.FB.KS(this.Q6,this.Y_);
this.iI=r;this.Cd=i.FB.Je(this.iI,this.Y_);this.bx();this.$T(e);if(X)this.qz(Z);var o=new j8(G.E.W,!0);
o.data={d:G.B.Zw,k:this.id,NG:this.Y_};Z.$(o);o.data={d:G.B.MQ,$P:"default"};Z.$(o)};i.FB.prototype.disable=function(e,Z,F,b){if(this.Cd)this.VZ(e,Z,!0)};
i.FB.prototype.bx=function(e){var Z=this.Cd;this.oE=[];for(var l=0;l<Z.length;l++){var F=Z[l];for(var b=0;
b<F.V.length;b++)this.oE.push([l,F.V[l]]);F.Mx=V.T5.UN(F);if(e)V.T5.Kf(F)}};i.FB.prototype.OY=function(e,Z,F,b){if(e.uC=="commit")this.VZ(F,Z,!0);
else if(e.uC=="cancel")this.Zn(F,Z,!0);else if(e.uC=="prm"){var _=!1;for(var l=0;l<3;l++)if(this.Y_[l]!=e.NG[l])_=!0;
this.Y_=e.NG;if(_){this.iI=i.FB.KS(this.Q6,this.Y_,this.iI);this.Cd=i.FB.Je(this.iI,this.Y_);this.bx(!0);
this.qz(Z)}this.$T(F)}else if(e.uC=="moveDepth"){var d=this.Cd;for(var S=0;S<d.length;S++){var U=d[S];
for(var l=0;l<U.V.length;l++){var r=U.V[l];U.vY[r]+=e.a0x?1:-1}}this.qz(Z)}};i.FB.prototype.TD=function(e,Z){return e==ex.Fp||e==ex.yr};
i.FB.prototype.b8=function(e,Z,F,b){var _=b.qY();if(b.j(ex.Dr))this.VZ(e,Z,!0);else if(b.j(ex.ea))this.Zn(e,Z,!0);
else if(b.j(ex.Fp)||b.j(ex.yr)){var d=this.Cd;for(var S=0;S<d.length;S++){var U=d[S];U.V.sort(function(w,X){return X-w});
for(var l=0;l<U.V.length;l++){var r=U.V[l],q=r*2;U.vY.splice(r,1);U.fc.splice(r,1);U.vg.splice(r,1);
U.aw.splice(r,1);U.C1.splice(q,2);U.K7.splice(q,2)}U.V=[];if(U.aw.length==0){U.lA=U.wU.slice(0);U.aR=U.wU.slice(0)}}this.bx(!0);
this.qz(Z);this.$T(e)}else if(_.x!=0||_.y!=0){this.ez(e,_.x,_.y,Z);this.f3=null}};i.FB.prototype.VZ=function(e,Z,F){this.AT("confirm",Z);
this.escape(e,Z,F)};i.FB.prototype.Zn=function(e,Z,F){this.AT("cancel",Z);this.escape(e,Z,F)};i.FB.prototype.escape=function(e,Z,F){e.D.x9=null;
e.D.B_=[];e.sp=!0;this.Cd=null;var b=new j8(G.E.W,!0);b.data={d:G.B._k};if(F)Z.$(b)};i.FB.prototype.NU=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=d.x,U=d.y,r=this.Cd,q=null,w=[0,2,4,1.2,1.2,1.2],X=-1,Q=i.uE(e,_);
for(var l=0;l<r.length;l++){var c=r[l],u=V.H.zz(c.K7,S,U,Q);if(u!=-1)q=[l,u];if(X==-1&&V.T5.na.acD(c.aR,c.jR,S,U))X=l}if(q==null&&X!=-1){var c=r[X];
i.FB.fW(c,S,U,S,U,0);q=[X,c.aw.length-1];c.Mx=V.T5.UN(c)}this.SH=d;if(q){var n=r[q[0]].V.indexOf(q[1])!=-1;
if(b.j(ex.Ng)&&!n){r[q[0]].V.push(q[1]);this.oE.push(q)}else if(!n){r[q[0]].V=[q[1]];this.oE=[q]}}this.$T(e)};
i.FB.fW=function(e,Z,F,b,_,d){var S=V.H.zz(e.aR,Z,F);e.aw.push(S);e.K7.push(b,_);e.C1.push(e.aR[S*2]-Z,e.aR[S*2+1]-F);
e.vg.push(0);e.fc.push(!1);e.vY.push(d)};i.FB.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=this.SH;
if(S)this.ez(e,d.x-S.x,d.y-S.y,Z)};i.FB.prototype.ez=function(e,Z,F,b){var _={},d=this.oE,S=this.Cd;
if(this.f3==null){this.f3=[];for(var l=0;l<S.length;l++)this.f3.push(S[l].K7.slice(0))}for(var l=0;l<d.length;
l++){var U=this.oE[l],r=U[0],q=S[U[0]],w=U[1]*2;q.K7[w+0]=this.f3[r][w+0]+Z;q.K7[w+1]=this.f3[r][w+1]+F;
_[r]=r}for(var r in _)V.T5.Kf(this.Cd[_[r]]);this.$T(e);this.qz(b)};i.FB.prototype.AT=function(e,Z){var F=new j8(G.E.u,!0);
F.k=i.Db;F.data={d:e,PY:this.asj,Nw:this.Nw,Bi:this.iI};Z.$(F)};i.FB.prototype.UD=function(e,Z,F,b,_){this.SH=null;
this.f3=null};i.FB.prototype.qz=function(e){i.FB.m_(this.Cd,this.Y_,this.iI);this.AT("edit",e)};i.FB.prototype.$T=function(e){var Z=this.Cd,F=this.iI;
e.D.x9={s:[],C:[]};e.D.B_=[];e.D.kX=[];for(var l=0;l<Z.length;l++){var b=Z[l];for(var _=0;_<b.V.length;
_++)e.D.kX.push((e.D.B_.length>>>1)+b.V[_]);e.D.B_=e.D.B_.concat(b.K7);if(this.Y_[3])V.H.concat(e.D.x9,V.H.agp(b.aR,b.jR))}e.sp=!0};
i.FB.KS=function(e,Z,F){var b=e.buffer,_=e.rect,d=e.at5,S=ff.wy("rigidTransform");if(d)for(var l=0;l<4;
l++){S["PuX"+l].v=d[l*2];S["PuY"+l].v=d[l*2+1]}var U=S.puppetShapeList.v,r=V.T5.a18(b,_.w,_._,Z[1],Z[2]),q=[];
for(var w=0;w<r.length;w++){var X={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
X.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var Q=r[w];U.push({t:"Objc",v:X});var c=Q.wU.slice(0);V.H.A(c,new jg(1,0,0,1,_.x,_.y),c);var u=Q.jR;
for(var l=0;l<u.length;l+=3){var n=u[l+1];u[l+1]=u[l+2];u[l+2]=n}q.push({jR:u,wU:c,lA:c,aR:c,aw:[],C1:[],K7:[],Mx:null,V:[],vg:[],fc:[],vY:[]})}if(F){var k=i.FB.Je(F,[]),B=q[0];
for(var l=0;l<k.length;l++){var o=k[l];for(var T=0;T<o.V.length;T++)B.V.push((B.K7.length>>>1)+o.V[T]);
for(var T=0;T<o.aw.length;T++){var z=o.aw[T]*2,W=o.wU[z]-o.C1[T*2],$=o.wU[z+1]-o.C1[T*2+1];i.FB.fW(B,W,$,o.K7[T*2],o.K7[T*2+1],o.vY[T])}}}i.FB.m_(q,Z,S);
return S};i.FB.Je=function(e,Z){var F=i.Q.rt,b=e.puppetShapeList.v,_=[];for(var d=0;d<b.length;d++){var S=b[d].v;
Z[0]=S.meshRigidity.v-1;Z[1]=S.meshQuality.v-1;Z[2]=S.meshExpansion.v;var U=S.pinVertexIndices.v.length,r=S.meshBoundaryPath.v.pathComponents.v;
if(r.length!=0){var q=r[0].v.SbpL.v[0].v.Pts;q.v=[]}var w=new Uint32Array(new Uint8Array(S.indexArray.v).buffer),X=new Float32Array(new Uint8Array(S.originalVertexArray.v).buffer),Q=new Float32Array(new Uint8Array(S.deformedVertexArray.v).buffer),c=[],u=[],n=[];
for(var l=0;l<w.length;l++)c.push(w[l]);for(var l=0;l<X.length;l++){u.push(X[l]);n.push(Q[l])}var k=F(S.pinVertexIndices),B=F(S.pinOffsets),o=F(S.posFinalPins),T=F(S.PnRt),z=F(S.PnOv),W=F(S.PnDp),$=F(S.selectedPin);
_.push({jR:c,wU:u,lA:n.slice(0),aR:n,aw:k,C1:B,K7:o,Mx:null,vg:T,fc:z,vY:W,V:$})}return _};i.FB.m_=function(e,Z,F){function b(Q,c){var u=[];
for(var l=0;l<Q.length;l++)u.push({t:c,v:Q[l]});return u}function _(Q,c,u){var n=new(u?Uint32Array:Float32Array)(Q),k=new Uint8Array(n.buffer);
for(var l=0;l<k.length;l++)c[l]=k[l]}var d=F.puppetShapeList.v;for(var S=0;S<d.length;S++){var U=e[S],r=d[S].v;
r.meshRigidity.v=Z[0]+1;r.meshQuality.v=Z[1]+1;r.meshExpansion.v=Z[2];_(U.jR,r.indexArray.v,!0);_(U.wU,r.originalVertexArray.v);
_(U.aR,r.deformedVertexArray.v);var q=[];for(var l=0;l<U.aw.length;l++){var w=U.aw[l]*2,X=l*2;q[X]=U.wU[w]-U.C1[X];
q[X+1]=U.wU[w+1]-U.C1[X+1]}r.PinP.v=b(q,"doub");r.pinVertexIndices.v=b(U.aw,"long");r.pinOffsets.v=b(U.C1,"doub");
r.posFinalPins.v=b(U.K7,"doub");r.PnRt.v=b(U.vg,"long");r.PnOv.v=b(U.fc,"bool");r.PnDp.v=b(U.vY,"doub");
r.selectedPin.v=b(U.V,"long")}};i.re=function(e,Z,F){i.kC.call(this,e?e:[10,40],Z?Z:i.IN,F?F:"tools/slice");
this.Yf=null;this.bt=null;this.uF=null;this.ah_=null;this.jY=null;this.lL=null};i.re.prototype=new i.kC;
i.re.Ak=function(e,Z){var F=-1;for(var l=0;l<e.length;l++){var b=i.re.SO(e,l);if(b[0]<=Z.x&&Z.x<=b[2]&&b[1]<=Z.y&&Z.y<=b[3]){F=l;
break}}return F};i.re.prototype.at=function(e,Z,F,b,_){if(F==null)return;this.rd(F);if(e.d=="fromAction"){var d=F.$j(),S=F.eZ(),U=S==-1?new e3(0,0,F.w,F._):F.g[S].iU(),r=[U.x,U.x+U.w],q=[U.y,U.y+U._];
for(var l=0;l<d[0].length;l++){var w=d[0][l],X=Math.round(w[1]),Q=d[1][l];if(Q!=-1&&Q!=S)continue;if(w[0]==0&&r.indexOf(X)==-1)r.push(X);
if(w[0]==1&&q.indexOf(X)==-1)q.push(X)}r.sort(function(R,P){return R-P});q.sort(function(R,P){return R-P});
for(var c=1;c<q.length;c++)for(var u=1;u<r.length;u++){F.sP.push(i.re.P2());i.re.Qg(F.sP,F.sP.length-1,[r[u-1],q[c-1],r[u],q[c]]);
F.sp=!0}}else if(e.d=="reorder"){if(F.l7.length==0)return;var n=F.sP,k=F.l7;k.sort(function(R,P){return R-P});
console.log(k);var B=n.slice(0),o=[],T=[];for(var l=0;l<k.length;l++){var z=k[l],W=n[z];T.push(W);B.splice(B.indexOf(W),1)}var $=Math.max(0,Math.min(B.length,k[0]-e.dir));
for(var l=0;l<T.length;l++){B.splice($+l,0,T[l]);o.push($+l)}F.sP=B;F.l7=o}else if(e.d=="delete"){var n=F.sP.slice(0);
for(var l=0;l<F.l7.length;l++)F.sP.splice(F.sP.indexOf(n[F.l7[l]]),1);F.l7=[]}else if(e.d=="deleteAll"){F.sP=[];
F.l7=[]}else{F.sP[F.l7[0]].v=e;F.sp=!0}this.M4(F)};i.re.prototype.enable=function(e,Z,F,b,_,d){i.kC.prototype.enable.call(this,e,Z,F,b,_,d);
if(!F.I9.sP){var S=new j8(G.E.W,!0);S.data={d:G.B.aE,NG:c6.Tk};Z.$(S)}};i.re.prototype.disable=function(){this.Yf=null;
this.bt=null};i.re.prototype.og=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=i.re.Ak(e.sP,d);if(S==-1)return;
this.Yf=e;this.bt=Z;e.l7=[S];e.sp=!0;if(this.lL==null){this.lL=new gx([{name:[5,4]},{name:[8,11,1],vD:!0}]);
this.lL.h("select",this.e1,this)}var U=this.lL;U.parent=Z;U.n();U.update(e,F);var r=new j8(G.E.W,!0);
r.data={d:G.B.f6,Gw:U,x:_.Cl+2,y:_.mU+1};Z.$(r)};i.re.prototype.e1=function(e){var Z=this.lL.Ko()[0],F=this.Yf;
if(Z==0){this.rd(F);F.sP.splice(F.l7[0],1);F.l7=[];F.sp=!0;this.M4(F)}if(Z==1){var b=new j8(G.E.W,!0);
b.data={d:G.B.tJ,ZB:"soptions",I:F.sP[F.l7[0]].v};this.bt.$(b)}};i.re.prototype.NU=function(e,Z,F,b,_){if(e==null)return;
this.rd(e);var d=e.t.mG(_.x,_.y);d=i.rX.gC(e,d,F,[!0,null,!1]);d.x=Math.round(d.x);d.y=Math.round(d.y);
this.jY=d;e.sP.unshift(i.re.P2());e.l7=[0];i.re.Qg(e.sP,0,[d.x,d.y,d.x+20,d.y+20]);e.sp=!0};i.re.prototype.SE=function(e,Z,F,b,_){if(this.uF==null)return;
var d=e.t.mG(_.x,_.y),S=this.jY;d=i.rX.gC(e,d,F,[!0,null,!1]);d.x=Math.round(d.x);d.y=Math.round(d.y);
var U=[S.x,S.y,d.x,d.y];i.re.yD(U);i.re.Qg(e.sP,0,U);e.sp=!0};i.re.prototype.UD=function(e,Z,F,b,_){this.M4(e);
this.jY=null};i.re.prototype.rd=function(e){this.uF=JSON.stringify(e.sP);this.ah_=JSON.stringify(e.l7)};
i.re.prototype.M4=function(e){var Z=JSON.stringify(e.sP);if(Z!=this.uF){var F=new eh(this.name,this);
F.data={pZ:this.uF,Co:Z,aaN:this.ah_,a4v:JSON.stringify(e.l7)};e.XM(F)}this.uF=null};i.re.prototype.Mi=function(e,Z){Z.sP=JSON.parse(e.pZ);
Z.l7=JSON.parse(e.aaN);Z.sp=!0};i.re.prototype.Fm=function(e,Z){Z.sP=JSON.parse(e.Co);Z.l7=JSON.parse(e.a4v);
Z.sp=!0};i.re.prototype.TD=function(e,Z){return Z!=null&&Z.l7.length!=0&&(e==ex.Fp||e==ex.yr)};i.re.prototype.b8=function(e,Z,F,b){if(e==null)return;
if(b.j(ex.Fp)||b.j(ex.yr))this.at({d:"delete"},Z,e,b,F);var _=b.qY();if(_.x!=0||_.y!=0){this.rd(e);i.re.bs(e,_);
this.M4(e)}};i.re.prototype.OY=function(e,Z,F,b,_){};i.re.aaj=function(e,Z,F,b){var _=new bI(-Z.x,-Z.y),d=Z.w/F.w,S=Z._/F._,U=[0,0,Z.w,Z._];
for(var l=0;l<e.length;l++){var r=i.re.SO(e,l);if(b){r[0]=Math.round(r[0]*d);r[1]=Math.round(r[1]*S);
r[2]=Math.round(r[2]*d);r[3]=Math.round(r[3]*S)}else{i.re.f9(r,_);i.re.ape(r,U)}if(r[0]>=r[2]||r[1]>=r[3]){e.splice(l,1);
l--;continue}i.re.Qg(e,l,r)}};i.re.bs=function(e,Z){var F=e.sP;for(var l=0;l<e.l7.length;l++){var b=i.re.SO(F,e.l7[l]);
i.re.f9(b,Z);i.re.Qg(F,e.l7[l],b)}};i.re.ape=function(e,Z){if(e[0]<Z[0])e[0]=Z[0];if(e[1]<Z[1])e[1]=Z[1];
if(Z[2]<e[2])e[2]=Z[2];if(Z[3]<e[3])e[3]=Z[3]};i.re.f9=function(e,Z){e[0]=Math.round(e[0]+Z.x);e[2]=Math.round(e[2]+Z.x);
e[1]=Math.round(e[1]+Z.y);e[3]=Math.round(e[3]+Z.y)};i.re.Qg=function(e,l,Z){var F=e[l].v.bounds.v;F.Left.v=Z[0];
F.Top.v=Z[1];F.Rght.v=Z[2];F.Btom.v=Z[3]};i.re.SO=function(e,l){var Z=e[l].v.bounds.v;return[Z.Left.v,Z.Top.v,Z.Rght.v,Z.Btom.v,l]};
i.re.yD=function(e){if(e[2]<e[0]){var Z=e[0];e[0]=e[2];e[2]=Z}if(e[2]==e[0])e[2]++;if(e[3]<e[1]){var Z=e[1];
e[1]=e[3];e[3]=Z}if(e[3]==e[1])e[3]++};i.re.HA=function(e,Z){var F=1e9,b=-1e9,_=1e9,d=-1e9;for(var l=0;
l<Z.length;l++){var S=i.re.SO(e,Z[l]);F=Math.min(F,S[0]);_=Math.min(_,S[1]);b=Math.max(b,S[2]);d=Math.max(d,S[3])}return[F,_,b,d]};
i.re.P2=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
i.dA=function(){i.re.call(this,[10,41],i.q1,"tools/sselect");this.jY=null;this.VS=null;this.FN=null;
this.Ts=null;this.dc=!1};i.dA.prototype=new i.re;i.dA.prototype.NU=function(e,Z,F,b,_){if(e==null)return;
var d=e.t.mG(_.x,_.y),S=i.dA.A1(d,4/e.t.e,e.sP,e.l7);S.pop();if(S.length!=0){this.jY=d;this.FN=S;this.rd(e);
return}var U=e.sP,r=i.re.Ak(U,d);if(r==-1)e.l7=[];else{var q=e.l7.indexOf(r);if(b.j(ex.Ng)){if(q==-1)e.l7.push(r);
else e.l7.splice(q,1)}else{e.l7.sort(function(n,k){return n-k});if(q==-1)e.l7=[r];this.jY=d;this.rd(e);
this.VS=i.re.HA(U,e.l7);this.Ts=[];for(var l=0;l<e.l7.length;l++)this.Ts.push(i.re.SO(U,e.l7[l]));if(b.j(ex.sW)){var w=U.slice(0),X=e.l7,Q=[];
for(var l=0;l<X.length;l++){var r=X[l],c=w[r],u=U.indexOf(c);Q.push(u);U.splice(u,0,JSON.parse(JSON.stringify(c)))}e.l7=Q}}}e.sp=!0};
i.dA.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);if(this.jY==null){var S=i.dA.A1(d,4/e.t.e,e.sP,e.l7),U=S.pop(),r=S.length==0?"default":["ew","nwse","ns","nesw"][U]+"-resize",q=new j8(G.E.W,!0);
q.data={d:G.B.MQ,$P:r};Z.$(q);return}if(!this.dc&&d.Tn(this.jY))return;this.dc=!0;var w=e.sP,S=this.FN;
if(S){d=i.rX.gC(e,d,F,[!0,null,!1]);var X=Math.round(d.x),Q=Math.round(d.y);for(var l=0;l<S.length;l+=2){var c=i.re.SO(w,S[l]),u=S[l+1];
c[u]=(u&1)==0?X:Q;i.re.yD(c);i.re.Qg(w,S[l],c)}}else{var n=d.iv(this.jY),k=this.VS.slice(0);i.re.f9(k,n);
var B=new e3(k[0],k[1],k[2]-k[0],k[3]-k[1]),o=i.rX.DS(e,B,F,[!0,null,!1],!0);i.rX.J9(e,B,o);n.x+=o[0];
n.y+=o[1];for(var l=0;l<e.l7.length;l++)i.re.Qg(w,e.l7[l],this.Ts[l]);i.re.bs(e,n)}e.sp=!0};i.dA.prototype.UD=function(e,Z,F,b,_){if(this.jY==null)return;
this.M4(e);e.D.Hv=null;e.sp=!0;this.jY=null;this.FN=null;this.Ts=null;this.dc=!1};i.dA.A1=function(e,Z,F,b){var _=e.x,d=e.y,S=[],U=-1,r=[];
for(var l=0;l<b.length;l++){var q=b[l],w=i.re.SO(F,q),X=w[0],Q=w[1],c=w[2],u=w[3];if(_<X-Z||c+Z<_||d<Q-Z||u+Z<d)continue;
var n=[_<X+Z,d<Q+Z,c-Z<_,u-Z<d],k=-1;for(var B=0;B<4;B++){if(n[B]&&n[B+1&3])k=1+2*(B&1);if(n[B])S.push(q,B)}if(k==-1){if(n[0]||n[2])k=0;
if(n[1]||n[3])k=2}if(k!=-1){U=k;r.push(q)}}var o=S.length;for(var l=0;l<o;l+=2){var q=S[l],T=S[l+1],z=i.re.SO(F,q)[T];
for(var B=0;B<b.length;B++){var W=b[B];if(r.indexOf(W)!=-1)continue;var w=i.re.SO(F,W);if(w[T&1]==z)S.push(W,T&1);
if(w[2+(T&1)]==z)S.push(W,2+(T&1))}}S.push(U);return S};i.Md=function(){i.wL.call(this,[10,44],i.aog,"tools/oselect");
this.vF="crosshair";this.asK=0};i.Md.prototype=new i.wL;i.Md.prototype.s8=function(e,Z,F,b){if(Math.random()<1/(1+this.asK)){alert("The cross should be fully inside the object.",3500);
this.asK++}};i.Md.prototype.Mn=function(e,Z,F,b){i.vk.ai(e,i.wL.Hh,this.bt);if(!b.jP||!this.I4)return;
var _=this.jK(e,F,!1),d=_.w,S=_._,U=_.x,r=_.y,q=_.x+d,w=_.y+S,X=U+d/2,Q=r+S/2,c=i.Md.S8;e.D.x9={s:[U,r,q,r,q,w,U,w,X-d*c,Q,X+d*c,Q,X,Q-S*c,X,Q+S*c],C:"M L L L Z M L M L".split(" ")};
e.sp=!0};i.Md.S8=.12;i.Md.prototype.fQ=function(e,Z,F,b){e.D.x9=null;e.sp=!0;this.finish(e,Z,F,b)};i.Md.prototype.getSelection=function(e,Z,F,b){if(this.kj.Tn(this.V0)||!this.I4)return null;
var _=this.jK(e,F,!1),d=e.g[e.V[0]];if(_.BJ()||!_.iP(d.rect))return null;return i.wL.rY("ObSl",_)};i.vk=function(){i.Aj.call(this,[10,37],i.IJ,"tools/qselect");
this.pd="qselect"};i.vk.prototype=new i.Aj;i.vk.prototype.NU=function(e,Z,F,b,_){this.al(e,F,b,_,1);
if(this.pl==null)return;this.rG(e)};i.vk.prototype.SE=function(e,Z,F,b,_){this.zq(e,Z,F);i.vk.ai(e,i.wL.Hh,Z);
if(this.VA)this.qn(e,F,_);if(this.pl==null)return;if(!_.jP)return;var d=this.DH(e,F,b,_);if(d!=1)this.rG(e)};
i.vk.ai=function(e,Z,F){if(e&&Z.key!=i.vk.H3(e)){Z.key=i.vk.H3(e);var b=e.g[e.V[0]].rect.Z(),d="Image Analysis ...";
if(b==0)return;var _=b>1e6,S=new j8(G.E.W,!0);S.data={d:G.B.qP,rQ:d};if(_)F.$(S);setTimeout(function(){var U=i.vk.b3(e);
for(var r in U)Z[r]=U[r];var S=new j8(G.E.W,!0);S.data={d:G.B.OI,rQ:d};if(_)F.$(S)},30)}};i.vk.H3=function(e){var Z=e.V[0],F=e.g[Z],b=F.rect,_=b.w,d=b._,S=_*d,U=F.buffer;
return[Z,b.x,b.y,_,d,U[0],U[1],U[2],U[3]].join(",")};i.vk.b3=function(e){var Z=e.V[0],F=e.g[Z],b=F.rect,_=b.w,d=b._,S=_*d,U=F.buffer,r=Date.now(),q=V.J(S);
q.fill(128);var w=V.aA.B3(U,_,d);console.log(Date.now()-r);var X={key:i.vk.H3(e),PM:U,rect:b.clone(),bo:_,zA:d,tB:12,atF:!1,JJ:q,GB:w,K:V.J(S),z_:null,ff:null,Hp:null};
i.vk.E0(X);return X};i.vk.E0=function(e,Z){var F=e.bo,b=e.zA,_=0,d=0,S=Date.now(),U=e.z_!=null&&V.aA.ah6(e.GB.jR,e.z_.jR,e.z_.KP,e.JJ);
_=Date.now()-S;S=Date.now();if(!U&&!e.atF){e.z_=V.aA.fG(e.GB,F,b,e.JJ,e.tB);if(!V.aA.ah6(e.GB.jR,e.z_.jR,e.z_.KP,e.JJ)){e.atF=!0;
console.log("conflict")}e.ff=V.aA.abj(e.PM,F,b,e.z_.jR,e.z_.KP);e.Hp=[e.ff[0].slice(0),[]];d=Date.now()-S;
S=Date.now()}var S=Date.now();if(Z){e.Hp[0].set(e.ff[0]);var r=e.ff[1],q=e.Hp[1];for(var w=0;w<r.length;
w++)q[w]=r[w].slice(0);V.aA.a62(e.z_.jR,F,b,e.z_.KP,e.JJ,e.K,e.Hp)}};i.ZN=function(){i.kC.call(this,[10,50],i.qF,"tools/artb");
this.R2=null;this.a0A=!1;this.VF=null;this.v0=!1;this.ath=null;this.Fi=100;this.Re=null;this.AR=0};i.ZN.prototype=new i.kC;
i.ZN.TL=function(e,Z){var F=e[0],b=0,_=0;if(F==0)_=-1;else if(F==1)b=1;else if(F==2)_=1;else b=-1;return[20/Z.oX,e[1]+b*60/Z.oX,e[2]+_*60/Z.oX]};
i.ZN.prototype.OY=function(e,Z,F,b,_){this.R2=e.NG;this.AR=Date.now()};i.ZN.prototype.uB=function(e,Z,F,b){if(F.yt!=this.id)return;
if(e==null||e.V.length!=1){this.hO(e);return}var _=e.V[0],d=e.g[_],S=d.add.artb;if(S==null){this.hO(e);
return}if(this.v0)return;if(Date.now()-this.AR>50){this.R2={};var U=["artboardBackgroundType","Clr"];
for(var l=0;l<U.length;l++)if(S[U[l]])this.R2[U[l]]=JSON.parse(JSON.stringify(S[U[l]]));var r=new j8(G.E.W,!0);
r.data={d:G.B.Zw,k:this.id,DL:this.R2};Z.$(r)}var q=d.iU(),w=V.H.gb(q).s,X=this.VF=new j1(w,!0,!1,!1,!0,!1,3,!1);
X.HS(e,F,!1);var Q={s:[1,0],C:["M"]};for(var l=1;l<30;l++){var c=Math.PI*2*l/30;Q.s.push(Math.cos(c),Math.sin(c));
Q.C.push("L")}Q.C.push("Z","M","L","M","L");Q.s.push(-.5,0,.5,0,0,-.5,0,.5);var u=q.x+q.w/2,n=q.y+q._/2,k=this.Fi*1.1,B=this.ath=[u,q.y,q.x+q.w,n,u,q.y+q._,q.x,n],o=[0,-k,k,0,0,k,-k,0],T=e.root.children;
e.D.hM=[];for(var l=0;l<4;l++){var z=new bI(B[l*2]+o[l*2],B[l*2+1]+o[l*2+1]),W=!1;for(var $=0;$<T.length;
$++){var d=T[$].i;if(d.add.artb==null)continue;var q=d.iU();if(q.rI(z))W=!0}if(W){B[l*2]=1e9;continue}e.D.hM.push([l,B[l*2],B[l*2+1]])}};
i.ZN.prototype.disable=function(e,Z,F,b,_){this.hO(e)};i.ZN.prototype.hO=function(e){if(this.VF){this.VF.clear(e);
this.VF=null;e.D.hM=null}};i.ZN.prototype.NU=function(e,Z,F,b,_){this.AR=Date.now();var d=e.t.mG(_.x,_.y),S=this.VF;
if(S){var U=new j8(G.E.u),r=S.ajO(null,d,e,_);if(r<9){this.v0=S.NU(e,F,b,d,null,!0,_);return}else if(S.Y$(d)){U.k=i.l$;
U.data={d:"disabAuto"};Z.$(U);var q=new j8(G.E.W);q.data={d:G.B.LN,k:i.l$,afM:!0};Z.$(q);return}else{var w=-1,X=e.D.hM;
for(var l=0;l<X.length;l++){var Q=i.ZN.TL(X[l],e.t);if(bI.Ls(d,new bI(Q[1],Q[2]))<Q[0])w=X[l][0]}if(w!=-1){var c=e.g[e.V[0]].iU(),u=c.clone(),n=(w==0||w==2?c._:c.w)+this.Fi;
if(w==0||w==3)n=-n;if(w==0||w==2)c.y+=n;else c.x+=n;if(b.j(ex.sW)){U.k=i.__;U.data={d:g.YB};Z.$(U);i.rX._u(e,e.V9(null,e.V[0],null,!0),null,c.x-u.x,c.y-u.y);
i.Za.J4(e)}else this.Y2(e,c,Z);return}}}this.Re=i.rX.gC(e,d,F)};i.ZN.prototype.Y2=function(e,Z,F){var b=e.g.slice(0),_=[e.g.length+1],d=e.yG();
d.Hr("Artboard "+(e.root.children.length+1));d.add.lsct=jj.$R;d.bc(Z);if(this.R2){var S=d.add.artb,U=this.R2;
for(var r in U)S[r]=U[r]}d.Du="pass";d.jj=24;if(e.add.artd||Z.QP(new e3(0,0,e.w,e._)).BJ())b.push(e.vs());
else b.unshift(e.vs());b.push(d);var q=new j8(G.E.u);q.k=i.__;q.data={d:g.mM,Op:b,rn:_,Pj:"New Artboard"};
F.$(q)};i.ZN.prototype.SE=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=this.VF,U=this.Re;if(S){if(this.v0){S.SE(e,F,b,d)}else{var r=S.JE(d,e.t.e,null,_);
if(r==null)r="default";var q=new j8(G.E.W,!0);q.data={d:G.B.MQ,$P:r};Z.$(q)}}if(U){var w=this.SO(e,d,b,F);
e.D.x9=V.H.gb(w);e.sp=!0;i.kC.QB(_,w,e,F)}};i.ZN.prototype.UD=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y),S=this.Re;
if(this.v0){this.VF.UD(e,F,b,d);this.v0=!1;var U=V.H.CN(this.VF.ZH()),r=g.rx(U),q=e.g[e.V[0]],w=JSON.parse(JSON.stringify(q.add.artb));
w.artboardRect.v=r;var X=new j8(G.E.u,!0);X.k=i.__;X.data={d:g.vl,WI:w};Z.$(X)}if(S){var Q=this.SO(e,d,b,F);
if(Q.Z()>20)this.Y2(e,Q,Z);e.D.x9=null;e.sp=!0;this.Re=null;e.D.EM=[]}};i.ZN.prototype.SO=function(e,Z,F,b){var _=this.Re,d=i.rX.gC(e,Z,b),S=i.Dd.NR(_,d,F,!0);
_=S[0];d=S[1];return V.H.CN([_.x,_.y,d.x,d.y])};function j1(e,Z,F,b,_,d,S,U){this.tw=null;this.yk=e?e.slice(0):null;
this.SQ=4;this.V0=null;this.ah=null;this.Og=null;this.XX=-1;this.sz=null;this.al0=!1;this.aoH=[];for(var l=0;
l<8;l++)this.aoH.push(fg.aty(0,PIMG.rotate,-.5,-.5,-45-l*45));this.alz=Z;this.agq=F;this.abF=b;this.af6=_;
this.Y4=d;this.kK=S;this.a0q=U==null?1:U}j1.prototype.pA=function(){return this.XX!=-1};j1.prototype.ZH=function(){return this.yk.slice(0)};
j1.prototype.vA=function(e){this.yk=e};j1.prototype.a3N=function(){return this.$V(this.yk)};j1.prototype.ak6=function(){return this.SQ};
j1.prototype.a9V=function(e){this.SQ=e};j1.prototype.mf=function(e){if(e==null)e=this.yk;if(this.SQ==9)return this.V0;
else return this.$V(e)[this.SQ]};j1.prototype.a5O=function(e){if(this.SQ==9)this.V0=e.clone();else{var Z=this.mf(),F=new jg(1,0,0,1,e.x-Z.x,e.y-Z.y);
V.H.A(this.yk,F,this.yk)}};j1.prototype.JE=function(e,Z,F,b){var _=this.l3(null,e,Z,b),d;if(_==9)return"default";
if(_==10){if(F)return null;return!this.alz?"move":null}if(_==-1||_==4)return null;if(_==11){var S=this.mf().iv(e);
d=90-Math.atan2(S.y,S.x)*180/Math.PI;var U=Math.round(8*(d/360));U=(U+8)%8;return this.aoH[U]}else{var r=this.OW(e,this.yk);
d=[135,90,45,180,0,0,225,270,315][_];var q=V.N.R5(this.yk);d+=Math.atan2(-q[3],q[0])*180/Math.PI;var w="ew nesw ns nwse ew nesw ns nwse".split(" "),U=Math.round(8*(d/360));
U=(U+8)%8;return w[U]+"-resize"}};j1.prototype.OW=function(e,Z){var F=V.N.eG(V.N.R5(Z)),b=new Float64Array(2);
V.N.im(e.x,e.y,F,b);return new bI(b[0],b[1])};j1.prototype.Y$=function(e){var Z=this.OW(e,this.yk);return 0<=Z.x&&Z.x<=1&&0<=Z.y&&Z.y<=1};
j1.prototype.NU=function(e,Z,F,b,_,d,S){this.al0=d;this.sz=b;var U=e.t.e,r;if(this.yk==null)b=i.rX.gC(e,b,Z);
this.Og=b.clone();if(this.yk==null){this.Og.offset(1,1);var q=_==null?1:1/_;this.yk=[b.x,b.y,b.x+1,b.y,b.x+1,b.y+q,b.x,b.y+q];
r=8}else{r=this.l3(F,b,U,S);if(0<=r&&r<=8)this.Og=this.$V(this.yk)[r];if(r==9){this.SQ=9;this.V0=b.clone()}}this.tw=this.yk.slice(0);
this.XX=r;this.HS(e,Z);this.ah=this.mf();return r!=-1};j1.prototype.ajO=function(e,Z,F,b){return this.l3(e,Z,F.t.e,b)};
j1.prototype.l3=function(e,Z,F,b){var _=-1,d=this.$V(),S=b?i.uE({t:{e:F}},b):6*i.F()/F;if(_==-1)if(bI.Ls(this.mf(),Z)<S)_=9;
if(_==-1)for(var l=0;l<d.length;l++)if(l!=4&&bI.Ls(d[l],Z)<S)_=l;if(_==-1&&e&&e.j(ex.sW))_=9;if(_==-1||this.kK==4){if(this.Y$(Z)){if(this.alz)_=10}else{var U=this.OW(Z,this.yk),r=new e3(0,0,1,1);
r.qN(.2,.2);_=r.rI(U)&&this.kK!=3?11:10}}return _};j1.prototype.SE=function(e,Z,F,b){if(this.XX==-1)return;
this.sz=b;var _=F.j(ex.Ng),d=F.j(ex.sW),S=F.j(ex.Nh),U=e.t.e,r=this.Og,q=this.XX,w=this.$V(),X=i.rX.gC(e,r,Z),Q=i.rX.gC(e,b,Z),c,u;
if(q==9){var w=this.$V(),n=-1;for(var l=0;l<w.length;l++)if(bI.Ls(w[l],Q)*U<10)n=l;this.SQ=n==-1?9:n;
this.V0=_?i.vS.eo(X,Q):Q.clone()}else if(q==10){u=V.H.HA(this.tw);var k=u.x,B=u.y;u.offset(b.x-r.x,b.y-r.y);
if(this.Nx()){u.x=Math.round(u.x);u.y=Math.round(u.y)}c=i.rX.DS(e,u,Z);var o=new jg(1,0,0,1,u.x-k+c[0],u.y-B+c[1]);
V.H.A(this.tw,o,this.yk)}else if(q==11){var T=this.mf(this.tw),z=T.iv(b),W=T.iv(r),$=Math.atan2(z.y,z.x),R=Math.atan2(W.y,W.x),o=new jg(1,0,0,1,-T.x,-T.y),P=Math.PI/12;
if(_)o.rotate(Math.round((R-$)/P)*P);else o.rotate(R-$);o.translate(T.x,T.y);V.H.A(this.tw,o,this.yk)}else{var H,y=this.tw,h=q==0||q==2||q==6||q==8;
if(this.kK==1){if(h)_=d=S=!0}else if(this.kK==2&&h&&this.al0!=!0)S=!0;if(this.kK==3)S=!1;if(this.abF&&h&&S){var l=[0,0,2,0,0,0,6,0,4,0][q],m=-1,t=Q.x,j=Q.y;
if(_){var x=l+6&7,C=l+10&7,L=j1.M0(y[l],y[l+1],y[x],y[x+1],Q.x,Q.y),f=j1.M0(y[l],y[l+1],y[C],y[C+1],Q.x,Q.y),D=L[2]<f[2]?L:f;
t=D[0];j=D[1];if(d)m=L[2]<f[2]?x:C}else if(d)m=l+4&7;H=y.slice(0);if(m!=-1){var v=y[m],A=y[m+1],M=(y[l]+v)/2,Y=(y[l+1]+A)/2;
H[m]=M-(t-M);H[m+1]=Y-(j-Y)}H[l]=t;H[l+1]=j}else if(h&&d){var T=this.ah,J=T.x,I=T.y,p=X.x-J,a=X.y-I,er=1,c8=1;
if(Math.abs(p)>=1)er=(Q.x-J)/p;if(Math.abs(a)>=1)c8=(Q.y-I)/a;if(_||this.Y4)er=c8=(er+c8)/2;var o=new jg;
o.translate(-J,-I);o.scale(er,c8);o.translate(J,I);H=y.slice(0);V.H.A(H,o,H)}else{if(this.Nx()){Q.x=Math.round(Q.x);
Q.y=Math.round(Q.y)}var O=[0,1,2,5,8,7,6,3],dF=O[(O.indexOf(q)+4)%8],gl=[];for(var l=0;l<3;l++)for(var m=0;
m<3;m++)gl.push(new bI(m/2,l/2));var T=this.ah,e0=this.OW(Q,y),bv=this.OW(r,y),gm=d&&(this.SQ==4||this.SQ==9)?this.OW(T,y):gl[dF],iW=new jg,jx=new jg,er=(e0.x-gm.x)/(bv.x-gm.x);
if(er==0)er=1e-4;var c8=(e0.y-gm.y)/(bv.y-gm.y);if(c8==0)c8=1e-4;if(this.af6){er=Math.max(er,0);c8=Math.max(c8,0)}if(q==0||q==2||q==6||q==8){if(_||this.Y4)iW.scale(er,er);
else iW.scale(er,c8)}if(q==1||q==3||q==5||q==7){var aC=this.Y4;if(q==1||q==7)iW.scale(aC?c8:1,c8);else iW.scale(er,aC?er:1);
if(this.agq&&S){if(q==1||q==7)jx.d_=(e0.x-gm.x)/(e0.y-gm.y);else jx.S=(e0.y-gm.y)/(e0.x-gm.x)}}var o=new jg;
o.translate(-gm.x,-gm.y);o.concat(iW);o.concat(jx);o.translate(gm.x,gm.y);H=[0,0,1,0,1,1,0,1];V.H.A(H,o,H);
var D=V.N.R5(y);V.N.A(D,H)}if(j1.F0(H))this.yk=H}this.HS(e,Z);if(c)i.rX.J9(e,u,c)};j1.M0=function(e,Z,F,b,_,d){var S=F-e,U=b-Z,r=_-e,q=d-Z,w=S*S+U*U,X=r*S+q*U,Q=X/w,c=e+Q*S,u=Z+Q*U,n=_-c,k=d-u;
return[c,u,Math.sqrt(n*n+k*k)]};j1.prototype.Nx=function(){var e=this.yk;return Math.abs(e[1]-e[3])<1e-6&&Math.abs(e[2]-e[4])<1e-6||Math.abs(e[0]-e[2])<1e-6&&Math.abs(e[3]-e[5])<1e-6};
j1.F0=function(e){return V.H.q0(e)||V.H.q0([e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]])};j1.prototype.UD=function(e,Z,F,b){this.XX=-1;
this.sz=null;e.D.Hv=null;e.D.EM=[];e.sp=!0};j1.prototype.b8=function(e,Z,F){var b=F.qY();if(b.x||b.y){var _=new jg(1,0,0,1,b.x,b.y);
V.H.A(this.yk,_,this.yk);this.HS(e,Z);return!0}return!1};j1.prototype.$V=function(e){if(e==null)e=this.yk;
var Z=e[6]-e[0],F=e[7]-e[1],b=e[4]-e[2],_=e[5]-e[3],d=[e[0],e[1],e[2],e[3],e[0]+Z/2,e[1]+F/2,e[2]+b/2,e[3]+_/2,e[6],e[7],e[4],e[5]],S=[];
for(var l=0;l<3;l++){var U=l*4,r=d[U+0],q=d[U+1],w=d[U+2],X=d[U+3];S.push(new bI(r,q));S.push(new bI(r+(w-r)/2,q+(X-q)/2));
S.push(new bI(w,X))}return S};j1.prototype.HS=function(e,Z,F){if(F==null)F=!1;var b=this.$V(),_=b[0],d=b[2],S=b[6],U=b[8];
e.D.x9={C:[],s:[]};e.D.x9.C.push("M","L","L","L","Z");e.D.x9.s.push(_.x,_.y,d.x,d.y,U.x,U.y,S.x,S.y);
var r=this.a0q;if(r>1){var q=d.iv(_),w=S.iv(_),X=U.iv(d),Q=U.iv(S);for(var l=1;l<r;l++){e.D.x9.C.push("M","L","M","L");
var c=l/r;e.D.x9.s.push(_.x+q.x*c,_.y+q.y*c,S.x+Q.x*c,S.y+Q.y*c);e.D.x9.s.push(_.x+w.x*c,_.y+w.y*c,d.x+X.x*c,d.y+X.y*c)}}e.t.M1=new e3(0,0,bI.Ls(b[0],b[2]),bI.Ls(b[0],b[6]));
if(this.XX!=-1&&this.XX<9&&this.sz){var u=e.t.Td(this.sz.x,this.sz.y);i.kC.QB(u,e.t.M1,e,Z)}if(!F){e.D.Zq=[];
for(var l=0;l<b.length;l++)if(l!=4)e.D.Zq.push(b[l].x,b[l].y);var n=this.mf();e.D.Zq.push(n.x,n.y)}e.sp=!0};
j1.prototype.clear=function(e){e.t.M1=null;e.D.Hv=null;e.D.x9=null;e.D.Zq=[];e.sp=!0};function bn(e,Z){this.YY=null;
this.XX=-1;this.u1(e)}bn.prototype.Ad=function(){return JSON.parse(JSON.stringify(this.YY))};bn.prototype.u1=function(e){this.YY=JSON.parse(JSON.stringify(e))};
bn.prototype.Y$=function(e){return!0};bn.prototype.JE=function(e,Z,F,b){var _=this.l3(e,Z,b);if(_==-1)return"default";
return"pointer"};bn.prototype.NU=function(e,Z,F,b,_,d,S){this.XX=this.l3(b,e.t.e,S);return this.XX!=-1};
bn.prototype.l3=function(e,Z,F){var b=this.r5(),_=-1,d=1e6;for(var l=0;l<b.length;l++){var S=bI.Ls(b[l],e);
if(S<d){_=l;d=S}}return d<(F?i.uE({t:{e:Z}},F)*2:20*i.F()/Z)?_:-1};bn.prototype.SE=function(e,Z,F,b){if(this.XX==-1)return;
var _=e.t.e,d=this.XX,S=V.YY.wl(this.YY);S[d*2]=b.x;S[d*2+1]=b.y;V.YY.B8(S,this.YY)};bn.prototype.UD=function(e,Z,F,b){this.XX=-1;
e.sp=!0};bn.prototype.b8=function(e,Z,F){var b=F.qY();if(b.x||b.y){var _=new jg(1,0,0,1,b.x,b.y);V.H.A(this.yk,_,this.yk);
this.HS(e)}};bn.prototype.r5=function(e){var Z=V.YY.wl(this.YY),F=[];for(var l=0;l<Z.length;l+=2)F.push(new bI(Z[l],Z[l+1]));
return F};bn.prototype.HS=function(e){var Z=this.r5();e.D.x9={C:[],s:[]};e.D.x9.C.push("M","C","C","C","C");
var F=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var l=0;l<F.length;l++)e.D.x9.s.push(Z[F[l]].x,Z[F[l]].y);
e.D.x9.C.push("M","L","L","M","L","L","M","L","L","M","L","L");F=[4,0,1,2,3,7,11,15,14,13,12,8];for(var l=0;
l<F.length;l++)e.D.x9.s.push(Z[F[l]].x,Z[F[l]].y);e.D.Zq=[];for(var l=0;l<Z.length;l++)e.D.Zq.push(Z[l].x,Z[l].y);
e.sp=!0};bn.prototype.clear=function(e){e.D.x9=null;e.D.Zq=[];e.sp=!0};function f2(){this.MU=!1;this.EF=!1;
this.ari=!1;this.alQ=!1;this.g5=!1;this.ND=!1;this.kq=0;this.Uq=0}f2.prototype.NU=function(e){this.MU=!0;
this.EF=!1;this.g5=e.j(ex.Ng);this.ND=e.j(ex.sW);this.kq=this.g5?0:1;this.Uq=this.ND?0:1};f2.prototype.b8=function(e){var Z=this.alQ=e.j(ex.Ng),F=this.ari=e.j(ex.sW);
if(this.EF){if(this.kq==0&&!Z)this.kq++;if(this.kq==1&&Z)this.kq++;if(this.Uq==0&&!F)this.Uq++;if(this.Uq==1&&F)this.Uq++}};
f2.prototype.SE=function(){this.EF=!0};f2.prototype.UD=function(){this.MU=!1};f2.prototype.jd=function(l){if(l==0)return this.MU?this.ND:this.ari;
if(l==1)return this.EF?this.Uq==2:!1};f2.prototype.ZC=function(l){if(l==0)return this.MU?this.g5:this.alQ;
if(l==1)return this.EF?this.kq==2:!1};i.History=function(){i.kC.call(this,"History",i.Pi);this.Ln=!0;
this.aa7=0};i.History.prototype=new i.kC;i.History.prototype.at=function(e,Z,F,b){F.Zc=!0;if(e.d=="h_itemchange"){if(e.index<F.Ti)for(var l=F.Ti;
l>e.index;l--)this.zG(F);if(e.index>F.Ti)for(var l=F.Ti;l<e.index;l++)this.p9(F)}if(e.d=="h_stepfwd")this.p9(F);
if(e.d=="h_stepbck")this.zG(F);if(e.d=="h_undoredo"){var _=this.Ln||this.aa7!=F.Ti;if(_){this.zG(F);
_=!1}else{this.p9(F);_=!0}this.Ln=_;this.aa7=F.Ti}else this.Ln=!0};i.History.prototype.zG=function(e){if(e.Ti==0)return;
var Z=e.history[e.Ti];Z.k.Mi(Z.data,e);e.Ti--};i.History.prototype.p9=function(e){if(e.Ti==e.history.length-1)return;
var Z=e.history[e.Ti+1];Z.k.Fm(Z.data,e);e.Ti++};i.b0=function(){i.kC.call(this,"Layers",i.__);this.bt=null};
i.b0.prototype=new i.kC;i.b0.prototype.at=function(e,Z,F,b,_){this.bt=Z;var d=e.d,S=e.i!=null?e.i:F.V.length!=0?F.V[0]:F.g.length-1,U=F.g[S];
F.oW=!0;var r=b.j(ex.sW),q=b.j(ex.Ng),w=b.j(ex.Nh);if(d==g.XB&&F.K==null&&(F.V.length>1||!F.gy(!1)))d=g.YB;
if(d==g.tx){var X=new eh([6,33],this),Q=U.yx()?["pass"].concat(ae.Qd):ae.Qd,c=Q[e.mQ],u=e.i!=null?[e.i]:F.V,n=JSON.stringify(u),k=[];
for(var l=0;l<u.length;l++)k.push(F.g[u[l]].Du);X.data={d:d,X$:n,mi:k,mQ:c};F.XM(X);this.Fm(X.data,F);
this.track(dz.p1("Md",{t:"enum",v:{BlnM:ae.px(c)}}))}if(d==g.H4){var X,B=F.Yj(),u=e.i!=null?[e.i]:F.V,n=JSON.stringify(u);
if(B&&B.data&&B.data.d==d&&B.data.X$==n)X=B;else{var o=dz.p1("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(o);var k=[];for(var l=0;l<u.length;l++)k.push(F.g[u[l]].opacity);X=new eh([6,32],this);X.data={d:d,X$:n,mi:k,mQ:e.mQ,p3:o.ni};
F.XM(X)}X.data.mQ=e.mQ;X.data.p3.T.v.Opct.v.val=Math.round(e.mQ*100/255);this.Fm(X.data,F)}if(d==g.K3){if(U.add.iOpa==null)U.add.iOpa=255;
var X,B=F.Yj();if(B&&B.data&&B.data.d==d&&B.data.i==S)X=B;else{X=new eh("Fill Opacity Change",this);
X.data={d:d,i:S,mi:U.add.iOpa,mQ:e.mQ};F.XM(X)}X.data.mQ=e.mQ;this.Fm(X.data,F)}if(d==g.TR){var T=e.mQ,z=e.i!=null?[e.i]:F.V.slice(0),W=[],$=[],X;
for(var R=0;R<z.length;R++){var P=F.g[z[R]];if(P.add.lspf==null)P.add.lspf=0;var k=P.add.lspf,c=k;for(var l=0;
l<T[0].length;l++){var H=T[1][l],y=1<<H;if((c&y)==0&&T[0][l])c^=y;else if((c&y)!=0&&!T[0][l])c^=y}W.push(k);
$.push(c)}var B=F.Yj(),u=JSON.stringify(z);if(B&&B.data&&B.data.d==d&&JSON.stringify(B.data.X$)==u){X=B;
X.data.mQ=$}else{var X=new eh([6,57,1],this);X.data={d:d,X$:u,mi:W,mQ:$};F.XM(X)}this.Fm(X.data,F)}if(d==g.Bc){var h="----",m=e.jS,c=null;
for(var l=0;l<jw.zE.Ku.length;l++)if(U.add[jw.zE.Ku[l]])h=jw.zE.Ku[l];var t=U.add[h];if(m=="TySh")c=fN.hB(50,50,_.Cv);
var X=new eh("Layer Type",this);X.data={d:d,i:S,a9J:[h,t],jS:[m,c]};F.XM(X);this.Fm(X.data,F)}if(d==g.fk){var z=[];
if(r){var j=F.Yj(),x=j?j.data:null;if(j!=null&&j.k==this&&x.d==g.fk&&x.X$.length!=1){var C=new j8(G.E.u);
C.k=i.Pi;C.data={d:"h_stepbck"};Z.$(C);if(x.i==S)return}var L=F.root.OV(S),f=F.V9(null,S);while(L.parent!=F.root){f.push(L.parent.index);
L=L.parent}for(var l=0;l<F.g.length;l++){var D=F.g[l],v=D.ir(),A=f.indexOf(l)!=-1;if(!A&&v)z.push(l);
if(l==S&&!v)z.push(l)}}else{z.push(S);var v=F.g[S].ir(),o={qg:v?"hide":"show",ni:{classID:v?"Hd":"Shw",null:{t:"VlLs",v:[dz.vz("Lyr",!0)]}}};
this.track(o)}var X=new eh("Layer visibility",this,!0);X.data={d:d,X$:z,i:S};F.XM(X);this.Fm(X.data,F)}if(d==g.cI){var M=e.an8,J=e.nH,a,escape=!1,dF=!1;
if(e.a1w){if(w&&(J==0||J==1||J==2)){var I=0;if(q)I++;if(r)I+=2;var p=new j8(G.E.u,!0);p.k=i._6;p.data={d:"fromlayer",wg:[e.i,J,I]};
Z.$(p);return}}var o={qg:"select",ni:{classID:"null",MkVs:{t:"bool",v:!1}}};if(F.t.$v.join("")!="111"){F.t.$v=[1,1,1];
F.sp=!0}for(var l=0;l<F.g.length;l++){var D=F.g[l],er=D.add.vmsk;if(D.bR()){var c8=D.EB(F);if(c8&&c8.v&&c8.v.oB){c8.v.oB=!1;
F.sp=!0}}var O=D.Vj();if(O&&O.oB){O.oB=!1;F.sp=!0}if(er){if(er.V.length!=0)er.V=[];if(er.LD.length!=0)er.LD=[]}}if(b.j(ex.Nh)||e.a6T==0){var gl=F.V.indexOf(S);
if(gl==-1)F.V.push(S);else if(F.V.length>1)F.V.splice(gl,1);F.V.sort(function(X,aB){return X-aB});o.ni.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
a=S}else if(q&&!r&&J>0){d=J==1?g.IF:J==2?g.je:g.gG;escape=!0}else if((q||e.a6T==1)&&F.V.length>0){var e0=Math.min(S,F.V[0]),bv=Math.max(S,F.V[F.V.length-1]);
F.V=[];for(var l=e0;l<=bv;l++)if(F.g[l].add.lsct!=jj.Hx)F.V.push(l);o.ni.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
a=S}else{a=S;if(S>=F.g.length)return;var D=F.g[S];if(D&&D.yx()&&e.a46)D.add.lsct=jj.$R;else if(F.V.length==1&&F.V[0]==S&&J==D.WA){dF=!0}if(!dF){F.V=[S];
F.$f()}}if(!dF){if(a!=null&&a<F.g.length){o.ni.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:F.g[a].getName()}}]},this.track(o)}if(!escape){console.log("no escape");
if(F.V.length==1){var gm=F.V[0];for(var l=0;l<F.g.length;l++){if(l==gm)continue;var P=F.g[l];P.WA=0;
P.c7=!1}var U=F.g[gm];if(J==2){U.c7=!U.c7;F.YN=[]}else if(U){U.WA=J<=0?0:J}}else for(var l=0;l<F.g.length;
l++){var P=F.g[l];P.WA=0;P.c7=!1}F.sQ=null;F.Zc=!0}}if(e.a1w&&r){if((J==1||J==3)&&M!=null){var p=new j8(G.E.u,!0);
p.k=i.GD;p.data={d:"mskView",I:M!=0?0:q?1:2};Z.$(p)}else{this.at({d:g.jp,i:e.i},Z,F,b,_)}}}if(d==g.IF||d==g.gG){var iW=d==g.IF,jx=iW?U.Vj():U.EB(F).v;
if(jx==null)return;var X=new eh(jx.isEnabled?iW?[6,15]:[6,42]:iW?[6,14]:[6,41],this);X.data={d:d,i:S};
F.XM(X);this.Fm(X.data,F)}if(d==g.je){var jx=U.add.vmsk;if(jx==null)return;var X=new eh(jx.isEnabled?[6,17]:[6,16],this);
X.data={d:d,i:S};F.XM(X);this.Fm(X.data,F)}if(d==g.sZ){var aC=U.add.lsct==jj.$R?jj.ZU:jj.$R;if(b.j(ex.Nh)){var d9=F.root.OV(F.g.indexOf(U)).parent;
for(var l=0;l<d9.children.length;l++){var bS=d9.children[l].i;if(bS.yx())bS.add.lsct=aC}}else U.add.lsct=aC;
F.Zc=!0}if(d==g.jp){if(!F.YF(S))return;var X=new eh(U.bN?[6,19]:[6,18],this);X.data={d:d,i:S};F.XM(X);
if(e.mQ==null||e.mQ!=U.bN)this.Fm(X.data,F)}if(d==g.yZ){if(U.UB())U.jj-=32;else U.jj+=32;F.Zc=!0}if(d==g._L||d==g.SN){var X;
if(d==g._L)X=new eh(U.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(d==g.SN)X=new eh(U.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
X.data={d:d,i:S};F.XM(X);this.Fm(X.data,F)}if(d==g.wG||d==g.X4){var gm=e.index,X;if(d==g.wG)X=new eh(U.add.lmfx[fu.VX[gm[0]]].v[gm[1]].v.enab.v?[6,30]:[6,29],this);
if(d==g.X4)X=new eh(U.add.SoLd.filterFX.v.filterFXList.v[gm].v.enab.v?[6,44]:[6,43],this);X.data={d:d,i:S,index:e.index};
F.XM(X);this.Fm(X.data,F)}if(d==g.O7){if(e.src==e.oz)return;var jo=F.g[e.src],g7=F.g[e.oz],dI=jo.add.lmfx?JSON.stringify(jo.add.lmfx):"",gn=g7.add.lmfx?JSON.stringify(g7.add.lmfx):"";
if(g7.add.lmfx==null){g7.add.lmfx=JSON.parse(fu.default);for(var l=0;l<fu.order.length;l++)g7.add.lmfx[fu.VX[l]]={t:"VlLs",v:[]}}if(e.el==null){g7.add.lmfx=JSON.parse(dI);
if(!r)delete jo.add.lmfx}else{var hI=e.el[0],d$=fu.VX[hI];if(fu.Ph.indexOf(fu.order[hI])==-1)g7.add.lmfx[d$].v=[];
g7.add.lmfx[d$].v.push(jo.add.lmfx[d$].v[e.el[1]]);if(!r)jo.add.lmfx[d$].v.splice(e.el[1],1)}var eX=jo.add.lmfx?JSON.stringify(jo.add.lmfx):"",d3=g7.add.lmfx?JSON.stringify(g7.add.lmfx):"";
if(!g7.UB())g7.jj+=32;var X=new eh("Move Layer Styles",this);X.data={d:d,CZ:e.src,g3:e.oz,asl:dI,apb:gn,anb:eX,a1k:d3};
F.XM(X);this.Fm(X.data,F)}if(d==g.ta){if(e.src!=null)S=e.src;var P=F.g[S],cJ=JSON.stringify(P.add.SoLd),dM=JSON.parse(cJ),dh=dM.filterFX.v.filterFXList.v;
dh.splice(e.el,1);var X=new eh([6,53],this);X.data={d:g.xC,uw:[{CE:S,sa:[cJ,JSON.stringify(dM)]}]};F.XM(X);
this.Fm(X.data,F)}if(d==g.tz){var jh=r,jo=F.g[e.src],g7=F.g[e.oz],aK=[];if(jo!=g7&&g7.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jo==g7&&!jh&&(e.el==e.zs||e.el==-1))return;var ca=jo.EB(F),cJ=JSON.stringify(jo.add.SoLd),dM=JSON.parse(cJ),dh=dM.filterFX.v.filterFXList.v;
if(jo==g7){dh.splice(e.zs,0,dh[e.el]);if(!jh)dh.splice(e.el+(e.el<e.zs?0:1),1);aK.push({CE:e.src,sa:[cJ,JSON.stringify(dM)]})}else if(e.el==-1){var iY=dM.filterFX;
if(!jh){delete dM.filterFX;aK.push({CE:e.src,sa:[cJ,JSON.stringify(dM)],S0:[ca,null]})}var et=g7.bR()?g7.EB(F):null,jD=aH.JH(ca),j6=JSON.stringify(g7.add.SoLd),dc=JSON.parse(j6);
dc.placed.v=jD.id;dc.filterFX=iY;aK.push({CE:e.oz,sa:[j6,JSON.stringify(dc)],S0:[et,jD]})}else{var ao=dh[e.el];
if(!jh){dh.splice(e.el,1);aK.push({CE:e.src,sa:[cJ,JSON.stringify(dM)]})}var j6=JSON.stringify(g7.add.SoLd),dc=JSON.parse(j6);
if(dc.filterFX==null)dc.filterFX=ff.Zb();var ec=dc.filterFX.v.filterFXList.v;ec.splice(e.zs,0,ao);var fp={CE:e.oz,sa:[j6,JSON.stringify(dc)]};
if(!g7.bR()){var jD=aH.Jx(g7.add.SoLd.placed.v);fp.S0=[null,jD]}aK.push(fp)}var X=new eh([6,52],this);
X.data={d:g.xC,uw:aK};F.XM(X);this.Fm(X.data,F)}if(d==g.n2){var jx=U.Vj(),X=new eh(jx.wJ?[6,26]:[6,25],this);
X.data={d:d,i:S};F.XM(X);this.Fm(X.data,F);this.track({qg:"set",ni:{classID:"setd",null:{t:"obj ",v:[dz.vz("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:jx.wJ}}}}})}if(d==g.fP){var jx=U.add.vmsk,X=new eh(jx.wJ?[6,28]:[6,27],this);
X.data={d:d,i:S};F.XM(X);this.Fm(X.data,F)}if(d==g.LM){var eN=[],X;for(var l=0;l<F.V.length;l++){var R=F.V[l],D=F.g[R];
if(D.add.vogk)eN.push(R,JSON.stringify(D.add.vogk))}for(var l=0;l<F.YN.length;l++){var R=F.YN[l],D=F.Tl[R];
if(D.add.vogk)eN.push(-1-R,JSON.stringify(D.add.vogk))}V.$F.alM(F,e.I);var ha=[];for(var l=0;l<F.V.length;
l++){var R=F.V[l],D=F.g[R];if(D.add.vogk)ha.push(R,JSON.stringify(D.add.vogk))}for(var l=0;l<F.YN.length;
l++){var R=F.YN[l],D=F.Tl[R];if(D.add.vogk)ha.push(-1-R,JSON.stringify(D.add.vogk))}var B=F.Yj();if(B&&B.data&&B.data.d==d){var bJ=!0;
for(var l=0;l<eN.length;l+=2)if(eN[l]!=B.data.Ie[l])bJ=!1;if(bJ){X=B;X.data.x5=ha}}if(X==null){var X=new eh([12,91,1],this);
X.data={d:d,Ie:eN,x5:ha};F.XM(X)}this.Fm(X.data,F)}if(d==g.vl){var g3=JSON.stringify(U.add.artb),bL=JSON.stringify(e.WI),X;
F.g[S].add.artb=JSON.parse(bL);var fD=new e3(0,0,F.w,F._),bF=i.Za.YC(F),B=F.Yj();if(B&&B.data&&B.data.d==d&&B.data.i==S){X=B;
X.data.WI=bL}if(X==null){var X=new eh("Editing Artboard",this);X.data={d:d,i:S,aiM:g3,WI:bL,t9:fD};F.XM(X)}X.data.Xn=bF;
this.Fm(X.data,F)}if(d==g.B6){var ha=F.LE.slice(0),du=F.kl.slice(0),b8=F.K,jf=F.K;if(e.Yu=="fromAction"){var c1=e.I.qg,eV=e.I.ni;
if(c1=="make"||c1=="duplicate"){var be=ha.length,ea=!1,g4=!1;if(F.aX())be--;var fh=new g.hW;fh.name="Alpha "+(be+1);
if(c1=="make"){var i7=eV.Nw.v;fh.color=255;du=[be];fh.oB=!0;fh.ri=i7.Opct.v;if(i7.Nm)fh.name=i7.Nm.v;
if(i7.classID=="SCch"){ea=!0;jf=null;fh.K$=1}}else{var de=eV.null.v[0].v;if(de.keyID=="fsel")ea=!0;else{var hb=i.wL.BU(F);
jf=i.wL.Ic(F,hb);fh.color=0;fh.rect=jf.rect;fh.channel=jf.channel}}if(ea){fh.color=0;if(F.K){fh.rect=F.K.rect.clone();
fh.channel=F.K.channel.slice(0)}if(g4){fh.color=255-fh.color;V.eG(fh.channel)}}ha.splice(be,0,fh)}else if(c1=="delete"){if(U&&U.Vj()&&U.WA==1){this.at({d:g.WU},Z,F,b,_);
return}var f=F.kl;f.sort(function(X,aB){return aB-X});if(f.length==0)return;for(var l=0;l<f.length;l++)ha.splice(f[l],1);
du=[]}else if(c1=="hide"){ha[du[0]]=ha[du[0]].clone();ha[du[0]].oB=!1}}if(e.Yu=="rnm"){ha[e.wD]=ha[e.wD].clone();
ha[e.wD].name=e.name}var X=new eh("Channel Edit",this);X.data={d:d,Ie:F.LE.slice(0),YT:F.kl.slice(0),x5:ha,yH:du,Vf:b8,rn:jf};
this.Fm(X.data,F);F.XM(X)}if(d==g.mM){var hk=new e3(0,0,F.w,F._),X=new eh(e.Pj,this);X.data={d:g.mM,Gt:F.g.slice(0),Op:e.Op,lF:F.V.slice(0),GI:e.rn};
F.XM(X);this.Fm(X.data,F);var e9=i.Za.J4(F);if(e9){X.data.t9=hk;X.data.Xn=e9}}if(d==g.BD){var e2=F.V9(null,e.i),bt=1e10;
if(e2.length==0)return;if(F.g.length==e2.length){alert("Project must have at least 1 layer");return}var e8=[];
for(var l=0;l<F.g.length;l++)if(e2.indexOf(l)==-1)e8.push(F.g[l]);for(var l=0;l<e2.length;l++)bt=Math.min(bt,e2[l]);
bt=Math.max(bt-1,0);while(e8[bt].name=="</Layer group>")bt++;this.track({qg:"delete",ni:{classID:"Dlt",null:dz.vz("Lyr",!0)}});
var X=new eh([6,31],this);X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[bt]};F.XM(X);this.Fm(X.data,F)}if(d==g.DN){if(!b.j(ex.Ng))return;
var X=new eh("Switch Layer Link",this);X.data={d:d,i:e.i};F.XM(X);this.Fm(X.data,F)}if(d==g.QA){var f=e.a8m?e.a8m:F.V,cL=0,eI=!1;
if(f.length==0)return;if(f.length==1&&F.g[f[0]].YJ==0){alert(gA.get([15,7,5]));return}var j2=[];for(var l=0;
l<F.g.length;l++){var e$=F.g[l].YJ;j2.push(e$);cL=Math.max(cL,e$)}var fy=-1,jO=-1;for(var l=0;l<f.length;
l++){var e$=F.g[f[l]].YJ;if(e$==0)eI=!0;else if(fy==-1||fy==e$)fy=e$;else jO=e$}if(!eI)for(var l=0;l<f.length;
l++)F.g[f[l]].YJ=0;else if(fy!=-1&&jO==-1)for(var l=0;l<f.length;l++)F.g[f[l]].YJ=fy;else for(var l=0;
l<f.length;l++)F.g[f[l]].YJ=cL+1;var jR=[];for(var l=0;l<F.g.length;l++){var e$=F.g[l].YJ;if(jR[e$]==null)jR[e$]=0;
jR[e$]++}for(var l=0;l<F.g.length;l++){var e$=F.g[l].YJ;if(jR[e$]==1)F.g[l].YJ=0}var g0=j2;j2=[];for(var l=0;
l<F.g.length;l++){var e$=F.g[l].YJ;j2.push(e$);cL=Math.max(cL,e$)}var X=new eh(eI?[6,54,0]:[6,54,1],this);
X.data={d:g.QA,ajV:g0,akN:j2};F.XM(X);this.Fm(X.data,F)}if(d==g.YB&&(e.i!=null||F.V.length!=0)||d==g.bX){var gL=F.fb(d==g.YB?e.i:S,null,e.a7Z),cy;
if(d==g.bX){var P=gL[0],c1=P.add.SoLd.Idnt.v,cP=F.mI(c1).clone();P.add.SoLd.Idnt.v=cP.uz=aH.cG()+c1.slice(8);
F.add.lnk2.push(cP)}if(d==g.YB){var cn={qg:"duplicate",ni:{classID:"null",null:dz.vz("Lyr",!0)}};if(e.vn){gL[0].Hr(e.vn);
cn.Nm={t:"TEXT",v:e.vn}}this.track(cn);e.akU=e.i}d=g.sr;e.g=gL;e.C0=F;e.w3=F}if(d==g.sr){var aJ,iR,gj=e.C0,cZ=e.w3,az=0,c0=0,b0=!1,cU=0,hQ=0;
if(gj!=cZ){console.log("ADDLAYERS different projs");var aJ=new e3(0,0,gj.w,gj._),iR=new e3(0,0,cZ.w,cZ._),dp=[],f0=[];
for(var l=0;l<e.g.length;l++){var P=e.g[l];if(P.add.SoLd==null)continue;var c1=P.add.SoLd.Idnt.v;if(dp.indexOf(c1)==-1){dp.push(c1);
f0.push(aH.cG()+c1.slice(8))}P.add.SoLd.Idnt.v=f0[dp.indexOf(c1)];var ca=P.EB(gj);if(ca){gj.Wq(ca);cZ.zp(ca)}}if(dp.length>0){if(cZ.add.lnk2==null)cZ.add.lnk2=[];
for(var l=0;l<dp.length;l++){var g1=gj.mI(dp[l]),cP=g1.clone();cP.uz=f0[l];cZ.add.lnk2.push(cP)}}}var b8=cZ.V.slice(0);
b8.sort(function(X,aB){return X-aB});var e8=cZ.g.slice(0),jf=[],aV=-1;for(var l=0;l<b8.length;l++)aV=Math.max(aV,b8[l]);
if(e.akU!=null)aV=e.akU;var fM=gj.eZ();if(e.yl){aV=e.yl-1;var d_=cZ.g[e.yl].iU();az+=d_.x;c0+=d_.y}if(fM!=-1&&(gj!=cZ||e.yl)){var bN=gj.g[fM].iU();
az-=bN.x;c0-=bN.y}var hX=cZ.$j();aV++;for(var l=0;l<e.g.length;l++){var D=e.g[l],eH=D.add.artb;e8.splice(aV,0,D);
jf.push(aV);aV++;if(eH){var eO=eH.guideIndeces;if(eO){eO=eO.v;console.log(eO);for(var cr=0;cr<eO.length;
cr++){hX[0].push(gj.P3[eO[cr].v].slice(0));hX[1].push(e8.indexOf(D));b0=!0}}}}for(var l=0;l<e.g.length;
l++){var D=e.g[l];if(U.add.lsct==jj.Hx){if(cU==0)hQ++;cU++}else if(D.yx())cU--}if(hQ==1)jf=[aV-1];var X=new eh([6,0],this);
X.data={d:g.mM,Gt:cZ.g.slice(0),Op:e8,lF:b8,GI:jf};if(b0){X.data.rK=[cZ.$j(),hX]}cZ.XM(X);this.Fm(X.data,cZ);
if(az!=0||c0!=0)i.rX._u(cZ,cZ.V9(),null,az,c0)}if(d==g.tn){var ju=e.i!=null?[e.i]:F.V9(),e8=F.g.slice(0);
for(var l=0;l<ju.length;l++){var D=F.g[ju[l]].clone();D.Wa(F);e8.splice(ju[l],1,D)}var X=new eh([6,8],this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:F.V.slice(0)};F.XM(X);this.Fm(X.data,F)}if(d==g.bE){var e8=F.g.slice(0),D=e8[F.V[0]]=e8[F.V[0]].clone(),ez=D.add.lmfx,ar=0;
delete D.add.lmfx;var ej=V.J(D.rect.Z());V.yC(D.buffer,ej,3);var cB=d4._e(ez,null,ej,D.rect,F,D.rect).type;
for(var l=0;l<fu.order.length;l++){var aW=fu.order[l],iK=cB[aW],jE=l>7;for(var cr=0;cr<iK.length;cr++){var an=iK[cr],u=F.yG();
u.Du=an.tg;u.opacity=Math.round(255*an.Rv);u.bN=!jE;u.buffer=an.XT;u.rect=an.Od;u.rect.offset(D.rect.x,D.rect.y);
u.Hr(D.getName()+"'s "+gA.get(fu.names[l]));e8.splice(F.V[0]+(jE?0:1),0,u);if(jE)ar++}}var X=new eh("Styles to Layers",this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[F.V[0]+ar]};F.XM(X);this.Fm(X.data,F)}if(d==g.TZ){var ju=F.V9(),e8=F.g.slice(0),gC=new e3(0,0,F.w,F._);
for(var l=0;l<ju.length;l++){var eL=F.g[ju[l]],j7=eL.ir();eL.cm(!0);var ag=F.root.OV(ju[l]);if(eL.yx())continue;
if(ag==null)continue;var D=eL.clone();D.Wa(F);var dk=ag.jK(F,!0),h0=F.g;F.ed([eL]);F.G();F.Om();D.buffer=V.J(dk.Z()*4);
V.Rf(F.zB(),gC,D.buffer,dk);D.rect=dk;D.opacity=255;D.add.iOpa=255;D.Du="norm";D.G();D.xP.XI=!0;F.ed(h0);
if(D.add.lmfx)delete D.add.lmfx;D.v=D.KX=null;e8.splice(ju[l],1,D);D.cm(j7);eL.cm(j7)}var X=new eh([6,34],this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:F.V.slice(0)};F.XM(X);this.Fm(X.data,F)}if(d==g.tj){var ju=F.V9(),e8=F.g.slice(0);
for(var l=0;l<ju.length;l++){var D=F.g[ju[l]],dQ=D.add.TySh;if(dQ==null)continue;var P=new ge(dQ.HV,_.W5),gS=V.H.bb(ac.PX(P,dQ));
for(var dN in gS){var eY=gS[dN],bS=D.clone();delete bS.add.TySh;bS.jj=bS.jj|1<<4;bS.add.SoCo=JSON.parse(JSON.stringify(fu.hV[0]));
var i3=bS.add.SoCo.Clr.v;i3.Rd.v=parseInt(dN.slice(1,3),16);i3.Grn.v=parseInt(dN.slice(3,5),16);i3.Bl.v=parseInt(dN.slice(5,7),16);
var hS=new g.NX;hS.T=V.H.t6(eY,!1);if(bS.add.vmsk!=null){bS.add.vmsk.aiw();hS.concat(bS.add.vmsk)}bS.add.vmsk=hS;
bS.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));bS.ov();bS.kJ(F);e8.splice(e8.indexOf(D),0,bS)}e8.splice(e8.indexOf(D),1)}var jf=F.V.slice(0);
for(var l=jf.length-1;l>=0;l--)if(jf[l]>=e8.length)jf.splice(l,1);var X=new eh([6,40],this);X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:jf};
F.XM(X);this.Fm(X.data,F)}if(d==g.RS){var gu=F.V.length;if(gu<2){alert("Select two or more layers.");
return}if(!F.m6())return;var bS=F.g[F.V[0]].clone(),e8=[];for(var l=0;l<F.g.length;l++)if(F.V.indexOf(l)==-1)e8.push(F.g[l]);
e8.splice(F.V[0],0,bS);for(var l=1;l<gu;l++)if(F.g[F.V[l]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var l=1;l<gu;l++){var D=F.g[F.V[l]],b5=D.rect.clone();b5.qN(1,1);var aB=V.J(b5.Z()*4);V.Rf(D.buffer,D.rect,aB,b5);
bS.extend(b5);var b4=V.J(b5.Z()*4);V.Rf(bS.buffer,bS.rect,b4,b5);var X=V.J(b5.Z());V.yC(aB,X,3);V.round(X,200);
V.s$(X,aB,3);V.a.sB("norm",aB,b5,b4,b5,b5,1);V.VD.sh(b4,X,b5);V.Rf(b4,b5,bS.buffer,bS.rect)}var X=new eh([2,10,0],this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[F.V[0]]};F.XM(X);this.Fm(X.data,F)}if(d==g.pK){var e8=F.g.slice(0),du=F.V.slice(0);
for(var l=0;l<e8.length;l++){var D=e8[l],er=D.add.vmsk;if(D._l()&&er&&D.add.vstk.strokeEnabled.v&&!D.add.vstk.fillEnabled.v){var el=er.T,aF=0,ig=-1;
for(var cr=0;cr<el.length;cr++){if((el[cr].type==0||el[cr].type==3)&&el[cr].A8!=-1){aF++;if(el[cr].type==3&&ig==-1){el[cr].SS=el[cr].A8=1;
ig=cr}}}if(aF>1&&ig!=-1){console.log("separating an open path into a new layer");D=D.clone();er=D.add.vmsk;
el=er.T;var u=el[ig].length,dO=D.clone();dO.add.lyid=F.Jo();er.T=el.slice(0,2).concat(el.slice(ig,ig+u+1));
er.V=[];D.kJ(F);D.G();var gQ=dO.add.vmsk.T;dO.add.vmsk.T=gQ.slice(0,ig).concat(gQ.slice(ig+u+1,gQ.length));
dO.add.vmsk.V=[];dO.kJ(F);e8[l]=D;e8.splice(l+1,0,dO);for(var cr=0;cr<du.length;cr++)if(du[cr]>l)du[cr]++;
var fQ=du.indexOf(l);if(fQ!=-1){du.splice(fQ+1,0,l+1)}}}}if(e8.length!=F.g.length){var X=new eh("Splitting open paths",this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:du};F.XM(X);this.Fm(X.data,F)}}if(d==g.lp){this.at({d:g.pK},Z,F,b,_);
var b8=F.V.slice(0),h0=F.g.slice(0),ju=F.V9();if(ju.length==0)return;F.SU(ju,!1,e.ix);var X=new eh([6,36,0],this);
X.data={d:g.mM,Gt:h0,Op:F.g.slice(),lF:b8,GI:F.V.slice(0)};F.XM(X);this.Fm(X.data,F)}if(d==g.KT){var cJ=U.add.SoLd;
if(cJ==null)return;var c1=cJ.Idnt.v,hW=F.mI(c1);hW.zB(!1);var cC=hW.Sa[0],b5=hW.Sa[1];if(V.DA(cC)){alert("The smart object contains transparency.");
return}var fT=fg.H_("jpg").ng([[cC.buffer]],b5.w,b5._,[90]);this.at({d:g.ku,Bm:F,data:new Uint8Array(fT),id:c1,ix:"jpg"},Z,F,b,_);
console.log(F.add);return}if(d==g.ku){var g1=e.Bm.mI(e.id),cP=g1.clone();cP.raw=e.data;if(e.Iv)cP.Iv=e.Iv;
if(e.ix){cP.uM="    ";cP.QL="    ";cP.Iv=cP.Iv+"."+e.ix}else{cP.uM="8BIM";cP.QL="8BPB";cP.Iv=cP.Iv+".psd"}cP.zB(!1);
g1.zB(!1);var X=new eh([6,36,1],this);X.data={d:g.ku,id:e.id,nf:g1,Xg:cP};e.Bm.XM(X);this.Fm(X.data,e.Bm)}if(d==g.ry){var X=new eh([6,36,4],this);
X.data={d:d,i:S,Xd:U.add.SoLd.Impr.v.classID,mQ:e.mQ};F.XM(X);this.Fm(X.data,F)}if(d==g.Yy){var h3,fk;
if(e.td){h3=e.Bm;fk=e.td}else{e.Bm.FZ();e.Bm.Di();e.Bm.G();e.Bm.Om();e.Bm.zB();h3=fg.H_("PSD").ng(e.Bm,0,0,[!0,!0]);
fk=e.Bm.name}if(!(h3 instanceof ArrayBuffer))throw"e";h3=new Uint8Array(h3);var gl=e.xo;if(gl==null){if(F.V.length==0)gl=F.V.length;
else{var a6=F.V[F.V.length-1],u=F.g[a6];gl=u.yx()?a6:a6+1}}var fX=new e3(0,0,F.w,F._),ax=F.eZ();if(ax!=-1)fX=F.g[ax].iU();
var i2=F.mr(h3,fk,0,0,fX),e8=F.g.slice(0);e8.splice(gl,0,i2);var X=new eh([6,36,2],this);X.data={d:g.mM,Gt:F.g.slice(),Op:e8,lF:F.V.slice(0),GI:[e8.indexOf(i2)]};
F.XM(X);this.Fm(X.data,F)}if(d==g.SG&&e.Yu=="merge"){var jn=[],cq=F.root.children,fm=0;for(var l=0;l<cq.length;
l++){var L=cq[l],D=L.i,gf=L.children,aL=!0;if(!D.yx()||gf.length==0)continue;for(var cr=0;cr<gf.length;
cr++)if(!gf[cr].i.getName().startsWith("_a_")){aL=!1;break}if(aL)jn.push(F.g.indexOf(D))}var b_=[];for(var l=0;
l<jn.length;l++)if(F.V.indexOf(jn[l])!=-1)b_.push(jn[l]);if(b_.length>=2)jn=b_;if(jn.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var bo=[];for(var l=0;l<jn.length;l++)bo.push(F.g[jn[l]].getName());var iK=[];for(var ah=0;ah<jn.length;
ah++){var L=F.root.OV(jn[ah]),fp=[[],[],0,ah];iK.push(fp);for(var l=0;l<L.children.length;l++){var R=L.children[l].index,D=L.children[l].i,fh=D.getName(),gE=20,ap=fh.split(",");
if(ap.length>1){var fd=parseInt(ap.pop());if(!isNaN(fd)&&fd!=0)gE=fd}fp[0].push(D);fp[1].push(gE);fp[2]+=gE}}iK.sort(function(X,aB){return aB[2]-X[2]});
var iX=iK[0],dG=iX[2];for(var eB=1;eB<iK.length;eB++){var fp=iK[eB],cv=1,gK=fp[1].slice(0),av=0;while((cv+1)*fp[2]<=iX[2]){cv++;
gK=gK.concat(fp[1])}fp[1]=gK;fp[2]*=cv;var jG=iX[2]/fp[2];for(var l=0;l<fp[1].length;l++){var js=Math.floor(fp[1][l]*jG);
fp[1][l]=js;av+=js}while(av<dG){av++;fp[1][fp[1].length-1]++}fp[2]=av}var bX=[],gt=[],js=[];for(var l=0;
l<iK.length;l++){bX.push(0);gt.push(0)}while(fm<dG){var jN=1e9,be=-1;for(var l=0;l<iK.length;l++){var ia=iK[l][1],bm=bX[l];
if(bm!=ia.length&&gt[l]+ia[bm]<fm+jN){be=l;jN=gt[l]+ia[bm]-fm}}gt[be]+=iK[be][1][bX[be]];bX[be]++;if(jN!=0){js.push(jN);
fm+=jN}}for(var l=1;l<js.length;l++){var gw=js[l];if(gw<16&&(js[l-1]<16||l<js.length-1&&16<=js[l+1])){js[l-1]+=gw;
js.splice(l,1);l--}}var j7=[],gC=new e3(0,0,F.w,F._);for(var l=0;l<F.g.length;l++){j7[l]=F.g[l].ir();
F.g[l].cm(!1)}var aG=F.V.slice(0);F.V=jn;var e2=F.V9();e2.sort(function(X,aB){return X-aB});var e8=[];
for(var l=0;l<F.g.length;l++){if(e2.indexOf(l)==-1)e8.push(F.g[l])}iK.sort(function(X,aB){return X[3]-aB[3]});
function fA(ia,hV){var l=0,i8=0;while(i8+ia[l]<=hV){i8+=ia[l];l++}return l}fm=0;e8.splice(e2[0],0,F.vs());
for(var fw=0;fw<js.length;fw++){var z=[];for(var l=0;l<iK.length;l++){var bm=fA(iK[l][1],fm)%iK[l][0].length,D=iK[l][0][bm];
z.push(D)}var D=F.yG();for(var l=0;l<iK.length;l++){var af=z[l],d9=F.g[jn[l]];af.cm(!0);d9.cm(!0)}F.G();
F.Om();var cC=F.zB();D.rect=V.ip(cC,gC,2);D.buffer=V.J(D.rect.Z()*4);V.Rf(cC,gC,D.buffer,D.rect);for(var l=0;
l<iK.length;l++){var af=z[l],d9=F.g[jn[l]];af.cm(!1);d9.cm(!1)}D.cm(fw==0);D.Hr("_a_frm"+fw+","+js[fw]);
e8.splice(e2[0]+1+fw,0,D);fm+=js[fw]}var D=F.yG();D.Hr(bo.join(" + "));D.Du="pass";D.add.lsct=jj.ZU;
D.jj=24;e8.splice(e2[0]+1+js.length,0,D);for(var l=0;l<F.g.length;l++)F.g[l].cm(j7[l]);var X=new eh([6,12,0],this);
X.data={d:g.mM,Gt:F.g,Op:e8,lF:aG,GI:[e2[0]+1+js.length]};F.XM(X);this.Fm(X.data,F)}if(d==g.J$||d==g.eR||d==g.op){var h0=F.g.slice(0),b8=F.V.slice(0),i9=!0,i2,jf;
if(d==g.J$)F.V=[S,S-1];if(d==g.op){F.V=[];for(var l=0;l<F.g.length;l++)if(F.g[l].ir())F.V.push(l)}var ju=F.V9();
ju.sort(function(X,aB){return X-aB});var fa=new e3,gC=new e3(0,0,F.w,F._);for(var l=0;l<ju.length;l++){var R=ju[l],D=F.g[R];
i9=i9&&D._l()&&D.add.vmsk!=null;fa=fa.Us(F.root.OV(R).jK(F,!0))}if(i9){i2=F.g[ju[0]].clone();var er=i2.add.vmsk;
for(var l=1;l<ju.length;l++){var u=F.g[ju[l]],gQ=g.NX.o4(u.add.vmsk.T);er.T=er.T.concat(gQ.slice(2));
i2.add.vogk=i2.add.vogk.concat(JSON.parse(JSON.stringify(u.add.vogk)))}i2.add.vmsk.oy=!0;i2.kJ(F)}else if(gC.tv(fa)){i2=F.yG();
i2.Hr(F.g[ju[ju.length-1]].getName());i2.rect=fa;i2.buffer=V.J(fa.Z()*4);var gM=F.zB(ju);V.Rf(gM,gC,i2.buffer,fa);
i2.M5();i2.G()}else{F.SU(ju,!0);i2=F.g[F.V[0]];F.g.splice(F.V[0],1);var im=F.mI(i2.add.SoLd.Idnt.v);
F.add.lnk2.splice(F.add.lnk2.indexOf(im),1);delete i2.add.SoLd}var hU=r,cH=-1;if(e.ni&&e.ni.Dplc&&e.ni.Dplc.v)hU=!0;
if(hU&&d==g.op&&F.g[b8[0]].nJ()&&F.g[b8[0]].rect.BJ()){cH=b8[0]}if(cH!=-1||d==g.J$){var e6=F.g[cH!=-1?cH:S-1];
i2.Hr(e6.getName());i2.add.lclr=e6.add.lclr}var e8=[];for(var l=0;l<F.g.length;l++)if(hU||ju.indexOf(l)==-1)if(l!=cH)e8.push(F.g[l]);
var eE=ju[ju.length-1],aM=eE==F.g.length-1?null:F.g[eE+1],hM=aM?e8.indexOf(aM):e8.length;e8.splice(hM,0,i2);
jf=[hM];var X=new eh([6,12,0],this);X.data={d:g.mM,Gt:h0,Op:e8,lF:b8,GI:jf};F.XM(X);this.Fm(X.data,F)}if(d==g.XU){var bS=F.yG();
bS.rect=new e3(0,0,F.w,F._);bS.buffer=V.J(bS.rect.Z()*4);V.oi(bS.buffer,4294967295);V.a.sB("norm",F.zB(),bS.rect,bS.buffer,bS.rect,bS.rect,1);
bS.Hr("Background");bS.add.lspf=1<<2;var X=new eh([6,12,1],this);X.data={d:g.mM,Gt:F.g.slice(),Op:[bS],lF:F.V.slice(0),GI:[0]};
F.XM(X);this.Fm(X.data,F)}if(d==g.ls||d==g.qV||d==g.mP||d==g.ZG||d==g.XB){var D=d==g.XB?F.fb()[0]:F.yG(),dl=gA.get([0,3]),ce=e.vn,hG=!1,dm,fO;
if(d==g.mP)dl=gA.get([12,76,1]);if(d==g.XB){if(F.K){var eL=F.g[F.V[0]],b3=eL.yT(F,F.K);if(b3==null){alert("Copied area is empty");
return}D.rect=b3.rect;D.buffer=b3.dq;D.Wa(F)}else ce=D.getName();D.add.lspf=0;D.bN=!1;if((D.jj&1)!=0)D.jj--}if(d==g.ZG){D.rect=i.b0.cb(e.Uf,F);
D.buffer=e.Uf.buffer.slice(0);if(e.Rc&&F.K){D.v=new g.hW;D.v.rect=F.K.rect;D.v.color=0;D.v.channel=F.K.channel.slice(0)}}if(d==g.ls){this.track({qg:"make",ni:{classID:"Mk",null:dz.vz("Lyr")}})}if(d==g.qV){D.jj|=16;
var ii=e.ni.Usng.v,ck=ii.Type.v,ab=hc.Kd[ck.classID];dl=gA.get(hc.names[ab]);if(ii.Nm)ce=ii.Nm.v;D.add[ab]=ff.wy(ab);
if(D.add[ab]==null)D.add[ab]={};for(var ek in ck)D.add[ab][ek]=JSON.parse(JSON.stringify(ck[ek]));D.v=i.b0.kZ(F)}if(d==g.mP){D.jj|=16;
var eV=e.ni,ii=eV.Usng.v,h7=ii.Type.v,io=ii.Shp;if(ii.Nm)ce=ii.Nm.v;if(io==null){var iB=F.GJ(),gS=iB[0],bD=iB[1];
if(bD.length!=0){var cW=gS[bD[0]].add;D.add.vmsk=cW.vmsk.clone();D.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));
D.add.vogk=JSON.parse(JSON.stringify(cW.vogk));F.YN=[]}else D.v=i.b0.kZ(F)}else{console.log(ii);D.add.vmsk=new g.NX;
D.add.vstk=JSON.parse(JSON.stringify(ii.strokeStyle?ii.strokeStyle.v:fu.jA.default));D.add.vogk=[];if(io){var a2=V.$F.yj(io);
if(a2){D.add.vogk=[a2];D.add.vmsk.T.push({type:0,A8:1,length:0});V.$F.GF(D.add.vogk,D.add.vmsk)}else{io=io.v;
var hl=io.classID;if(hl=="Plgn"){var c5=io.Cntr.v,bN=io.corner.v;c5=new bI(c5.Hrzn.v.val,c5.Vrtc.v.val);
bN=new bI(bN.Hrzn.v.val,bN.Vrtc.v.val);D.add.vmsk.T=V.c.wV.xF(c5.x,c5.y,Math.sqrt(bN.x*bN.x+bN.y*bN.y),Math.atan2(bN.y,bN.x),io.sides.v,0)}else if(hl=="customShape"){var gk=V.$F.JR(io),id=gk[2]-gk[0],ip=gk[3]-gk[1],dU=_.Ez,fL,dX;
for(var l=0;l<dU.length;l++)if(dU[l].aJ==io.Nm.v)fL=dU[l];if(fL){dX=g.NX.o4(fL.T);V.c.Jb(dX,new jg(id,0,0,ip,gk[0],gk[1]))}else dX=V.c.wV.Rect(gk[0],gk[1],id,ip,0);
D.add.vmsk.T=dX}D.ov()}}}var eJ={solidColorLayer:0,gradientLayer:1,patternLayer:2}[h7.classID],dq=["SoCo","GdFl","PtFl"][eJ];
D.add[dq]=JSON.parse(JSON.stringify(fu.hV[eJ]));i.b0.V5(h7,D.add[dq],eJ);if(io==null)dl=gA.get([6,48,0,eJ]);
if(dq=="PtFl"){var he=D.add[dq].Ptrn.v,ap=d4.oF(he,_.NY);he.Idnt.v=ap.id;F.H7(ap)}D.kJ(F)}var gu=i.b0.VT(F,dl+" ");
D.Hr(dl+" "+(gu+1));if(ce)D.Hr(ce);var gr=F.V.length==0?F.g.length-1:F.V[F.V.length-1],i4=F.g[gr];if(d==g.mP&&i4.nJ()&&i4.rect.BJ()){hG=!0;
D.Hr(i4.getName());dm=gr}else{dm=gr+(d==g.ls&&w&&!q?0:1);if(i4&&i4.add.lsct==jj.$R)dm--}if(e.a7M)dm=Math.max(0,dm-1);
var e8=F.g.slice(0);e8.splice(dm,hG?1:0,D);var e1=[5,2];if(d==g.ls)e1=[6,13];if(d==g.qV)e1=[6,1];if(d==g.mP){e1=[6,48,1];
var io=e.ni.Usng.v.Shp;if(io){var cs={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[io.v.classID];
if(cs)e1=cs}}if(d==g.XB){e1=[6,49]}if(d==g.XB||d==g.mP||d==g.ZG)if(F.K)fO=[F.K,null];var X=new eh(e1,this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[dm],v9:fO};F.XM(X);this.Fm(X.data,F);if(d==g.mP&&io==null&&eJ!=0||d==g.qV){var bl=new j8(G.E.W);
bl.data={d:G.B.mu,ZB:d1.Z8.fK};Z.$(bl)}}if(d==g.UM){var D=F.yG(),dl=gA.get([0,4]),gu=i.b0.VT(F,dl+" ");
D.Hr(dl+" "+(gu+1));D.Du="pass";D.add.lsct=jj.$R;D.jj=24;if(e.vn)D.Hr(e.vn);if(e.dR!=null)D.add.lclr=e.dR;
var jp=F.vs(),gr=S,dm=gr+(w?0:1),e8=F.g.slice(0);e8.splice(dm,0,jp,D);var X=new eh([6,20],this);X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[dm+1]};
F.XM(X);this.Fm(X.data,F)}if(d==g.zH||d==g.Qj){var dx=d==g.zH?e.source:F.V[0],gv,iI,f_=F.V.indexOf(dx)!=-1,bC=r|e.a8y,g5,jN=null;
if(f_)g5=F.V9();else g5=F.Jf(dx);g5.sort(function(X,aB){return X-aB});if(d==g.zH){gv=e.target;iI=e.s0>.5}else if(e.target!=null){gv=Math.min(e.target,F.g.length-1);
iI=e.target<F.g.length;F.BV=!0}else{var fj=e.Yu;iI=fj>1;if(fj==0){gv=F.g.length-1}if(fj==1){gv=g5[g5.length-1]+1;
var u=F.Jf(gv);if(u.indexOf(dx)==-1)gv+=u.length-1}if(fj==2){gv=g5[0]-1;var u=F.Jf(gv);if(u.indexOf(dx)==-1)gv-=u.length-1}if(fj==3){gv=0}if(gv<0||gv>F.g.length-1)return;
F.BV=!0}if(g5.indexOf(gv)!=-1&&!bC)return;var bx=i.b0.mT(F,g5,gv,iI,bC?F.fb(f_?null:dx):null,d==g.zH&&e.s0>.8),eP=bx.pop(),du=bx.pop(),e8=bx.pop(),a5=F.V;
F.V=[dx];var fM=F.eZ();F.V=[gv];var g9=F.eZ();if(g9==gv&&!iI)g9=-1;F.V=a5;if(dx==fM){}else if(fM!=g9){var jN=new bI(0,0);
if(fM!=-1){var b5=F.g[fM].iU();jN.x-=b5.x;jN.y-=b5.y}if(g9!=-1){var b5=F.g[g9].iU();jN.x+=b5.x;jN.y+=b5.y}}var X=new eh(bC?[6,0]:[6,35],this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:du,eM:jN};F.XM(X);this.Fm(X.data,F);var eV={classID:"move",null:dz.vz("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:eP+(iI?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:bC}};
this.track({qg:"move",ni:eV})}if(d==g.Bo){if(e._q){if(U==null||!U.yx())return;var L=F.root.OV(S),dr=F.g.indexOf(L.arq),e8=F.g.slice(0);
e8.splice(S,1);e8.splice(dr,1);var du=[];for(var l=dr;l<S-1;l++)du.push(l);var X=new eh("Ungroup Layers",this);
X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:du};F.XM(X);this.Fm(X.data,F)}else{var D=F.yG(),is=gA.get([0,4])+" ";
D.Hr(is+(i.b0.VT(F,is)+1));D.Du="pass";if(e.vn)D.Hr(e.vn);if(e.dR!=null)D.add.lclr=e.dR;D.add.lsct=F.V.length==1?jj.$R:jj.ZU;
D.jj=24;var jp=F.vs(),g5=F.V9();if(g5.length==0)return;g5.sort(function(X,aB){return X-aB});var e8=[];
for(var l=0;l<F.g.length;l++)if(g5.indexOf(l)==-1)e8.push(F.g[l]);var gr=F.V[F.V.length-1]-g5.length;
e8.splice(gr+1,0,jp);for(var l=0;l<g5.length;l++)e8.splice(gr+2+l,0,F.g[g5[l]]);e8.splice(gr+2+g5.length,0,D);
var X=new eh([6,9],this);X.data={d:g.mM,Gt:F.g.slice(0),Op:e8,lF:F.V.slice(0),GI:[e8.indexOf(D)]};F.XM(X);
this.Fm(X.data,F);var o={qg:"make",S$:!0};o.ni={classID:"Mk",null:dz.vz("layerSection"),From:dz.vz("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:D.getName()}}}};
this.track(o)}}if(d==g.gX){if(F.V.length!=1)return;var gl=F.V[0],by=r;if(F.g[gl].Vj()==null&&!b.j(ex.Nh)){d=g.TA;
e.kK=F.K?!by?"RvlS":"HdSl":!by?"RvlA":"HdAl"}else{d=g.De;e.aeN=!0}}if(d==g.TA){if(F.V.length!=1)return;
var gl=F.V[0],D=F.g[gl];if(D.add.vmsk&&D.v==null)D.kJ(F);var bb=D.Vj();if(bb==null||e.arb){var X=new eh([6,21],this),fb=new g.hW,ak=e.kK,fG=ak=="RvlS"||ak=="HdSl";
if(ak=="RvlS"||ak=="HdAl"||ak=="Trns")fb.color=0;if(fG){fb.channel=F.K.channel.slice(0);fb.rect=F.K.rect.clone();
if(ak=="HdSl")V.eG(fb.channel)}if(ak=="Trns"){fb.rect=D.rect.clone();fb.channel=V.J(D.rect.Z());V.yC(D.buffer,fb.channel,3)}X.data={d:g.kL,TY:[gl,bb,fb],v9:fG?[F.K,null]:null};
F.XM(X);this.Fm(X.data,F);F.g[gl].WA=1;this.track({qg:"make",ni:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ak}}}})}}else if(d==g.I2){var jo=F.g[e.src],g7=F.g[e.oz],X=new eh([6,21],this),j9=jo.Vj(),hL=g7.Vj(),jx=[e.src,j9,null,e.oz,hL,j9];
if(r||q){var fh=j9.clone();if(r)jx=[e.oz,hL,fh];else jx[5]=fh;if(q){V.eG(fh.channel);fh.color=255-fh.color}}X.data={d:g.kL,TY:jx};
F.XM(X);this.Fm(X.data,F)}if(d==g.WU){if(F.V.length!=1)return;var gl=S,eu=F.g[gl].Vj();if(eu!=null){var X=new eh([6,22],this);
X.data={d:g.kL,TY:[S,eu,null]};F.XM(X);this.Fm(X.data,F)}}if(d==g.LI){var h0=F.g.slice(0),bS=U.clone(),O=bS.Vj();
V.xW(O.UZ(bS.rect),bS.rect,bS.buffer,bS.rect);i.b0.VH(F,bS);bS.M5();F.g[F.V[0]]=bS;var X=new eh([5,8],this);
X.data={d:g.mM,Gt:h0,Op:F.g.slice(),lF:F.V.slice(0),GI:F.V.slice(0)};F.XM(X);this.Fm(X.data,F)}if(d==g.m4){if(F.V.length!=1)return;
var gl=F.V[0];if(F.g[gl].EB(F).v==null){var X=new eh([6,45],this);X.data={d:d,i:gl,v:new g.hW};F.XM(X);
this.Fm(X.data,F)}}if(d==g.G3){if(F.V.length!=1)return;var gl=F.V[0];if(F.g[gl].EB(F).v!=null){var X=new eh([6,46],this);
X.data={d:d,i:gl,v:F.g[gl].EB(F).v};F.XM(X);this.Fm(X.data,F)}}if(d==g.N0){if(e.src==null&&F.V.length!=1)return;
if(e.src!=null)S=e.src;if(F.g[S].bR()){var X=new eh([6,47],this),cJ=JSON.stringify(F.g[S].add.SoLd),dM=JSON.parse(cJ);
delete dM.filterFX;X.data={d:g.xC,uw:[{CE:S,sa:[cJ,JSON.stringify(dM)],S0:[F.g[S].EB(F),null]}]};F.XM(X);
this.Fm(X.data,F)}}if(d==g.De){if(F.V.length!=1)return;if(U.add.vmsk==null){var X=new eh([6,23],this),el=F.GJ(),f=el[1],el=el[0],fb,a2;
if(e.aeN&&f.length!=0){var cW=el[f[0]].add;fb=cW.vmsk.clone();a2=cW.vogk}else{fb=new g.NX;a2=[];fb.T[1].all=e.asq?0:1}X.data={d:d,i:S,jo:!0,v:fb,$F:JSON.stringify(a2),jA:null};
if(U._l()){X.data.jA=JSON.stringify(fu.jA.default)}F.XM(X);this.Fm(X.data,F)}}if(d==g.v1){var jo=F.g[e.src],g7=F.g[e.oz];
if(g7.add.vmsk)return;var X=new eh([6,23],this),er=jo.add.vmsk;X.data={i:e.oz,jo:jo.c7,v:er.clone(),$F:JSON.stringify(jo.add.vogk),jA:jo.add.vstk?JSON.stringify(jo.add.vstk):null};
if(r){X.data.d=g.De}else{X.data.d=d;X.data.src=e.src;X.data.oz=e.oz}F.XM(X);this.Fm(X.data,F)}if(d==g.xY||d==g.y5){if(F.V.length!=1)return;
var D=F.g[S],er=D.add.vmsk;if(er!=null){var hR=d==g.y5,X=new eh(hR?[6,8]:[6,24],this);X.data={d:g.xY,i:S,jo:D.c7,v:er,$F:JSON.stringify(D.add.vogk),jA:D.add.vstk?JSON.stringify(D.add.vstk):null};
if(hR){X.data.KX=er.Vj(D.add.vstk)}F.XM(X);this.Fm(X.data,F)}}if(d==g.vL){var X=new eh("Metadata",this);
X.data={d:d,pZ:JSON.stringify(F.iT),Co:JSON.stringify(e.Co)};F.XM(X);this.Fm(X.data,F)}if(d==g.V2){var bM=e.oz?e.oz:F,a8=bM.name,ce=e.I+".psd";
if(a8==ce)return;var X=new eh([6,37],this);X.data={d:d,ain:a8,vn:ce};if(e.a4$!=!0)bM.XM(X);this.Fm(X.data,bM)}if(d==g.SG&&e.Yu.endsWith("makeframes")){var jz=[],bP=e.Yu.startsWith("make");
for(var l=0;l<F.V.length;l++){var R=F.V[l],D=F.g[R],gd=D.getName(),jC=gd.startsWith("_a_");if(bP==jC||D.add.lsct==jj.Hx)continue;
var gy=bP?"_a_"+gd:gd.slice(3);jz.push([R,gd,gy,D.add.lnsr,null])}var X=new eh([6,37],this);X.data={d:g.hK,NG:jz};
F.XM(X);this.Fm(X.data,F)}if(d==g.hK){var a8=U.getName(),ce=e.name.substring(0,255);if(a8==ce)return;
var X=new eh([6,37],this);X.data={d:d,NG:[[S,a8,ce,U.add.lnsr,null]]};F.XM(X);this.Fm(X.data,F);this.track(dz.p1("Nm",{t:"TEXT",v:ce}))}if(d==g.dh){var gV=F.V9(),bi=[],bH=[];
for(var l=0;l<gV.length;l++){bi.push(F.g[gV[l]].add.lclr);bH.push(e.amP)}var X=new eh([6,38],this);X.data={d:d,g:gV,asC:bi,dR:bH};
F.XM(X);this.Fm(X.data,F)}if(d==g.GL){var X=F.history[F.Ti];if(X!=null&&X.k==this&&X.data.d==d&&X.data.i==e.kF&&X.data.mQ.VB==e.L3.VB)X.data.mQ=e.L3;
else{X=new eh("Mask Density / Feather",this);X.data={d:d,i:e.kF,Xd:F.g[e.kF].zk(e.L3.VB),mQ:e.L3};F.XM(X)}this.Fm(X.data,F)}if(d==g.VL){var f5=JSON.stringify(e.I),b2=JSON.parse(f5),X=F.history[F.Ti];
if(X!=null&&X.k==this&&X.data.d==d&&X.data.sY==e.sY&&X.data.X$.join(",")==e.X$.join(",")){for(var l=0;
l<e.X$.length;l++)X.data.O9[l]=b2;if(X.data.ni&&b2.QL!=0)i.b0.V5(b2.n8,X.data.ni.T.v,b2.QL-1)}else{X=new eh([11,6],this);
X.data={d:d,X$:e.X$,sY:e.sY,akb:[],O9:[]};var g2=!1;for(var l=0;l<e.X$.length;l++){var R=e.X$[l],D=F.g[R],iD=e.sY?i._N.US(F,R):JSON.parse(JSON.stringify(D.add.vstk));
X.data.akb.push(iD);X.data.O9.push(b2);if(JSON.stringify(iD)!=f5)g2=!0}if(!g2)return;F.XM(X);if(e.sY&&b2.QL>0){var eV=X.data.ni={classID:"setd",null:dz.vz("contentLayer",!0),T:{t:"Objc",v:{}}},dq=["SoCo","GdFl","PtFl"][b2.QL-1];
i.b0.V5(b2.n8,eV.T.v,b2.QL-1);this.track({qg:"set",ni:eV})}}if(e.sY&&b2.QL==3)F.H7(d4.oF(b2.n8.Ptrn.v,_.NY));
if(!e.sY){var aR=b2.strokeStyleContent.v;if(aR.classID==fu.jA.BY[2])F.H7(d4.oF(aR.Ptrn.v,_.NY))}this.Fm(X.data,F)}};
i.b0.mT=function(e,Z,F,b,_,d){var S=e.g[F],U=[];if(_)U=e.g.slice(0);else for(var l=0;l<e.g.length;l++)if(Z.indexOf(l)==-1)U.push(e.g[l]);
var r=U.indexOf(S);if(d&&S.yx()&&S.add.lsct==jj.ZU)r-=e.Jf(F).length-1;var q=[];for(var l=0;l<Z.length;
l++){var w=r+(b?0:1)+l,X=_?_[l]:e.g[Z[l]];U.splice(w,0,X);q.push(w)}return[U,q,r]};i.b0.V5=function(e,Z,F){var b=[fu.On,fu.So,fu.p6][F];
if(Z.classID==null)Z.classID=["solidColorLayer","gradientLayer","patternLayer"][F];for(var l=0;l<b.length;
l++)if(e[b[l]])Z[b[l]]=JSON.parse(JSON.stringify(e[b[l]]))};i.b0.kZ=function(e){var Z=new g.hW;if(e.K!=null){Z.color=0;
Z.channel=e.K.channel.slice(0);Z.rect=e.K.rect.clone()}return Z};i.b0.Ox=function(e,Z,F,b){var _=b.w/F.w,d=b._/F._,S=b.w/2,U=b._/2,r=V.H.gb(b).s;
for(var l=0;l<e.g.length;l++){var q=e.g[l],w=q.add.SoLd;if(w==null||w.Idnt.v!=Z)continue;if(_!=1||d!=1){var X=i.Q.rt(w.nonAffineTransform),Q=V.N.R5(X,b),c=new jg;
c.translate(-S,-U);c.scale(_,d);c.translate(S,U);var u=V.N.vp(Q,V.N.C5(c)),n=r.slice(0);V.N.A(u,n);w.Trnf=i.Q.t1(n);
w.nonAffineTransform=i.Q.t1(n)}q.gV(e)}e.G()};i.b0.aor=function(e,Z,F){Z.color=255-Z.color;V.eG(Z.channel);
Z.oy=!0;e.kJ(F);F.G()};i.b0.prototype.Mi=function(e,Z){var F=e.d,b=Z.g[e.i];Z.oW=!0;if(F==g.ku){Z.add.lnk2.splice(Z.add.lnk2.indexOf(e.Xg),1,e.nf);
i.b0.Ox(Z,e.id,e.Xg.Sa[1],e.nf.Sa[1])}if(F==g.ry){b.add.SoLd.Impr.v.classID=e.Xd;b.gV(Z)}if(F==g.tx){var _=JSON.parse(e.X$);
for(var l=0;l<_.length;l++)Z.g[_[l]].Du=e.mi[l];Z.G()}if(F==g.H4){var _=JSON.parse(e.X$);for(var l=0;
l<_.length;l++)Z.g[_[l]].opacity=e.mi[l];Z.G()}if(F==g.TR){var _=JSON.parse(e.X$);for(var l=0;l<_.length;
l++)if(Z.g[_[l]].add.lsct!=jj.Hx)Z.g[_[l]].add.lspf=e.mi[l]}if(F==g.Bc){var d=e.jS,S=e.a9J;delete b.add[d[0]];
if(S[0]!="----")b.add[S[0]]=S[1]}if(F==g.K3){b.add.iOpa=e.mi;Z.G()}if(F==g.fk){for(var l=0;l<e.X$.length;
l++){var U=Z.g[e.X$[l]];U.cm(!U.ir())}Z.G()}if(F==g.IF){var r=b.Vj();r.isEnabled=!r.isEnabled;b.kJ(Z);
Z.G()}if(F==g.gG){var r=b.EB(Z).v;r.isEnabled=!r.isEnabled;b.G();Z.G()}if(F==g.je){var r=b.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(b.KX){b.v=b.KX;b.KX=null}else b.v=null}else if(b.v){b.KX=b.v;
b.v=null}b.kJ(Z);Z.G()}if(F==g.jp){b.bN=!b.bN;Z.G()}if(F==g._L){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.xP.XI=!0;Z.G()}if(F==g.SN){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.Cf(Z);Z.G()}if(F==g.wG){var q=e.index,w=b.add.lmfx[fu.VX[q[0]]].v[q[1]].v;
w.enab.v=!w.enab.v;b.xP.XI=!0;Z.G()}if(F==g.O7){var X=Z.g[e.CZ],Q=Z.g[e.g3],c=e.asl,u=e.apb;if(c=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(c);if(u=="")delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(u);X.xP.XI=!0;Q.xP.XI=!0;
Z.G()}if(F==g.X4){var n=b.add.SoLd.filterFX.v.filterFXList.v[e.index].v;n.enab.v=!n.enab.v;b.Cf(Z);Z.G()}if(F==g.Ej){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.afW));
b.Cf(Z);Z.G()}if(F==g.n2){var r=b.Vj();r.wJ=!r.wJ}if(F==g.fP){var r=b.add.vmsk;r.wJ=!r.wJ}if(F==g.LM){var k=e.Ie;
for(var l=0;l<k.length;l+=2){var B=k[l],U=B>=0?Z.g[B]:Z.Tl[-1-B];U.add.vogk=JSON.parse(k[l+1]);V.$F.GF(U.add.vogk,U.add.vmsk);
if(B>=0)U.kJ(Z)}Z.G()}if(F==g.vl){b.add.artb=JSON.parse(e.aiM);Z.G();i.Za.k9(Z,e)}if(F==g.B6){Z.K=e.Vf;
Z.LE=e.Ie.slice(0);Z.kl=e.YT.slice(0);Z.sp=Z.Zc=!0}if(F==g.DN){b.rP=!b.rP}if(F==g.QA){var o=e.ajV;for(var l=0;
l<o.length;l++)Z.g[l].YJ=o[l]}if(F==g.mM){if(e.eM)i.rX._u(Z,Z.V,null,-e.eM.x,-e.eM.y);if(e.lF)Z.V=e.lF;
if(e.v9)Z.K=e.v9[0];Z.sQ=null;Z.G();Z.ed(e.Gt);i.Za.k9(Z,e);if(e.rK)Z.p$(e.rK[0])}if(F==g.kL){for(var l=0;
l<e.TY.length;l+=3)i.b0.VH(Z,Z.g[e.TY[l]],e.TY[l+1]);if(e.v9){var T=e.v9[0];if(T==null)delete Z.K;else Z.K=T}}if(F==g.m4){b.EB(Z).v=null;
b.G();Z.G()}if(F==g.G3){b.EB(Z).v=e.v;b.G();Z.G()}if(F==g.xC){i.b0.sO(Z,e.uw,0)}if(F==g.De){i.b0.n9(Z,b,!0)}if(F==g.v1){i.b0.n9(Z,Z.g[e.oz],e.v.isEnabled);
i.b0.Pa(Z,Z.g[e.src],e)}if(F==g.xY){if(e.KX)i.b0.VH(Z,b,null);i.b0.Pa(Z,b,e)}if(F==g.vL){Z.iT=JSON.parse(e.pZ)}if(F==g.V2){Z.name=e.ain}if(F==g.hK){for(var l=0;
l<e.NG.length;l++){var z=e.NG[l],U=Z.g[z[0]];U.Hr(z[1]);if(z[3])U.add.lnsr=z[3];else delete U.add.lnsr}}if(F==g.dh){for(var l=0;
l<e.g.length;l++)Z.g[e.g[l]].add.lclr=e.asC[l]}if(F==g.VL){var W=e.akb;for(var l=0;l<e.X$.length;l++){var U=Z.g[e.X$[l]],$=W[l];
if(!e.sY)U.add.vstk=JSON.parse(JSON.stringify($));else i._N.Px(U,JSON.parse(JSON.stringify($)));U.s3(Z)}Z.G()}if(F==g.GL){b.KN(e.Xd);
b.kJ(Z);Z.G()}Z.Zc=!0};i.b0.prototype.Fm=function(e,Z){var F=e.d,b=Z.g[e.i];Z.oW=!0;if(F==g.ku){Z.add.lnk2.splice(Z.add.lnk2.indexOf(e.nf),1,e.Xg);
i.b0.Ox(Z,e.id,e.nf.Sa[1],e.Xg.Sa[1])}if(F==g.ry){b.add.SoLd.Impr.v.classID=e.mQ;b.gV(Z)}if(F==g.tx){var _=JSON.parse(e.X$);
for(var l=0;l<_.length;l++)Z.g[_[l]].Du=e.mQ;Z.G()}if(F==g.H4){var _=JSON.parse(e.X$);for(var l=0;l<_.length;
l++)Z.g[_[l]].opacity=e.mQ;Z.G()}if(F==g.TR){var _=JSON.parse(e.X$);for(var l=0;l<_.length;l++)if(Z.g[_[l]].add.lsct!=jj.Hx)Z.g[_[l]].add.lspf=e.mQ[l]}if(F==g.Bc){var d=e.a9J,S=e.jS;
delete b.add[d[0]];if(S[0]!="----")b.add[S[0]]=S[1]}if(F==g.K3){b.add.iOpa=e.mQ;Z.G()}if(F==g.fk){for(var l=0;
l<e.X$.length;l++){var U=Z.g[e.X$[l]];U.cm(!U.ir())}Z.G()}if(F==g.IF){var r=b.Vj();r.isEnabled=!r.isEnabled;
b.kJ(Z);Z.G()}if(F==g.gG){var r=b.EB(Z).v;r.isEnabled=!r.isEnabled;b.G();Z.G()}if(F==g.je){var r=b.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(b.KX){b.v=b.KX;b.KX=null}else b.v=null}else if(b.v){b.KX=b.v;
b.v=null}b.kJ(Z);Z.G()}if(F==g.jp){b.bN=!b.bN;Z.G()}if(F==g._L){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.xP.XI=!0;Z.G()}if(F==g.SN){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.Cf(Z);Z.G()}if(F==g.wG){var q=e.index,w=b.add.lmfx[fu.VX[q[0]]].v[q[1]].v;
w.enab.v=!w.enab.v;b.xP.XI=!0;Z.G()}if(F==g.O7){var X=Z.g[e.CZ],Q=Z.g[e.g3],c=e.anb,u=e.a1k;if(c=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(c);if(u=="")delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(u);X.xP.XI=!0;Q.xP.XI=!0;
Z.G()}if(F==g.X4){var n=b.add.SoLd.filterFX.v.filterFXList.v[e.index].v;n.enab.v=!n.enab.v;b.Cf(Z);Z.G()}if(F==g.Ej){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.a8M));
b.Cf(Z);Z.G()}if(F==g.n2){var r=b.Vj();r.wJ=!r.wJ}if(F==g.fP){var r=b.add.vmsk;r.wJ=!r.wJ}if(F==g.LM){var k=e.x5;
for(var l=0;l<k.length;l+=2){var B=k[l],U=B>=0?Z.g[B]:Z.Tl[-1-B];U.add.vogk=JSON.parse(k[l+1]);V.$F.GF(U.add.vogk,U.add.vmsk);
if(B>=0)U.kJ(Z)}Z.G()}if(F==g.vl){b.add.artb=JSON.parse(e.WI);Z.G();i.Za.Lz(Z,e)}if(F==g.B6){Z.K=e.rn;
Z.LE=e.x5.slice(0);Z.kl=e.yH.slice(0);Z.sp=Z.Zc=!0}if(F==g.DN){b.rP=!b.rP}if(F==g.QA){var o=e.akN;for(var l=0;
l<o.length;l++)Z.g[l].YJ=o[l]}if(F==g.mM){var T=e.Op,z=0,W;for(var l=0;l<T.length;l++){var U=T[l],$=U.add.lsct;
if($==jj.Hx)z++;else if($==jj.$R||$==jj.ZU)z--;if(U.add.artb&&z!=0)W="Artboards can not be inside folders."}if(W){Z.history.pop();
Z.Ti--;alert(W);return}i.Za.Lz(Z,e);if(e.GI)Z.V=e.GI;if(e.v9)Z.K=e.v9[1];Z.sQ=null;Z.G();Z.ed(e.Op);
if(e.eM)i.rX._u(Z,Z.V,null,e.eM.x,e.eM.y);if(e.rK)Z.p$(e.rK[1])}if(F==g.kL){for(var l=0;l<e.TY.length;
l+=3)i.b0.VH(Z,Z.g[e.TY[l]],e.TY[l+2]);if(e.v9){var R=e.v9[1];if(R==null)delete Z.K;else Z.K=R}}if(F==g.m4){b.EB(Z).v=e.v;
b.WA=0;b.G();Z.G()}if(F==g.G3){b.EB(Z).v=null;b.WA=0;b.G();Z.G()}if(F==g.xC){i.b0.sO(Z,e.uw,1)}if(F==g.De){i.b0.Pa(Z,b,e)}if(F==g.v1){i.b0.n9(Z,Z.g[e.src],e.v.isEnabled);
i.b0.Pa(Z,Z.g[e.oz],e)}if(F==g.xY){i.b0.n9(Z,b,e.v.isEnabled);if(e.KX)i.b0.VH(Z,b,e.KX)}if(F==g.vL){Z.iT=JSON.parse(e.Co)}if(F==g.V2){Z.name=e.vn}if(F==g.hK){for(var l=0;
l<e.NG.length;l++){var P=e.NG[l],U=Z.g[P[0]];U.Hr(P[2]);if(P[4])U.add.lnsr=P[4];else delete U.add.lnsr}}if(F==g.dh){for(var l=0;
l<e.g.length;l++)Z.g[e.g[l]].add.lclr=e.dR[l]}if(F==g.VL){var H=e.O9;for(var l=0;l<e.X$.length;l++){var U=Z.g[e.X$[l]],y=H[l];
if(!e.sY)U.add.vstk=JSON.parse(JSON.stringify(y));else i._N.Px(U,JSON.parse(JSON.stringify(y)));U.s3(Z)}Z.G()}if(F==g.GL){b.KN(e.mQ);
b.kJ(Z);Z.G()}Z.Zc=!0};i.b0.VT=function(e,Z){var F=0;for(var l=0;l<e.g.length;l++){var b=e.g[l].getName();
if(b.startsWith(Z)){var _=b.slice(Z.length).trim(),d=parseInt(_);if(!isNaN(d)&&d+""==_&&d>F)F=d}}return F};
i.b0.sO=function(e,Z,F){for(var l=0;l<Z.length;l++){var b=Z[l],_=e.g[b.CE];if(b.sa){_.add.SoLd=JSON.parse(b.sa[F])}if(b.S0){if(b.S0[1-F]!=null)e.Wq(b.S0[1-F]);
if(b.S0[F]!=null)e.zp(b.S0[F]);else _.WA=0}_.gV(e)}};i.b0.cb=function(e,Z){var F=e.IP,b=e.rect.clone();
if(F!=null&&(F.x!=Z.w||F.y!=Z._)){b.x=Math.floor((Z.w-b.w)/2);b.y=Math.floor((Z._-b._)/2)}return b};
i.b0.anS=function(e,Z){if(Z.KX)Z.KX=null;else Z.v=null;Z.kJ(e);e.G();Z.WA=0};i.b0.VH=function(e,Z,F){var b=Z.Vj();
if(b==null&&F==null)return;if(b)i.b0.anS(e,Z);if(F==null)return;if(Z.v)Z.KX=F;else Z.v=F;Z.kJ(e);e.G()};
i.b0.n9=function(e,Z,F){if(Z.KX&&F){Z.v=Z.KX;Z.KX=null}else if(Z.v&&F){Z.v=null}delete Z.add.vogk;delete Z.add.vstk;
delete Z.add.vmsk;Z.kJ(e);Z.c7=!1;e.sQ=[];e.G()};i.b0.Pa=function(e,Z,F){Z.add.vogk=JSON.parse(F.$F);
if(F.jA)Z.add.vstk=JSON.parse(F.jA);else delete Z.add.vstk;Z.add.vmsk=F.v.clone();if(Z.v&&Z.add.vmsk.isEnabled)Z.KX=Z.v;
Z.kJ(e);Z.c7=F.jo;e.sQ=[e.g.indexOf(Z)];e.YN=[];e.G()};i.ev=function(){i.kC.call(this,"Layer Styles",i.D7);
this.wT=null;this.c3=null;this.rZ=null;this.qx=[];this.Os=null};i.ev.prototype=new i.kC;i.ev.prototype.at=function(e,Z,F,b,_){var d=e.i;
if(d==null)d=F.V[0];var S=F.g[d],U=e.wD;if(this.wT==null){this.rZ=i.ev.mO(F,S);this.wT=JSON.stringify(this.rZ);
if(S.add.lmfx)this.c3=JSON.stringify(S.add.lmfx)}if(S.add.lmfx==null){S.add.lmfx=JSON.parse(fu.default);
for(var l=0;l<fu.order.length;l++)S.add.lmfx[fu.VX[l]]={t:"VlLs",v:[]}}if(e.d=="scaleeffects"){if(e.I=="confirm"||e.I=="cancel"){this.at({d:e.I},Z,F,b,_);
return}S.add.lmfx=JSON.parse(this.c3);d4.Q1(S.add.lmfx,e.I/100)}else if(e.d=="changeprop"){var r=null;
if(U!=0){var q=this.qx[U[0]];if(q==null)q=fu.qx[U[0]];q=JSON.parse(q);var w=S.add.lmfx[fu.VX[U[0]]].v;
if(w[U[1]]==null)w[U[1]]={t:"Objc",v:q};r=w[U[1]].v;for(var X in q)if(r[X]==null)r[X]=q[X]}if(e.d=="changeprop"){if(U==0){this.rZ[e.oQ].v=e.I;
i.ev.jq(F,S,this.rZ)}else if(e.oQ=="lagl"){if(r.uglg&&r.uglg.v){F.Ri(e.I.val);this.rZ.ahz=F.Kv()}else r[e.oQ].v=e.I}else if(e.oQ=="Lald"){if(r.uglg.v){F.qQ(e.I.val);
this.rZ.aaY=F.Bt()}else r[e.oQ].v=e.I}else if((U[0]==3||U[0]==8)&&(e.oQ=="Clr"||e.oQ=="Grad")){if(e.oQ=="Clr"){r.Clr={t:"Objc",v:e.I};
delete r.Grad}if(e.oQ=="Grad"){r.Grad={t:"Objc",v:e.I};delete r.Clr}}else{r[e.oQ].v=e.I}if(U!=0)this.qx[U[0]]=JSON.stringify(r)}if(U!=0)if(r.Ptrn)F.H7(d4.oF(r.Ptrn.v,_.NY))}else if(e.d=="setstl"){var Q=e.I.Lefx;
if(Q)d4.anL(Q,F,_.NY);d4.a01(e.I,S);this.rZ=i.ev.mO(F,S)}else if(e.d=="st_dupsingle"){var c=S.add.lmfx[fu.VX[e.dY[0]]].v;
if(c[e.dY[1]]==null)return;var u=JSON.parse(JSON.stringify(c[e.dY[1]]));c.splice(e.dY[1],0,u)}else if(e.d=="st_movsingle"){var n=e.dY[1],c=S.add.lmfx[fu.VX[e.dY[0]]].v;
if(c[e.dY[1]]==null)return;var k=Math.max(0,Math.min(c.length-1,n+e.aqB)),B=c[k];c[k]=c[n];c[n]=B}else if(e.d=="cancel"){if(this.c3==null)delete S.add.lmfx;
else S.add.lmfx=JSON.parse(this.c3);i.ev.jq(F,S,JSON.parse(this.wT));this.wT=null;this.c3=null}else if(e.d=="confirm"){var o=JSON.stringify(S.add.lmfx),T=new eh([11,6],this);
T.data={g:[d],EE:[this.c3],a0:[o],Jh:[this.wT],uA:[JSON.stringify(this.rZ)]};F.XM(T);this.wT=null;this.c3=null;
if(o!=null){var z=JSON.parse(o);gh.rq(z);z.classID="Lefx";delete z.masterFXSwitch;var W=new j8(G.E.GT);
W.ma=!0;W.data={qg:"set",S$:!0};var $=dz.vz("Lyr",!0);$.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
W.data.ni={__name:"Set",classID:"setd",null:$,T:{t:"Objc",v:z}};Z.$(W)}}else if(e.d=="st_copy"){this.Os=[this.wT,this.c3];
this.wT=null;this.c3=null}else if(e.d=="st_paste"||e.d=="st_clear"){if(e.d=="st_paste"&&this.Os==null)return;
var R=e.i!=null?[e.i]:F.V.slice(0),P=[],H=[],y=[],h=[];for(var l=0;l<R.length;l++){var S=F.g[R[l]],m=i.ev.mO(F,S);
P.push(S.add.lmfx?JSON.stringify(S.add.lmfx):null);y.push(JSON.stringify(m));if(e.d=="st_paste"){H.push(this.Os[1]);
h.push(this.Os[0])}else{H.push(null);m.lrMd.v=0;m.Opct.v.val=100;m.iOpa.v.val=100;m.blIf={v:[]};for(var t=0;
t<10;t++)m.blIf.v.push(0,0,255,255);h.push(JSON.stringify(m))}}var T=new eh([11,6],this);T.data={g:R,EE:P,a0:H,Jh:y,uA:h};
this.Fm(T.data,F);F.XM(T);this.wT=null;this.c3=null}else{var j=this.rZ,z=null;if(e.d=="st_delsingle"){z=JSON.parse(this.c3);
z[fu.VX[e.dY[0]]].v.splice(e.dY[1],1);z=JSON.stringify(z)}if(z==null)delete S.add.lmfx;else S.add.lmfx=JSON.parse(z);
if(j!=null)i.ev.jq(F,S,j);var T=new eh([11,6],this);T.data={g:[e.i],EE:[this.c3],a0:[z],Jh:[this.wT],uA:[JSON.stringify(j)]};
F.XM(T);this.wT=null;this.c3=null}S.xP.XI=!0;F.oW=!0;F.G()};i.ev.mO=function(e,Z){if(Z.add.iOpa==null)Z.add.iOpa=255;
if(Z.add.brst==null)Z.add.brst=[1,1,1];var F=Z.yx()?["pass"].concat(ae.Qd):ae.Qd;return{lrMd:{v:F.indexOf(Z.Du)},Opct:{v:{type:"#Prc",val:Math.round(Z.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(Z.add.iOpa*100/255)},t:"UntF"},blIf:{v:Z.kz.slice(0)},brst:{v:Z.add.brst},ahz:e.Kv(),aaY:e.Bt(),yx:Z.yx()}};
i.ev.jq=function(e,Z,F){var b=Z.yx()?["pass"].concat(ae.Qd):ae.Qd;Z.Du=b[F.lrMd.v];Z.opacity=Math.round(F.Opct.v.val*255/100);
Z.add.iOpa=Math.round(F.iOpa.v.val*255/100);Z.kz=F.blIf.v.slice(0);Z.add.brst=F.brst.v.slice(0);e.Ri(F.ahz);
e.qQ(F.aaY)};i.ev.prototype.Mi=function(e,Z){for(var l=0;l<e.g.length;l++){var F=Z.g[e.g[l]],b=e.EE[l];
if(b==null)delete F.add.lmfx;else F.add.lmfx=JSON.parse(b);i.ev.jq(Z,F,JSON.parse(e.Jh[l]));F.xP.XI=!0}Z.oW=!0;
Z.G()};i.ev.prototype.Fm=function(e,Z){for(var l=0;l<e.g.length;l++){var F=Z.g[e.g[l]],b=e.a0[l];if(b==null)delete F.add.lmfx;
else F.add.lmfx=JSON.parse(b);i.ev.jq(Z,F,JSON.parse(e.uA[l]));F.xP.XI=!0}Z.oW=!0;Z.G()};i.p7=function(){i.kC.call(this,"Layer Comps",i.p4)};
i.p7.prototype=new i.kC;i.p7.prototype.at=function(e,Z,F,b){var _=JSON.parse(JSON.stringify(F.hn)),d=JSON.parse(JSON.stringify(F.hn)),S=null,U=null,r=null,q=-1,w=!1;
if(e.d=="delLC"){var X=i.p7.ts(F.hn,e.wD),Q=F.hn.lastAppliedComp?F.hn.lastAppliedComp.v:0;d.list.v.splice(X,1);
if(Q==e.wD)delete d.lastAppliedComp;S="Delete Layer Comp"}if(e.d=="editLC"){var X=i.p7.ts(F.hn,e.wD),c=d.list.v[X].v;
if(e.vn!=null)c.Nm.v=e.vn;if(e.alS!=null){var u=e.alS,n=c.capturedInfo.v,k=n&(1<<u)-1;n=n>>u;if((n&1)==1)n--;
else n++;c.capturedInfo.v=(n<<u)+k}S="Layer Comp properties"}if(e.d=="setLC"){i.p7.$p(F);if(e.wD==0)delete d.lastAppliedComp;
else d.lastAppliedComp={t:"long",v:e.wD};S="Switch Layer Comp";w=!0}if(e.d=="updLC"){i.p7.$p(F);U=i.p7.aik(F,e.wD);
r=i.p7.Ct(F,e.wD);d.lastAppliedComp={t:"long",v:e.wD};S="Update Layer Comp";q=e.wD;w=!0}if(e.d=="addLC"){i.p7.$p(F);
var B=1;for(var l=0;l<d.list.v.length;l++)B=Math.max(B,d.list.v[l].v.compID.v)+1;B+=Math.floor(Math.random()*1e4);
var o={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(d.list.v.length+1)},compID:{t:"long",v:B},capturedInfo:{t:"long",v:7}}};
d.list.v.push(o);d.lastAppliedComp={t:"long",v:B};S="New Layer Comp";var T=i.p7.Ct(F,B);i.p7.mt(F,T,B)}var z=new eh(S,this);
z.data={a5B:_,aj2:d,a9d:U,a9i:r,wD:q,Yl:w};this.Fm(z.data,F);F.XM(z)};i.p7.prototype.Fm=function(e,Z){Z.hn=e.aj2;
Z.oW=!0;if(e.a9i)i.p7.mt(Z,e.a9i,e.wD);if(e.Yl){var F=Z.hn.lastAppliedComp?Z.hn.lastAppliedComp.v:0,b=i.p7.ts(Z.hn,F),_=b==-1?null:Z.hn.list.v[b].v,d=_?_.capturedInfo.v:7;
i.p7.rv(Z,F,d);Z.G()}};i.p7.prototype.Mi=function(e,Z){Z.hn=e.a5B;Z.oW=!0;if(e.a9d)i.p7.mt(Z,e.a9d,e.wD);
if(e.Yl){var F=Z.hn.lastAppliedComp?Z.hn.lastAppliedComp.v:0,b=i.p7.ts(Z.hn,F),_=b==-1?null:Z.hn.list.v[b].v,d=_?_.capturedInfo.v:7;
i.p7.rv(Z,F,d);Z.G()}};i.p7.$p=function(e){if(e.hn.lastAppliedComp!=null||!e.fv)return;var Z=i.p7.Ct(e,0);
i.p7.mt(e,Z,0);e.fv=!1};i.p7.KZ=function(e,Z,F){e.v.Hrzn.v+=Z;e.v.Vrtc.v+=F};i.p7.ts=function(e,Z){var F=e.list.v;
for(var l=0;l<F.length;l++)if(F[l].v.compID.v==Z)return l;return-1};i.p7.aaV=function(e){var Z=e.layerSettings.v,_=null;
if(Z.length==0)return;var F="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),b=Z[0].v;
if(b.enab==null)b.enab={t:"bool",v:!0};if(b.Ofst==null)b.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var l=0;l<Z.length;l++){var d=Z[l].v;if(_==null)_=JSON.parse(JSON.stringify(d));else for(var S=0;
S<F.length;S++){var U=F[S];if(d[U])_[U]=JSON.parse(JSON.stringify(d[U]))}Z[l].v=JSON.parse(JSON.stringify(_))}};
i.p7.eq=function(e,Z){var F=e.add.shmd.cmls,b=F.layerSettings.v;for(var _=0;_<b.length;_++){var d=b[_].v,S=d.compList.v[0].v;
if(S==Z)return _}return-1};i.p7.$B=function(e,Z){var F=i.p7.eq(e,Z);return F==-1?null:e.add.shmd.cmls.layerSettings.v[F].v};
i.p7.rv=function(e,Z,F){for(var l=0;l<e.g.length;l++){var b=e.g[l],_=b.add.shmd.cmls;if(_==null)continue;
var d=_.layerSettings.v,S=i.p7.$B(b,Z);if(S==null){b.cm(!1);continue}if((F&1)!=0){if(S.enab)b.cm(S.enab.v);
else b.cm(!0)}if((F&2)!=0){if(S.Ofst){var U=S.Ofst.v,r=b.T8(e),q=Math.round(U.Hrzn.v-r.x),w=Math.round(U.Vrtc.v-r.y);
if(q!=0||w!=0)i.rX._u(e,[l],null,q,w)}}if((F&4)!=0){if(S.Lefx){var X=JSON.parse(JSON.stringify(S.Lefx.v));
gh.mE(X);if(JSON.stringify(X)!=JSON.stringify(b.add.lmfx)){b.add.lmfx=X;b.xP.XI=!0}}else delete b.add.lmfx;
if(S.blendOptions){var Q=S.blendOptions.v;if(Q.Opct)b.opacity=Math.round(255*Q.Opct.v.val/100);if(Q.fillOpacity)b.add.iOpa=Math.round(255*Q.fillOpacity.v.val/100);
if(Q.Md)b.Du=b.add.lsct==jj.Hx?"norm":ae.Pp(Q.Md.v.BlnM)}else{b.opacity=255;b.Du=b.yx()?"pass":"norm";
b.add.iOpa=255}}}};i.p7.aik=function(e,Z){var F={};for(var l=0;l<e.g.length;l++){var b=e.g[l];if(b.add.shmd==null||b.add.shmd.cmls==null)continue;
F["l"+b.add.lyid]=JSON.parse(JSON.stringify(i.p7.$B(b,Z)))}return F};i.p7.Ct=function(e,Z){var F={};
for(var l=0;l<e.g.length;l++){var b=e.g[l],_=b.add.lyid;F["l"+_]=i.p7.xZ(e,b,Z)}return F};i.p7.xZ=function(e,Z,F){var b=Z.add.shmd?Z.add.shmd.cmls:null,_={classID:"null"},d=Z.T8(e),S={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:d.x},Vrtc:{t:"long",v:d.y}}};
_.compList={t:"VlLs",v:[{t:"long",v:F}]};_.enab={t:"bool",v:Z.ir()};_.Ofst=JSON.parse(JSON.stringify(S));
_.FXRefPoint=JSON.parse(JSON.stringify(b&&b.origFXRefPoint?b.origFXRefPoint:S));_.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ae.px(Z.Du)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*Z.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:Z.add.iOpa!=null?100*Z.add.iOpa/255:100}}}};
if(Z.add.vmsk){_.vectorMask={t:"Objc",v:{classID:"null"}};_.vectorMask.v.Ofst=JSON.parse(JSON.stringify(S))}if(Z.add.lmfx){_.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(Z.add.lmfx))};
gh.rq(_.Lefx.v)}return _};i.p7.aoj=function(e,Z){var F=Z.add.lyid;if(Z.add.shmd==null)Z.add.shmd={};
if(Z.add.shmd.cmls==null){Z.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:F},layerSettings:{t:"VlLs",v:[{t:"Objc",v:i.p7.xZ(e,Z,0)}]}}}};
i.p7.mt=function(e,Z,F){for(var l=0;l<e.g.length;l++){var b=e.g[l],_=b.add.lyid;i.p7.aoj(e,b);var d=b.add.shmd.cmls,S=d.layerSettings.v,U=Z["l"+_];
if(U!=null)U={t:"Objc",v:JSON.parse(JSON.stringify(U))};var r=i.p7.eq(b,F);if(r==-1){if(U==null)continue;
else S.push(U)}else{if(U==null)S.splice(r,1);else S[r]=U}}};i.p7.B1=function(e,Z){for(var l=0;l<e.g.length;
l++){var F=e.g[l],b=F.add.lyid;if(F.add.shmd==null||F.add.shmd.cmls==null)continue;var _=F.T8(e),d=Math.round(_.x),S=Math.round(_.y);
if(!Z){d=-d;S=-S}var U=F.add.shmd.cmls,r=U.layerSettings.v;if(U.origFXRefPoint)i.p7.KZ(U.origFXRefPoint,-d,-S);
for(var q=0;q<r.length;q++){var w=r[q].v;i.p7.KZ(w.Ofst,d,S);var X=w.imageMask,Q=w.vectorMask;if(X&&X.v.Ofst)i.p7.KZ(X.v.Ofst,d,S);
if(Q&&Q.v.Ofst)i.p7.KZ(Q.v.Ofst,d,S)}}};i.j4=function(){i.kC.call(this,"Adjust Edit",i.v$);this.Co=null;
this.A7=null};i.j4.prototype=new i.kC;i.j4.Xj=function(e,Z,F,b){if(b)Z/=4;var _=0,d=0,S=255,U=0,r=0,q=255;
while(d+e[_]<Z){d+=e[_];_++}while(U+e[S]<Z){U+=e[S];S--}if(b){_-=Math.round(e[_]/(F/32));S+=Math.round(e[S]/(F/32));
if(_<0)r=Math.round(-_*255/(S-_));if(S>255)q=255-Math.round((S-255)*255/(S-_))}return[Math.max(_,0),Math.min(S,255),r,q,100]};
i.j4.prototype.at=function(e,Z,F,b,_){var d=e.d;if(d=="auto"){var S=e.T6,U=i.j4.getData(F);for(var l=0;
l<U.length;l++){var r=U[l],q;if(S<3){}else{var w=ff.wy("hue2");jb.OB(w,0,[0,-100,0]);q=hc.WW("hue2",w)}hc.Gm(q,r.dq,r.YX,r.uT)}i.j4.Rt(F,U);
i.j4.IG(F,U,S<3?[4,16,S]:[19,7,0],this);F.G()}if(d=="edit_layer")this.a8b(e,Z,F,b);if(d=="edit"||d=="confirm"||d=="cancel")this.EC(e,Z,F,_,!0);
if(d=="start"){if(F.V.length==0)return;var X=F.g[F.V[0]];if(X.add.SoLd&&X.WA<=0&&F.kl.length==0){var Q=new j8(G.E.u,!0);
Q.k=i.Db;Q.data={d:"start",Nw:e.KM,Bi:e.Bi};Z.$(Q);return}if(!F.m6(Z,null,!0))return;if(N[e.KM]&&e.Bi==null){if(F.V.length!=1)alert("Will be applied to "+F.V.length+" layers.");
var Q=new j8(G.E.W,!0);Q.data={d:G.B.tJ,ZB:"afw_"+e.KM};Z.$(Q)}else{this.EC({d:"edit",Bi:e.Bi,Nw:e.KM},Z,F,_);
this.EC({d:"confirm",Nw:e.KM},Z,F,_)}}};i.j4.prototype.a8b=function(e,Z,F,b){var _=e.d,d=F.V[0],S=F.g[d],U=hc.get(S.add),r=JSON.parse(JSON.stringify(S.add[U])),Q;
for(var q in e.I)r[q]=e.I[q];var w=JSON.parse(JSON.stringify(r));for(var q in hc.Kd)if(hc.Kd[q]==U)w.classID=q;
var X=F.history[F.Ti];if(X&&X.k==this&&X.data.Xd!=null&&X.data.i==d)Q=X;else{var c=new j8(G.E.GT,!0),u={classID:"setd",null:dz.vz("AdjL",!0),T:{t:"Objc",v:w}};
c.data={S$:!0,qg:"set",ni:u};Z.$(c);var Q=new eh([6,39],this);Q.data={i:d,Xd:S.add[U],mQ:r,p3:u};F.XM(Q)}Q.data.mQ=r;
Q.data.p3.T.v=w;this.Fm(Q.data,F)};i.j4.getData=function(e,Z,F){var b=[],_=new e3(0,0,e.w,e._),d=e.kl.length!=0?[-1-e.kl[0]]:e.V;
for(var l=0;l<d.length;l++){var S=d[l],U=S<0?null:e.g[S],r={i:S,JT:S<0?1:U.WA};b.push(r);var q=e.LE[-1-S];
if(0<=S)q=U.WA<=0?null:U.WA==1?U.Vj():U.EB(e).v;var w=q?q.rect:U.rect;if(e.K)r.uT=q!=null?e.K.rect.QP(_):e.K.rect.QP(w);
else r.uT=Z||q!=null?w.Us(_):w.clone();if(F)r.uT=F[l].uT.clone();var X=r.uT.Z();r.dq=V.J(X*4);if(q)i.Aj.oj(q.channel,q.rect,q.color,r.dq,r.uT);
else V.Rf(U.buffer,w,r.dq,r.uT);r.YX=r.dq.slice(0);if(e.K){r.TY=V.J(X);V.l2(e.K.channel,e.K.rect,r.TY,r.uT)}}return b};
i.j4.a86=function(e,Z,F){if(Z==null)return Z;var b=hc.kT(e,Z),d;if(b==-1)return Z;var _=F.length>>>2,S=V.aB(F),U=.001*_;
if(b==0||b==2)d=[[0,255,0,255,100],i.j4.Xj(S[1],U,_,b==2),i.j4.Xj(S[2],U,_,b==2),i.j4.Xj(S[3],U,_,b==2)];
if(b==1)d=[i.j4.Xj(S[0],U*.33,_,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var r=ff.wy("levl");
for(var l=0;l<4;l++)go.OB(r,l,d[l]);return r};i.j4.prototype.EC=function(e,Z,F,b){if(this.Co==null){if(e.Nw=="aply")F.g[F.V[0]].extend(new e3(0,0,F.w,F._));
this.Co=i.j4.getData(F,null,e.Nw=="fade"?F.Yj().data:null);if(e.Nw=="aply")this.Co[0]._j=F.zB()}if(e.d=="edit"){this.A7=[e.Nw,e.Bi];
var _=this.Co[0],d=i.j4.a86(e.Nw,e.Bi,_.dq),S=hc.WW(e.Nw,d);if(e.Nw=="fade"||e.Nw=="aply")S=e.Bi;if(S!=null){for(var l=0;
l<this.Co.length;l++){var U=this.Co[l];if(e.qU)V.Fk(U.dq,U.YX);else if(e.Nw=="fade"){var r=ae.Pp(e.Bi.Md.v.BlnM),q=e.Bi.Opct.v.val/100,w=F.Yj().data[l];
V.Fk(w.dq,U.YX);if(r=="norm")V.a.i5(U.dq,U.uT,U.YX,U.uT,null,null,null,U.uT,q);else{var X=d4.ck();X.FA=!0;
for(var l=0;l<w.dq.length;l+=4)if(w.dq[l+3]!=U.dq[l+3]){X=null;break}V.a.sB(r,U.dq,U.uT,U.YX,U.uT,U.uT,q,X)}}else if(e.Nw=="aply"){S=S.With.v;
var Q=S.T.v,c,u;if(Q[1].t=="name"){var n=0;for(var k=0;k<F.g.length;k++)if(F.g[k].getName()==Q[1].v.val)n=k;
if(n==U.i){c=U.dq;u=U.uT}else{var B=F.g[n];c=B.buffer;u=B.rect}}else{u=new e3(0,0,F.w,F._);c=U._j}var o=S.Clcl?S.Clcl.v.Clcn:null,r=o?ae.Pp(o):"norm",q=S.Opct?S.Opct.v.val/100:1,T=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum),d=S.Invr&&S.Invr.v;
if(d||T!=0){c=c.slice(0);if(d)V.ae5(c);if(T!=0){var z=V.J(u.Z());V.yC(c,z,T-1);if(T==4)V.eG(z);for(var k=0;
k<3;k++)V.s$(z,c,k)}}if(o=="Add"||o=="Sbtr"){var W=1/S.Scl.v,$=S.Ofst.v,R=o=="Add"?1:-1,P=new Uint8ClampedArray(U.YX.buffer);
for(var l=0;l<c.length;l+=4){P[l]=(U.dq[l]+R*c[l])*W+$;P[l+1]=(U.dq[l+1]+R*c[l+1])*W+$;P[l+2]=(U.dq[l+2]+R*c[l+2])*W+$}}else{var X=d4.ck();
X.FA=S.PrsT&&S.PrsT.v;U.YX.fill(0);U.YX.set(U.dq);V.a.sB(r,c,u,U.YX,U.uT,U.uT,q,X)}}else hc.Gm(S,U.dq,U.YX,U.uT)}i.j4.Rt(F,this.Co)}}if(e.d=="cancel"){i.j4.pG(F,this.Co);
this.Co=null}if(e.d=="confirm"){var H=e.Nw=="fade"?[2,11]:e.Nw=="aply"?[2,12]:hc.names[e.Nw],y=hc.kT(e.Nw,this.A7[1]);
if(y!=-1)H=[4,16,y];i.j4.IG(F,this.Co,H,this);this.Co=null;if(y==-1)i.j4.JQ(Z,this.A7)}F.G()};i.j4.JQ=function(e,Z){var F=Z[0],b=Z[1],_,d;
if(hc.E7[F]){_=hc.E7[F];if(N[F])d=b}if(ff.E7[F]){_=ff.E7[F];if(N[F])d=b}if(F=="fade"){_="fade";d=b}if(F=="aply"){_="applyImageEvent";
d=b}if(_==null)return;var S=new j8(G.E.GT,!0);S.data={S$:!0,qg:_};if(d){d=JSON.parse(JSON.stringify(d));
d.classID="null";delete d.__name;S.data.ni=d}e.$(S)};i.j4.pG=function(e,Z){i.j4.U0(e,Z)};i.j4.IG=function(e,Z,F,b){for(var l=0;
l<Z.length;l++){var _=Z[l],d=e.g[_.i],S=_.i<0?e.LE[-1-_.i]:_.JT<=0?null:_.JT==1?d.Vj():d.EB(e).v;if(S){S.M5();
S.oy=!0;if(d)d.kJ(e)}else{d.M5();d.G()}delete _.YX;delete _.TY}var U=new eh(F,b);U.data=Z;e.XM(U);e.oW=!0};
i.j4.Rt=function(e,Z,F){for(var l=0;l<Z.length;l++){var b=Z[l],_=e.g[b.i],d=F?b.dq:b.YX,S=b.uT;if(b.JT==0){_.extend(S);
if(b.TY){V.Rf(b.dq,S,_.buffer,_.rect);V.a.i5(d,S,_.buffer,_.rect,b.TY,S,0,S,1)}else V.Rf(d,S,_.buffer,_.rect)}else{var U=b.i<0?e.LE[-1-b.i]:b.JT==1?_.Vj():_.EB(e).v;
U.extend(S);if(b.TY){var r=V.J(S.Z()*4);V.Fk(b.dq,r);V.a.i5(d,S,r,S,b.TY,S,0,S,1);i.Aj.$q(r,S,U)}else i.Aj.$q(d,S,U);
U.oy=!0;if(_)_.kJ(e)}if(_)_.G()}if(!F)i.j4.$W(e,Z)};i.j4.U0=function(e,Z){for(var l=0;l<Z.length;l++){var F=Z[l],b=e.g[F.i],_=F.uT,d=V.J(_.Z()*4);
if(F.JT==0){V.Rf(b.buffer,b.rect,d,_);b.extend(_);V.Rf(F.dq,_,b.buffer,b.rect);b.M5()}else{var S=F.i<0?e.LE[-1-F.i]:F.JT==1?b.Vj():b.EB(e).v;
i.Aj.oj(S.channel,S.rect,S.color,d,_);S.extend(_);i.Aj.$q(F.dq,_,S);S.M5();S.oy=!0;if(b)b.kJ(e)}F.dq=d;
if(b)b.G()}e.oW=!0};i.j4.$W=function(e,Z){var F=i.j4.di(e),b=~F;if(F==16777215)return;for(var l=0;l<Z.length;
l++){var _=Z[l],d=e.g[_.i],S=_.uT;if(_.JT!=0)continue;d.extend(S);var U=S.x-d.rect.x,r=S.y-d.rect.y,q=d.rect.w,w=new Uint32Array(_.dq.buffer),X=new Uint32Array(d.buffer.buffer);
for(var Q=0;Q<S._;Q++)for(var c=0;c<S.w;c++){var u=Q*S.w+c,n=(Q+r)*q+(c+U);X[n]=X[n]&F|w[u]&b}d.M5();
d.G()}e.G()};i.j4.di=function(e){var Z=e.t.$v;return Z[2]*16711680|Z[1]*65280|Z[0]*255};i.j4.prototype.Mi=function(e,Z){var F=Z.g[e.i];
if(e.Xd!=null)F.add[hc.get(F.add)]=e.Xd;else i.j4.U0(Z,e);Z.G()};i.j4.prototype.Fm=function(e,Z){var F=Z.g[e.i];
if(e.Xd!=null)F.add[hc.get(F.add)]=e.mQ;else i.j4.U0(Z,e);Z.G()};i.O1=function(){i.kC.call(this,"Filter Edit",i.Db);
this.Co=null;this.Ai=null;this.d=null;this.A7=null};i.O1.prototype=new i.kC;i.O1.prototype.at=function(e,Z,F,b,_){if(e.d=="start"){if(F.V.length==0)return;
var d=F.g[F.V[0]];if(d.add.SoLd&&d.WA<=0&&F.kl.length==0){}else if(!F.m6(Z,null,!0))return;var S=e.Nw;
if((N[S]||ff.q[S])&&e.Bi==null){if(F.V.length!=1)alert("Will be applied to "+F.V.length+" layers.");
var U=new j8(G.E.W,!0);U.data=i.O1.iJ(S,this.LX(F,S));Z.$(U)}else{var r={d:"edit",Nw:S,Bi:e.Bi,PY:this.LX(F)};
this.at(r,Z,F,b,_);r.d="confirm";delete r.Bi;this.at(r,Z,F,b,_)}}if(e.d=="edit"||e.d=="cancel"||e.d=="confirm"){if(e.d=="edit")this.A7=[e.Nw,e.Bi];
if(e.PY)this.a24(e,F,_);else this.a2K(e,Z,F,_)}if(e.d=="applylast"&&this.A7!=null){var r={d:"edit",Nw:this.A7[0],Bi:this.A7[1],PY:this.LX(F)};
this.at(r,Z,F,b,_);r.d="confirm";delete r.Bi;this.at(r,Z,F,b,_)}};i.O1.iJ=function(e,Z){var F=ff.q[e];
if(F)return{d:G.B.LN,k:F,DL:{PY:Z}};else return{d:G.B.tJ,ZB:"afw_"+e,PY:Z}};i.O1.prototype.LX=function(e,Z){var F=e.g[e.V[0]],b;
if(F.add.SoLd&&F.WA<=0&&e.kl.length==0){b={i:e.V[0],index:0};if(F.add.SoLd.filterFX!=null){var _=F.add.SoLd.filterFX.v.filterFXList.v;
b.index=_.length;for(var l=0;l<_.length;l++)if(ff._m(_[l].v)==Z&&ff.q[Z])b.index=l}}return b};i.O1.prototype.a24=function(e,Z,F){var b=Z.g[e.PY.i],_=e.Nw;
if(e.d=="edit"){if(this.d==null){var d=ff.names[_];if(d==null)d=hc.names[_];if(_=="blendOptions")d=[14,10];
this.d=new eh(d,this);this.d.data={PY:e.PY,a44:JSON.parse(JSON.stringify(b.add.SoLd))}}if(!b.bR()){b.add.SoLd.filterFX=ff.Zb();
this.d.data.S0=aH.Jx(b.add.SoLd.placed.v);Z.zp(this.d.data.S0);b.gV(Z)}var S=b.add.SoLd.filterFX.v.filterFXList.v;
if(S[e.PY.index]==null){S.push(ff.ac(_,F))}if(e.Bi){S[e.PY.index].v.enab.v=e.qU!=!0;if(_=="blendOptions")S[e.PY.index].v.blendOptions.v=e.Bi;
else S[e.PY.index].v.Fltr.v=e.Bi}this.d.data.ahb=JSON.parse(JSON.stringify(b.add.SoLd));this.Fm(this.d.data,Z)}if(e.d=="cancel"){if(this.d)this.Mi(this.d.data,Z);
this.d=null}if(e.d=="confirm"){if(this.d)Z.XM(this.d);this.d=null}};i.O1.prototype.Id=function(e){return{o:e>>>16,z:e>>>8&255,S:e&255}};
i.O1.prototype.a2K=function(e,Z,F,b){if(this.Co==null){var _=ff.jC(e.Nw,e.Bi);this.Co=i.j4.getData(F,_.x!=0||_.y!=0)}if(e.d=="edit"){var d=JSON.stringify(e.Bi);
if((e.Bi==null||d!=this.Ai)&&e.qU!=!0)for(var l=0;l<this.Co.length;l++){var S=this.Co[l],U={rect:S.uT,buffer:S.dq},r={rect:S.uT,buffer:S.YX};
if(e.Nw=="Avrg"&&S.TY){U.buffer=S.dq.slice(0);V.ne(S.TY,U.buffer)}ff.Gm(e.Nw,U,e.Bi,this.Id(b.Ly),this.Id(b.ZE),r,[F.add.lnk2?F.add.lnk2:[],F.g[F.V[0]].Vj(),F.LE,F.GJ()]);
if(e.Nw=="Avrg"&&S.TY){var q=S.dq.length;for(var l=0;l<q;l+=4)S.YX[l+3]=S.dq[l+3]}this.Ai=d}i.j4.Rt(F,this.Co,e.qU)}if(e.d=="cancel"){i.j4.pG(F,this.Co);
this.Co=null;this.Ai=null}if(e.d=="confirm"){i.j4.IG(F,this.Co,ff.names[e.Nw],this);this.Co=null;this.Ai=null;
i.j4.JQ(Z,this.A7)}F.G();F.oW=!0};i.O1.prototype.Mi=function(e,Z){if(e.PY){var F=Z.g[e.PY.i];if(e.S0)Z.Wq(e.S0);
F.add.SoLd=JSON.parse(JSON.stringify(e.a44));if(F.bR())F.Cf(Z);else{F.gV(Z);F.WA=0}}else i.j4.U0(Z,e);
Z.G();Z.oW=!0};i.O1.prototype.Fm=function(e,Z){if(e.PY){var F=Z.g[e.PY.i];if(e.S0)Z.zp(e.S0);F.add.SoLd=JSON.parse(JSON.stringify(e.ahb));
if(F.bR())F.Cf(Z);else F.gV(Z);if(!F.UB())F.jj+=32}else i.j4.U0(Z,e);Z.G();Z.oW=!0};var c6={vy:"0",f_:"1",kv:"2",Hy:"3",y9:"4",hs:"5",Fj:"6",qZ:"7",u:"8",Ki:"8.5",CU:"8.8",ZJ:"9",jZ:"10",fU:"11",aT:"12",yw:"13",Iu:"14",Ub:"15",qH:"16",kp:"21",sV:"22",m0:"23",Ga:"23.0",IU:"23.1",Kz:"23.2",ys:"23.3",Uk:"23.4",Tk:"23.5",Kx:"23.6",u_:"30",uy:"31",Vx:"40",y$:"41",Pq:"42"};
c6.zf={};c6.zf[c6.f_]=["abr","brushes",il,[9,3]];c6.zf[c6.kv]=["grd","gradients",cQ,[12,37]];c6.zf[c6.Hy]=["shc","contours",ja,[12,21]];
c6.zf[c6.y9]=["asl","styles",dd,[12,22]];c6.zf[c6.hs]=["pat","patterns",dg,[12,62]];c6.zf[c6.Fj]=["csh","shapes",fK,[12,77]];
c6.zf[c6.qZ]=["aco","swatches",fE,[9,8]];c6.zf[c6.u]=["atn","actions",da,[9,9]];c6.zf[c6.Ki]=["tpl","tpresets",f4,[9,12]];
c6.zf[c6.CU]=["icc","profiles",ic,"ICCs"];function eh(e,Z,F){if(F==null)F=!1;this.name=e;this.k=Z;this.bg=F;
this.data=null;this.apf=Date.now()}var dz={};dz.vz=function(e,Z){var F={t:"Clss",v:{classID:e}};if(Z)F={t:"Enmr",v:{classID:e,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[F]}};dz.p1=function(e,Z){var F={classID:"Lyr"};F[e]=Z;return{qg:"set",ni:{classID:"null",null:dz.vz("Lyr",!0),T:{t:"Objc",v:F}}}};
dz.aa3=function(e,Z,F,b,_){var d=new j8(G.E.GT,!0),S=[],l=0,U=dz.A2(Z,F,b,S);while(S.length!=0){var r=S.pop();
l++;if(!r.P)continue;console.log(l-1);if(r.qg=="conditional"){var q=e.g[e.V[0]],w=r.ni.null.v.Cndt,X=!1;
if(w=="Bckg")X=!1;else if(w=="Pxel"&&e.gy(!1))X=!0;else if(w=="Adjs"&&hc.get(q.add))X=!0;else if(w=="Shp"&&q.add.vogk)X=!0;
else if(w=="Grup"&&q.yx())X=!0;else if(w=="Opn"&&e!=null)X=!0;else if(w=="32Bt")X=!1;else if(w=="RGB")X=!0;
var Q=r.ni.then,c=r.ni.else;if(X&&Q)dz.A2(Z,Q.v[0].v.val,Q.v[1].v.val,S);if(!X&&c)dz.A2(Z,c.v[0].v.val,c.v[1].v.val,S)}else if(r.qg=="stop"){if(r.ni.Cntn&&r.ni.Cntn.v==!0)window.confirm(r.ni.Msge.v);
else{alert(r.ni.Msge.v);break}}else if(r.qg=="play"){var u=r.ni.null.v,n=new j8(G.E.W,!0);n.data={d:G.B.wa,wg:[u[0].v.val,u[1].v.val]};
_.$(n)}else{d.data={qg:r.qg,ni:r.ni};_.$(d)}}};dz.A2=function(e,Z,F,b){var _;for(var l=0;l<e.length;
l++){if(e[l].Pj!=F)continue;var d=e[l].JS;for(var S=0;S<d.length;S++){if(d[S].Pj!=Z)continue;_=d[S].JS}}var U=_.length;
for(var l=0;l<U;l++)b.push(_[U-1-l])};dz.ai5=function(e){var Z=e.qg,F=e.ni,b,S,U,r,q;if(F&&F.null)b=F.null.v[0];
if(F&&b==null&&F.At)b=F.At.v[0];if(b&&b.t=="obj ")b=b.v[0];var _=b?b.v.classID:null,d=["purge"];if(d.indexOf(Z)!=-1)return Z[0].toUpperCase()+Z.slice(1);
if(Z=="GEfc")return bU.names[F.GEfk.v.GEft][1];q=hc.E7;for(S in q)if(q[S]==Z)U=S;q=ff.E7;for(S in q)if(q[S]==Z)r=S;
if(U){var w=hc.kT(U,F);if(w!=-1)return[4,16,w];return hc.names[U]}if(r)return ff.names[r];var X=dz.up;
if(Z=="make"){if(b){if(_=="AdjL")return[6,1];else if(_=="layerSection")return F.From?[6,9]:[6,20];else if(_=="Lyr")return[6,13];
else if(_=="Chnl"&&b.v.enum=="Msk")return[6,2];else if(_=="contentLayer")return[6,48,1];else if(_=="BckL")return"Make Background Layer";
else if(_=="Path")return"Make Path";else if(_=="TxLr")return"Make Text Layer";else if(_=="slice")return"Make Slices"}if(F.Nw){_=F.Nw.v.classID;
if(_=="Dcmn")return[11,7];else if(_=="Chnl"||_=="SCch")return"New Channel"}}else if(Z=="deselect"){if(_=="Path")return"Deselect current path";
else throw _}else if(Z=="select"){if(_=="Chnl")return"Select "+(b.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(_=="Mn")return"Select Panel \""+b.v.enum+"\"";else if(_=="Lyr"){if(b.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[b.v.enum]+" Layer";
return"Select Layer \""+b.v.val+"\""}else if(_=="Path")return"Select Path";else if(_=="Brsh")return"Select Brush";
else if(_=="Dcmn")return"Select Document"}else if(X[Z]&&_=="Chnl"){var Q=b.v.keyID=="fsel";return X[Z]+" "+(Q?"Selection":"Channel")}else if(Z=="set"){if(_=="Lyr")return"Set Current Layer";
else if(_=="AdjL")return[6,39];else if(_=="contentLayer")return[6,48,2];else if(_=="Prpr")return[11,6];
else if(_=="Clr")return"Set "+(b.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(_=="Brsh")return"Set Brush";
else console.log(_)}else if(Z=="move"){if(_=="Lyr")return"Move Layer"}else if(Z=="show"||Z=="hide"){var c="";
if(_=="Lyr")+"Layer";if(_=="Chnl")+"Channel";return(Z=="show"?"Show":"Hide")+" "+c}else if(Z=="reset"){if(_=="Clr")return"Reset Colors"}else if(Z=="exchange"){if(_=="Clr")return[22,7,0]}else if(Z=="rotateEventEnum")return[2,5];
else if(Z=="flip"){var u=F.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,u?2:3]]}if(_=="Chnl"){if(Z=="duplicate"){if(b.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(Z=="delete")return"Delete Channel"}if(Z=="transform")return b&&b.v.keyID=="fsel"?[7,10]:[10,16];
var n={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:F?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},k=n[Z];
if(k==null)k=dz.E4[Z];if(k)return k;return Z};dz.E4={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
dz.up={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
dz.aer=function(e,Z,F,b){var _=e.qg,d=e.ni,S=new j8(G.E.u,!0),q,w,X,Q,u;S.k=i.__;var U=new j8(G.E.W,!0),r=["purge","updatePlacedLayer","convertMode"];
if(r.indexOf(_)!=-1)return;Q=hc.E7;for(q in Q)if(Q[q]==_)w=q;Q=ff.E7;for(q in Q)if(Q[q]==_)X=q;if(_=="fade")w=_;
if(_=="applyImageEvent")w="aply";if(w){S.k=i.v$;S.data={d:"start",KM:w,Bi:d}}else if(X){S.k=i.Db;S.data={d:"start",Nw:X,Bi:d}}else if(_=="GEfc"){S.k=i.Db;
S.data={d:"start",Nw:"GEfc",Bi:d}}else if(_=="imageSize"||_=="canvasSize"||_=="revealAll"||_=="trim"||_=="crop"){S.k=i.WF;
S.data={d:"fromAction",wO:e}}else if(_=="fill"||_=="stroke"||_=="delete"&&d==null){S.k=i.f_;S.data={d:"fromAction",wO:e}}else if(_=="colorRange"){S.k=i._6;
S.data={d:"fromAction",wO:e}}else if(dz.E4[_]||dz.up[_]&&(!1||d.With&&d.With.v[0].v.keyID=="fsel"||d.From&&d.From.v[0].v.keyID=="fsel"||d.null&&d.null.v[0].v.keyID=="fsel"||d.T.v[0]&&d.T.v[0].v.keyID=="fsel")){S.k=i._6;
S.data={d:"fromAction",wO:e}}var c={copyToLayer:g.XB,mergeLayersNew:b&&b.V.length==1?g.J$:g.eR,rasterizeLayer:g.tn,mergeVisible:g.op,flattenImage:g.XU,newPlacedLayer:g.lp};
if(c[_])S.data={d:c[_],ni:d};if(S.data){Z.$(S);return}if(_=="desaturate"){S.k=i.v$;S.data={d:"auto",T6:3};
if(b&&b.g[b.V[0]].add.SoLd==null)Z.$(S);return}if(_=="close"){if(d.Svng.v.YsN=="Ys"){U.data={d:G.B.RF};
Z.$(U)}U.data={d:G.B.lY,Zd:b};Z.$(U);return}if(_=="save"){U.data={d:G.B.RF};Z.$(U);return}if(_=="copyMerged"){U.data={d:G.B.t7,XP:!0,AY:!0};
Z.$(U);return}var c={placedLayerEditContents:G.B.amb,copyEvent:G.B.t7,paste:G.B.TQ};if(c[_])U.data={d:c[_],AY:!0};
if(U.data){Z.$(U);return}if(d.null||d.At)u=(d.null?d.null:d.At).v;else u=[{t:"----",v:d}];if(u[0].t=="obj "){if(u.length!=1)throw"e";
u=u[0].v}for(var n=0;n<u.length;n++){var k=u[n],B=k.v.classID;S.data=null;if(_=="make"){if(d.null==null&&d.Nw)B=d.Nw.v.classID;
if(B=="AdjL"){S.data={d:g.qV,ni:d}}else if(B=="layerSection"){S.data=d.From?{d:g.Bo}:{d:g.UM};if(d.Usng){var o=d.Usng.v;
if(o.Nm)S.data.vn=o.Nm.v;if(o.Clr)S.data.dR=dz.cP(o)}}else if(B=="Lyr"){if(d.Usng&&d.Usng.v.length==2)S.data={d:g.bE};
else{S.data={d:g.ls};if(d.Usng)S.data.vn=d.Usng.v.Nm.v;if(d.below&&d.below.v)S.data.a7M=!0}}else if(B=="Chnl"&&k.v.enum=="Msk"){S.data={d:g.TA,kK:d.Usng.v.UsrM}}else if(B=="Chnl"||B=="SCch"){S.data={d:g.B6,Yu:"fromAction",I:e}}else if(B=="contentLayer"){S.data={d:g.mP,ni:d}}else if(B=="BckL"){b.g[b.V[0]].a7G();
continue}else if(B=="Dcmn"){var T=d.Nw.v;U.data={d:G.B.I8,Bm:aH.an$(T,F)}}else if(B=="Ptrn")U.data={d:G.B.li,NG:0};
else if(B=="Path"){S.k=i.qy;S.data={d:"pathedit",Yu:"fromsel"}}else if(B=="TxLr"){S.k=i.Xk;S.data={d:"fromAction",wO:e}}else if(B=="slice"){S.k=i.IN;
S.data={d:"fromAction",wO:e}}else if(B=="SnpS"){continue}else{console.log(_,B,d);throw"e"}}else if(_=="deselect"){if(B=="Path"){b.YN=[];
b.Zc=b.sp=!0;continue}else throw B}else if(_=="select"){var z={PcTl:i.rr,PbTl:i.f_,magicWandTool:i.bL};
if(B=="Lyr"){var W=d.selectionModifier,$=W?W.v.selectionModifierType:null,R=dz.I1(b,k);if(R==-1){alert("Layer "+k.v.val+" does not exist.");
throw"e"}S.data={d:g.cI,i:R,a6T:$?["addToSelection","addToSelectionContinuous"].indexOf($):null,nH:0,a46:!0}}else if(B=="Path"){if(k.v.keyID=="WrPt"){b.YN=[0];
b.Zc=b.sp=!0;continue}else throw k}else if(B=="Chnl"){S.data={d:g.cI,i:R,nH:1}}else if(B=="Dcmn"){if(Z.cU.length<2)return;
U.data={d:G.B.a75,dir:d.null.v[0].v.val}}else if(B=="Brsh"){var P=F.en.list,H;for(var l=0;l<P.length;
l++){if(P[l].v.Nm.v==k.v.val)H=P[l].v}U.data={d:G.B.aE,NG:c6.Iu,LL:H}}else if(z[B]){U.data={d:G.B.LN,k:z[B]}}else throw B}else if((_=="set"||_=="reset"||_=="exchange")&&B=="Clr"){U.data={d:G.B.aE,NG:c6.kp,Yu:_=="reset"?3:2};
if(_=="set"){U.data.Yu=k.v.keyID=="FrgC"?0:1;var y=V.X.Gb(d.T.v);U.data.I=y.o<<16|y.z<<8|y.S}}else if(_=="set"){if(B=="AdjL"){var h=d.T.v.classID;
h=hc.Kd[h];S.k=i.v$;if(h)S.data={d:"edit_layer",I:d.T.v}}else if(B=="Lyr"){var m=d.T.v,R=dz.I1(b,k);
if(m.Nm)S.data={d:g.hK,name:m.Nm.v};else if(m.Opct)S.data={d:g.H4,mQ:Math.round(m.Opct.v.val*255/100)};
else if(m.fillOpacity)S.data={d:g.K3,mQ:Math.round(m.fillOpacity.v.val*255/100)};else if(m.Md)S.data={d:g.tx,mQ:ae.KU.indexOf(m.Md.v.BlnM)+(b.g[R].yx()?1:0)};
else if(m.Usrs)S.data={d:g.n2,i:R};else if(m.Blnd){S.k=i.D7;S.data={d:"setstl",i:R,I:{blendOptions:{t:"objc",v:m}}};
Z.$(S);S.data={d:"confirm",i:R}}else if(m.userMaskFeather||m.userMaskDensity){var t=m.userMaskFeather,j=m.userMaskDensity;
S.k=i.__;var R=b.V[0],x=b.g[R].zk(0);if(t)x.j1=t.v.val;if(j)x.DF=j.v.val;S.data={d:g.GL,kF:R,L3:x}}else if(m.Clr){var C=dz.cP(m);
S.data={d:g.dh,amP:C}}else if(u[0].t=="prop")continue;else{console.log(d);throw"e"}var L=b.g[R];L.ahq()}else if(B=="Prpr"){var m=JSON.parse(JSON.stringify(d.T.v));
if(k.v.keyID=="TxtS"){var R=dz.I1(b,d.null.v[1]),L=b.g[R],f=L.add.TySh,D=JSON.parse(JSON.stringify(f.HV)),v=fN.xf(D),A=fN.C7(D,0,v.length-2);
if(m.Undl&&m.Undl.v.Undl=="underlineOnLeftInVertical")A.sn.Underline=!0;fN.IY(D,0,v.length-1,A);S.k=i.Xk;
S.data={d:"newED",Jq:R,cM:D};n=1e9}else{for(var M in m)if(m[M].v){if(M=="Scl")m[M].v.val=100;if(m[M].v.TrnS&&m[M].v.TrnS.v.Crv==null){m[M].v.TrnS=JSON.parse(fu.qx[9]).TrnS}}gh.mE(m);
if(m.masterFXSwitch==null)m.masterFXSwitch={t:"bool",v:!0};var R=dz.I1(b,d.null.v[1]);S.k=i.D7;S.data={d:"setstl",i:R,I:{Lefx:{t:"objc",v:m}}};
Z.$(S);S.data={d:"confirm",i:R}}}else if(B=="contentLayer"){var R=dz.I1(b,k),m=d.T.v;if(m.classID=="shapeStyle")m=m.FlCn.v;
var J={solidColorLayer:0,gradientLayer:1,patternLayer:2}[m.classID],I=i._N.US(b,R),X=I.QL==J+1?I.n8:fu.hV[J];
X=JSON.parse(JSON.stringify(X));i.b0.V5(m,X,J);S.data={d:g.VL,X$:[R],sY:!0,I:{QL:J+1,n8:X}}}else if(B=="Brsh"){var H=JSON.parse(JSON.stringify(F.en.yA)),p=d.T.v;
if(p.masterDiameter)H.Brsh.v.Dmtr.v.val=p.masterDiameter.v.val;else console.log("unknown brush parameters");
U.data={d:G.B.aE,NG:c6.Iu,LL:H}}else{console.log(k,d);throw B}}else if(_=="move"){if(B=="Lyr"){var m=d.T.v;
if(m.classID=="Ofst"){S.data={d:"trsl",vZ:m.Hrzn.v.val,D3:m.Vrtc.v.val};S.k=i.l$}else{var a,er;if(m[0].t=="Enmr"){if(m[0].v.enum=="Frnt")er=0;
else if(m[0].v.enum=="Nxt")er=1;else if(m[0].v.enum=="Prvs")er=2;else if(m[0].v.enum=="Back")er=3;else throw"e"}else a=m[0].v.val;
S.data={d:g.Qj,target:a,Yu:er,a8y:d.Dplc?d.Dplc.v:!1}}}}else if(_=="groupEvent"||_=="ungroup")S.data={d:g.jp};
else if(_=="show"||_=="hide"){if(B=="Lyr"){var R=dz.I1(b,k);if(R==-1)continue;var c8=b.g[R].ir();if(_=="show"&&c8||_=="hide"&&!c8)continue;
S.data={d:g.fk,i:R}}else if(B=="Chnl"){S.data={d:g.B6,Yu:"fromAction",I:e}}else if(B=="filterFX"){if(k.v.val!=null)S.data={d:g.X4,index:k.v.val-1};
S.data={d:g.SN};u=[u[0]]}}else if(_=="rotateEventEnum"){S.k=i.WF;var O=d.Angl.v.val;S.data={d:"rot",Pj:[2,5],I:-O*Math.PI/180}}else if(_=="flip"){S.k=i.WF;
var dF=d.Axis.v.Ornt=="Hrzn",gl=dF?new bI(-1,1):new bI(1,-1);S.data={d:"scl",Pj:[[2,6],[22,4,dF?2:3]],I:gl}}else if(_=="transform"){var e0=1,bv=1,gm=0,iW=0,jx=0,aC=0,d9=0;
if(d.Wdth)e0=d.Wdth.v.val/100;if(d.Hght)bv=d.Hght.v.val/100;if(d.Skew){var bS=d.Skew.v;gm=bS.Hrzn.v.val;
iW=bS.Vrtc.v.val}if(d.Ofst){var jo=d.Ofst.v;aC=jo.Hrzn.v.val;d9=jo.Vrtc.v.val}if(d.Angl)jx=d.Angl.v.val;
var g7=new jg;g7.concat(new jg(e0,e0*Math.tan(iW*Math.PI/180),bv*Math.tan(gm*Math.PI/180),bv,0,0));g7.rotate(-jx*Math.PI/180);
g7.translate(aC,d9);var dI={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[d.FTcs.v.QCSt];
if(dI==null)throw d.FTcs.v.QCSt;var k=d.null;if(k&&k.v instanceof Array)k=k.v[0];var R=k?dz.I1(b,k):null;
if(R==-1)R=null;S.k=k&&k.v.keyID=="fsel"?i.uV:i.PF;S.data={d:"mat",xq:dI,I:g7}}else if(B=="Chnl"){S.data={d:g.B6,Yu:"fromAction",I:e}}else if(_=="duplicate")S.data={d:g.YB,vn:d.Nm?d.Nm.v:null};
else if(_=="delete"){if(B=="filterFX"){if(k.v.val!=null)S.data={d:g.ta,el:k.v.val-1};else S.data={d:g.N0}}else S.data={d:g.BD};
u=[u[0]]}else if(_=="align"){if(d.Aply&&d.Aply.v.projection=="Auto"){S.k=i.WF;S.data={d:"auto-align"}}else{S.k=i.l$;
var gn=d.Usng.v.ADSt,w={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[gn];if(w==null)throw gn;S.data={d:"algn",I:w}}}else if(_=="applyLocking"){var hI=d.layerLocking.v,d$;
if(hI.protectTransparency)d$=[[hI.protectTransparency.v],[0]];else if(hI.protectNone)d$=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(hI);throw"e"}S.data={d:g.TR,mQ:d$}}if(S.data)Z.$(S);else if(U.data)Z.$(U);else{console.log(e);
alert("Unknown action \""+_+"\"");throw"e"}}};dz.cP=function(e){var Z={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[e.Clr.v.Clr];
if(Z==null)throw e.Clr.v.Clr;return Z};dz.I1=function(e,Z){var F=1e6,b=0;for(var l=0;l<e.V.length;l++){F=Math.min(F,e.V[l]);
b=Math.max(b,e.V[l])}var _=Z.t,d=-1;if(_=="name"){var S=Z.v.val,d=-1;for(var l=0;l<e.g.length;l++)if(e.g[l].getName()==S){d=l;
break}}if(_=="Enmr"&&e.V.length!=0)d=e.V[0];if(_=="Enmr"&&Z.v.enum=="Frwr")d=b+1;if(_=="Enmr"&&Z.v.enum=="Bckw")d=F-1;
if(_=="prop"){if(Z.v.keyID=="Bckg")d=0}return d};var hc={};hc.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
hc.ZW=["expA","clrL","selc"];hc.bT=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];hc.aqp=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
hc.aD=[[13,1,1],[13,1,4],[13,1,5]];hc.gz={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
hc.Kd=function(){var e=JSON.parse(JSON.stringify(hc.gz));delete e.GrMp;e.GdMp="grdm";return e}();hc.E7={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
hc.keys={levl:[ex.Nh,ex.qv],curv:[ex.Nh,ex.uP],hue2:[ex.Nh,ex.Lb],nvrt:[ex.Nh,ex.vm],blnc:[ex.Nh,ex.c6]};
hc.pb=function(e){var Z=ff.wy("mixr");Z.Mnch={t:"bool",v:e.Uo};function F(b,l){var _={classID:"ChMx"},d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var S in d)_[S]={t:"UntF",v:{type:"#Prc",val:b[l+d[S]]}};return{t:"Objc",v:_}}if(e.Uo)Z.Gry=F(e.I,0);
else{Z.Rd=F(e.I,0);Z.Grn=F(e.I,5);Z.Bl=F(e.I,10)}return Z};hc.l8=function(e){function Z(b,_,l){var d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var S in d)if(b[S])_[l+d[S]]=b[S].v.val}var F={Uo:!1,I:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(e.Mnch&&e.Mnch.v)F.Uo=!0;if(F.Uo)Z(e.Gry.v,F.I,0);else{Z(e.Rd.v,F.I,0);Z(e.Grn.v,F.I,5);Z(e.Bl.v,F.I,10)}return F};
hc.get=function(e){for(var Z in hc.names)if(e[Z]!=null)return Z;return null};hc.WW=function(e,Z){var F=hc.T0,b;
if(e=="brit"){var _=Z.Brgh?Z.Brgh.v:0,d=Z.Cntr?Z.Cntr.v:0,S=Z.useLegacy?Z.useLegacy.v:!1;if(S){var U=_/255,r=1+d/100;
if(r>1)r=1+Math.tan(Math.PI/2*d/101);var q=(1-r)/2,w=V.tc.Lw(U,U,U),X=[r,0,0,q,0,r,0,q,0,0,r,q,0,0,0,1],Q=V.tc.multiply(w,X),c=new V.xV(256);
for(var l=0;l<256;l++)c.o[l]=l;V.tc.transform(c,c,Q);b={type:F.eP,wF:c.o,NA:c.o,tg:c.o,ks:!1,uI:!1}}else{var u=1024,n=-30+60*(d+100)/200,k=[];
for(var l=0;l<4;l++)k.push(V.AH.iF(l/3*255,l/3*255,!0));k[1].v.Hrzn.v=64;k[1].v.Vrtc.v=64-n;k[2].v.Hrzn.v=128+64;
k[2].v.Vrtc.v=128+64+n;k.sort(function(fM,d_){return fM.v.Hrzn.v-d_.v.Hrzn.v});var B=V.AH.cD(k,u);function o(fM,u){var k=[],gi=3;
for(var l=0;l<gi+1;l++)k.push(V.AH.iF(l/gi*255,l/gi*255,!0));k[1].v.Hrzn.v=130-fM*26;k[1].v.Vrtc.v=130+fM*51;
k[2].v.Hrzn.v=233-fM*48;k[2].v.Vrtc.v=233+fM*10;return V.AH.cD(k,u)}var T=o(Math.abs(_)/100,u);if(_<0){var z=[],W=1/u;
for(var l=0;l<u;l++){var $=l*W,R=l;while(T[R]>$&&R>1)R--;z[l]=R*W}T=z}var P=new Uint8Array(u);for(var l=0;
l<u;l++){var H=Math.round((u-1)*T[l]);P[l]=Math.round(255*B[H])}b={type:F.eP,wF:P,NA:P,tg:P,ks:!1,uI:!1}}}if(e=="levl"){var y=[],h,m,w,t,j,x;
for(var l=0;l<4;l++)y.push(go.G4(Z,l));h=-y[0][0]/255;m=1/(y[0][1]/255-y[0][0]/255);w=V.tc.multiply(V.tc.WJ(m,m,m),V.tc.Lw(h,h,h));
t=V.tc.WJ(1/(y[1][1]/255-y[1][0]/255),1/(y[2][1]/255-y[2][0]/255),1/(y[3][1]/255-y[3][0]/255));j=V.tc.Lw(-y[1][0]/255,-y[2][0]/255,-y[3][0]/255);
x=V.tc.multiply(t,j);var P=new V.xV(256);for(var l=0;l<256;l++)P.o[l]=P.z[l]=P.S[l]=l;var C=1/(y[0][4]/100),L=1/(y[1][4]/100),f=1/(y[2][4]/100),v=1/(y[3][4]/100);
V.tc.transform(P,P,x);for(var l=0;l<256;l++){P.o[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.o[l]/255,L))));
P.z[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.z[l]/255,f))));P.S[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.S[l]/255,v))))}V.tc.transform(P,P,w);
for(var l=0;l<256;l++){P.o[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.o[l]/255,C))));P.z[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.z[l]/255,C))));
P.S[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.S[l]/255,C))))}h=y[0][2]/255;m=y[0][3]/255-y[0][2]/255;
w=V.tc.multiply(V.tc.Lw(h,h,h),V.tc.WJ(m,m,m));t=V.tc.WJ(y[1][3]/255-y[1][2]/255,y[2][3]/255-y[2][2]/255,y[3][3]/255-y[3][2]/255);
j=V.tc.Lw(y[1][2]/255,y[2][2]/255,y[3][2]/255);x=V.tc.multiply(j,t);V.tc.transform(P,P,V.tc.multiply(w,x));
b={type:F.eP,wF:P.o,NA:P.z,tg:P.S,ks:!1,uI:!1}}if(e=="curv"){var A=hu.G4(Z,0).length==256?1:0,M=[];if(A==0){var Y=V.AH.CC(hu.G4(Z,0),256);
for(var l=1;l<4;l++){var J=V.AH.CC(hu.G4(Z,l),256);M.push(V.AH.xw(J,Y))}}else{var I=[];for(var l=0;l<4;
l++){var p=new Uint8Array(256);I.push(p);var a=hu.G4(Z,l);for(var R=0;R<256;R++)p[R]=a[R]}for(var l=1;
l<4;l++)M.push(V.AH.xw(I[l],I[0]))}b={type:F.eP,wF:M[0],NA:M[1],tg:M[2],ks:!1,uI:!1}}if(e=="expA"){var er=Z.Exps,c8=Z.Ofst,O=Z.gammaCorrection,dF=er?er.v:0,gl=c8?c8.v:0,e0=O?O.v:1,P=new Uint8Array(256);
for(var l=0;l<256;l++){var Z=l/255,bv=Math.pow(Math.abs(gl),1/(Math.PI/2));if(gl>0){Z=Math.max(gl/Math.E,Z);
Z=Z*Math.exp(gl/1.75+dF/Math.PI);Z=(1-bv)*Z+bv*1}else{Z=Z*Math.exp(-gl*1.75+dF/Math.PI);Z=Z+-bv*1.14}Z=Math.pow(Z,1/e0);
Z=Math.max(0,Math.min(1,Z));P[l]=Math.round(Z*255)}b={type:F.eP,wF:P,NA:P,tg:P,ks:!1,uI:!1}}if(e=="vibA"){var gm=(Z.vibrance?Z.vibrance.v:0)/100,iW=(Z.Strt?Z.Strt.v:0)/100,bv=1+gm*(gm>0?.25:.5),jx=.8+.2/bv;
b={type:F.gw,NG:[gm,iW,jx,bv]}}if(e=="hue2"){var aC=[],d9=[],bS=[],jo=Z.Clrz?Z.Clrz.v:!1;for(var l=0;
l<256;l++){aC[l]=l/255;d9[l]=0;bS[l]=0}var g7=jb.G4(Z,0),dI=hc.gN(g7[1]/100);if(jo){var gn=g7[0]/360;
for(var l=0;l<256;l++){aC[l]=gn;d9[l]=dI}}else{for(var l=0;l<256;l++){var hI=aC[l],d$=d9[l];aC[l]+=g7[0]/360;
for(var R=0;R<6;R++){var eX=jb.G4(Z,R+1),d3=eX.U9,cJ=eX._O,bv=0;for(var dM=1;dM<4;dM++)if(cJ[dM]<cJ[0])cJ[dM]+=360;
var dh=cJ[0],jh=cJ[1],aK=cJ[2],ca=cJ[3],iY=hI*360;if(iY<cJ[0])iY+=360;var et=(iY-dh)/(jh-dh),jD=(iY-aK)/(ca-aK);
if(et<0)bv=0;else if(et<1)bv=et;else if(jD<0)bv=1;else if(jD<1)bv=1-jD;else bv=0;var r=hc.gN(d3[1]/100);
aC[l]+=bv*d3[0]/360;d9[l]+=bv*r;bS[l]+=bv*d3[2]/100}}for(var l=0;l<256;l++){d9[l]=(1+d9[l])*(1+dI)-1;
bS[l]=Math.max(-1,Math.min(1,bS[l]))}}var j6=new Uint8Array(256),dc=new Uint8Array(256),ao=new Uint8Array(256);
for(var l=0;l<256;l++){var ec=aC[l],iW=d9[l],fp=bS[l];if(ec>1)ec--;if(ec<0)ec++;iW=hc.am2(iW);iW=(1+iW)*.5;
fp=(1+fp)*.5;j6[l]=Math.round(255*ec);dc[l]=Math.round(255*iW);ao[l]=Math.round(255*fp)}var eN=g7[2]/100,ha=eN<0?-eN:eN,bJ=eN<0?0:1;
b={type:F.qC,a7T:j6,b$:dc,abq:ao,a3z:ha*bJ,ya:1-ha,akJ:g7[2]/100,aqH:jo?1:0}}if(e=="nvrt"){var P=new Uint8Array(256);
for(var l=0;l<256;l++)P[l]=255-l;b={type:F.eP,wF:P,NA:P,tg:P,ks:!1,uI:!1}}if(e=="post"){var g3=Z.Lvls.v,P=new Uint8Array(256),bv=g3/255.001,bL=255/(g3-1);
for(var l=0;l<256;l++)P[l]=Math.floor(l*bv)*bL;b={type:F.eP,wF:P,NA:P,tg:P,ks:!1,uI:!1}}if(e=="grdm"){var fD=Z.Grad.v,bF=Z.Rvrs,u=1024,du;
if(fD.Clrs){var b8=V.X.cd(fD.Clrs.v,0,0);du=V.X.R$(fD,b8,u,bF?bF.v:!1)}else{du=V.X.O_(fD,u,bF?bF.v:!1)}var jf=V.J(u),c1=V.J(u),eV=V.J(u);
V.yC(du,jf,0);V.yC(du,c1,1);V.yC(du,eV,2);b={type:F.eP,wF:jf,NA:c1,tg:eV,ks:!0,uI:!1}}if(e=="selc"){var be=new Float32Array(9*3*2),fh=Z.dV,ea=Z.Mthd?Z.Mthd.v.CrcM=="Absl":!1;
for(var R=0;R<9;R++){var g4=R*6,i7=ci.G4(Z,R),de=i7[0]/100,hb=i7[1]/100,hk=i7[2]/100,e9=i7[3]/100;if(ea){be[g4]=be[g4+1]=be[g4+2]=1;
be[g4+3]=de*(1+e9)+e9;be[g4+4]=hb*(1+e9)+e9;be[g4+5]=hk*(1+e9)+e9}else{be[g4+0]=(1+de)*(1+e9);be[g4+1]=(1+hb)*(1+e9);
be[g4+2]=(1+hk)*(1+e9)}}b={type:F.V6,ajX:be}}if(e=="blwh"){var e2="Rd Yllw Grn Cyn Bl Mgnt".split(" "),b=[],j2=0,e$=0;
for(var l=0;l<6;l++)b.push(Z[e2[l]].v);b.push(Z.useTint.v,Z.tintColor.v);var bj=[];for(var l=0;l<6;l++)bj.push((b[l]-50)/50);
var e8=V.X.Gb(b[7]);e8.o/=255;e8.z/=255;e8.S/=255;var bt=V.Sq(e8.o,e8.z,e8.S),fp=V.NV(V.FD(bt.zA,1,.5)),cL=bt.ME*bt.Bi;
if(fp==.5)j2=e$=.5;else{j2=cL*(.5-fp)/(.5/fp-1);e$=1-cL*(.5-fp)-1/(2*(1-fp));e$/=1-1/(2*(1-fp))}b={type:F.cV,a8O:bj,Fb:b[6]?1:0,abt:bt.zA,NV:fp,a7N:cL,pt:j2,adL:e$}}if(e=="blnc"){var y=[],eI=["ShdL","MdtL","HghL"];
for(var l=0;l<3;l++){if(Z[eI[l]]==null){y[l]=[0,0,0];continue}var g3=Z[eI[l]].v,fy=g3[0].v/100,jO=g3[1].v/100,jR=g3[2].v/100,g0=Z.PrsL==null||Z.PrsL.v?(Math.min(fy,jO,jR)+Math.max(fy,jO,jR))/2:0;
y[l]=[fy-g0,jO-g0,jR-g0]}var M=[V.J(256),V.J(256),V.J(256)];for(var R=0;R<3;R++)for(var l=0;l<256;l++){var $=l*(1/255),gL=0,n=0,cy=0;
n=y[2][R];cy=Math.abs(n);if(n<0)gL=Math.pow($,Math.SQRT2);else gL=1.63*(Math.pow($+.04,.5)-.2);$=cy*gL+(1-cy)*$;
n=y[1][R];cy=Math.abs(n);if(n<0)gL=Math.pow($,2);else gL=Math.min(2.35*(Math.pow($+.09,.5)-.3),Math.pow($,1/2));
$=cy*gL+(1-cy)*$;n=y[0][R];cy=Math.abs(n);if(n<0)gL=$<.4?0:Math.pow(($-.4)/.6,Math.SQRT2);else gL=Math.pow($,Math.SQRT2/2);
$=cy*gL+(1-cy)*$;$=Math.max(0,Math.min(1,$));M[R][l]=Math.round($*255)}b={type:F.eP,wF:M[0],NA:M[1],tg:M[2],ks:!1,uI:!1}}if(e=="phfl"){var cP=V.X.Gb(Z.Clr.v),cn=[cP.o/255,cP.z/255,cP.S/255],aJ=Z.Dnst.v/100,M=[V.J(256),V.J(256),V.J(256)];
for(var R=0;R<3;R++)for(var l=0;l<256;l++){var $=l*(1/255),iR=$*cn[R];iR=Math.max(0,Math.min(1,iR));
$=aJ*iR+(1-aJ)*$;M[R][l]=Math.round($*255)}b={type:F.eP,wF:M[0],NA:M[1],tg:M[2],ks:!1,uI:Z.PrsL.v}}if(e=="thrs"){var P=V.J(256);
for(var l=Z.Lvl.v;l<256;l++)P[l]=255;b={type:F.eP,wF:P,NA:P,tg:P,ks:!0,uI:!1}}if(e=="mixr"){var gj=hc.l8(Z),Q=[];
for(var l=0;l<gj.I.length;l++)if(l%5!=3)Q.push(gj.I[l]/100);if(gj.Uo){for(var cZ=1;cZ<3;cZ++)for(var $=0;
$<4;$++)Q[cZ*4+$]=Q[$]}b={type:F.aj,dg:Q}}if(e=="rplc"){var dp=Z.Mnm.v,f0=Z.Mxm.v;b={type:F.jG,ub:[dp.Lmnc.v,dp.A.v,dp.B.v],NZ:[f0.Lmnc.v,f0.A.v,f0.B.v],shift:[Z.H.v/360,Z.Strt.v/100,Z.Lght.v/100],tB:Z.Fzns.v/150}}if(e=="clrL"&&Z.profile){var g1=new Uint8Array(Z.profile.v),aV=ICC.R(g1.buffer),az=[],c0=17,az=ICC.U.sampleLUT(aV,c0);
b={type:F.ge,dq:ICC.U.rgba8LUT(az,c0),amF:az,vt:c0}}return b};hc.kT=function(e,Z){var F=-1;if(e!="levl"||Z==null)F=-1;
else if(Z.Auto)F=0;else if(Z.AuCo)F=1;else if(Z.autoBlackWhite)F=2;return F};hc.T0={eP:0,qC:1,gw:2,V6:3,cV:4,aj:5,jG:6,ge:7};
hc.gN=function(e){if(e<0)return e;return Math.pow(Math.tan(Math.PI/2*e),1.3)};hc.am2=function(e){if(e<0)return e;
e=Math.pow(e,1/1.3);return Math.atan2(e,1)/(Math.PI/2)};hc.Gm=function(e,Z,F,b){var _=hc.T0,d=Date.now();
if(E.P7&&b.Z()>300*300&&e.type!=_.eP&&e.type!=_.ge){b=b.clone();b.x=b.y=0;var S=E.KB(0,b.w,b._);S.set(Z);
E.vN(S,b);S.FV(b);hc.zS(e,S.rh,b);S.get(F);return}if(e.type==_.ge){var U=e.amF,r=e.vt;ICC.U.applyLUT(U,r,Z,F);
var q=Z.length;for(var l=0;l<q;l+=4)F[l+3]=Z[l+3]}if(e.type==_.aj)V.tc.Nc(Z,F,e.dg);if(e.type==_.cV){var w=e.a7N,X=e.NV,Q=e.pt,c=e.adL,q=Z.length;
for(var l=0;l<q;l+=4){var b=Z[l]*(1/255),u=Z[l+1]*(1/255),n=Z[l+2]*(1/255),k=V.Q0(b,u,n),B=0;for(var o=0;
o<6;o++)B+=Math.min(1,1.7*(1-k.HX))*k.ME*e.a8O[o]*hc.iQ(k.zA,o*(1/6));var T=Math.max(0,Math.min(1,k.HX*(1+B)));
if(e.Fb==1){var z=0;if(T<Q)z=T*(.5/X);else if(T<c)z=T+w*(.5-X);else z=1-(1-T)*.5/(1-X);k.zA=e.abt;k.ME=Math.min(1,w+3*w*Math.abs(T-.5*(Q+c)));
k.HX=z}else{k.zA=0;k.ME=0;k.HX=T}var W=V.FD(k.zA,k.ME,k.HX);F[l]=Math.round(W.o*255);F[l+1]=Math.round(W.z*255);
F[l+2]=Math.round(W.S*255)}}if(e.type==_.V6){var $=e.ajX,q=Z.length,R=1/255;for(var l=0;l<q;l+=4){var b=Z[l]*R,u=Z[l+1]*R,n=Z[l+2]*R,k=V.Q0(b,u,n),P=Math.max(b,Math.max(u,n)),H=Math.min(b,Math.min(u,n)),y=1-b,h=1-u,m=1-n,t=0,j=0,x=0;
for(var o=0;o<9;o++){var C=o*6,v=0;if($[C]==1&&$[C+1]==1&&$[C+2]==1&&$[C+3]==0&&$[C+4]==0&&$[C+5]==0)continue;
var L=y*$[C]+$[C+3],f=h*$[C+1]+$[C+4],D=m*$[C+2]+$[C+5];if(o<6)v=hc.iQ(k.zA,o*(1/6))*k.ME*2*Math.min(k.HX,1-k.HX);
else if(o==6)v=Math.max(0,H-.5)*2;else if(o==7)v=1-(Math.abs(P-.5)+Math.abs(H-.5));else v=Math.max(0,.5-P)*2;
t+=(Math.max(0,Math.min(1,L))-y)*v;j+=(Math.max(0,Math.min(1,f))-h)*v;x+=(Math.max(0,Math.min(1,D))-m)*v}y=Math.max(0,Math.min(1,y+t));
h=Math.max(0,Math.min(1,h+j));m=Math.max(0,Math.min(1,m+x));b=1-y;u=1-h;n=1-m;F[l]=Math.round(b*255);
F[l+1]=Math.round(u*255);F[l+2]=Math.round(n*255)}}if(e.type==_.eP){V.asU(Z,F,e.wF,e.NA,e.tg,e.ks,e.uI)}if(e.type==_.qC){var A=new Uint32Array(Z.buffer),M=new Uint32Array(F.buffer),q=A.length;
if(hc.cS==null){hc.cS=new Float64Array(256);for(var l=0;l<256;l++)hc.cS[l]=hc.gN(-1+2*l/255)}var Y=hc.cS;
for(var l=0;l<q;l++){var J=A[l],b=(J&255)*(1/255),u=(J>>>8&255)*(1/255),n=(J>>>16&255)*(1/255),I=J>>>24,p=Math.min(b,u,n),a=Math.max(b,u,n),er=0,c8=0,O=0;
er=V.Q0(b,u,n).zA;var dF=~~(er*255+.5),gl=e.a7T[dF]*(1/255),e0=e.b$[dF]*(1/255)*2-1,bv=e.abq[dF]*(1/255)*2-1,B=-bv,gm=p;
if(0<bv){B=bv;gm=a}var iW=e.a3z+e.ya*B*gm,jx=e.ya*(1-B);b=iW+jx*b;u=iW+jx*u;n=iW+jx*n;a=Math.max(b,u,n);
p=Math.min(b,u,n);O=(a+p)*.5;if(a!=p){var aC=a-p;c8=O>.5?aC/(2-(a+p)):aC/(a+p)}var d9=e0;if(e.aqH==0){e0=Y[Math.floor((1+e0)*127.5)];
d9=Math.min(c8*(1+e0),1)}var W=V.FD(gl,d9,O);b=W.o;u=W.z;n=W.S;M[l]=I<<24|n*255<<16|u*255<<8|b*255}}if(e.type==_.jG){V.Fk(Z,F);
var A=new Uint32Array(Z.buffer),M=new Uint32Array(F.buffer),q=A.length,bS=e.tB,jo=1/bS,g7={qv:e.ub[0],Y0:e.ub[1],S:e.ub[2]},dI={qv:e.NZ[0],Y0:e.NZ[1],S:e.NZ[2]};
for(var l=0;l<q;l++){var J=A[l],gn=J&255,hI=J>>>8&255,d$=J>>>16&255,b=gn*(1/255),u=hI*(1/255),n=d$*(1/255),I=J>>>24,eX=V.gc(gn,hI,d$),d3=V.Ch(eX,g7,dI,bS,jo);
if(d3==0)continue;var k=V.Q0(b,u,n),gl=2+k.zA+e.shift[0];k.zA=gl-~~gl;k.ME=Math.max(0,Math.min(1,k.ME+e.shift[1]));
k.HX=Math.max(0,Math.min(1,k.HX+e.shift[2]));var W=V.FD(k.zA,k.ME,k.HX);b=(1-d3)*b+d3*W.o;u=(1-d3)*u+d3*W.z;
n=(1-d3)*n+d3*W.S;M[l]=I<<24|n*255<<16|u*255<<8|b*255}}if(e.type==_.gw){var A=new Uint32Array(Z.buffer),M=new Uint32Array(F.buffer),q=A.length,cJ=e.NG[0],dM=e.NG[1],dh=e.NG[2],B=e.NG[3],jh=V.tc.HP([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),aK=V.tc.eG(jh),ca=2.4;
console.log(aK);function r(dc){return Math.max(0,Math.min(1,dc))}function iY(dc){return Math.pow(dc,ca)}function et(dc){return Math.pow(dc,1/ca)}function jD(b,u,n,dc){b=iY(b);
u=iY(u);n=iY(n);var ao=V.tc.Ey(jh,[b,u,n,1]);ao[0]*=dh;ao[1]*=B;ao[2]*=B;var W=V.tc.Ey(aK,ao);W[0]=et(r(W[0]));
W[1]=et(r(W[1]));W[2]=et(r(W[2]));return W}for(var l=0;l<q;l++){var J=A[l],b=(J&255)*(1/255),u=(J>>>8&255)*(1/255),n=(J>>>16&255)*(1/255),I=J>>>24,W=jD(b,u,n,cJ);
b=W[0];u=W[1];n=W[2];var j6=V.Q0(b,u,n);j6.ME=Math.max(0,Math.min(1,j6.ME*(1+dM)));W=V.FD(j6.zA,j6.ME,j6.HX);
b=W.o;u=W.z;n=W.S;M[l]=I<<24|n*255<<16|u*255<<8|b*255}}};hc.zS=function(e,Z,F){E.KM.zS(e,Z)};hc.iQ=function(e,Z){var F=V.ew(Z,e)*6;
return Math.max(0,Math.min(1,F<0?1+F:1-F))};var ff={};ff._m=function(e){var Z=e.filterID.v;return Z>16777215?s.aiT(Z):e.Fltr.v.classID};
ff.xh=[{n8:"GEfc"},{n8:"LnCr"},{n8:"LqFy",jr:!0},{A9:"3D",Vw:["lightFilterGradient"]},{A9:[24,2],Vw:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{A9:[24,4],Vw:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{A9:[24,6],Vw:["AdNs","Dspc","DstS","Mdn ","denoise"]},{A9:[24,8],Vw:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{A9:[24,10],Vw:["Flam","Clds","DfrC","Fbrs","LnsF"]},{A9:[24,12],Vw:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{A9:[24,14],Vw:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{A9:[24,16],Vw:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{A9:"Fourier",Vw:["dDFT","iDFT"]}];
ff.E7={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ff.Am={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
ff.q={rigidTransform:i.Tw};ff.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
ff.wy=function(e){var Z=null;if(e=="GEfc")Z={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:bU.wy("GlwE")}]}};
if(e=="LqFy"){var F={bo:5,zA:5,map:new Float32Array(5*5*2)},b=new Uint8Array(eS.Gf(F)),_=[];for(var l=0;
l<b.length;l++)_.push(b[l]);Z={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:_}}}if(e=="rigidTransform"){Z={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(e=="LnCr")Z={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(e=="adaptCorrect")Z={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(e=="Dfs ")Z={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(e=="Fbrs")Z={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(e=="Embs")Z={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(e=="oilPaint")Z={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(e=="TrcC")Z={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(e=="Wnd ")Z={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(e=="lightFilterGradient")Z={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(e=="boxblur")Z={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(e=="GsnB")Z={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(e=="Bokh")Z={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(e=="MtnB")Z={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(e=="RdlB")Z={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(e=="surfaceBlur")Z={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(e=="denoise")Z={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(e=="Dspl")Z={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(e=="Pnch")Z={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(e=="Plr ")Z={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(e=="Rple")Z={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(e=="Shr ")Z={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(e=="Sphr")Z={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(e=="Twrl")Z={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(e=="Wave")Z={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(e=="ZgZg")Z={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(e=="AdNs")Z={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(e=="DstS")Z={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(e=="Mdn ")Z={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(e=="ClrH")Z={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(e=="Crst")Z={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(e=="Mztn")Z={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(e=="Msc ")Z={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(e=="Pntl")Z={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(e=="LnsF")Z={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(e=="Dthr")Z={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(e=="Adobe Camera Raw Filter")Z={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(e=="smartSharpen")Z={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(e=="UnsM")Z={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(e=="HghP")Z={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(e=="HsbP")Z={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(e=="Mxm ")Z={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(e=="Mnm ")Z={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(e=="Ofst")Z={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(e=="Rept")Z={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(e=="Flam")Z={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(e=="Ctoa")Z={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(e=="brit")Z={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(e=="levl")Z={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="curv")Z={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="expA")Z={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(e=="vibA")Z={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(e=="hue2")Z={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(e=="blnc")Z={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(e=="blwh")Z={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(e=="phfl")Z={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(e=="grdm")Z={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(fu.qx[6]).Grad};
if(e=="selc")Z={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(e=="thrs")Z={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(e=="mixr")Z={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(e=="clrL")Z={__name:"Color Lookup",classID:"colorLookup"};if(e=="post")Z={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(e=="rplc")Z={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(e=="fade")Z={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(e=="aply")Z={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(e=="blendOptions")Z={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return Z};ff.eW={sFlam:function(e,Z){Z[0]=e.Type.v;Z[1]=e.Leng.v;Z[2]=e.RndL.v;Z[3]=e.Widt.v;Z[4]=e.Angl.v;
Z[5]=e.Intr.v;Z[6]=e.Adpt.v;Z[7]=e.Clr.v;Z[8]=e.Qual.v;Z[9]=e.Turb.v;Z[10]=e.Jag.v;Z[11]=e.Opct.v.val;
Z[12]=e.Lins.v;Z[13]=e.Botm.v;Z[14]=e.Styl.v;Z[15]=e.Shap.v;Z[16]=e.RnSh.v;Z[17]=e.Arng.v},gFlam:function(e,Z){e.Type.v=Z[0];
e.Leng.v=Z[1];e.RndL.v=Z[2];e.Widt.v=Z[3];e.Angl.v=Z[4];e.Intr.v=Z[5];e.Adpt.v=Z[6];e.Clr.v=Z[7];e.Qual.v=Z[8];
e.Turb.v=Z[9];e.Jag.v=Z[10];e.Opct.v.val=Z[11];e.Lins.v=Z[12];e.Botm.v=Z[13];e.Styl.v=Z[14];e.Shap.v=Z[15];
e.RnSh.v=Z[16];e.Arng.v=Z[17]},sAdNs:function(e,Z){Z[0]=e.Nose.v.val;Z[1]=["Gsn","Unfr"].indexOf(e.Dstr.v.Dstr);
Z[2]=e.Mnch.v},gAdNs:function(e,Z){e.Nose.v.val=Z[0];e.Dstr.v.Dstr=["Gsn","Unfr"][Z[1]];e.Mnch.v=Z[2]},sDstS:function(e,Z){Z[0]=e.Rds.v;
Z[1]=e.Thsh.v},gDstS:function(e,Z){e.Rds.v=Z[0];e.Thsh.v=Z[1]},sGsnB:function(e,Z){Z[0]=e.Rds.v.val},gGsnB:function(e,Z){e.Rds.v.val=Z[0]},sHghP:function(e,Z){Z[0]=e.Rds.v.val},gHghP:function(e,Z){e.Rds.v.val=Z[0]},sHsbP:function(e,Z){var F=["RGBC","HSBl","HSLC"];
Z[0]=F.indexOf(e.Inpt.v.ClrS);Z[1]=F.indexOf(e.Otpt.v.ClrS)},gHsbP:function(e,Z){var F=["RGBC","HSBl","HSLC"];
e.Inpt.v.ClrS=F[Z[0]];e.Otpt.v.ClrS=F[Z[1]]},"sMxm ":function(e,Z){var F="preserveShape";Z[0]=e.Rds.v.val;
Z[1]=e[F]?["squareness","Rndn"].indexOf(e[F].v[F]):0},"gMxm ":function(e,Z){var F="preserveShape";e.Rds.v.val=Z[0];
e[F]={t:"enum",v:{preserveShape:["squareness","Rndn"][Z[1]]}}},"sMnm ":function(e,Z){var F="preserveShape";
Z[0]=e.Rds.v.val;Z[1]=e[F]?["squareness","Rndn"].indexOf(e[F].v[F]):0},"gMnm ":function(e,Z){var F="preserveShape";
e.Rds.v.val=Z[0];e[F]={t:"enum",v:{preserveShape:["squareness","Rndn"][Z[1]]}}},sMtnB:function(e,Z){Z[0]=[e.Angl.v];
Z[1]=e.Dstn.v.val;console.log(Z)},gMtnB:function(e,Z){e.Angl.v=typeof Z[0]=="number"?Z[0]:Z[0][0];e.Dstn.v.val=Z[1]},sOfst:function(e,Z){Z[0]=e.Hrzn.v;
Z[1]=e.Vrtc.v;Z[2]=["Rpt","Bckg","Wrp"].indexOf(e.Fl.v.FlMd)},gOfst:function(e,Z){e.Hrzn.v=Z[0];e.Vrtc.v=Z[1];
e.Fl.v.FlMd=["Rpt","Bckg","Wrp"][Z[2]]},sPnch:function(e,Z){Z[0]=e.Amnt.v},gPnch:function(e,Z){e.Amnt.v=Z[0]},"sPlr ":function(e,Z){Z[0]=["RctP","PlrR"].indexOf(e.Cnvr.v.Cnvr)},"gPlr ":function(e,Z){e.Cnvr.v.Cnvr=["RctP","PlrR"][Z[0]]},sRple:function(e,Z){Z[0]=e.Amnt.v;
Z[1]=["Sml","Mdm","Lrg"].indexOf(e.RplS.v.RplS)},gRple:function(e,Z){e.Amnt.v=Z[0];e.RplS.v.RplS=["Sml","Mdm","Lrg"][Z[1]]},sTwrl:function(e,Z){Z[0]=e.Angl.v},gTwrl:function(e,Z){e.Angl.v=Z[0]},sZgZg:function(e,Z){Z[0]=e.Amnt.v;
Z[1]=e.NmbR.v;Z[2]=["ArnC","OtFr","PndR"].indexOf(e.ZZTy.v.ZZTy)},gZgZg:function(e,Z){e.Amnt.v=Z[0];
e.NmbR.v=Z[1];e.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][Z[2]]},sUnsM:function(e,Z){Z[0]=e.Amnt.v.val;Z[1]=e.Rds.v.val;
Z[2]=e.Thsh.v},gUnsM:function(e,Z){e.Amnt.v.val=Z[0];e.Rds.v.val=Z[1];e.Thsh.v=Z[2]}};ff.ao_=function(e){var Z=new bI(0,0);
if(e.enab.v==!1)return Z;var F=e.filterFXList.v;for(var l=0;l<F.length;l++){var b=F[l].v;if(b.enab.v==!1)continue;
var _=ff._m(b),d=ff.jC(_,b.Fltr?b.Fltr.v:null);if(d.x>Z.x)Z.x=d.x;if(d.y>Z.y)Z.y=d.y}return Z};ff.jC=function(e,Z){var F=0,b=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(e)!=-1){var _=Z.Rds.v.val;F=b=_*2.57}if(e=="MtnB")F=b=Z.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(e)!=-1){F=b=1e4}if(e=="GEfc")return bU.jC(Z);
return new bI(Math.ceil(F),Math.ceil(b))};ff.Zb=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ff.ac=function(e,Z){var F={o:Z.Ly>>16,z:Z.Ly>>8&255,S:Z.Ly&255},b={o:Z.ZE>>16,z:Z.ZE>>8&255,S:Z.ZE&255},_=ff.names[e];
if(_==null)_=hc.names[e];var d=e;for(var S in hc.gz)if(hc.gz[S]==e)d=S;var U={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:gA.get(_)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:V.X.Q9(F)},BckC:{t:"Objc",v:V.X.Q9(b)},filterID:{t:"long",v:d.length==4?s.apt(d):777}}},r=ff.wy(e);
if(r)U.v.Fltr={t:"Objc",v:r};return U};ff.Ay=function(e,Z,F,b){var _=Date.now();if(e<1){var d=Math.round(e*5),S=[1,2,1,2,[40,26,13,6,4,2][d],2,1,2,1];
S=V.Qb.OD(S);if(!E.P7){V.hP(F);var U=F.slice(0);V.Qb.MP(U,F,b.w,b._,S,255);V.Wo(F)}else{var r=b.w,q=b._,w=E.KB(0,r,q);
w.set(F);var X=E.KB(1,r,q),Q=new Float32Array([1/r,1/q]);E.vN(X);E.filter.zS({type:E.filter.aqD,de:Q,aq9:new Float32Array(S)},w.ad);
X.get(F)}}else{var c=Z==V.OS.e6?0:Z==V.OS.$I?1:2,u=[];while(c!=2&&e*[1,2.4][c]>20&&u.length<4){var n=V.ht(F,b);
u.push(F,b);F=n.XT;b=n.rect;e/=2}var r=b.w,q=b._;if(!E.P7||c==2&&e>15){V.hP(F);Z(F,b,e);V.Wo(F)}else{var w=E.KB(0,r,q);
w.set(F);var X=E.KB(1,r,q),Q=new Float32Array([1/r,1/q]);if(c==0){var k=1;while(k<e)k<<=1;E.vN(X);E.filter.zS({type:E.filter.kI,de:Q,JZ:e,DL:[0,0,k]},w.ad);
E.vN(w);E.filter.zS({type:E.filter.kI,de:Q,JZ:e,DL:[0,1,k]},X.ad);w.get(F)}else if(c==1){var B=3,o=V.OS.dC(e,B);
for(var l=0;l<B;l++){var T=o[l]>>>1,z=1;while(z<T)z<<=1;if(T==0)continue;E.vN(X);E.filter.zS({type:E.filter.kI,de:Q,JZ:T,DL:[0,0,z]},w.ad);
E.vN(w);E.filter.zS({type:E.filter.kI,de:Q,JZ:T,DL:[0,1,z]},X.ad)}w.get(F)}else{var k=1;while(k<e)k<<=1;
E.vN(X);E.filter.zS({type:E.filter.kI,de:Q,JZ:e,DL:[0,0,k]},w.ad);X.get(F)}}var W=Date.now();while(u.length!=0){var $=u.pop(),R=u.pop();
V.scale.aqO(F,b.w,b._,R,$.w,$._);F=R;b=$}}};ff.at3=function(e,Z,F,b){for(var l=0;l<e.length;l++){F[l]=e[l]*(1/255);
b[l]=0}FFT.fft2d(F,b);var _=Z>>>1,d=16384,S=128,r=100;while(S<Z){S<<=1;d<<=2}var U=255/Math.log(d),q=-100;
for(var w=0;w<Z;w++)for(var X=0;X<_;X++){var Q=Z+_+w&Z-1,c=F[Q*Z+X],u=b[Q*Z+X],n=Math.sqrt(c*c+u*u),k=Math.atan2(u,c);
e[w*Z+X]=Math.round(U*Math.log(n+1));e[w*Z+_+X]=Math.round((Math.PI+k)*(255*.5/Math.PI))}};ff.a3U=function(e,Z,F,b){F.fill(0);
b.fill(0);var _=Z>>>1,d=16384,S=128;while(S<Z){S<<=1;d<<=2}var U=255/Math.log(d),r=[],q=[],w=[];for(var l=0;
l<256;l++){r[l]=Math.exp(l/U)-1;var X=l*(2*Math.PI/255)-Math.PI;q[l]=Math.sin(X);w[l]=Math.cos(X)}for(var Q=0;
Q<Z;Q++)for(var c=0;c<_;c++){var u=Z+_+Q&Z-1,n=r[e[Q*Z+c]],X=e[Q*Z+_+c],k=n*w[X],B=n*q[X];F[u*Z+c]=k;
b[u*Z+c]=B;if(c!=0){var o=u==0?u*Z+Z-c:(Z-u)*Z+(Z-c);F[o]=k;b[o]=-B}}FFT.ifft2d(F,b);for(var l=0;l<e.length;
l++){e[l]=Math.max(0,Math.min(255,~~(.5+255*F[l])))}};ff.MB=new ArrayBuffer(512);ff.a3p=function(e){var Z=ff.MB,F=e.length;
if(Z.byteLength<F)ff.MB=Z=new ArrayBuffer(F);var b=new Uint8Array(Z);for(var l=0;l<F;l+=4){b[l]=e[l];
b[l+1]=e[l+1];b[l+2]=e[l+2];b[l+3]=e[l+3]}return Z};ff.Gm=function(e,Z,F,b,_,d,S){if(d==null)d={buffer:V.J(Z.buffer.length),rect:Z.rect.clone()};
V.Fk(Z.buffer,d.buffer);var U=F&&F.RndS?F.RndS.v>>>1:0;if(e=="GEfc"){var r=[];if(F.GEfs){var q=F.GEfs.v;
for(var l=0;l<q.length;l++){var w=q[l].v;if(w.GELv&&w.GELv.v==!1)continue;r.push(w)}}else r=[F];for(var l=0;
l<r.length;l++){var X;if(l==0)bU.Gm(e,Z,r[l],b,_,d,S);else{if(X==null)X={buffer:V.J(Z.buffer.length),rect:Z.rect.clone()};
V.Fk(d.buffer,X.buffer);bU.Gm(e,X,r[l],b,_,d,S)}}}if(e=="Adobe Camera Raw Filter"){var Q=Z.rect,c=Q.w,u=Q._,n=c*u,k=n*4,B=n*3,o=new Float32Array(c*u*3),T=Z.buffer;
for(var l=0;l<n;l++){var z=l*3,W=l*4;o[z]=T[W]*(1/255);o[z+1]=T[W+1]*(1/255);o[z+2]=T[W+2]*(1/255)}var $=JSON.parse(JSON.stringify(F));
delete $.Upri;delete $.GuUr;var P=o.slice(0);o=P;T=d.buffer;for(var l=0;l<n;l++){var z=l*3,W=l*4;T[W]=255*Math.max(0,Math.min(1,o[z]));
T[W+1]=255*Math.max(0,Math.min(1,o[z+1]));T[W+2]=255*Math.max(0,Math.min(1,o[z+2]))}}if(e=="adaptCorrect"){var Q=Z.rect,c=Q.w,u=Q._,n=c*u,k=n*4,H=F.sdwM.v,y=H.Amnt.v.val/100,h=H.Wdth.v.val/100,m=H.Rds.v,t=F.hglM.v,j=t.Amnt.v.val/100,x=t.Wdth.v.val/100,C=t.Rds.v;
V.gY.acd(Z.buffer,d.buffer,c,u,y,h,m,j,x,C,F.ClrC.v/100,F.Cntr.v/100)}if(e=="denoise"){var Q=Z.rect,c=Q.w,u=Q._,L=F.channelDenoise.v[0].v;
V.Bx.aiv(Z.buffer,c,u,d.buffer,L.Amnt.v/10,L.EdgF.v/100)}if(e=="HsbP"){var f=F.Inpt.v.ClrS,D=F.Otpt.v.ClrS,Q=Z.rect,c=Q.w,u=Q._,n=c*u;
for(var l=0;l<n;l++){var W=l*4,v=Z.buffer[W]*(1/255),A=Z.buffer[W+1]*(1/255),M=Z.buffer[W+2]*(1/255);
if(f=="RGBC"){}else if(f=="HSLC"){var P=V.FD(v,A,M);v=P.o;A=P.z;M=P.S}else if(f=="HSBl"){var P=V.a58(v,A,M);
v=P.o;A=P.z;M=P.S}var Y=v,J=A,I=M;if(D=="RGBC"){}else if(D=="HSLC"){var P=V.Q0(v,A,M);Y=P.zA;J=P.ME;
I=P.HX}else if(D=="HSBl"){var P=V.a0O(v,A,M);Y=P.zA;J=P.ME;I=P.S}d.buffer[W]=~~(255*Y);d.buffer[W+1]=~~(255*J);
d.buffer[W+2]=~~(255*I)}}if(e=="Fbrs"){var Q=Z.rect,c=Q.w,u=Q._;V.b.mB(Z.buffer,c,u,d.buffer,[F.Vrnc.v,F.Strg.v,U]);
var p=V.J(c*u);V.yC(d.buffer,p,0);V.eG(p);bU.xL(p,d.buffer,b,_)}if(e=="Frgm"){var Q=Z.rect,c=Q.w,u=Q._,a=Z.buffer.slice(0);
V.hP(a);V.b.a4z(a,c,u,d.buffer);V.Wo(d.buffer)}if(e=="Flam"){var Q=Z.rect,c=Q.w,u=Q._,er=F.Clr.v,c8={type:F.Type.v+1,length:F.Leng.v,a42:F.RndL.v,Te:F.Widt.v,a5s:F.Angl.v,ap5:F.Intr.v,afl:F.Adpt.v,color:{o:er.Rd.v,z:er.Grn.v,S:er.Bl.v},r$:F.Qual.v+1,k4:F.Turb.v,NP:F.Jag.v,opacity:F.Opct.v.val,$e:F.Lins.v,agy:F.Botm.v,style:F.Styl.v+1,shape:F.Shap.v+1,atm:F.RnSh.v,a7x:F.Arng.v,a96:!1},O=S[3],dF=O[0],gl=O[1],e0=dF[gl.length!=0?gl[0]:0];
if(e0==null){alert("Make a path first");return}var bv=e0.add.vmsk.T,gm=V.c.q$(bv),iW=[];for(var jx=0;
jx<gm;jx++){var aC=V.c.rD(bv,jx),d9=bv[aC];if(d9.length<2)continue;var bS=[];iW.push(bS);var jo=d9.length-(d9.type==3?1:0);
for(var g7=0;g7<jo;g7++){var dI=bv[aC+1+g7],gn=g7==d9.length-1?bv[aC+1]:bv[aC+1+g7+1],hI=dI.M,d$=dI.kM,eX=gn.Gn,d3=gn.M,cJ=Math.round(bI.Ls(hI,d3)/5);
for(var dM=0;dM<cJ;dM++){var dh=dM/cJ,jh=1-dh,aK=jh*jh*jh*hI.x+3*jh*jh*dh*d$.x+3*jh*dh*dh*eX.x+dh*dh*dh*d3.x,ca=jh*jh*jh*hI.y+3*jh*jh*dh*d$.y+3*jh*dh*dh*eX.y+dh*dh*dh*d3.y;
bS.push(aK,ca)}}}var iY=[iW,c8],et=Date.now(),jD=bp(iY);a_(Z.buffer,c,u,d.buffer,jD,iY)}if(e=="Dfs "){var Q=Z.rect,c=Q.w,u=Q._,j6=["Nrml","DrkO","LghO","anisotropic"].indexOf(F.Md.v.DfsM);
if(j6<3)V.b.adB(Z.buffer,c,u,d.buffer,[j6]);else{var iY=[1.4,1.6,1,4,!1,2,[0,0,.001]],Q=Z.rect.clone();
Q.x=Q.y=0;V.Dj.filter(Z.buffer,Q,d.buffer,iY)}}if(e=="TrcC"){var Q=Z.rect,c=Q.w,dc=c<<2,u=Q._,ao=F.Lvl.v,ec=F.Edg.v.CntE=="Lwr",fp=Z.buffer,eN=d.buffer;
V.oi(eN,16777215,4278190080);function ha(io,iB){g3(io,iB);g3(io+1,iB+1);g3(io+2,iB+2)}function bJ(io,iB){bL(io,iB);
bL(io+1,iB+1);bL(io+2,iB+2)}function g3(io,iB){var Y=fp[io],J=fp[iB];if(Y>=ao&&J<ao)eN[io]=0;if(Y<ao&&J>=ao)eN[iB]=0}function bL(io,iB){var Y=fp[io],J=fp[iB];
if(Y>ao&&J<=ao)eN[iB]=0;if(Y<=ao&&J>ao)eN[io]=0}if(ec)for(var ca=1;ca<u;ca++)for(var aK=1;aK<c;aK++){var W=ca*c+aK<<2;
ha(W,W-4);ha(W,W-dc)}else for(var ca=1;ca<u;ca++)for(var aK=1;aK<c;aK++){var W=ca*c+aK<<2;bJ(W,W-4);
bJ(W,W-dc)}}if(e=="Embs"){var Q=Z.rect,c=Q.w,u=Q._,bF=-F.Angl.v*Math.PI/180,du=F.Hght.v,b8=F.Amnt.v/100;
du/=2;var jf=Math.cos(bF)*du,c1=Math.sin(bF)*du,fp=Z.buffer,eN=d.buffer;eN.fill(0);var eV=new Uint32Array(fp.buffer),P=new Uint8Array(4),be=new Uint32Array(P.buffer);
for(var ca=0;ca<u;ca++)for(var aK=0;aK<c;aK++){var fh=0,ea=0,g4=0;if(0<=aK+jf&&aK+jf<c&&0<=ca+c1&&ca+c1<u){V.N.uU(aK+jf+.5,ca+c1+.5,eV,c,u,be,0,0);
fh+=P[0]-128;ea+=P[1]-128;g4+=P[2]-128}if(0<=aK-jf&&aK-jf<c&&0<=ca-c1&&ca-c1<u){V.N.uU(aK-jf+.5,ca-c1+.5,eV,c,u,be,0,0);
fh-=P[0]-128;ea-=P[1]-128;g4-=P[2]-128}var W=ca*c+aK<<2;eN[W]=Math.max(0,Math.min(255,fh*b8+128));eN[W+1]=Math.max(0,Math.min(255,ea*b8+128));
eN[W+2]=Math.max(0,Math.min(255,g4*b8+128));eN[W+3]=fp[W+3]}}if(e=="ShrE"){var Q=Z.rect,c=Q.w,u=Q._;
V.b.aiZ(Z.buffer,c,u,d.buffer)}if(e=="Dspc"){var Q=Z.rect,c=Q.w,u=Q._;V.b.aho(Z.buffer,c,u,d.buffer)}if(e=="Slrz"){var i7=d.buffer,de=128;
for(var l=0;l<i7.length;l+=4){if(i7[l]>de)i7[l]=255-i7[l];if(i7[l+1]>de)i7[l+1]=255-i7[l+1];if(i7[l+2]>de)i7[l+2]=255-i7[l+2]}}if(e=="Wnd "){var Q=Z.rect,c=Q.w,u=Q._,hb=["Wnd","Blst","Stgr"],hk=F.WndM.v.WndM;
V.b.ZB(Z.buffer,c,u,d.buffer,[hb.indexOf(hk),F.Drct.v.Drct!="Left"])}if(e=="Bokh"){var Q=Z.rect,c=Q.w,u=Q._,n=c*u,k=n*4,e9=Z.buffer.slice(0),e2=F.BkDi.v.BtDi,bj=F.BkDc,e8=F.BkDs.v,bt=F.BkDp.v/255;
if(e2=="BeIn")bt=0;var cL=57*(.3+.7*((c+u)/2)/1750)*(F.BkIb.v/100)*(1+.2*Math.pow(bt,.1)),gi=parseInt(F.BkIs.v.BtIs.slice(3)),j2=-F.BkIr.v*Math.PI/180,e$=[];
for(var l=0;l<8;l++){var eI=j2+l*(Math.PI*2/gi),fy=j2+(l+1)*(Math.PI*2/gi),jO=Math.cos(eI),jR=Math.sin(eI),g0=Math.cos(fy),gL=Math.sin(fy),cy=[0,0,0];
V.dg.kS([[jO,jR,1,0],[g0,gL,1,0],[1,1,1,1]],cy);if(cy[2]>0){cy[0]*=-1;cy[1]*=-1;cy[2]*=-1}e$.push(cy[0],cy[1],cy[2],0)}if(e2=="BeIn"){V.oi(e9,0,16777215);
bt=1}else if(e2=="BeIt"&&bj.v.BtDc=="BeCt"){}else{var cP;if(e2=="BeIt"&&bj.v.BtDc=="BeCm")cP=S[1];else if(e2=="BeIa")cP=S[2][bj.v];
if(cP==null){V.oi(e9,0,16777215)}else{var cn;if(cP.rect.Tn(Q))cn=cP.channel;else cn=cP.UZ(Q);V.s$(cn,e9,3)}}if(e8)for(var l=0;
l<k;l+=4)e9[l+3]=255-e9[l+3];if(E.P7){var aJ=e9,iR=c,gj=u,cZ=1,dp=(F.BkSb.v==0||F.BkSt.v==255)&&e2=="BeIn";
if(!dp){var f0=0;for(var l=0;l<k;l+=4)f0+=Math.abs(bt-e9[l+3]*(1/255));f0=f0/n*cL;var g1=3.14*f0*f0*c*u/3e6;
if(g1>2e3){alert("too large radius");return}}while(dp&&3*(cL/cZ)*(cL/cZ)*c*u>500*2e3*2e3){var aV=V.TT(e9,new e3(0,0,iR,gj));
e9=aV.XT;iR=aV.rect.w;gj=aV.rect._;cZ*=2}var et=Date.now(),az=E.KB(0,iR,gj);az.set(e9);var c0=E.KB(1,c,u);
E.vN(c0);E.filter.zS({type:E.filter.a6y,de:new Float32Array([1/iR,1/gj]),a1Y:bt,RT:cL/cZ,anX:new Float32Array([F.BkSb.v/100,F.BkSt.v/255]),ahr:new Float32Array([F.BkNa.v/100,F.BkNt.v.BtNt=="BeNu"?0:1,F.BkNm.v?1:0]),a68:new Float32Array(e$.slice(0,16)),a4y:new Float32Array(e$.slice(16))},az.ad);
c0.get(d.buffer);var fM=d.buffer;for(var l=0;l<k;l+=4)fM[l+3]=Z.buffer[l+3]}}if(e=="rigidTransform"){var et=Date.now(),d_=ff.a3p,az=Z.buffer.slice(0),cr=0,cU=0;
V.hP(az);V.oi(d.buffer,0);var c=Z.rect.w,u=Z.rect._,bN=F.puppetShapeList.v,hX=[],b0=[],eH=[],eO=[];for(var g7=0;
g7<bN.length;g7++){var hQ=bN[g7].v,ju=cr*2,z=cU*3,ez=hQ.originalVertexArray.v.length>>>2,ej=hQ.indexArray.v.length>>>2,cB=new Float32Array(d_(hQ.originalVertexArray.v));
for(var l=0;l<ez;l++)hX[ju+l]=cB[l];var ar=new Float32Array(d_(hQ.deformedVertexArray.v));for(var l=0;
l<ez;l++)b0[ju+l]=ar[l];var aW=new Uint32Array(d_(hQ.indexArray.v));for(var l=0;l<ej;l++)eH[z+l]=cr+aW[l];
var iK=[],jE=[],an=hQ.PnDp.v;for(var l=0;l<an.length;l++){iK.push(hQ.pinVertexIndices.v[l].v);jE.push(an[l].v)}var gC=V.T5.ahu(cB,aW,iK,jE);
for(var l=0;l<gC.length;l++)eO[cr+l]=gC[l];cr+=ez>>>1;cU+=~~(ej/3)}var v=Z.rect,c=v.w,u=v._;V.T5.b9(az,c,u,d.buffer,c,u,hX,b0,eO,eH);
V.Wo(d.buffer)}if(e=="lightFilterGradient"){function eL(hI){var ft=1/Math.sqrt(hI[0]*hI[0]+hI[1]*hI[1]+hI[2]*hI[2]);
hI[0]*=ft;hI[1]*=ft;hI[2]*=ft}var c=Z.rect.w,u=Z.rect._,n=c*u,et=Date.now(),j7=V.J(n),J=.3,I=.7;V.QE(d.buffer,j7);
var ag=V.J(n);V.OS.$x(j7,ag,d.rect,16);var dk=V.J(n);V.OS.$x(j7,dk,d.rect,8);var h0=j7,dQ=new Float32Array(n),gS=F.Dtl.v,dN=gS[2].v,eY=gS[1].v,i3=gS[0].v,hS=F.Scl.v*40*F.textureScale.v/(dN+eY+i3);
dN*=hS;eY*=hS;i3*=hS;for(var l=0;l<n;l++){var gu=ag[l]*(1/255),b5=dk[l]*(1/255),aB=h0[l]*(1/255);aB=aB*aB;
dQ[l]=dN*gu+eY*b5+i3*aB}var b4=F.blur.v;if(b4!=0){var el=dQ.slice(0);V.OS.BA(el,dQ,d.rect,b4)}var aF=c-1,iQ=u-1;
for(var ca=1;ca<iQ;ca++)for(var aK=1;aK<aF;aK++){var l=ca*c+aK,W=l*4,ig=dQ[l],jf=J*(dQ[l+1]-ig)+I*(ig-dQ[l-1]),c1=J*(dQ[l+c]-ig)+I*(ig-dQ[l-c]),hI=[1,0,jf],d$=[0,1,c1];
eL(hI);eL(d$);var fy=hI[0],dO=hI[2],gQ=d$[1],fQ=d$[2],hW=-dO*gQ,cC=-fy*fQ,fT=fy*gQ;d.buffer[W]=~~(127.5+hW*127.5);
d.buffer[W+1]=~~(127.5+cC*127.5);d.buffer[W+2]=~~(127.5+fT*127.5)}}if(e=="dDFT"||e=="iDFT"){function h3(gi){if(gi==0)return 1;
gi--;gi|=gi>>1;gi|=gi>>2;gi|=gi>>4;gi|=gi>>8;gi|=gi>>16;return gi+1}var c=Z.rect.w,u=Z.rect._,fk=h3(Math.max(c,u)),a6=fk>>>1,fX=new e3(0,0,fk,fk),ax=new e3(0,0,c,u);
ax.y=fk-u>>>1;var i2=c>>>1,jn=new e3(0,ax.y,i2,u),cq=new V.xV(c*u);V.w2(Z.buffer,cq);var gf=new Float64Array(fk*fk),aL=new Float64Array(fk*fk),cn=V.J(fk*fk);
FFT.init(fk);var b_=[cq.o,cq.z,cq.S];for(var l=0;l<3;l++){var bo=b_[l];cn.fill(0);if(e=="dDFT"){V.l2(bo,ax,cn,fX);
ff.at3(cn,fk,gf,aL);V.l2(cn,fX,bo,ax,jn);jn.x+=i2;fX.x-=a6-i2;V.l2(cn,fX,bo,ax,jn);jn.x-=i2;fX.x+=a6-i2}else{V.l2(bo,ax,cn,fX,jn);
jn.x+=a6;ax.x+=a6-i2;V.l2(bo,ax,cn,fX,jn);jn.x-=a6;ax.x-=a6-i2;ff.a3U(cn,fk,gf,aL);V.l2(cn,fX,bo,ax)}}V.My(cq,d.buffer)}if(e=="Avrg"){var ah=0,gE=0,ap=0,fd=0,iX=1;
for(var l=0;l<Z.buffer.length;l+=4){var dG=Z.buffer[l+3];ap+=Z.buffer[l]*dG;gE+=Z.buffer[l+1]*dG;ah+=Z.buffer[l+2]*dG;
fd+=dG}var eB=1/fd;ah=Math.round(iX*(ah*eB)+(1-iX)*255);gE=Math.round(iX*(gE*eB)+(1-iX)*255);ap=Math.round(iX*(ap*eB)+(1-iX)*255);
V.oi(d.buffer,ah<<16|gE<<8|ap,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(e)!=-1){var cv=F.Rds.v.val,gK=e=="boxblur"?V.OS.e6:V.OS.$I;
ff.Ay(cv,gK,d.buffer,d.rect);if(e=="UnsM"||e=="smartSharpen"){var b8=F.Amnt.v.val/100,jG=0;if(e=="UnsM")jG=F.Thsh.v;
else b8*=.75;for(var l=0;l<Z.buffer.length;l++){if((l&3)==3){d.buffer[l]=Z.buffer[l];continue}var av=Z.buffer[l],js=d.buffer[l],fm=b8*(av-js);
if(fm>0)fm=Math.max(0,fm-jG);else fm=Math.min(0,fm+jG);d.buffer[l]=Math.max(0,Math.min(255,av+fm))}}if(e=="HghP")for(var l=0;
l<Z.buffer.length;l++){if((l&3)==3){d.buffer[l]=Z.buffer[l];continue}var av=Z.buffer[l],js=d.buffer[l];
d.buffer[l]=Math.max(0,Math.min(255,128+av-js))}}if(e=="AdNs"){var bX=new Uint8ClampedArray(d.buffer.buffer),gt=255*F.Nose.v.val/100,jN;
if(F.Dstr.v.Dstr=="Gsn")jN=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else jN=function(){return Math.random()*2-1};for(var l=0;l<bX.length;l+=4){var v=bX[l],A=bX[l+1],M=bX[l+2],ia,bm,gw;
if(F.Mnch.v){ia=bm=gw=jN()}else{ia=jN();bm=jN();gw=jN()}v+=gt*ia;A+=gt*bm;M+=gt*gw;bX[l]=v;bX[l+1]=A;
bX[l+2]=M}}var et=Date.now();if(e=="Mdn "||e=="DstS"||e=="Mxm "||e=="Mnm "||e=="surfaceBlur"){var v=0,aG=F.Thsh,hQ=0;
if(aG)aG=aG.v;else aG=0;if(e=="Mdn "||e=="Mxm "||e=="Mnm "||e=="surfaceBlur")v=F.Rds.v.val;else v=F.Rds.v;
var fA=F.preserveShape;if(fA&&fA.v.preserveShape=="Rndn")hQ=1;var c=Z.rect.w,u=Z.rect._,fw=["Mnm ","Mxm ","surfaceBlur"].indexOf(e),af=(hQ==0?1:.75)*[.73,.73,1][fw]*(c*u*v*v)/1722387,i9=[.73,.9,1.4][fw]*(c*u*Math.sqrt(v))/6500;
if(E.P7&&fw!=-1&&(af<i9||hQ==1)&&af<1500){var az=E.KB(0,c,u);az.set(Z.buffer);var X=E.KB(1,c,u);E.vN(X);
E.filter.zS({type:E.filter.akx,de:new Float32Array([1/c,1/u]),RT:v,ahK:aG/255,DL:[hQ,fw,10*Math.ceil(v/10)]},az.ad);
X.get(d.buffer)}else{v=Math.round(v);V.ga.eQ=.5;var gK=V.ga.tC;if(e=="Mxm ")gK=V.ga.a7;if(e=="Mnm ")gK=V.ga.PN;
if(e=="surfaceBlur")gK=V.ga.pQ;V.ga.wW(Z.buffer,d.buffer,c,u,v,gK,[aG]);if(e=="DstS")for(var l=0;l<c*u*4;
l++){var fa=Math.abs(Z.buffer[l]-d.buffer[l]);if(fa<=aG)d.buffer[l]=Z.buffer[l]}}}if(e=="ClrH"){var jn=Z.rect.clone();
jn.x=jn.y=0;var v=F.Rds.v;v=Math.round(v*Math.sqrt(2));var c=jn.w,u=jn._,cq=new V.xV(c*u);V.w2(Z.buffer,cq);
V.eG(cq.o);V.eG(cq.z);V.eG(cq.S);var gM=V.LH(c,u),fM=V.J(c*u*4);for(var im=0;im<3;im++){var cn=im==0?cq.o:im==1?cq.z:cq.S,bF=Math.PI*F["Ang"+(im+1)].v/180,hU=new jg(1/v,0,0,1/v,0,0);
hU.rotate(bF);V.s$(cn,fM,3);var P=i.Q.or([fM,jn],hU,!0),ax=P.rect;gM.clearRect(0,0,c,u);var cH=Math.sin(bF),e6=Math.cos(bF);
for(var l=0;l<ax._;l++)for(var dM=0;dM<ax.w;dM++){var aK=(dM+ax.x+.5)*v,ca=(l+ax.y+.5)*v,eE=aK,aM=ca;
aK=e6*eE-cH*aM;ca=cH*eE+e6*aM;var n=P.buffer[(l*ax.w+dM<<2)+3]*(1/255),cv=v*Math.sqrt(n*(1/Math.PI));
gM.beginPath();gM.arc(aK,ca,cv,0,2*Math.PI);gM.fill()}var hM=gM.getImageData(0,0,c,u);V.yC(hM.data,cn,3)}V.eG(cq.o);
V.eG(cq.z);V.eG(cq.S);V.My(cq,d.buffer)}if(e=="Crst"||e=="Pntl"){var c=Z.rect.w,u=Z.rect._,gK=e=="Crst"?V.zP.aaC:V.zP.ali;
gK(Z.buffer,c,u,d.buffer,F.ClSz.v,[Math.round(_.o),Math.round(_.z),Math.round(_.S)])}if(e=="Mztn"){var c=Z.rect.w,u=Z.rect._,n=c*u,cq=new V.xV(n),dl=[cq.o,cq.z,cq.S];
V.w2(Z.buffer,cq);var hk=F.MztT.v.MztT,b3={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[hk],et=Date.now(),ii=[];
for(var l=0;l<n;l++){ii[l]=Math.random()}var n=c*u,ck=Math.round(n*b3[0]),ab=n-c-1;for(var l=0;l<ck;
l++){var ek=Math.random(),h7=1;if(ek<.5){h7=c;ek*=2}else ek=2*(ek-.5);var io=Math.floor(ek*ab),iB=io+h7;
ii[io]=ii[iB]}var bD=Math.round(c*b3[1]);for(var ca=0;ca<u;ca++)for(var l=0;l<bD;l++){var ek=V.a.QO(ca*n+l),io=ca*c+Math.floor(ek*(c-1));
ii[io]=ii[io+1]}var cW=new Float64Array(256);for(var l=0;l<256;l++){var hl=l/255,c5=2*(hl<.5?hl:1-hl);
c5=b3[2]+Math.pow(c5,b3[3])*(1-b3[2]);hl=hl<.5?c5*.5:1-c5*.5;cW[l]=hl}for(var gk=0;gk<3;gk++){var cn=dl[gk];
for(var ca=0;ca<u;ca++){for(var aK=0;aK<c;aK++){var l=ca*c+aK,id=cn[l],hl=cW[id],ek=ii[l];cn[l]=ek>hl?0:255}}}V.My(cq,d.buffer)}if(e=="Msc "){var gm=F.ClSz.v.val,c=Z.rect.w,u=Z.rect._,ip=Math.ceil(c/gm),dU=Math.ceil(u/gm),fL=V.J(ip*dU*4);
V.scale.Pg(Z.buffer,c,u,fL,ip,dU,1/gm);V.scale.Pg(fL,ip,dU,d.buffer,c,u,gm)}if(e=="Clds"||e=="DfrC"){var c=d.rect.w,u=d.rect._,n=c*u,dX=V.J(n);
if(e=="Clds")V.oi(d.buffer,4278190080);var eJ=V.J(256*4);for(var l=0;l<256;l++){var W=l<<2,dq=l/255,aW=1-dq;
eJ[W]=Math.round(dq*b.o+aW*_.o);eJ[W+1]=Math.round(dq*b.z+aW*_.z);eJ[W+2]=Math.round(dq*b.S+aW*_.S)}V.b.ai1(Z.buffer,c,u,dX);
var he=d.buffer;for(var l=0;l<n;l++){var W=l<<2,gk=dX[l]<<2,v=eJ[gk],A=eJ[gk+1],M=eJ[gk+2];if(e=="Clds"){he[W]=v;
he[W+1]=A;he[W+2]=M}else{he[W]=Math.abs(he[4*l]-v);he[W+1]=Math.abs(he[4*l+1]-A);he[W+2]=Math.abs(he[4*l+2]-M)}}}if(e=="LnsF"){var c=Z.rect.w,u=Z.rect._,hk=["Zm","Nkn","Nkn1","PnVs"].indexOf(F.Lns.v.Lns),gr=F.FlrC.v,i4=[Math.min(hk,2),F.Brgh.v/100,gr.Hrzn.v,gr.Vrtc.v],et=Date.now();
V.adt(Z.buffer,c,u,d.buffer,i4)}var hG=["Blr ","BlrM","Shrp","ShrM"].indexOf(e);if(hG!=-1){var dm=hG>1,c=Z.rect.w,u=Z.rect._,e1=V.Qb.nl[hG],fO=Z.buffer.slice(0);
if(!dm)V.hP(fO);V.Qb.MP(fO,d.buffer,c,u,e1,255,!1,dm);if(!dm)V.Wo(d.buffer)}if(e=="MtnB"){var cs=-F.Angl.v*Math.PI/180,bl=F.Dstn.v.val/2,et=Date.now(),c=Z.rect.w,u=Z.rect._,Q=Z.rect.clone();
Q.x=Q.y=0;if(E.P7){var et=Date.now(),jp=d.buffer;jp.set(Z.buffer);V.hP(jp);var dx=E.KB(0,c,u);dx.set(jp);
var fp=V.J(4);fp[0]=Math.round(128+127*Math.cos(cs));fp[1]=Math.round(128+127*Math.sin(cs));new Uint32Array(jp.buffer).fill(new Uint32Array(fp.buffer)[0]);
var gv=E.KB(1,c,u);gv.set(jp);E.vN(dx,Q);dx.FV(Q);E.filter.zS({type:E.filter.Rh,gk:gv.ad,de:new Float32Array([1/c,1/u]),a5L:bl/2,aqd:1},dx.rh);
dx.get(jp);V.Wo(jp)}else{var hU=new jg;hU.rotate(cs);var P=i.Q.or([Z.buffer,Z.rect],hU,!1,null,!0);ff.Ay(bl,V.OS.MN,P.buffer,P.rect);
hU.eG();P=i.Q.or([P.buffer,P.rect],hU,!1,d.buffer.buffer,!0,d.rect)}console.log(Date.now()-et)}if(e=="RdlB"){var c=Z.rect.w,u=Z.rect._,b8=F.Amnt.v,iI=F.BlrM.v.BlrM=="Zm",im=F.Cntr.v,f_=im.Hrzn.v,g5=im.Vrtc.v,jf=Math.max(f_,1-f_)*c,c1=Math.max(g5,1-g5)*u,cv=Math.sqrt(jf*jf+c1*c1),bx=2*Math.PI*cv*1.5,eP=Math.round(bx),a5=Math.round(cv),jn=new e3(0,0,eP,a5),g9=V.J(eP*a5*4),dr=iI?4:1,is=iI?.6:8*((c+u)/2)/1400,by=.1,cZ=1,bb=1;
V.N.Oq(Z.buffer,c,u,g9,eP,a5,f_,g5,dr,by,cZ,bb);var ak=iI?V.J(eP*a5*4):null;if(iI){V.N.zQ(g9,ak,eP,a5);
var dh=ak;ak=g9;g9=dh;jn.w=a5;jn._=eP}ff.Ay(is*b8,V.OS.MN,g9,jn);if(iI){V.N.zQ(g9,ak,a5,eP);var dh=ak;
ak=g9;g9=dh;jn.w=eP;jn._=a5}V.N.Oc(g9,eP,a5,d.buffer,c,u,f_,g5,dr,by,cZ,bb)}if(e=="Plr "){var c=Z.rect.w,u=Z.rect._;
if(F.Cnvr.v.Cnvr=="RctP")V.N.Oc(Z.buffer,c,u,d.buffer,c,u,.5,.5,1,0,2,c/u);else V.N.Oq(Z.buffer,c,u,d.buffer,c,u,.5,.5,1,0,2,c/u)}if(e=="FndE"){var c=Z.rect.w,u=Z.rect._;
V.Qb.Jw(Z.buffer,d.buffer,c,u)}if(e=="oilPaint"){var bF=F.LghD.v*Math.PI/180,fG=[Math.cos(bF),Math.sin(bF),.001],iY=[F.stylization.v,F.cleanliness.v,F.brushScale.v,F.microBrush.v,F.lightingOn.v,F.specularity.v,fG],Q=Z.rect.clone();
Q.x=Q.y=0;V.Dj.filter(Z.buffer,Q,d.buffer,iY)}if(e=="Ofst"){var c=Z.rect.w,u=Z.rect._,j9=new Uint32Array(Z.buffer.buffer),hL=new Uint32Array(d.buffer.buffer),eE=F.Hrzn.v,aM=F.Vrtc.v,eu=F.Fl.v.FlMd;
V.oi(hL,0);if(eu=="Bckg"||eu=="Rpt"){var jn=Z.rect.clone();jn.offset(eE,aM);V.Rf(j9,jn,hL,d.rect)}if(eu=="Rpt"){var jO,jR,g0,gL,hR;
eE=Math.max(-c,Math.min(c,eE));aM=Math.max(-u,Math.min(u,aM));jO=eE>0?eE:0;g0=eE>0?c:c+eE;jR=aM>0?0:aM+u;
gL=aM>0?aM:u;hR=aM>0?0:c*(u-1);for(var ca=jR;ca<gL;ca++)for(var aK=jO;aK<g0;aK++)hL[ca*c+aK]=j9[hR+aK-eE];
jO=eE>0?0:c+eE;g0=eE>0?eE:c;jR=aM>0?aM:0;gL=aM>0?u:u+aM;hR=eE>0?0:c-1;for(var ca=jR;ca<gL;ca++)for(var aK=jO;
aK<g0;aK++)hL[ca*c+aK]=j9[hR+c*(ca-aM)];if(eE>=0&&aM>=0){jO=0;g0=eE;jR=0;gL=aM;hR=0}if(eE>=0&&aM<0){jO=0;
g0=eE;jR=u+aM;gL=u;hR=c*(u-1)}if(eE<0&&aM>=0){jO=c+eE;g0=c;jR=0;gL=aM;hR=c-1}if(eE<0&&aM<0){jO=c+eE;
g0=c;jR=u+aM;gL=u;hR=c*u-1}for(var ca=jR;ca<gL;ca++)for(var aK=jO;aK<g0;aK++)hL[ca*c+aK]=j9[hR]}if(eu=="Wrp"){eE=(eE+100*c)%c;
aM=(aM+100*u)%u;var jn=new e3(eE-c,aM-u,c,u);V.Rf(j9,jn,hL,d.rect);jn.offset(c,0);V.Rf(j9,jn,hL,d.rect);
jn.offset(0,u);V.Rf(j9,jn,hL,d.rect);jn.offset(-c,0);V.Rf(j9,jn,hL,d.rect)}}if(e=="Rept"){var bM=F.Rsft.v.val/100,a8=F.SpcX.v.val/100;
a8=Math.max(a8,-.99);var gd=F.SpcY.v.val/100;gd=Math.max(gd,-.99);var cZ=F.Scl.v.val/100,hU=new jg;hU.rotate(F.Angl.v*Math.PI/180);
hU.scale(cZ,cZ);var h$={buffer:Z.buffer,rect:Z.rect};V.bD(h$);if(h$.rect.BJ()){h$.buffer=Z.buffer;h$.rect=Z.rect}var he=h$.buffer,jn=h$.rect,jC=V.ip(he,jn,0),gy=new Uint32Array(he.buffer)[0];
if(!jC.BJ()&&!jC.Tn(jn)){var gV=V.J(jC.Z()*4);V.Rf(he,jn,gV,jC);he=gV;jn=jC}jn.x=jn.y=0;gy=a8==0&&gd==0||F.SpcC.v?gy:0;
function bi(aK){return aK<0?Math.ceil(aK):Math.floor(aK)}var bH=hU.rS(new bI(jn.w,0));bH.x=bi(bH.x);
bH.y=bi(bH.y);var f5=hU.rS(new bI(0,jn._));f5.x=bi(f5.x);f5.y=bi(f5.y);var P=i.Q.or([he,jn],hU,!1),ax=P.rect,eN=P.buffer,b2=Math.round(ax.x),iD=Math.round(ax.y),aR=Math.max(d.rect.w,d.rect._)/Math.min(jn.w*cZ*(1+a8),jn._*cZ*(1+gd));
aR=Math.ceil(aR*1.7);V.oi(d.buffer,gy);for(var ca=-aR;ca<aR;ca++){for(var aK=-aR;aK<aR;aK++){var hV=(aK+ca*bM)*(1+a8),i8=ca*(1+gd);
ax.x=b2+Math.round(hV*bH.x+i8*f5.x);ax.y=iD+Math.round(hV*bH.y+i8*f5.y);if(ax.iP(d.rect))V.a.sB("norm",eN,ax,d.buffer,d.rect,ax,1)}}}if(e=="Ctoa"){var _=V.X.Gb(F.Clr.v),aG=F.Trsp.v.val/100,d8=F.Opct.v.val/100;
aG=d8==0?0:aG/d8;var c=Z.rect.w,u=Z.rect._,jm=~~_.o,jd=~~_.z,g$=~~_.S,hR=Z.buffer,ij=d.buffer;for(var ca=0;
ca<u;ca++)for(var aK=0;aK<c;aK++){var l=ca*c+aK,W=l<<2,jn=hR[W],a1=hR[W+1],he=hR[W+2],cj=Math.abs(jm-jn),jA=Math.abs(jd-a1),eK=Math.abs(g$-he),am=Math.max(cj,jA,eK)*(1/255);
am=Math.max(0,Math.min(1,am/d8));var cF=am==0?0:1/am,je=aG==1?1:Math.max(0,Math.min(1,(am-aG)/(1-aG)));
ij[W]=Math.max(0,Math.min(255,(jn-jm*(1-am))*cF));ij[W+1]=Math.max(0,Math.min(255,(a1-jd*(1-am))*cF));
ij[W+2]=Math.max(0,Math.min(255,(he-g$*(1-am))*cF));ij[W+3]=~~(.5+je*255)}}if(e=="Dthr"){function aq(aK){return~~(.5+255*V.PZ(aK/255))}var g7=F.Plte.v,bR;
if(g7==0)bR=[4278190080,4294967295];else{var iE=[[1,1,1],[2,2,2],[3,3,2]][g7-1],dw=[1<<iE[0],1<<iE[1],1<<iE[2]],ht=[~~(255/(dw[0]-1)),~~(255/(dw[1]-1)),~~(255/(dw[2]-1))];
bR=[];for(var v=0;v<dw[0];v++)for(var A=0;A<dw[1];A++)for(var M=0;M<dw[2];M++)bR.push(255<<24|aq(M*ht[2])<<16|aq(A*ht[1])<<8|aq(v*ht[0]))}var c=Z.rect.w,u=Z.rect._,n=c*u,hy=n*4,g4=Z.buffer.slice(0),fv=d.buffer;
for(var l=0;l<hy;l++)g4[l]=~~(.5+255*V.PZ(g4[l]/255));var dS=V.J(c*u);UPNG.encode.dither(g4,c,u,bR,fv,dS);
for(var l=0;l<hy;l++)fv[l]=~~(.5+255*V.aZ(fv[l]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(e)!=-1){var ix=S[0],c=Z.rect.w,u=Z.rect._,cW,fB=0;
if(e=="LqFy")cW=eS.qj(new Uint8Array(F.LqMe.v).buffer);else{var ee=3;cW={bo:Math.floor(c/ee),zA:Math.floor(u/ee)};
cW.map=new Float32Array(cW.bo*cW.zA*2);if(e=="LnCr"){var f_=.5*(cW.bo-1),g5=.5*(cW.zA-1),hN=Math.max(Math.abs(0-f_),Math.abs(1-f_)),cg=Math.max(Math.abs(0-g5),Math.abs(1-g5)),b9=Math.sqrt(hN*hN+cg*cg),df=0,jk=0,bB=-1,bG=2,cZ=F.LnSi.v/100,iI=1/cZ,iC=F.LnIa.v/100,gP=iC==0?1e-6:iC*4.6,hO=iI/b9;
for(var ca=0;ca<cW.zA;ca++){for(var aK=0;aK<cW.bo;aK++){var jf=(aK-f_)*hO,c1=(ca-g5)*hO,v=Math.sqrt(jf*jf+c1*c1)*gP,gY=Math.atan(v),cS=iC>0?gY/v:v/gY,bb=f_+b9*cS*jf,c3=g5+b9*cS*c1,l=ca*cW.bo+aK<<1;
cW.map[l]=bb-aK;cW.map[l+1]=c3-ca}}}else if(e=="Dspl"&&ix.length!=0){fB=F.UndA.v.UndA=="WrpA"?2:1;var gs=F.DspF.v.pth,j4;
for(var l=0;l<ix.length;l++)if(ix[l].uz==gs)j4=ix[l];if(j4==null)j4=ix[0];j4.zB();var cj=j4.Sa[1],hB=V.J(cj.Z());
V.QE(j4.Sa[0],hB);var es=cj.w,hP=cj._;cW={bo:es,zA:hP};cW.map=new Float32Array(cW.bo*cW.zA*2);var iV=2.54*F.HrzS.v*es/c,i$=2.54*F.VrtS.v*hP/u;
for(var ca=0;ca<cW.zA;ca++){for(var aK=0;aK<cW.bo;aK++){var fa=-.5+hB[ca*es+aK]*(1/255),l=ca*cW.bo+aK<<1;
cW.map[l]=fa*iV;cW.map[l+1]=fa*i$}}}else if(e=="Pnch"||e=="Twrl"||e=="Sphr"||e=="ZgZg"){var b8=1,cs=Math.PI,aY=0,dV=1,a9=0,im=3,gm=1.53,cS=1;
if(e=="Pnch"||e=="Sphr"||e=="ZgZg")b8=F.Amnt.v/100;if(e=="ZgZg"){dV=F.NmbR.v;a9=["ArnC","OtFr","PndR"].indexOf(F.ZZTy.v.ZZTy)}if(e=="Twrl")cs=F.Angl.v*Math.PI/180;
if(e=="Sphr")aY=["Nrml","HrzO","VrtO"].indexOf(F.SphM.v.SphM);function gK(aK){aK=Math.pow(aK,1-aK*.3-aK*aK*(aK*aK)*.5);
return-.225*Math.sin(aK*Math.PI)}function i5(u,ft,v,jO,jR,g0,gL,cS){var jf=g0-jO,c1=gL-jR,ib=jO-u,fn=jR-ft,dq=jf*jf+c1*c1,M=2*(jf*ib+c1*fn),im=ib*ib+fn*fn-v*v,dC=Math.sqrt(M*M-4*dq*im),hv=cS/(2*dq),g6=(-M+dC)*hv,bc=(-M-dC)*hv;
return cS*Math.min(g6,bc)}var ip=cW.bo,dU=cW.zA,a3=cW.bo/2,iQ=cW.zA/2,co=1/a3,v=Math.sqrt(im*im+1)/im,bo=im+Math.sqrt(1/(im*im));
if(b8<0){im=1.72;v=1;bo=im;gm=-1;cS=-1}for(var ca=0;ca<dU;ca++){var c1=(ca-iQ)/iQ;for(var aK=0;aK<ip;
aK++){var jf=(aK-a3)*co;if(aY==1)c1=0;else if(aY==2)jf=0;var fc=Math.sqrt(jf*jf+c1*c1);if(fc<1&&fc!=0){var l=ca*cW.bo+aK<<1;
if(e=="Pnch"){var eG=-b8*gK(fc)/fc;cW.map[l]=jf*eG*a3;cW.map[l+1]=c1*eG*iQ}else if(e=="Sphr"){var dh=i5(0,bo,v,0,0,fc,im,cS),iu=gm*b8*(dh-1);
cW.map[l]=jf*iu*a3;cW.map[l+1]=c1*iu*iQ}else if(e=="Twrl"){var bF=Math.atan2(c1,jf)-cs*(1-fc)*(1-fc),j5=Math.cos(bF),d6=Math.sin(bF);
cW.map[l]=(fc*j5-jf)*a3;cW.map[l+1]=(fc*d6-c1)*iQ}else if(e=="ZgZg"){var j5=0,d6=0,aA=b8*(.5-.5*Math.cos(fc*dV*2*Math.PI))*(1-fc);
if(a9==0){var bF=Math.atan2(c1,jf)-3.5*aA;j5=fc*Math.cos(bF);d6=fc*Math.sin(bF)}if(a9==1){aA=100/c*aA/fc;
j5=(1-aA)*jf;d6=(1-aA)*c1}if(a9==2){var at=512/c*aA*Math.PI/4;j5=at+jf;d6=at+c1}cW.map[l]=(j5-jf)*a3;
cW.map[l+1]=(d6-c1)*iQ}}}}}else if(e=="Shr "){var bv=JSON.parse(JSON.stringify(F.ShrP.v));V.AH.A(bv,new jg(0,255/127,255/127,0,-2,0));
var d2=V.AH.cD(bv,cW.zA,!0);fB=F.UndA.v.UndA=="WrpA"?2:1;for(var ca=0;ca<cW.zA;ca++){var jf=-d2[ca]*cW.bo;
for(var aK=0;aK<cW.bo;aK++){var l=ca*cW.bo+aK<<1;cW.map[l]=jf}}}else if(e=="Wave"){var jy=F.NmbG.v,eF=F.WLMn.v,iH=F.WLMx.v,bu=F.AmMn.v*(Math.PI/4),c$=F.AmMx.v*(Math.PI/4),jP=F.SclH.v/100,cO=F.SclV.v/100,hk=F.Wvtp.v.Wvtp,aA=Math.sin;
if(hk=="WvTr")aA=function(aK){aK*=2/Math.PI;return-.5+Math.abs(aK%2-1)};if(hk=="WvSq")aA=function(aK){aK*=2/Math.PI;
return 1+2*Math.floor(aK%2-1)};var fP=[],fY=new V.a.XW(F.RndS.v);for(var l=0;l<jy;l++){fP.push(fY.get()*10);
fP.push(Math.PI*ee/(eF+fY.get()*(iH-eF)));fP.push(jP*(bu+fY.get()*(c$-bu))/ee);fP.push(fY.get()*10);
fP.push(Math.PI*ee/(eF+fY.get()*(iH-eF)));fP.push(cO*(bu+fY.get()*(c$-bu))/ee)}var ga=[],as=[],eD=Math.max(cW.bo,cW.zA);
for(var l=0;l<eD;l++){var jf=0,c1=0;for(var dM=0;dM<jy;dM++){var i1=dM*6;jf+=fP[i1+2]*aA(fP[i1]+l*fP[i1+1]);
c1+=fP[i1+5]*aA(fP[i1+3]+l*fP[i1+4])}ga[l]=c1;as[l]=jf}for(var ca=0;ca<cW.zA;ca++){for(var aK=0;aK<cW.bo;
aK++){var l=ca*cW.bo+aK<<1;cW.map[l]=as[ca];cW.map[l+1]=ga[aK]}}fB=F.UndA.v.UndA=="WrpA"?2:1}else if(e=="Rple"){fB=1;
var b8=F.Amnt.v/100,h_=4,dK=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],ir=1,fH=1,ib=0,fC=["Sml","Mdm","Lrg"].indexOf(F.RplS.v.RplS);
if(fC==0){ir=1;fH=.2;ib=3}if(fC==2){ir=1;fH=2;ib=-1;dK=dK.reverse()}var cl=function(aK,ca){var im=Math.cos,hS=0;
for(var l=0;l<h_;l++)for(var dM=0;dM<h_;dM++)hS+=dK[l*h_+dM]*im(aK*(l+ib)-ca*(dM+ib));return hS},dL=Math.floor(50/ee),gb=new Float32Array(dL*dL*2),dj=fH*b8*.5/ee;
for(var ca=0;ca<dL;ca++)for(var aK=0;aK<dL;aK++){var f_=ir*aK*2*Math.PI/dL,g5=ir*ca*2*Math.PI/dL,hw=cl(f_,g5),jf=(cl(f_+.01,g5)-hw)*100,c1=(cl(f_,g5+.01)-hw)*100,l=(ca*dL+aK)*2;
gb[l]=jf*dj;gb[l+1]=c1*dj}for(var ca=0;ca<cW.zA;ca++)for(var aK=0;aK<cW.bo;aK++){var d6=ca%dL,j5=aK%dL,l=ca*cW.bo+aK<<1,eo=d6*dL+j5<<1;
cW.map[l]=gb[eo];cW.map[l+1]=gb[eo+1]}}}V.xI.x_(Z.buffer,d.buffer,c,u,null,cW.map,cW.bo,cW.zA,fB)}return d};
var bU={};bU._K="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");bU.hS="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
bU.qM=["ScrC","ScrD","ScrL"];bU.yM=["SDRD","SDHz","SDLD","SDVt"];bU.jU="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
bU.Qn="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");bU.Vm="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
bU.xh=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];bU.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
bU.wy=function(e){var Z;if(e=="ClrP")Z={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(e=="Ct")Z={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(e=="DryB")Z={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(e=="FlmG")Z={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(e=="Frsc")Z={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(e=="NGlw")Z={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(e=="PntD")Z={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(e=="PltK")Z={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(e=="PlsW")Z={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(e=="PstE")Z={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(e=="RghP")Z={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(e=="SmdS")Z={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(e=="Spng")Z={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(e=="Undr")Z={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(e=="Wtrc")Z={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(e=="AccE")Z={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(e=="AngS")Z={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(e=="Crsh")Z={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(e=="DrkS")Z={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(e=="InkO")Z={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(e=="Smie")Z={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(e=="Spt")Z={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(e=="SprS")Z={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(e=="DfsG")Z={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(e=="Gls")Z={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(e=="OcnR")Z={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(e=="BsRl")Z={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(e=="ChlC")Z={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(e=="Chrc")Z={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(e=="Chrm")Z={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(e=="CntC")Z={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(e=="GraP")Z={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(e=="HlfS")Z={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(e=="NtPr")Z={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(e=="Phtc")Z={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(e=="Plst")Z={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(e=="Rtcl")Z={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(e=="Stmp")Z={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(e=="TrnE")Z={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(e=="WtrP")Z={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(e=="GlwE")Z={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(e=="Crql")Z={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(e=="Grn")Z={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(e=="MscT")Z={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(e=="Ptch")Z={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(e=="StnG")Z={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(e=="Txtz")Z={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
Z.__name="Filter Gallery";Z.classID="GEfc";Z.GEfk={t:"enum",v:{GEft:e}};Z.GELv={t:"bool",v:!0};return Z};
bU.ks=function(e,Z){for(var l=0;l<Z.length;l++)~~(Z[l]=(e[4*l]+e[4*l+1]+e[4*l+2])*(1/3))};bU.pD=function(e,Z,F,b){var _=UPNG.quantize(e,Z);
_={jR:_.inds,z_:_.plte};var d=Math.floor((F+b)*.015);if(d!=0)V.aA.apV(_.jR,F,b,d);return _};bU.Gm=function(e,Z,F,b,_,d,S){e=F.GEfk.v.GEft;
var U=Z.rect,r=U.w,q=U._,w=r*q,X=F.FlRs?F.FlRs.v>>>1:0;function Q(W){return W.o<<24|W.z<<16|W.S<<8|255}if(e=="ClrP")V.b.alT(Z.buffer,r,q,d.buffer,[F.Pncl.v,F.StrP.v,F.PprB.v]);
if(e=="Ct"){var c=F.NmbL.v,u=F.EdgS.v,n=bU.pD(Z.buffer.buffer,c*2,r,q);for(var l=0;l<n.jR.length;l++)n.jR[l]++;
var k=new Uint8Array((r+2)*(q+2));V.l2(n.jR,new e3(1,1,r,q),k,new e3(0,0,r+2,q+2));var B=V.H.qq(k,r+2,q+2,u,!1),o=new jg(1,0,0,1,-1,-1);
for(var l=0;l<B.length;l++)V.H.A(B[l].path.s,o,B[l].path.s);var T=[],z=n.z_;for(var l=0;l<z.length;l++){var W=z[l].est.q;
T.push({o:Math.round(255*W[0]),z:Math.round(255*W[1]),S:Math.round(255*W[2]),Y0:Math.round(255*W[3])})}var $=V.LH(r,q);
for(var l=0;l<B.length;l++){var R=B[l],W=T[R.color-1];if(W.Y0==0)continue;$.fillStyle="rgba("+W.o+","+W.z+","+W.S+","+W.Y0/255+")";
$.beginPath();Typr.U.pathToContext({crds:R.path.s,cmds:R.path.C},$);$.fill()}if(!U.BJ()){var P=$.getImageData(0,0,r,q);
V.Fk(P.data,d.buffer)}}if(e=="DryB")V.b.a1W(Z.buffer,r,q,d.buffer,[F.BrsS.v,F.BrsD.v,F.Txtr.v]);if(e=="FlmG")V.b.a8z(Z.buffer,r,q,d.buffer,[F.Grn.v,F.HghA.v,F.Intn.v,X]);
if(e=="Frsc")V.b.anO(Z.buffer,r,q,d.buffer,[F.BrsS.v,F.BrsD.v,F.Txtr.v]);if(e=="NGlw")V.b.afx(Z.buffer,r,q,d.buffer,[F.Sz.v,F.Brgh.v,Q(V.X.Gb(F.Clr.v)),Q(b),Q(_)]);
if(e=="PltK")V.b.aqZ(Z.buffer,r,q,d.buffer,[F.StrS.v,F.StDt.v,F.Sftn.v]);if(e=="PstE")V.b.aj3(Z.buffer,r,q,d.buffer,[F.EdgT.v,F.EdgI.v,F.Pstr.v]);
if(e=="RghP")V.b.akK(Z.buffer,r,q,d.buffer,[F.StrL.v,F.StDt.v,bU.jU.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,bU.hS.indexOf(F.LghD.v.LghD),F.InvT.v]);
if(e=="SmdS")V.b.an0(Z.buffer,r,q,d.buffer,[F.StrL.v,F.HghA.v,F.Intn.v,F.FlRs.v,X]);if(e=="Spng")V.b.ase(Z.buffer,r,q,d.buffer,[F.BrsS.v,F.Dfnt.v,F.Smth.v,F.FlRs.v,X]);
if(e=="Undr")V.b.acN(Z.buffer,r,q,d.buffer,[F.BrsS.v,F.TxtC.v,bU.jU.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,bU.hS.indexOf(F.LghD.v.LghD),F.InvT.v]);
if(e=="Wtrc")V.b.a6O(Z.buffer,r,q,d.buffer,[F.BrsD.v,F.ShdI.v,F.Txtr.v]);if(e=="AccE")V.b.afJ(Z.buffer,r,q,d.buffer,[F.EdgW.v,F.EdgB.v,F.Smth.v]);
if(e=="AngS")V.b.a4a(Z.buffer,r,q,d.buffer,[F.DrcB.v,F.StrL.v,F.Shrp.v]);if(e=="Crsh")V.b.aen(Z.buffer,r,q,d.buffer,[F.StrL.v,F.Shrp.v,F.Strg.v]);
if(e=="DrkS")V.b.aso(Z.buffer,r,q,d.buffer,[F.Blnc.v,F.BlcI.v,F.WhtI.v]);if(e=="InkO")V.b.aib(Z.buffer,r,q,d.buffer,[F.StrL.v,F.DrkI.v,F.LghI.v]);
if(e=="Smie")V.b.ags(Z.buffer,r,q,d.buffer,[F.StrW.v,F.StrP.v,F.Cntr.v]);if(e=="DfsG")V.b.a9O(Z.buffer,r,q,d.buffer,[F.Grns.v,F.GlwA.v,F.ClrA.v,Q(_),X]);
if(e=="CntC")V.b.arz(Z.buffer,r,q,d.buffer,[F.FrgL.v,F.BckL.v,bU.jU.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,bU.hS.indexOf(F.LghD.v.LghD),F.InvT.v,Q(_),Q(b)]);
if(e=="ChlC")V.b.a1P(Z.buffer,r,q,d.buffer,[F.ChrA.v,F.ChlA.v,F.StrP.v,X,Q(_),Q(b)]);var H=e=="GraP"||e=="Chrc"||e=="Plst"||e=="Rtcl"||e=="Stmp"||e=="TrnE";
if(H){var y=V.J(r*q);if(e=="GraP")V.b.a65(Z.buffer,r,q,d.buffer,[F.StrL.v,F.LgDr.v,bU.yM.indexOf(F.SDir.v.StrD),X]);
if(e=="Chrc")V.b.a8a(Z.buffer,r,q,d.buffer,[F.ChAm.v,F.Dtl.v,F.LgDr.v]);if(e=="Plst")V.b.aqQ(Z.buffer,r,q,d.buffer,[F.ImgB.v,bU.Qn.indexOf(F.LghP.v.LghP),F.Smth.v]);
if(e=="Rtcl")V.b.ard(Z.buffer,r,q,d.buffer,[F.Dnst.v,F.BlcL.v,F.WhtL.v,X]);if(e=="Stmp")V.b.acs(Z.buffer,r,q,d.buffer,[F.LgDr.v,F.Smth.v]);
if(e=="TrnE")V.b.ao0(Z.buffer,r,q,d.buffer,[F.ImgB.v,F.Smth.v,F.Cntr.v,X]);V.yC(d.buffer,y,0);bU.xL(y,d.buffer,b,_)}if(e=="NtPr")V.b.akz(Z.buffer,r,q,d.buffer,[F.ImgB.v,F.Grns.v,F.Rlf.v,Q(b),Q(_),X]);
if(e=="WtrP")V.b.aeJ(Z.buffer,r,q,d.buffer,[F.FbrL.v,F.Brgh.v,F.Cntr.v,X>>>1]);if(e=="Crql")V.b.a2o(Z.buffer,r,q,d.buffer,[F.CrcS.v,F.CrcD.v,F.CrcB.v,X]);
if(e=="Grn")V.b.a2_(Z.buffer,r,q,d.buffer,[F.Intn.v,bU.Vm.indexOf(F.Grnt.v.Grnt),F.Cntr.v,Q(b),Q(_),X]);
if(e=="MscT")V.b.abi(Z.buffer,r,q,d.buffer,[F.TlSz.v,F.GrtW.v,F.LghG.v,X]);if(e=="Ptch")V.b.aql(Z.buffer,r,q,d.buffer,[F.SqrS.v,F.Rlf.v,X]);
if(e=="Phtc"){function h(ha,bJ,U,jR){V.OS.xx(ha,bJ,U,jR);for(var l=0;l<w;l++)bJ[l]=Math.max(0,Math.min(255,128+ha[l]-bJ[l]))}var m=F.Dtl.v,t=F.Drkn.v,j=V.J(w);
V.QE(Z.buffer,j);var x=V.J(w);h(j,x,U,1);if(m==1){m=2;t=Math.round(t/4)}var C=V.J(w);h(j,C,U,m);for(var l=0;
l<w;l++)j[l]=Math.max(0,Math.min(255,255-(x[l]-C[l])*t));bU.xL(j,d.buffer,b,_)}if(e=="Spt"||e=="SprS"){var L,f=1,D=1;
L={bo:Math.floor(r/D),zA:Math.floor(q/D)};L.map=new Float32Array(L.bo*L.zA*2);var v=new V.a.XW(F.FlRs.v),A=new Float32Array(8192),M=F.SprR.v,Y=M<20?.018*M:.36+(M-20)*.128;
if(e=="SprS"){Y=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][M]}for(var l=0;
l<8192;l++)A[l]=(-1+2*v.get())*Y*70;for(var J=0;J<q;J++)for(var I=0;I<r;I++){var p=J*r+I<<1;L.map[p]=A[p%7919];
L.map[p+1]=A[(p+1)%7919]}var a=L.map.slice(0),er=e=="Spt"?F.Smth.v-1:1;if(e=="Spt"&&er!=0){bU.af(L.map,a,r,q,er);
bU.Lp(a,L.map,r,q,er)}if(e=="SprS"){var c8=F.StrL.v>>>1,O=c8==0?2:1;bU.af(L.map,a,r,q,O);bU.Lp(a,L.map,r,q,O);
if(c8!=0){var dF=bU.yM.indexOf(F.SDir.v.StrD),gl=[1,1,1,0][dF],e0=[-1,0,1,1][dF],bv=2*c8+1,gm=1/bv;for(var J=0;
J<q;J++)for(var I=0;I<r;I++){var p=J*r+I<<1,iW=0,jx=0;for(var l=0;l<bv;l++){var aC=Math.max(0,Math.min(r-1,I-(c8+l)*gl)),d9=Math.max(0,Math.min(q-1,J-(c8+l)*e0)),bS=d9*r+aC<<1;
iW+=L.map[bS];jx+=L.map[bS+1]}a[p]=iW*gm;a[p+1]=jx*gm}L.map=a}}V.xI.x_(Z.buffer,d.buffer,r,q,null,L.map,L.bo,L.zA,f)}if(e=="BsRl"||e=="PlsW"||e=="Chrm"){var jo=Date.now(),g7=V.J(w),dI=g7.slice(0);
V.QE(Z.buffer,g7);var m=F.Dtl.v,gn=F.Smth.v;if(m!=15){V.OS.$x(g7,dI,U,Math.round((15-m)*.5));V.Fk(dI,g7)}var hI=1.4/r,d$=1.4/q,eX=new Float32Array(w),d3=new Float32Array(w),cJ=new Float32Array(d.buffer.buffer);
for(var J=0;J<q;J++)for(var I=0;I<r;I++){var l=J*r+I,gl=I==r-1?g7[l]-g7[l-1]:g7[l+1]-g7[l],e0=J==q-1?g7[l]-g7[l-r]:g7[l+r]-g7[l],dM=I*hI-.7,dh=J*d$-.7;
eX[l]=gl==0?dM:gl*.4;d3[l]=e0==0?dh:e0*.4}if(e=="BsRl"){var jh=(2+bU.hS.indexOf(F.LghD.v.LghD))*Math.PI*.25,iW=Math.cos(jh);
if(Math.abs(iW)<.1)iW=0;iW=Math.sign(iW);var jx=Math.sin(jh);if(Math.abs(jx)<.1)jx=0;jx=Math.sign(jx);
var aK=1/(iW*iW+jx*jx);for(var J=0;J<q;J++)for(var I=0;I<r;I++){var l=J*r+I,ca=Math.max(-1,Math.min(1,iW*eX[l])),iY=Math.max(-1,Math.min(1,jx*d3[l]));
dI[l]=128+127*(ca+iY)*aK}if(gn!=1){V.OS.$x(dI,g7,U,Math.round((gn-1)*.5));V.Fk(g7,dI)}bU.xL(dI,d.buffer,b,_)}else{if(e=="Chrm")gn=5+gn;
if(gn>1)bU.Ay(eX,d3,cJ,U,gn-1);if(e=="PlsW"){var et=new Uint8Array(eX.buffer);for(var l=0;l<w;l++){var jD=l<<2,gl=eX[l],e0=d3[l],j6=1/(Math.sqrt(1+gl*gl)*Math.sqrt(1+e0*e0)),dc=j6*j6,ao=dc*dc,W=~~(255*(ao*ao*dc));
et[jD+0]=W;et[jD+1]=W;et[jD+2]=W;et[jD+3]=W}d.buffer.set(Z.buffer);V.a.sB("norm",et,U,d.buffer,U,U,F.HghS.v/20)}else if(e=="Chrm"){var ec=d.buffer,fp=r>>>1,eN=q>>>1;
for(var l=0;l<w;l++){var jD=l<<2,gl=eX[l],e0=d3[l],ha={x:1,y:0,QF:gl};d4.AB(ha);var bJ={x:0,y:1,QF:e0};
d4.AB(bJ);var g3=d4.acJ(ha,bJ),bL=1/g3.QF,bF=~~Math.max(0,Math.min(r-1,fp-g3.x*bL*fp)),du=~~Math.max(0,Math.min(q-1,eN-g3.y*bL*eN)),W=g7[du*r+bF];
ec[jD+0]=W;ec[jD+1]=W;ec[jD+2]=W}}}}if(e=="Gls"||e=="OcnR"||e=="Txtz"){var b8=e=="OcnR"?2:bU.jU.indexOf(F.TxtT.v.TxtT),jf=bU.Jl(b8),c1=jf[0],g7=jf[1],eV=c1.w,be=c1._,bv=24,e2=0,bj,e8;
function fh(ez,ej,cB){return~~(ea*(ez+ej)+8192)&127}var eX=new Float32Array(w),d3=new Float32Array(w),cJ=new Float32Array(d.buffer.buffer),ea=e=="OcnR"?1/(1+(F.RplS.v-1)*.1):100/F.Scln.v;
if(b8==3)ea*=32/22.2;var jo=Date.now(),g4=ea,hI=1.4/r,d$=1.4/q;if(e=="Txtz"){g4*=1/255;bv=256}for(var J=0;
J<q;J++){var i7=fh(J,U.y,be),d9=i7+1&127;for(var I=0;I<r;I++){var l=J*r+I,de=fh(I,U.x,eV),aC=de+1&127,hb=0,hk=0,e9=0;
if(e=="Txtz"){hb=V.N.xy(ea*I,ea*J,g7,128,128);hk=V.N.xy(ea*I,ea*J+1,g7,128,128);e9=V.N.xy(ea*I+1,ea*J,g7,128,128)}else{hb=g7[i7*eV+de];
hk=g7[d9*eV+de];e9=g7[i7*eV+aC]}eX[l]=Math.max(-bv,Math.min((e9-hb)*g4,bv));d3[l]=Math.max(-bv,Math.min((hk-hb)*g4,bv))}}if(e=="Txtz")bU.u6(eX,d3,cJ,U,6);
else bU.Ay(eX,d3,cJ,U,e=="Txtz"?1:e=="OcnR"?3.5/ea:F.Smth.v);if(e=="Txtz")e2=F.InvT.v?-1:1;else if(e=="Gls"){e2=[1,.4,.5,.5][b8]*(Math.exp(F.Dstr.v*.155)-1);
if(F.InvT.v)e2=-e2}else{e2=.5*(Math.exp(F.RplM.v*.155)-1)}var ec=d.buffer;if(e=="Txtz"){var jh=(2+bU.hS.indexOf(F.LghD.v.LghD))*Math.PI*.25,iW=Math.cos(jh),jx=Math.sin(jh);
bj={x:iW,y:jx,QF:0};d4.AB(bj);e8=F.Rlf.v;e8=e8/4+Math.max(0,(e8-35)*2)}function bt(ha,bJ,j2){var iR=V.a.overF(bJ,ha,1),ez=(1-j2)*ha+j2*(j2*bJ+(1-j2)*iR);
return ez*255}for(var J=0;J<q;J++)for(var I=0;I<r;I++){var l=J*r+I,jD=l<<2,gl=eX[l],e0=d3[l],ha={x:1,y:0,QF:gl};
d4.AB(ha);var bJ={x:0,y:1,QF:e0};d4.AB(bJ);var g3=d4.acJ(ha,bJ);if(e=="Txtz"){var cL=d4.aui(g3,bj)*e2,j2=1,W=1;
if(cL<0){W=0;cL=-cL}j2=Math.min(1,cL*e8);ec[jD+0]=~~bt(Z.buffer[jD]*(1/255),W,j2);ec[jD+1]=~~bt(Z.buffer[jD+1]*(1/255),W,j2);
ec[jD+2]=~~bt(Z.buffer[jD+2]*(1/255),W,j2)}else{var bL=e2/g3.QF,bF=~~Math.max(0,Math.min(r-1,I-g3.x*bL)),du=~~Math.max(0,Math.min(q-1,J-g3.y*bL)),e$=du*r+bF<<2;
ec[jD+0]=Z.buffer[e$];ec[jD+1]=Z.buffer[e$+1];ec[jD+2]=Z.buffer[e$+2]}}}if(e=="PntD"){var eI=F.Shrp.v*.4,fy=F.BrsT.v.BrsT,jO={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[fy],jR=Math.round(F.Sz.v*.5);
V.ga.eQ=jO[0];var g0=V.ga.tC;V.ga.wW(Z.buffer,d.buffer,r,q,jR,g0,[]);var gL=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
gL=V.Qb.OD(gL);var cy=d.buffer.slice(0);V.Qb.MP(cy,d.buffer,r,q,gL,0);for(var l=0;l<Z.buffer.length;
l++){var cP=d.buffer[l]-cy[l];d.buffer[l]=Math.max(0,Math.min(255,cy[l]+eI*cP))}}if(e=="GlwE"){var cn=d.buffer.slice(0);
V.ga.eQ=.5;var g0=V.ga.tC;V.ga.wW(Z.buffer,cn,r,q,F.Smth.v>>>1,g0,[]);V.Qb.Jw(cn,d.buffer,r,q);V.Fk(d.buffer,cn);
V.eG(cn);V.oi(cn,4278190080,16777215);V.ga.wW(cn,d.buffer,r,q,F.EdgW.v>>>1,V.ga.a7,[]);var aJ=F.EdgB.v/10;
for(var l=0;l<cn.length;l++){if((l&3)==3)continue;var iR=d.buffer[l];d.buffer[l]=Math.max(0,Math.min(255,iR*aJ))}}if(e=="StnG"){V.zP.a8Y(Z.buffer,r,q,d.buffer,F.ClSz.v,[Math.round(b.o),Math.round(b.z),Math.round(b.S)],F.BrdT.v)}if(e=="HlfS"){var gj=F.HlSz.v,cZ=gj*2+1,dp=F.Cntr.v,f0=bU.qM.indexOf(F.ScrT.v.ScrT),w=r*q,g1=w*4,aV=V.J(w),az=Z.buffer,hX=0,b0=0;
bU.ks(az,aV);var c0=aV.slice(0);V.OS.Oo(c0,aV,U,gj);var fM=Math.PI/cZ,d_=new Float64Array(r),iW=new Float64Array(r),bN=new Float64Array(2*r);
for(var I=0;I<r;I++){var de=(I-(r>>>1))*fM;d_[I]=de*de;iW[I]=Math.cos(de);var gl=I<<1;bN[gl]=Math.sin(gl*(1/4.5));
bN[gl+1]=Math.sin((gl+1)*(1/4.5))}for(var J=0;J<q;J++){var i7=(J-(q>>>1))*fM,jx=Math.cos(i7),eH=i7*i7;
for(var I=0;I<r;I++){var W=jx;if(f0==0){var eO=.5+Math.sqrt(d_[I]+eH)*4.5;W=bN[~~eO]}else if(f0==1){W=iW[I]*jx}var l=J*r+I,cr=aV[l]*(.75+.25*W),j2=az[(l<<2)+3]*(1/255),cU=Math.max(0,Math.min(255,~~cr));
hX+=cU*j2,b0+=j2;aV[l]=cU}}hX/=b0;var hQ=128+1.26*(hX-128),aJ=.08+.25*Math.abs((128-hX)/128),ju=1+aJ*dp;
for(var l=0;l<w;l++){var cr=hQ+(aV[l]-hQ)*ju;aV[l]=Math.max(0,Math.min(255,~~cr))}if(dp>46)V.round(aV);
bU.xL(aV,d.buffer,b,_)}for(var l=0;l<Z.buffer.length;l+=4)d.buffer[l+3]=Z.buffer[l+3]};bU.xL=function(e,Z,F,b){var _=e.length,d=F.o,S=F.z,U=F.S,r=b.o,q=b.z,w=b.S;
for(var l=0;l<_;l++){var X=e[l]*(1/255),Q=1-X,c=l<<2;Z[c]=~~(d*Q+r*X);Z[c+1]=~~(S*Q+q*X);Z[c+2]=~~(U*Q+w*X)}};
bU.Jl=function(e){if(e==6)e=2;var Z="blocks canvas frosted tinylens brick burlap".split(" ")[e];if(bU.Kp==null)bU.Kp=[];
if(bU.Kp[e]==null){var F,b;if(e==2){b=new e3(0,0,128,128);var _=ff.wy("AdNs");_.Mnch.v=!0;_.Dstr.v.Dstr="Gsn";
_.Nose.v.val=50;var F=V.J(b.Z()*4),d=F.slice(0);new Uint32Array(d.buffer).fill(4286611584);ff.Gm("AdNs",{buffer:d,rect:b},_,0,0,{buffer:F,rect:b})}else{var S=fg.cK.get("tex/"+Z,!0)[0];
b=S.V4;F=new Uint8Array(S.data)}var U=V.J(b.Z());V.yC(F,U,0);bU.Kp[e]=[b,U]}return bU.Kp[e]};bU.Ay=function(e,Z,F,d,S){if(S<=1){S=Math.round(S);
bU.u6(e,Z,F,d,[1,16,4][S]);return}var U=S*.42;if(e){V.OS.BA(e,F,d,U,3);e.set(F)}if(Z){V.OS.BA(Z,F,d,U,3);
Z.set(F)}};bU.u6=function(e,Z,F,d,S){var U=V.Qb.OD([1,2,1,2,S,2,1,2,1]);if(e){F.set(e);V.Qb.tp(e,F,d.w,d._,U);
e.set(F)}if(Z){F.set(Z);V.Qb.tp(Z,F,d.w,d._,U);Z.set(F)}};bU.jC=function(e){if(e==null)return new bI(0,0);
var Z=0,F=e.GEfs?e.GEfs.v:[{v:e}];for(var l=0;l<F.length;l++){var b=F[l].v,d=1e4;if(b.GELv&&!b.GELv.v)continue;
var _=b.GEfk.v.GEft;if(_=="GlwE"||_=="Phtc"||_=="BsRl"||_=="PlsW"||_=="Chrm"||_=="Gls"||_=="OcnR")d=0;
Z=Math.max(Z,d)}return new bI(Z,Z)};bU.RI=function(e){var Z=[0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][e];
for(var l=0;l<13;l++){var b=l-6;Z[l]=1/(F*Math.sqrt(2*Math.PI))*Math.exp(-.5*(b/F)*(b/F))}return Z};
bU.af=function(e,Z,F,b,_){var d=bU.RI(_),S=6,U=13;for(var r=0;r<b;r++)for(var q=0;q<F;q++){var w=r*F+q<<1,X=0,Q=0;
for(var l=0;l<U;l++){var c=q+l-S,u=c<0?0:c>=F?F-1:c,n=(r*F+u)*2,k=d[l];X+=k*e[n];Q+=k*e[n+1]}Z[w]=X;
Z[w+1]=Q}};bU.Lp=function(e,Z,F,b,_){var d=bU.RI(_),S=6,U=13;for(var r=0;r<b;r++)for(var q=0;q<F;q++){var w=r*F+q<<1,X=0,Q=0;
for(var l=0;l<U;l++){var c=r+l-S,u=c<0?0:c>=b?b-1:c,n=(u*F+q)*2,k=d[l];X+=k*e[n];Q+=k*e[n+1]}Z[w]=X;
Z[w+1]=Q}};function ae(){}ae.aH=[2,5,5,7,4,4];ae.Qd="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ae.KU="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ae.Bj=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ae.mk=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ae.Pp=function(e){if(e=="passThrough")return"pass";return ae.Qd[ae.KU.indexOf(e)]};ae.px=function(e){if(e=="pass")return"passThrough";
return ae.KU[ae.Qd.indexOf(e)]};ae.getName=function(e){return ae.Bj[ae.Qd.indexOf(e)]};function g(){this.rect=null;
this.buffer=null;this.Du="norm";this.opacity=255;this.bN=!1;this.jj=0;this.YJ=0;this.rP=!0;this.kz=[];
for(var l=0;l<10;l++)this.kz.push(0,0,255,255);this.name=null;this.add={};this.hr=null;this.o9=null;
this.v=null;this.KX=null;this.aqf=30;this.xu=g.m9();this.acM=g.m9();this.abP=g.m9();this.a9D=g.m9();
this.WA=0;this.c7=!1;this.LW=null;this.xP=new g.fg}g.m9=function(){var e=document.createElement("canvas");
e.width=e.height=30;return e.getContext("2d")};g.fg=function(){this.rk=!0;this.XI=!0;this.AX=V.J(0);
this.aqL=V.J(0);this.D0=null;this.Ei={};this.are=null;this.sk=null;this.ex=null;this.a9=null;this.Qy=null;
this.Ne=null;this.Oz=null;this.Mc=null;this.Se=null;this.gR=null;this.EX=null;this.Dv=null;this.zC=!1};
g.fg.prototype.j$=function(){this.rk=!1;this.XI=!1;this.D0=null;this.zC=E.P7};g.fg.prototype.ab$=function(){d4._$(this.Ei);
this.AX=V.J(0);this.aqL=V.J(0);if(this.a9)this.a9.delete();if(this.Qy)this.Qy.delete();this.a9=null;
this.Qy=null;var e=[this.Ne,this.Oz,this.Mc,this.Se,this.gR,this.EX];for(var l=0;l<6;l++)if(e[l]!=null&&e[l]instanceof E.xV)e[l].delete();
this.Ne=null;this.Oz=null;this.Mc=null;this.Se=null;this.gR=null;this.EX=null};g.prototype.G=function(e){if(e==null)e=this.rect.clone();
if(this.xP.D0==null)this.xP.D0=e;else this.xP.D0=this.xP.D0.Us(e)};g.prototype.yx=function(){return this.add.lsct==jj.$R||this.add.lsct==jj.ZU};
g.prototype._l=function(){var e=this.add;return e.SoCo!=null||e.GdFl!=null||e.PtFl!=null};g.prototype._0=function(){var e=this.add.lmfx;
if(e==null)return;var Z=["GrFl","patternFill"];for(var l=0;l<Z.length;l++){var F=fu.VX[fu.order.indexOf(Z[l])],b=e[F].v;
if(b.length==0)continue;for(var _=0;_<b.length;_++){var d=b[_].v;if(d.enab.v&&(d.Algn==null||!d.Algn.v))this.xP.XI=!0}}};
g.prototype.N8=function(){var e=this.v;if(this._l())e=this.Vj();if(!E.P7)return e.DV();if(this.xP.Qy==null||this.xP.rk||E.P7!=this.xP.zC){if(this.xP.Qy)this.xP.Qy.delete();
this.xP.Qy=new E.$M(e.jK().w,e.jK()._);this.xP.Qy.set(e.DV())}return this.xP.Qy};g.prototype.Rp=function(e){var Z=this.rect,F=this.buffer;
if(!E.P7){var b=this.ss(e,F,Z);if(b){F=b.XT;Z=b.rect}return F}if(this.xP.D0!=null||E.P7!=this.xP.zC){var b=this.ss(e,F,Z);
if(b){F=b.XT;Z=b.rect}var _=Z;if(E.P7!=this.xP.zC||this.xP.a9==null||this.xP.a9.w!=_.w||this.xP.a9._!=_._){if(this.xP.a9)this.xP.a9.delete();
this.xP.a9=new E.xV(_.w,_._);this.xP.a9.set(F)}else{var d=this.xP.D0.clone();d.offset(-Z.x,-Z.y);this.xP.a9.set(F,d)}}return this.xP.a9};
g.prototype.Ms=function(){var e=this.v;if(this._l())e=this.Vj();return e!=null&&e.isEnabled&&(!e.rect.BJ()||e.Gb()!=255)};
g.prototype.ss=function(e,Z,F){if(this.bR()){var b=this.EB(e);if(b.v&&b.v.isEnabled&&(!b.v.rect.BJ()||b.v.color==0)){var _=this.add.SoLd.filterFX.v;
b.v.cj=_.filterMaskDensity?_.filterMaskDensity.v:255;b.v.Ov=_.filterMaskFeather?_.filterMaskFeather.v:0;
var d=b.buffer,S=b.rect;if(S.Z()<F.Z()){S=F;d=V.J(S.Z()*4);V.Rf(b.buffer,b.rect,d,S)}var U=b.v.UZ(F);
V.eG(U);Z=Z.slice(0);V.a.i5(d,S,Z,F,U,F,0,F,1);return{XT:Z,rect:F}}}};g.prototype.agv=function(){var e={Pt:!1,EV:!1,tK:0,h0:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)e.EV=!0;if(this.Vj()&&this.Vj().isEnabled)e.Pt=!0;if(e.Pt&&e.EV){e.tK=this.Vj().rect.x-this.add.vmsk.Vj().rect.x;
e.h0=this.Vj().rect.y-this.add.vmsk.Vj().rect.y}return e};g.prototype.kJ=function(e){if(this.add.lsct==jj.Hx)return;
var Z=this,F=this.Vj()!=null&&this.Vj().oy,b=this.add.vmsk!=null&&this.add.vmsk.oy,_=this.agv(),d=JSON.stringify(_)!=this.xP.are||_.Pt&&F||_.EV&&b;
if(d){if(_.EV){var S=this.add.vmsk.Vj();if(_.Pt){this.v=this.Vj().vp(S);this.xP.sk=new bI(this.v.rect.x-this.Vj().rect.x,this.v.rect.y-this.Vj().rect.y)}else this.v=S}if(this.v)this.xP.rk=!0;
if(this.v)this.xP.ex=new bI(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(_.Pt)this.Vj().oy=!1;
if(_.EV)this.add.vmsk.oy=!1;this.G()}else{if(_.Pt&&_.EV){this.v.rect.x=this.Vj().rect.x+this.xP.sk.x;
this.v.rect.y=this.Vj().rect.y+this.xP.sk.y}}if(Z._l()){this.s3(e)}if(Z.nJ()){var U;if(this.v)U=new bI(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.xP.ex==null||!U.Tn(this.xP.ex))){this.xP.ex=U;this.G();this.xP.rk=!0}}if(hc.get(Z.add)!=null)this.xP.rk=!0;
this.xP.are=JSON.stringify(_)};g.prototype.s3=function(e){var Z=this,F=Z.add.vstk,b=new e3(0,0,e.w,e._),_,d=Z.add.vmsk?this.add.vmsk.Vj():null,r=!0;
if(d&&d.isEnabled&&d.Gb()==0)_=d.jK().clone();else _=b;var S=Z.Vj();if(S&&S.isEnabled&&S.Gb()==0)_=_.QP(Z.v.jK());
var U=d&&F;if(F&&(!F.strokeEnabled.v||F.strokeStyleLineWidth.v.val==0))U=!1;if(F&&!F.fillEnabled.v&&U)r=!1;
var q=V.J(_.Z()*4);if(r){if(Z.add.SoCo)d4.RC(q,Z.add.SoCo.Clr.v);if(Z.add.GdFl){var w=d&&d.color==0?V.c.wS(Z.add.vmsk.T,null,!0):null;
d4.mN(Z.add.GdFl,q,_,e,null,w)}if(Z.add.PtFl)d4.sG(Z.add.PtFl,q,_,e.add.Patt,Z.add.fxrp)}if(d){var X=d.cj;
if(U)d.cj=255;var Q=V.J(_.Z());if(d.Gb()!=0)Q.fill(Math.round(d.Gb()));if(d&&d.isEnabled){var c=d.jK(),u=d.DV();
if(c.Tn(_))V.Fk(u,Q);else V.l2(u,c,Q,_)}if(Z.add.SoCo&&r){V.s$(Q,q,3)}else V.xW(Q,_,q,_);if(U)d.cj=X}Z.buffer=q;
Z.rect=_;if(U){var n=fu.jA.ej.indexOf(F.strokeStyleLineAlignment.v.strokeStyleLineAlignment),k=F.strokeStyleContent.v,B=fu.jA.BY.indexOf(k.classID),o=this.add.vmsk.Vj(F);
if(Z.rect.Tn(b))Z.rect=Z.rect;else if(n!=0){var T=Z.rect.Us(o.jK()),z=V.J(T.Z()*4);V.Rf(Z.buffer,Z.rect,z,T);
Z.buffer=z;Z.rect=T}var X=o.cj;o.cj=255;var W=o.UZ(Z.rect);o.cj=X;if(o.color==255)V.eG(W);var $=V.J(Z.rect.Z()*4);
if(B==0)d4.RC($,k.Clr.v);if(B==1)d4.mN(k,$,Z.rect,e,null,d.color==0?d.rect:null);if(B==2)d4.sG(k,$,Z.rect,e.add.Patt,Z.add.fxrp);
var R=F.strokeStyleOpacity.v.val/100;if(R!=1)V.lk(W,R);if(o.color==255)n=2-n;if(n<2){V.a.i5($,Z.rect,Z.buffer,Z.rect,W,Z.rect,255,Z.rect,1,!1);
if(n==0)V.ne(Q,Z.buffer)}if(n==2){V.ne(W,$);V.eG(Q);V.a.i5($,Z.rect,Z.buffer,Z.rect,Q,_,255,Z.rect,1,!1);
V.eG(Q)}if(o.cj!=255){var P=$.slice(0);V.oi(P,4278190080,16777215);V.a.sB("norm",P,Z.rect,Z.buffer,Z.rect,Z.rect,1-o.cj/255)}X=d.cj;
d.cj=255;this.aqL=d.UZ(Z.rect);d.cj=X}this.G()};g.prototype.gV=function(e,Z){var F=this,b=F.add.SoLd.Idnt.v,_=F.add.SoLd,d=V.H.HA(i.Q.rt(_.nonAffineTransform)),S=e.qG(b,_.Crop?_.Crop.v:null,[d.w,d._],_.Impr.v.classID);
if(S==null)return;var U=S.Sa;_.Sz.v.Wdth.v=U[1].w;_.Sz.v.Hght.v=U[1]._;var r=_.warp.v,q=i.Q.rt(_.nonAffineTransform),w=V.N.R5(q,U[1]);
if(r&&!V.YY.k2(r)){var d=V.H.HA(V.YY.wl(r)),X=d.x,Q=d.y,c=1/d.w,u=1/d._;w=V.N.R5(q);w=V.N.vp(w,[c,0,-X*c,0,u,-Q*u,0,0])}var n=i.Q.Wm(U,Z?0:1,w,r,null,null,null,Z);
if(n==null){F.buffer=V.J();F.rect=new e3}else if(F.bR()){var k=F.EB(e);k.buffer=n.buffer;k.rect=n.rect.clone();
this.Cf(e,Z)}else{F.buffer=n.buffer;F.rect=n.rect}F.kJ(e);F.G();e.G()};g.prototype.Cf=function(e,Z){if(Z==null)Z=!1;
var F=this.EB(e),b=this.add.SoLd.filterFX.v,_=ff.ao_(b),d=new e3(0,0,e.w,e._),S=F.rect.Us(d),U=F.rect.clone();
U.qN(_.x,_.y);var r={buffer:null,rect:S.QP(U)};r.buffer=V.J(r.rect.Z()*4);V.Rf(F.buffer,F.rect,r.buffer,r.rect);
if(b.enab.v&&Z==!1){var q=b.filterFXList.v;for(var l=0;l<q.length;l++){var w=q[l].v;if(w.enab.v==!1)continue;
var X=w.blendOptions.v,Q=ae.Pp(X.Md.v.BlnM),c=X.Opct.v.val/100,u=V.X.Gb(w.FrgC.v),n=V.X.Gb(w.BckC.v),k=ff._m(w),B={buffer:V.J(r.buffer.length),rect:r.rect.clone()},o=w.Fltr?w.Fltr.v:null;
if(hc.gz[k]!=null){var T=hc.gz[k],z=hc.WW(T,o);if(z)hc.Gm(z,r.buffer,B.buffer,r.rect)}else ff.Gm(k,r,o,u,n,B,[e.add.lnk2?e.add.lnk2:[],this.Vj(),e.LE]);
if(Q=="norm"&&c==1)r=B;else if(Q=="norm"){V.a.i5(B.buffer,B.rect,r.buffer,r.rect,null,null,null,r.rect,c)}else{V.a.sB(Q,B.buffer,B.rect,r.buffer,r.rect,r.rect,c)}}}this.rect=r.rect;
this.buffer=r.buffer;this.M5();this.G();e.G()};g.prototype.YS=function(e,Z,F){this.LW=this.H8(e,Z,F)};
g.prototype.yT=function(e,Z){var F=this.H8(e,Z,!0);if(F==null)return null;var b={nH:F.WA,dq:F.iO,rect:F.NN};
if(b.nH==1||b.nH==3){var _=b.rect,d=V.J(_.w*_._*4);V.s$(b.dq,d,0);V.s$(b.dq,d,1);V.s$(b.dq,d,2);V.vc(e.K.channel,e.K.rect,d,_);
b.dq=d}return b};g.prototype.H8=function(e,Z,F){var b,_,d,S,U,r,q;if(this.WA<=0){var w=V.J(this.rect.Z());
V.yC(this.buffer,w,3);b=V.in.j2(Z,{channel:w,rect:this.rect},3);if(b==null)return null;var X=V.HR(b.channel,b.rect);
S=b.rect.clone();U=this.rect.clone();_=V.J(S.Z()*4);V.Rf(this.buffer,U,_,S);V.s$(b.channel,_,3);d=this.buffer.slice(0);
if(!F){var Q=Z.channel.slice(0);V.eG(Q);V.xW(Q,Z.rect,d,U)}r=this.buffer.slice(0);q=this.rect.clone()}if(this.WA==1||this.WA==3){var c=this.WA==1?this.Vj():this.EB(e).v;
S=Z.rect.clone();U=c.rect.clone();_=c.wz(S);var d=c.channel.slice(0);if(!F)V.a.Ur(c.color==255?V.sc(S.Z()):V.eJ(S.Z()),S,d,U,Z.channel,S,1);
r=c.channel.slice(0);q=c.rect.clone()}return{WA:this.WA,iO:_,NN:S,Dl:d,xK:U,Vv:r,qR:q}};g.prototype.Z3=function(e,Z){var F=this.LW;
if(F.WA==0){this.rect=F.qR;this.buffer=F.Vv;this.G()}if(F.WA==1||F.WA==3){var b=F.WA==1?this.Vj():this.EB(e).v;
b.channel=F.Vv;b.rect=F.qR;if(this.WA==1){b.oy=!0;this.kJ(e)}if(this.WA==3)this.G()}this.LW=Z};g.prototype.ie=function(e,Z){if(this.WA<=0&&Z.rect.Tn(this.rect)){var F=V.J(this.rect.Z());
V.yC(this.buffer,F,3);if(V.Tn(e.K.channel,F)){var b=this.rect,_=this.buffer;this.LW={WA:this.WA,iO:_.slice(0),NN:b.clone(),Dl:V.J(0),xK:new e3,Vv:V.J(0),qR:new e3};
return!0}}var d=this.LW;if(d==null)return!1;if(d.WA!=this.WA)return!1;if(!Z.rect.Tn(d.NN))return!1;var S=d.xK.Us(d.NN);
if(d.WA<=0){if(!S.Tn(this.rect))return!1;var U=V.J(d.iO.length>>2);V.yC(d.iO,U,3);if(!V.Tn(Z.channel,U))return!1;
var r=V.J(S.w*S._*4);V.Rf(d.Dl,d.xK,r,S);V.a.sB("norm",d.iO,d.NN,r,S,S,1);return V.Tn(r,this.buffer)}if(d.WA==1||d.WA==3){var q=d.WA==1?this.Vj():this.EB(e).v;
if(!S.Tn(q.rect))return!1;var w=V.J(S.Z());w.fill(q.color);V.l2(d.Dl,d.xK,w,S);V.a.Ur(d.iO,d.NN,w,S,Z.channel,S,1);
return V.Tn(w,q.channel)}};g.prototype.$i=function(e,Z,F,b){var _=this.LW;_.NN.offset(Z,F);var d=_.xK.Us(_.NN);
if(_.WA<=0){var S=V.J(d.Z()*4);V.Rf(_.Dl,_.xK,S,d);V.a.sB("norm",_.iO,_.NN,S,d,d,1);this.buffer=S;this.rect=d;
this.G()}else{var U=this.WA==1?this.Vj():this.EB(e).v,r=V.J(d.Z());r.fill(U.color);V.l2(_.Dl,_.xK,r,d);
V.a.Ur(_.iO,_.NN,r,d,b.channel,d,1);U.channel=r;U.rect=d.clone();if(this.WA==1){U.oy=!0;this.kJ(e)}if(this.WA==3)this.G()}};
g.prototype.wt=function(){var e=[-1,0,1,2];if(this.v)e.push(-2);if(this.KX)e.push(-3);return e};g.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
g.prototype.Hr=function(gi){this.add.luni=this.name=gi};g.prototype.Vn=function(e){var Z=this.add.lnsr,F=this.add.TySh;
if(Z=="rend"&&F)this.Hr(fN.xf(F.HV).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};g.prototype.ir=function(){return(this.jj&1<<1)==0};
g.prototype.nJ=function(){return(this.jj&1<<4)==0};g.prototype.UB=function(){return(this.jj&1<<5)!=0};
g.prototype.a7G=function(){var e=this;if(e.add.lnsr!="bgnd"){e.add.lnsr="bgnd";e.Hr("Background");e.add.lspf=1<<2}};
g.prototype.ahq=function(){var e=this;if(e.add.lnsr=="bgnd"){delete e.add.lnsr;e.Hr("Layer 0");e.add.lspf=0}};
g.prototype.oT=function(e){var Z=this.add.lspf;return Z==null?!1:(Z>>e&1)!=0};g.prototype.cm=function(e){if(e&&!this.ir())this.jj-=2;
if(!e&&this.ir())this.jj+=2};g.prototype.cq=function(){var e=this.add.lmfx;if(e==null)return!1;for(var Z in e){if(Z=="masterFXSwitch")continue;
if(Z=="Scl")continue;if(Z=="classID")continue;if(e[Z].v.length>0)return!0}return!1};g.prototype.bR=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
g.prototype.DZ=function(){var e=this.add.lmfx;if(e==null)return!1;if(!e.masterFXSwitch.v)return!1;for(var Z in e){if(Z=="masterFXSwitch")continue;
if(Z=="Scl")continue;if(Z=="classID")continue;var F=e[Z].v;for(var l=0;l<F.length;l++)if(F[l].v.enab.v)return!0}return!1};
g.prototype.T8=function(e,Z,F,b,_){var d=new e3,S=this.Xp(e,F,b);if(S.indexOf(0)!=-1)d=d.Us(this.rect);
if(S.indexOf(1)!=-1){var U=this.Vj(),r=U.jK();d=F&&U.Gb()==0?d.BJ()?r:d.QP(r):d.Us(r)}if(S.indexOf(2)!=-1){var q=this.add.vmsk,w=this.add.vstk,X;
if(Z){if(q.LD.length>1){var Q=V.c.uW(q.T,null,q.LD);X=V.H.HA(Q)}else X=V.c.wS(q.T,q.V.length!=0?q.V:null)}else X=V.c.wS(q.T);
if(!_&&w&&w.strokeEnabled.v){var c=w.strokeStyleLineAlignment.v.strokeStyleLineAlignment,u=w.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(c!="strokeStyleAlignInside"){var n=w.strokeStyleLineWidth.v.val;if(u=="strokeStyleMiterJoin")X=new e3(0,0,e.w,e._);
else X.qN(n,n)}}d=d.Us(X)}if(S.indexOf(3)!=-1)d=d.Us(this.EB(e).v.jK());if(S.length==0&&this._l())d=_?new e3(0,0,0,0):new e3(0,0,e.w,e._);
return d};g.prototype.om=function(){var e=this.add.artb,Z=e.artboardBackgroundType.v,F=0;if(Z==1)F=4294967295;
else if(Z==2)F=4278190080;else if(Z==3)F=0;else if(Z==4){F=e.Clr.v;F=255<<24|F.Bl.v<<16|F.Grn.v<<8|F.Rd.v}else throw Z;
return F};g.prototype.iU=function(){var e=this.add.artb.artboardRect.v,Z=e.Btom.v,F=e.Left.v,b=e.Rght.v,top=e.Top.v;
return new e3(F,top,b-F,Z-top)};g.prototype.bc=function(e){var Z=g.rx(e);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=Z};g.rx=function(e){var Z={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
Z.Btom.v=e.y+e._;Z.Left.v=e.x;Z.Rght.v=e.x+e.w;Z.Top.v=e.y;return Z};g.prototype.Xp=function(e,Z,F){var b=[],_=this,d=this.c7;
if(!Z&&_.c7&&F){b.push(2)}else if(_.WA<=0||Z){if(_.nJ())if(!this.rect.BJ())b.push(0);if(_.Vj()&&!_.Vj().rect.BJ())if(_.Vj().wJ||Z)b.push(1);
if(_.add.vmsk)if(_.add.vmsk.wJ||Z)b.push(2);if(_.bR()&&_.EB(e).v&&!_.EB(e).v.rect.BJ())b.push(3)}else if(_.WA==1){b.push(1);
if(_.Vj().wJ&&!_.Vj().rect.BJ()){if(_.nJ())if(!this.rect.BJ())b.push(0);if(_.add.vmsk)if(_.add.vmsk.wJ)b.push(2)}}else if(_.WA==3&&!_.EB(e).v.rect.BJ())b.push(3);
if(_.add.artb&&b.indexOf(0)==-1)b.push(0);b.sort();return b};g.prototype.Vj=function(){var e=this;return e.KX?e.KX:e.add.vmsk&&e.add.vmsk.isEnabled?null:e.v};
g.prototype.EB=function(e){var Z=this.add.SoLd.placed.v,F=e.add.FEid;if(F==null)return null;for(var l=0;
l<F.length;l++)if(F[l].id==Z)return F[l];return null};g.prototype.extend=function(e){V.akE(this,e)};
g.prototype.u8=function(e,Z,F){var b=e.clone();if(this.DZ()){var _=this.add.lmfx,d=Z.root.OV(Z.g.indexOf(this)),S=_.gradientFillMulti.v,U=!1;
for(var l=0;l<S.length;l++)if(S[l].v.enab.v&&S[l].v.Algn.v)U=!0;if(U)b=b.Us(d.jK(Z,!1));var r=d4.a9L(this.add.lmfx,Z,F);
b.offset(r.x,r.y);b.w+=r.w;b._+=r._}return b};g.prototype.M5=function(){if(this.nJ())V.bD(this);var e=this.Vj();
if(e)e.M5()};g.prototype.clone=function(){var e=new g;e.rect=this.rect.clone();e.buffer=this.buffer.slice(0);
e.Du=this.Du;e.opacity=this.opacity;e.bN=this.bN;e.jj=this.jj;e.name=this.name;e.kz=this.kz.slice(0);
if(this.v)e.v=this.v.clone();if(this.KX)e.KX=this.KX.clone();for(var Z in this.add)e.add[Z]=gh.clone(Z,this.add[Z]);
return e};g.prototype.Wa=function(e){var Z=this;if(Z.add.TySh)delete Z.add.TySh;if(Z.add.SoLd){var F=this.ss(e,this.buffer,this.rect);
if(F){this.buffer=F.XT;this.rect=F.rect;this.G()}delete Z.add.SoLd}if(Z.add.SoCo||Z.add.GdFl||Z.add.PtFl){if(Z.add.vogk)delete Z.add.vogk;
if(Z.add.SoCo)delete Z.add.SoCo;if(Z.add.GdFl)delete Z.add.GdFl;if(Z.add.PtFl)delete Z.add.PtFl;if(Z.add.vmsk){console.log(Z.KX,Z.v);
delete Z.add.vmsk;if(Z.KX==null&&Z.v)delete Z.v;else if(Z.KX!=null&&Z.v!=null){Z.v=Z.KX;delete Z.KX}}}if(!Z.yx()&&hc.get(Z.add)==null&&!this.nJ())this.jj-=16};
g.prototype.zk=function(e){var Z=255,F=0;if(e==2){var b=this.add.SoLd.filterFX.v;if(b.filterMaskDensity)Z=b.filterMaskDensity.v;
if(b.filterMaskFeather)F=b.filterMaskFeather.v}else{var _=e==0?this.Vj():this.add.vmsk;Z=_.cj;F=_.Ov}return{VB:e,DF:Z,j1:F}};
g.prototype.KN=function(e){if(e.VB==2){var Z=this.add.SoLd.filterFX.v;if(e.DF==255)delete Z.filterMaskDensity;
else Z.filterMaskDensity={t:"long",v:e.DF};if(e.j1==0)delete Z.filterMaskFeather;else Z.filterMaskFeather={t:"doub",v:e.j1};
this.G()}else{var F=e.VB==0?this.Vj():this.add.vmsk;F.cj=e.DF;F.Ov=e.j1;F.oy=!0}};g.prototype.ov=function(){var e=this,Z=e.add.vmsk;
if(Z==null)return;e.add.vogk=g.ov(Z.T)};g.ov=function(e){var Z=[],F=V.c.q$(e);for(var b=0;b<F;b++)Z.push(V.$F.eJ());
return Z};var jj={MH:0,$R:1,ZU:2,Hx:3};g.hW=function(){this.name="Mask";this.oB=!1;this.RW={o:255,z:0,S:0};
this.ri=50;this.K$=0;this.color=255;this.wJ=!0;this.isEnabled=!0;this.J0=!1;this.cj=255;this.Ov=0;this.rect=new e3;
this.channel=V.J(0);this.go=null;this.ae4=null;this.oy=!0};g.hW.prototype.vp=function(e){if(!this.isEnabled)return e;
var Z=new g.hW;Z.color=Math.round(this.Gb()*e.Gb()/255);if(this.Gb()==0&&e.Gb()==0)Z.rect=this.jK().QP(e.jK());
else if(e.Gb()==0)Z.rect=e.jK().clone();else if(this.Gb()==0)Z.rect=this.jK().clone();else Z.rect=this.jK().Us(e.jK());
Z.channel=this.UZ(Z.rect);Z.cj=255;Z.Ov=0;var F=e.UZ(Z.rect);V.a3a(F,Z.rect,Z.channel,Z.rect);return Z};
g.hW.prototype.jK=function(){if(this.Ov==0)return this.rect;var e=Math.ceil(this.Ov*2.2),Z=this.rect.clone();
if(Z.y==0){if(Z.x==0)Z.w+=e;else Z.qN(e,0);Z._+=e}else Z.qN(e,e);return Z};g.hW.prototype.DV=function(){if(this.Ov==0&&this.cj==255)return this.channel;
if(this.Ov==0){var e=this.channel.slice(0);V.eG(e);V.lk(e,this.cj/255);V.eG(e);return e}var Z=this.jK(),F=this.wz(Z),e=V.J(Z.Z());
V.OS.$x(F,e,Z,this.Ov);if(this.cj!=255){V.eG(e);V.lk(e,this.cj/255);V.eG(e)}return e};g.hW.prototype.Gb=function(){return Math.round(255-(255-this.color)*(this.cj/255))};
g.hW.prototype.extend=function(e){V.extend(this,e,this.color)};g.hW.prototype.M5=function(){if(this.color==255)V.eG(this.channel);
V.M5(this);if(this.color==255)V.eG(this.channel)};g.hW.prototype.clone=function(){var e=new g.hW;e.name=this.name;
e.oB=this.oB;e.RW=this.RW;e.ri=this.ri;e.K$=this.K$;e.color=this.color;e.wJ=this.wJ;e.isEnabled=this.isEnabled;
e.J0=this.J0;e.cj=this.cj;e.Ov=this.Ov;e.rect=this.rect.clone();e.channel=this.channel.slice(0);return e};
g.hW.prototype.wz=function(e,Z){if(Z==null)Z=V.J(e.Z());Z.fill(this.color);V.l2(this.channel,this.rect,Z,e);
return Z};g.hW.prototype.UZ=function(e,Z){var F=this.jK(),b=this.DV();if(Z==null)Z=V.J(e.Z());Z.fill(this.Gb());
V.l2(b,F,Z,e);return Z};g.NX=function(){this.wJ=!0;this.isEnabled=!0;this.cj=255;this.Ov=0;this.T=[{type:6},{type:8,all:0}];
this.yk=[-3,-3];this._J=!1;this.KX=null;this.oy=!0;this.V=[];this.LD=[]};g.NX.prototype.offset=function(e,Z){this.KX=this.Vj();
V.c.Jb(this.T,new jg(1,0,0,1,e,Z));this.KX.rect.offset(e,Z)};g.NX.prototype.Vj=function(e){if(!this.oy&&this.KX&&e==null){this.KX.isEnabled=this.isEnabled;
return this.KX}var Z=V.c.wS(this.T),F="strokeStyleLineAlignment",b="strokeStyleLineJoinType";if(Z.Z()>3e4*3e4)Z=new e3(0,0,100,100);
if(e&&e[F].v[F]!="strokeStyleAlignInside"){var _=1;if(e[b].v[b]=="strokeStyleMiterJoin"){var d=V.c.amM(this.T),S=d/2,U=Math.sin(S),r=Math.cos(S);
r/=U;U=1;var _=Math.sqrt(r*r+U*U);if(isNaN(_)||_<1)_=1}_*=e[F].v[F]=="strokeStyleAlignOutside"?1:.5;
var q=Math.ceil(e.strokeStyleLineWidth.v.val*_);q=Math.min(q,600);Z.qN(q,q)}Z=V.H.Uu(Z);var w=new g.hW;
w.color=V.c.Ih(this.T)?0:255;w.wJ=this.wJ;w.isEnabled=this.isEnabled;w.J0=!0;w.rect=Z;w.cj=this.cj;w.Ov=this.Ov;
w.channel=V.J(w.rect.Z());if(!Z.BJ())V.c.a9_(this.T,w.channel,w.rect,e);if(e==null){this.KX=w;this.oy=!1}return w};
g.NX.prototype.clone=function(){var e=new g.NX;e.wJ=this.wJ;e.isEnabled=this.isEnabled;e.cj=this.cj;
e.Ov=this.Ov;e.T=g.NX.o4(this.T);e.yk=this.yk.slice(0);e._J=this._J;e.V=this.V.slice(0);e.LD=this.LD.slice(0);
return e};g.NX.prototype.concat=function(e){var Z=e.T.slice(2);if(Z.length==0)return;Z[0].A8=3;this.T=this.T.concat(Z)};
g.NX.o4=function(e){var Z=[];for(var l=0;l<e.length;l++){var F=e[l];if(F.type>5||F.type==0||F.type==3)Z.push(JSON.parse(JSON.stringify(F)));
else Z.push({type:F.type,Gn:F.Gn.clone(),M:F.M.clone(),kM:F.kM.clone()})}return Z};g.NX.agg=function(e,Z,F){if(e.length!=Z.length)return!1;
for(var l=2;l<e.length;l++){var b=e[l],_=Z[l];if(b.type!=_.type)return!1;if(b.type==0||b.type==3){if(b.length!=_.length||!F&&b.A8!=_.A8)return!1}else if(!b.Gn.Tn(_.Gn)||!b.M.Tn(_.M)||!b.kM.Tn(_.kM))return!1}return!0};
g.NX.prototype.aiw=function(){var e=this.T;for(var l=3;l<e.length;l++)if(e[l].type==0||e[l].type==3)e[l].A8=-1};
g.Bn=function(){this.type=null;this.S_=2;this.uz=null;this.Iv="";this.QL="";this.uM="";this.open=0;this.raw=null;
this.Sa=null;this.agG=""};g.Bn.prototype.clone=function(){var e=new g.Bn;e.type=this.type;e.S_=this.S_;
e.uz=this.uz;e.Iv=this.Iv;e.QL=this.QL;e.uM=this.uM;e.open=this.open;e.raw=new Uint8Array(this.raw.buffer.slice(0));
return e};g.Bn.prototype.zB=function(e,Z,F){if(F==null)F="none";var b=this,_=fg.zV(b.raw.buffer),d=_=="svg"||_=="pdf";
if(b.Sa){var S=Z&&d&&Math.max(b.Sa[1].w,b.Sa[1]._)<Math.max(Z[0],Z[1]);if(!S&&F==this.agG)return}this.agG=F;
if(!d)e=0;if(_==null){alert("Unsupported format: "+s.fl(b.raw,0,4));return null}var U=fg.H_(_);if(U.dH){var r=new aH(name+(_=="psd"?"":"-"+_)+".psd"),q;
U.Fx(b.raw.buffer,r,Z);var w=new e3(0,0,r.w,r._);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(F)!=-1){var X=[];
for(var l=0;l<r.g.length;l++){var Q=r.g[l],c=Q.buffer;if(!Q.rect.Tn(w)){c=V.J(w.Z()*4);V.Rf(Q.buffer,Q.rect,c,w);
console.log("resizing")}X.push(c)}q=V.J(w.Z()*4);V.stack.stack(X,q,F)}else{for(var l=0;l<r.g.length;
l++)if(r.g[l]._l())r.g[l].kJ(r);r.FZ();r.G();r.Om();q=r.zB()}b.Sa=[q,w]}else if(U){var u=U.Fx(b.raw.buffer)[0];
b.Sa=[new Uint8Array(u.data),u.V4]}if(b.Sa){if(e==1){var c=b.Sa[0],n=b.Sa[1],k=V.J(n.Z());V.yC(c,k,3);
var B=V.HR(k,n),o=V.J(B.Z()*4);V.Rf(c,n,o,B);b.Sa=[o,B]}V.nP(b.Sa)}};g.YB="0";g.BD="2";g.QA="2.5";g.DN="2.6";
g.lp="3";g.ku="4";g.ry="4.5";g.KT="4.6";g.Yy="5";g.bX="5.5";g.tn="6";g.TZ="7";g.bE="7.5";g.J$="8";g.eR="9";
g.op="9.3";g.XU="9.5";g.SG="9.6";g.IF="10";g.je="11";g.gG="12";g.TA="13";g.WU="13.1";g.I2="13.2";g.LI="13.3";
g.kL="13.4";g.De="14";g.xY="14.1";g.v1="14.2";g.y5="14.3";g.n2="17";g.fP="18";g.gX="19";g.LM="19.5";
g.B6="19.6";g.vl="19.7";g.tx="20";g.H4="21";g.TR="21.5";g.K3="22";g.Bc="22.5";g.fk="23";g.a7m="24";g.cI="25";
g.sZ="26";g.yZ="27";g._L="28";g.wG="29";g.sr="30";g.jp="31";g.ls="32";g.UM="33";g.qV="34";g.ZG="35";
g.zH="36";g.O7="36.5";g.Bo="37";g.Qj="37.5";g.a7o="37.6";g.hK="38";g.V2="38.5";g.vL="38.6";g.mM="39";
g.dh="40";g.tj="41";g.RS="42";g.SN="50";g.X4="51";g.m4="52";g.G3="53";g.N0="54";g.tz="54.5";g.ta="54.6";
g.Ej="54.7";g.xC="54.8";g.VL="55";g.mP="56";g.XB="57";g.GL="58";g.pK="59";function ik(){this.depth=0;
this.index=-1;this.i=null;this.arq=null;this.bF=-1;this.children=null;this.parent=null;this.IB=null}ik.prototype.zJ=function(e,Z){if(this.depth!=0)e.push(this.i.getName());
if(this.children)for(var l=0;l<this.children.length;l++)this.children[l].zJ(e,Z);if(e.length>Z.Bi.length)Z.Bi=e.slice(0);
if(this.depth!=0)e.pop()};ik.prototype.ad4=function(){var e=0;if(this.i.yx()){for(var l=0;l<this.children.length;
l++)e+=this.children[l].ad4()}else if(this.i.buffer)e+=this.i.buffer.length;return e};ik.prototype.OV=function(e){var Z=this.IB[e];
return this.IB[e]};ik.prototype.Pl=function(e,Z){var F=this.i;if(!F.ir()||F.oT(2)||F.oT(31))return null;
if(F.Ms()){var b=F.v.rect.iP(e);if(!b&&F.v.color==0)return}if(F.yx()){for(var l=0;l<this.children.length;
l++){var gi=this.children[l];gi.Pl(e,Z)}}else if(F.rect.iP(e))Z.push(this.index)};ik.prototype.Ak=function(e,Z){var F=this.i;
if(!F.ir()||F.oT(2)||F.oT(31))return null;if(F.Ms()){if(F.v.rect.rI(e)){if(!V.Ak(e,F.v.channel,F.v.rect))return null}else if(F.v.color==0)return null}if(F.yx()){if(F.add.artb&&!F.iU().rI(e))return null;
for(var l=this.children.length-1;l>=0;l--){var gi=this.children[l],b=gi.Ak(e,Z);if(b&&Z==null)return b}return null}else if(F.add.TySh&&F.rect.rI(e)||V.a0z(e,F.buffer,F.rect)){if(Z==null)return this;
else Z.push(this.index)}return null};ik.prototype.akj=function(e){var Z=this.i;if(!Z.ir()||Z.oT(2)||Z.oT(31))return null;
var F=Z.add.vmsk;if(F&&F.isEnabled){var b=V.c.Ak(F.T,e).wD;if(b!=-1)return{ae6:this,a7U:b}}if(Z.yx()){if(Z.add.artb&&!Z.iU().rI(e))return null;
for(var l=this.children.length-1;l>=0;l--){var gi=this.children[l],_=gi.akj(e);if(_)return _}return null}return null};
ik.prototype.zM=function(e,Z){e.push(this.index);if(this.i.yx()){e.push(this.bF);if(Z)if(this.i.WA==1&&this.i.Vj().wJ==!1)return;
for(var l=0;l<this.children.length;l++)this.children[l].zM(e)}};ik.prototype.Bk=function(e,Z,F){var b=this.i,_,d;
if(b.yx()&&b.add.artb!=null)Z=b.iU();if(Z.w>Z._){_=F;d=Math.floor(F*(Z._/Z.w))}else{_=Math.floor(F*(Z.w/Z._));
d=F}if(b._l()&&b.add.vmsk==null||b.add.TySh)_=d=Math.max(d,16);else{_=Math.max(_,6);d=Math.max(d,6)}var S=d,U=b._l()&&b.add.vmsk;
if(U){var r=b.rect.clone(),X,Q;if(r.BJ())r=new e3(0,0,20,20);var q=r.w,w=r._;if(q>w){X=F;Q=Math.floor(F*(w/q))}else{X=Math.floor(F*(q/w));
Q=F}if(X*Q==0)X=Q=16;V.QK.i4(b.xu,X,Q,r,b.buffer,b.rect,!1);V.QK.ad9(b.xu,X,Q);S=Q}else if(b.add.TySh){V.QK.aaI(b.xu,S,S,b.add.TySh)}else if(b.add.SoCo){S=Math.max(16,Math.min(_,d));
V.QK.atv(b.xu,S,S,b.add.SoCo)}else if(b.add.GdFl){V.QK.ad$(b.xu,S,S,b.add.GdFl)}else if(b.add.PtFl){V.QK.akM(b.xu,S,S,b.add.PtFl,e)}else if(hc.get(b.add)!=null){V.QK.asO(b.xu,S,S,b.add)}else if(b.add.SoLd){V.QK.i4(b.xu,_,d,Z,b.buffer,b.rect,!1);
V.QK.a10(b.xu,_,d,b.add.SoLd)}else if(b.yx()){S=16}else{if(b.nJ())V.QK.i4(b.xu,_,d,Z,b.buffer,b.rect,!1);
else{V.QK.apJ(b.xu,S,S)}}var c=b.Vj();if(c)V.QK.Cn(b.acM,_,d,Z,c);if(b.bR()&&b.EB(e)&&b.EB(e).v){var u=b.EB(e).v;
V.QK.Cn(b.a9D,_,d,Z,u)}if(!U&&b.add.vmsk){V.QK.Cn(b.abP,_,d,Z,b.add.vmsk.Vj(),!0)}if(b.add.vmsk||c)S=Math.max(S,d);
b.aqf=Math.max(S,16);if(b.yx()&&b.add.lsct==jj.$R)for(var l=0;l<this.children.length;l++)this.children[l].Bk(e,Z,F)};
ik.prototype.TJ=function(e,Z,F,b){this.depth=F;var _=e[Z];if(b==null)b=[];this.IB=b;if(_.add.lsct==jj.Hx){this.arq=_;
this.bF=Z-1;this.children=[];var l=Z+1;while(!0){var d=e[l];if(d==null)console.log(l,e.length);if(d.add.lsct==jj.$R||d.add.lsct==jj.ZU){if(_.add.lyid==d.add.lyid)_.add.lyid+=16777215;
this.i=d;this.index=l-1;b[this.index]=this;b[Z-1]=this;break}var S=new ik;S.parent=this;l=S.TJ(e,l,F+1,b);
this.children.push(S)}return l+1}else{this.i=_;this.index=Z-1;b[this.index]=this;return Z+1}};ik.prototype.QV=function(e,Z,F,b){var _=this.OV(F),d=e;
while(_.parent!=null){d=_.i.u8(d,Z,b);_=_.parent}return d};ik.prototype.jK=function(e,Z){var F=this.i,b=new e3;
if(!F.ir())return b;var _=F.Vj();if(F.yx())for(var l=0;l<this.children.length;l++){var d=this.children[l].jK(e,!0);
b=b.Us(d)}else if(hc.get(F.add)!=null)b=F.Ms()&&F.v.color==0?F.v.jK().clone():new e3(0,0,e.w,e._);else if(F._l()&&F.add.vmsk&&F.add.vmsk.isEnabled&&F.add.vstk){b=F.rect.clone()}else if(F._l()&&_&&_.isEnabled&&_.Gb()!=0)b=new e3(0,0,e.w,e._);
else{b=F.T8(e,!1,!0);if(F.add.vmsk)b=V.H.Uu(b)}return Z?F.u8(b,e):b};ik.Lb={delete:function(e){if(e&&e.w)e.delete()},J:function(e,Z){return E.P7?new E.xV(e,Z):V.J(e*Z*4)},Yz:function(e,Z,F){if(E.P7){if(e==null||e.w!=Z||e._!=F){ik.Lb.delete(e);
return new E.xV(Z,F)}}else{if(e==null||!(e instanceof Uint8Array)||e.length!=Z*F*4){ik.Lb.delete(e);
return V.J(Z*F*4)}}return e},l2:function(e,Z,F,b,_){(E.P7?E.n7:V.Rf)(e,Z,F,b,_)},i5:function(e,Z,F,b,_,d,S,U,l,r,q){(E.P7?E.a.Y3:V.a.i5)(e,Z,F,b,_,d,S,U,l,r,q)},sB:function(e,Z,F,b,_,d,S,U){if(E.P7)E.a.jE(e,Z,F,b,_,d,S,U);
else V.a.sB(e,Z,F,b,_,d,S,U)},oi:function(e,Z,F){if(E.P7){E.vN(e);E.fm(Z,F)}else V.oi(e,Z,F)},acW:function(e,Z,F,b,_){if(E.P7){E.a.Y3(null,null,b,_,e,Z,F,_,1,!1)}else{if(F==255)V.xW(e,Z,b,_);
else{var d=V.J(Z.Z());V.MT(b,_,d,Z);V.vd(e,d);V.oi(b,0,16777215);V.vc(d,Z,b,_)}}},jt:function(e,Z,F,b){if(E.P7)E.a.Y3(null,null,F,b,e,Z,0,b,1,!1);
else V.jt(e,Z,F,b)}};ik.prototype.EU=function(e,Z,F,b,_,d){var S=typeof d=="number";if(!this.i.yx()&&(S&&this.index>d||!S&&d.indexOf(this.index)==-1)){return}var U=this.i,r=d4.mO(U),q=ik.Lb,w=U._l()?U.Vj():U.v;
if(!U.ir())return;if(U.Ms()&&w.rect.BJ()&&w.Gb()==0){return}if(U.add.vstk==null&&this.jK(b,!1).BJ()){return}var X=this.jK(b,!0).QP(F);
if(!Z.Tn(F)&&!F.iP(X))return;if(U.yx()&&U.add.artb){var Q=U.iU();F=F.QP(Q)}var c=ik.WV(U,_,r);if(!c){this.Ev(e,Z,F,b,_,d);
return}U.xP.Ne=q.Yz(U.xP.Ne,X.w,X._);q.l2(e,Z,U.xP.Ne,X,F);this.Ev(U.xP.Ne,X,F,b,_,d);q.i5(U.xP.Ne,X,e,Z,null,null,0,F,U.opacity/255,U.Du=="diss",r.Vy)};
ik.WV=function(e,Z,F){if(F.Vy[0]*F.Vy[1]*F.Vy[2]==0)return!0;return e.opacity!=255&&(Z.length!=0||e.yx()||e.DZ())};
ik.as7={xP:{}};ik.prototype.Ev=function(e,Z,F,b,_,d){var S=this.i,U=d4.mO(S),r=hc.get(S.add)!=null,q=ik.Lb,w=ik.WV(S,_,U),X=w?1:S.opacity/255,Q=S._l()?S.Vj():S.v,c=S.yx()&&(S.Du=="pass"||S.add.artb)&&!(_.length>0||U.fill!=1||S.DZ()),u=!S.yx()&&!r&&!S.DZ()&&_.length==0,n=r&&!S.DZ()&&_.length==0,W=null,$=null,R=null,m;
if(c||u||n){var k=e,B=Z;if(S.Ms()){B=this.jK(b,!1);k=S.xP.Se=q.Yz(S.xP.Se,B.w,B._);q.l2(e,Z,S.xP.Se,B)}if(c)this._U(k,B,F,b,d);
if(u)q.sB(S.Du,S.Rp(b),S.rect,k,B,F,X,U);if(n){var o=S.Ms()&&Q.Gb()==0?Q.jK().clone():B.clone(),T=S.xP;
if(o.Tn(new e3(0,0,b.w,b._)))T=ik.as7;T.Mc=this.Ou(k,B,T.Mc,o,S.add);U.FA=!0;q.sB(S.Du,T.Mc,o,k,B,F,X,U)}if(S.Ms())q.i5(k,B,e,Z,S.N8(),Q.jK(),Q.Gb(),F,1,S.Du=="diss");
S.xP.j$();return}var z=S.yx()&&S.Du=="pass"&&(_.length>0||U.fill!=1||S.DZ()),o=S.rect;if(S.yx()){o=this.jK(b,!1);
R=S.xP.Mc=q.Yz(S.xP.Mc,o.w,o._);q.oi(R,0);this._U(R,o,o,b,d);$=q.Yz(S.xP.Oz,o.w,o._);q.l2(R,o,$,o)}else if(r){o=S.Ms()&&Q.Gb()==0?Q.jK().clone():Z.clone();
$=q.Yz(S.xP.Oz,o.w,o._);q.oi($,4294967295)}else{o=S.rect;W=S.Rp(b);$=q.Yz(S.xP.Oz,o.w,o._);q.l2(W,o,$,o)}S.xP.Oz=$;
if(S.Ms())q.acW(S.N8(),Q.jK(),Q.Gb(),$,o);if(S.DZ())if(S.xP.D0||S.xP.XI||S.xP.zC!=E.P7||S.xP.rk||S.yx()){var P=S.add.vmsk,H=V.J(o.Z());
if(d4.a90(S.add.lmfx)){if(E.P7){if(!S.yx()&&S.Vj()==null&&S.rect.Tn(o)&&P==null)V.yC(S.buffer,H,3);else{var y=V.J(o.Z()*4);
$.get(y);V.yC(y,H,3)}}else V.yC($,H,3)}if(S.xP.XI||S.xP.zC!=E.P7||!V.Tn(H,S.xP.AX)){var h=null;if(S._l()&&P&&P.isEnabled&&P.Vj().color==0)h=P.Vj().rect;
d4._$(S.xP.Ei);S.xP.Ei=d4.ajK(H,o,S.add.lmfx,S.add.fxrp,b,h);S.xP.AX=H;S.xP.abJ=o}}if(S.DZ())d4.alc(S.add.lmfx,S.xP.Ei,o,e,Z,F);
if(S.yx()){W=q.Yz(S.xP.Se,o.w,o._);q.oi(W,0);if(S.Du=="pass")q.l2(e,Z,W,o);if(z)q.jt(R,o,W,o);this._U(W,o,F,b,d);
S.xP.Se=W}if(r){W=S.xP.Se=this.Ou(e,Z,S.xP.Se,o,S.add)}if(S.yx()||r)m=W;else{m=q.Yz(S.xP.Se,o.w,o._);
q.l2(W,o,m,o,F);S.xP.Se=m}q.oi(m,4278190080,16777215);for(var l=0;l<_.length;l++)_[l].EU(m,o,F,b,[],d);
var t=S.xP.gR=q.Yz(S.xP.gR,o.w,o._);q.l2(e,Z,t,o,F);if(r)U.FA=!0;q.sB(S.Du=="pass"?"norm":S.Du,m,o,t,o,F,1,U);
if(S.DZ()){var j=S.xP.Ei.type.FrFX,x=null;if(j.length!=0){x=j[0];for(var l=0;l<j.length;l++)if(j[l].lO.w>x.lO.w)x=j[l];
S.xP.EX=q.Yz(S.xP.EX,x.lO.w,x.lO._);q.l2(e,Z,S.xP.EX,x.lO,F);S.xP.Dv=q.Yz(S.xP.Dv,x.lO.w,x.lO._)}d4.atN(S.add.lmfx,S.xP.Ei,o,e,Z,F,t,S.xP.EX,S.xP.Dv,x?x.lO:null)}if(!E.P7){var C=V.J(o.Z());
V.yC($,C,3);$=C}q.i5(t,o,e,Z,$,o,0,F,1,S.Du=="diss");S.xP.j$()};ik.prototype.Ou=function(e,Z,F,b,_){var d=hc.get(_),S;
if(d)S=hc.WW(d,_[d]);var U=ik.Lb;F=U.Yz(F,b.w,b._);if(!(E.P7&&Z.Tn(b)))U.l2(e,Z,F,b);if(S){if(E.P7){var r=b.clone();
r.x=r.y=0;if(Z.Tn(b)){E.vN(F,r);hc.zS(S,e.ad,r)}else{E.vN(F,b);F.FV(b);hc.zS(S,F.rh,r)}}else hc.Gm(S,F,F,b)}return F};
ik.prototype._U=function(e,Z,F,b,_){var d=this.children;for(var l=0;l<d.length;l++){var S=[];for(var U=l+1;
U<d.length;U++)if(d[U].i.bN)S.push(d[U]);else break;d[l].EU(e,Z,F,b,S,_);l+=S.length}};function aH(e){this.Gg="psd";
this.ZR=!1;this.name=e;this.Ck=-1;this.iH=null;this.NO=null;this.W0=null;this.DI=null;this.w=0;this._=0;
this.buffer=null;this.g=[];this.bY={};this.add={};this.ko=4;this.sC=null;this.Cr=72;this.iT={};this.V=[];
this.P3=[];this.fH=!1;this.sP=[];this.l7=[];this.Tl=[aH.o7("Work Path")];this.YN=[];this.sQ=null;this.hn={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.Ym=null;this.i6=!1;this.a9R=!1;this.app=!1;this.fv=!1;this.dw=!1;this.sp=!1;this.Zc=!1;
this.oW=!1;this.z3=!1;this.BV=!1;this.D0=null;this.yJ=null;this.K=null;this.LE=[];this.kl=[];this.D={h6:{},Zq:[],a8A:[],B_:[],kX:[],x9:null,ct:null,Hv:null,yp:null,r3:[],EM:[],hM:null};
this.history=[new eh([1,0],null)];this.Ti=0;this.ui=0;this.lw=0;this.t=new hg(this)}aH.prototype.$j=function(){var e=this.P3,Z=[];
for(var l=0;l<e.length;l++)Z[l]=-1;var F=this.root.children;for(var l=0;l<F.length;l++){var b=F[l],_=b.i.add.artb;
if(_==null)continue;var d=_.guideIndeces;d=d?d.v:[];for(var S=0;S<d.length;S++)Z[d[S].v]=b.index}return[JSON.parse(JSON.stringify(e)),Z]};
aH.prototype.p$=function(e){this.P3=JSON.parse(JSON.stringify(e[0]));var Z=e[1],F=this.root.children;
for(var l=0;l<F.length;l++){var b=F[l],_=b.i.add.artb;if(_==null)continue;_.guideIndeces={t:"VlLs",v:[]}}for(var l=0;
l<Z.length;l++)if(Z[l]!=-1)this.g[Z[l]].add.artb.guideIndeces.v.push({t:"long",v:l})};aH.prototype.yq=function(e){var Z=this;
if(e[0])Z.add.lnk2=e[0];else delete Z.add.lnk2;if(e[1])Z.add.FEid=e[1];else delete Z.add.FEid;if(e[2])Z.add.Patt=e[2];
else delete Z.add.Patt};aH.prototype.asW=function(e){var Z=this,F=[],b=[],_=[],u=null,n=null,k=null;
for(var l=0;l<e.length;l++){var d=e[l];if(d.add.SoLd){F.push(d.add.SoLd.Idnt.v);b.push(d.add.SoLd.placed.v)}if(d.add.PtFl)_.push(d.add.PtFl.Ptrn.v.Idnt.v);
if(d.add.lmfx){for(var S=0;S<fu.VX.length;S++){var U=d.add.lmfx[fu.VX[S]].v;for(var r=0;r<U.length;r++)if(U[r].v.Ptrn){var q=U[r].v;
if(q.classID=="FrFX"&&q.PntT.v.FrFl!="Ptrn")continue;_.push(q.Ptrn.v.Idnt.v)}}}var w=d.add.vstk;if(w&&w.strokeStyleContent.v.classID=="patternLayer"){_.push(w.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var X=Z.add.lnk2,Q=Z.add.FEid,c=Z.add.Patt;
if(X){u=[];for(var l=0;l<X.length;l++)if(F.indexOf(X[l].uz)!=-1)u.push(X[l]);if(u.length==0)u=null}if(Q){n=[];
for(var l=0;l<Q.length;l++)if(b.indexOf(Q[l].id)!=-1)n.push(Q[l]);if(n.length==0)n=null}if(c){k=[];for(var l=0;
l<c.length;l++)if(_.indexOf(c[l].id)!=-1)k.push(c[l]);if(k.length==0)k=null}return[u,n,k]};aH.prototype.aX=function(){var e=this.LE,Z=this.LE.length;
if(Z!=0&&e[Z-1].name=="Quick Mask")return e[Z-1]};aH.prototype.bp=function(){return this.Gg==ch.Oa("% |/!)")||this.Gg==ch.eL("gP")};
aH.prototype.zL=function(e){var Z=this.add.artd;if(e!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:e},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};aH.prototype.zp=function(e){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(e)==-1)this.add.FEid.push(e)};
aH.prototype.Wq=function(e){var Z=this.add.FEid.indexOf(e);this.add.FEid.splice(Z,1);if(this.add.FEid.length==0)delete this.add.FEid};
aH.prototype.G=function(e){if(e==null)e=new e3(0,0,this.w,this._);if(this.D0==null)this.D0=e;else this.D0=this.D0.Us(e)};
aH.prototype.aie=function(e){return this.D0!=null};aH.prototype.YF=function(e){var Z=this.g[e],F=this.root.OV(e);
if(F==null)return!1;if(Z.yx()||F.parent.children.indexOf(F)==0)return!1;return!0};aH.amS=function(e){if(e.add.lnk2)for(var l=0;
l<e.add.lnk2.length;l++){var Z=e.add.lnk2[l].uz;e.add.lnk2[l].uz=aH.cG()+Z.slice(8);for(var F=0;F<e.g.length;
F++){var b=e.g[F].add.SoLd;if(b&&b.Idnt.v==Z)b.Idnt.v=e.add.lnk2[l].uz}}};aH.prototype.Ze=function(e,Z,F){e.sort(function(X,Q){return X-Q});
var top=e[e.length-1],b=this.g.slice(0),_=this.V.slice(0),d=[],S=[];for(var l=0;l<this.g.length;l++){if(e.indexOf(l)!=-1)S.push(this.g[l]);
else d.push(this.g[l])}this.ed(S);this.V=[];var U=this.root.jK(this,!0);if(Z)U=U.QP(Z);if(F)U=U.Us(F);
if(U.BJ())U=new e3(0,0,100,100);var r=new e3(-U.x,-U.y,this.w,this._),q=new Uint8Array(fg.H_("PSD").ng(this,0,0,[!0,!1]));
this.ed(b);this.V=_;var w=new aH(this.g[top].getName());fg.H_("PSD").Fx(q.buffer,w);delete w.add.artd;
w.sP=[];w.ed(w.g);w.p$([[],[]]);aH.amS(w);i.Za.yi(w,U);w.G();w.Om();w.zB();return[w,U,d,top]};aH.prototype.SU=function(e,Z,F){var b=this.Ze(e),_=b[0],d=b[1],S=b[2],top=b[3],U;
if(F=="jpg")U=new Uint8Array(fg.H_("JPG").ng([[_.zB().buffer]],_.w,_._,[80]));else U=new Uint8Array(fg.H_("PSD").ng(_,null,null,[!0,!1]));
if(Z)S=this.g.slice(0);var r=this.mr(U,_.name,d.x,d.y);if(top==this.g.length-1)S.push(r);else S.splice(Z?top+1:top-e.length+1,0,r);
this.ed(S);this.V=[S.indexOf(r)]};aH.cG=function(e){if(e==null)e="";var Z="";while(Z==e){Z="";for(var l=0;
l<8;l++)Z+=Math.floor(Math.random()*16).toString(16)}return Z};aH.prototype.H7=function(e){if(e==null)return;
if(this.add.Patt==null)this.add.Patt=[];var Z=this.add.Patt;for(var l=0;l<Z.length;l++)if(Z[l].id==e.id)return;
Z.push(e)};aH.prototype.mr=function(e,Z,F,b,_){if(this.add.lnk2==null)this.add.lnk2=[];var d=null,X=!1;
for(var l=0;l<this.add.lnk2.length;l++)if(V.Tn(e,this.add.lnk2[l].raw)){d=this.add.lnk2[l].uz;break}if(d==null){var S=fg.zV(e.buffer);
d=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f";var U=new g.Bn;U.uz=d;U.uM=S=="psd"?"8BIM":"    ";U.Iv=Z+"."+S;
U.QL=S=="psd"?"8BPB":"    ";U.open=0;U.raw=e;U.type="liFD";U.S_=2;this.add.lnk2.push(U)}var r=this.qG(d),q=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f",w=this.yG();
w.Hr(Z);if(r!=null){var Q=0,c=0,u=this.w,n=this._;if(_){Q=_.x;c=_.y;u=_.w;n=_._}var k=w.rect=r.Sa[1].clone();
k.offset(Q+F,c+b);var B=Math.max(k.w/u,k._/n),X=_!=null&&B>1.0001;if(X){k.w=Math.round(k.w/B);k._=Math.round(k._/B);
k.x=Math.round(Q+(u-k.w)/2);k.y=Math.round(c+(n-k._)/2)}else if(_!=null&&fg.zV(e.buffer)=="pdf"&&this.Cr!=144){var B=144/this.Cr;
k.w=Math.round(k.w/B);k._=Math.round(k._/B);X=!0}w.buffer=V.J(k.Z()*4);if(!X)V.Fk(r.Sa[0],w.buffer)}w.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:d},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:q},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:V.YY.J(r?r.Sa[1]:w.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:w.rect.w},Hght:{t:"doub",v:w.rect._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var o=V.H.gb(w.rect).s;w.add.SoLd.Trnf=i.Q.t1(o);w.add.SoLd.nonAffineTransform=i.Q.t1(o);if(X)w.gV(this,!1);
return w};aH.prototype.zB=function(e){if(e!=null){this.G();this.Om(e);var Z=this.buffer;if(E.P7)this.Ym.get(Z);
else Z=Z.slice(0);this.G();this.Om();return Z}if(this.D0){this.Om();this.D0=null}if(E.P7&&this.yJ){this.Ym.get(this.buffer);
this.yJ=null;this.Zc=!0}return this.buffer};aH.prototype.aI=function(){for(var l=0;l<this.g.length;l++)this.g[l]._0();
this.G()};aH.prototype.Vc=function(){for(var l=0;l<this.g.length;l++)if(this.g[l].add.lmfx)this.g[l].xP.XI=!0};
aH.prototype.Jo=function(){var e=this.bY.r1044;if(e==null){e=this.bY.r1044=new Uint8Array(4);var Z=0;
for(var l=0;l<this.g.length;l++)Z=Math.max(Z,this.g[l].add.lyid);s.ho(e,0,Z)}var F=s.l(e,0);s.ho(e,0,F+1);
return F+1};aH.prototype.gy=function(e,Z,F){if(e==null)e=!0;var b=this;if(b.kl.length!=0)return!0;if(b.V.length!=1){if(e)alert(b.V.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.m6(e,Z,F)};aH.prototype.m6=function(e,Z,F){if(e==null)e=!0;if(Z==null)Z=!1;var b=this;
if(b.kl.length!=0)return!0;for(var l=0;l<b.V.length;l++){var _=b.g[b.V[l]],d=Z||_.WA<=0;if(_.add.lsct!=null&&_.add.lsct!=jj.MH&&_.WA!=1){if(e)alert(gA.get([15,7,2]));
return!1}if(d&&!_.nJ()){if(e)alert(gA.get([15,7,2]));return!1}if(d&&_.add.TySh){return this.hk(e,[15,7,3],F)}if(d&&_.add.SoLd){return this.hk(e,[15,7,4],F)}if(_.oT(1)||_.oT(31)){if(e)alert(gA.get([6,57,0]));
return!1}}return!0};aH.prototype.hk=function(e,Z,F){if(e&&typeof e=="object"){var b=window.confirm(gA.get(Z)+". "+gA.get([6,8])+"?");
if(b){var _=new j8(G.E.GT,!0);_.data={qg:"rasterizeLayer",ni:{classID:"rasterizeLayer",null:dz.vz("Lyr",!0)}};
e.$(_)}return F?b:!1}if(e)alert(gA.get(Z));return!1};aH.prototype.jm=function(e){var Z=this.root.OV(e);
if(Z.parent)return Z.i.ir()&&this.jm(Z.parent.index);else return Z.i.ir()};aH.prototype.eZ=function(){var e=this;
if(e.add.artd&&e.V.length!=0){var Z=e.root.OV(e.V[0]);while(Z.parent.parent)Z=Z.parent;if(Z.i.add.artb)return Z.index}return-1};
aH.prototype.cf=function(){var e=this.g[this.V[0]];if(e.WA<=0&&!e.rect.iP(this.K.rect)){alert("Selected area is empty.");
return!1}if(this.V.length==1&&this.K){var Z=V.J(this.K.channel.length);V.MT(e.buffer,e.rect,Z,this.K.rect);
V.vd(this.K.channel,Z);if(V.ZK(Z,0)){alert("Selected area is empty.");return!1}}return!0};aH.prototype.Kv=function(){if(this.bY["r"+1037]==null)this.Ri(30);
return s.ft(this.bY["r"+1037],0)};aH.prototype.Ri=function(e){if(this.bY["r"+1037]==null)this.bY["r"+1037]=new Uint8Array(4);
if(s.ft(this.bY["r"+1037],0)==e)return;s.iz(this.bY["r"+1037],0,e);this.Vc()};aH.prototype.Bt=function(){if(this.bY["r"+1049]==null)this.qQ(30);
return s.ft(this.bY["r"+1049],0)};aH.prototype.qQ=function(e){if(this.bY["r"+1049]==null)this.bY["r"+1049]=new Uint8Array(4);
if(s.ft(this.bY["r"+1049],0)==e)return;s.iz(this.bY["r"+1049],0,e);this.Vc()};aH.prototype.mI=function(e){if(this.add.lnk2==null)return null;
for(var l=0;l<this.add.lnk2.length;l++)if(this.add.lnk2[l].uz==e)return this.add.lnk2[l];return null};
aH.prototype.a8W=function(e){var Z=this.mI(e);if(Z==null)return!1;var F=fg.zV(Z.raw.buffer);if(F==null)return!1;
if(fg.H_(F)!=null||F=="psd")return!0;return!1};aH.prototype.qG=function(e,Z,F,b){var _=this.mI(e);if(_==null)return null;
_.zB(Z,F,b);if(_.Sa)return _};aH.prototype.Xf=function(){var e=this.w,Z=this._;if(E.P7&&this.Ym==null)this.Ym=new E.xV(e,Z,!0);
if(this.buffer==null||this.buffer.length!=e*Z*4||E.P7&&(this.Ym.w!=e||this.Ym._!=Z)){this.buffer=V.J(e*Z*4);
if(this.Ym)this.Ym.delete();if(E.P7)this.Ym=new E.xV(e,Z,!0)}};aH.prototype.a0R=function(){this.Xf();
if(E.P7){this.Ym.set(this.buffer)}};aH.prototype.Om=function(e){var Z=this.w,F=this._,b=new e3(0,0,Z,F),_=b.QP(this.D0);
this.Xf();if(_.BJ())return;if(!_.Tn(b)){if(!E.P7){var d=V.eJ(_.Z()*4);V.Rf(d,_,this.buffer,b)}if(E.P7){E.vN(this.Ym,_);
E.fm(0)}}else{if(E.P7){this.Ym.set(null)}else{this.buffer.fill(0)}}var S=Date.now(),U=E.P7?this.Ym:this.buffer;
if(e==null)e=1e9;var r=this.root.children;for(var l=0;l<r.length;l++){var q=r[l].i;if(q.ir()&&q.add.artb){var w=q.iU(),X=_.QP(w),Q=q.om();
if(Q!=0){if(E.P7){E.vN(U,X);E.fm(Q);E.fm(Q)}else V.aqJ(U,b,X,Q)}}}this.root.EU(U,b,_,this,[],e);this.yJ=this.D0.clone()};
aH.prototype.yG=function(e){var Z=new g;Z.rect=new e3(0,0,0,0);Z.buffer=V.J(1);Z.add.luni=new bI(0,0);
if(e!=!0)Z.add.lyid=this.Jo();Z.add.lsct=jj.MH;Z.add.lclr=0;Z.add.fxrp=new bI(0,0);return Z};aH.prototype.vs=function(e){var Z=this.yG(e);
Z.Hr("</Layer group>");Z.add.lsct=jj.Hx;Z.jj=24;return Z};aH.prototype.yL=function(){return this.Ti!=this.ui};
aH.prototype.XM=function(e){while(this.history.length>this.Ti+1)this.history.pop();if(this.ui>this.Ti)this.ui=-1;
if(e.k.id!=i.p4){this.fv=!0;if(this.hn.lastAppliedComp){delete this.hn.lastAppliedComp;this.Zc=!0}}this.history.push(e);
this.Ti++;this.Zc=!0;var Z=hx.RL()?60:30,F=0;for(var l=this.history.length-1;l>=0;l--){var b=this.history[l];
if(b.bg)continue;F++;if(F==Z){this.Ti-=l;this.history=this.history.slice(l);break}}};aH.prototype.Yj=function(){if(this.Ti!=this.history.length-1)return null;
return this.history[this.history.length-1]};aH.prototype.V9=function(e,Z,F,b){if(e==null)e=!1;var _=Z!=null?[Z]:this.V.slice(0);
if(b){var d=[];for(var l=0;l<_.length;l++){var S=this.g[_[l]],U=S.YJ;if(S.rP&&U!=0&&d.indexOf(U)==-1)d.push(U)}if(d.length!=0)for(var l=0;
l<this.g.length;l++){var S=this.g[l],U=S.YJ;if(S.rP&&U!=0&&d.indexOf(U)!=-1&&_.indexOf(l)==-1)_.push(l)}}var r=[];
for(var l=0;l<_.length;l++){var q=this.Jf(_[l],e);for(var w=0;w<q.length;w++)if(r.indexOf(q[w])==-1)r.push(q[w]);
if(F){var gi=this.root.OV(_[l]);while(gi.parent!=null&&gi.parent.parent!=null){gi=gi.parent;if(r.indexOf(gi.index)==-1){r.push(gi.index,gi.bF)}}}}return r};
aH.prototype.fb=function(e,Z,F){var b=this,_=b.V9(!1,e,null,F);_.sort(function(T,z){return T-z});var d={};
for(var S=0;S<b.g.length;S++){var U=b.g[S].getName();d[U]=!0}var r=[];for(var l=0;l<_.length;l++){var q=b.g[_[l]].clone(),k,B;
q.add.lyid=b.Jo();q.add.lspf=0;if(q.bR()){var w=q.EB(b),X=aH.JH(w);b.zp(X);q.add.SoLd.placed.v=X.id}else if(q.add.SoLd){var Q=q.add.SoLd.placed.v;
q.add.SoLd.placed.v=aH.cG(Q.slice(0,8))+Q.slice(8)}q.kJ(b);var c=q.getName(),u=c.length;while(48<=c.charCodeAt(u-1)&&c.charCodeAt(u-1)<=57)u--;
var n=parseInt(c.slice(u));if(isNaN(n)){if(c.endsWith(" copy")){n=1;k=c.slice(0,c.length-5)}else{n=0;
k=c}}else if(c.slice(0,u).endsWith(" copy ")){n=n;k=c.slice(0,u-6)}else{n=0;k=c}n++;while(!0){B=k+" copy"+(n==1?"":" "+n);
if(d[B]==null)break;n++}var o=_.indexOf(this.root.OV(_[l]).parent.index)!=-1;if(c=="Background"&&b.g.length==1)B="Layer 1";
if(Z!=!0&&!o)q.Hr(B);d[B]=!0;r.push(q)}return r};aH.JH=function(e){return{id:aH.cG(e.id.slice(0,8))+e.id.slice(8),buffer:e.buffer.slice(0),rect:e.rect.clone(),v:e.v?e.v.clone():null}};
aH.Jx=function(e){return{id:e,rect:new e3,buffer:V.J(1),v:new g.hW}};aH.o7=function(e,Z){if(Z==null)Z={vmsk:new g.NX};
if(Z.vogk==null){Z.vogk=[];var F=V.c.q$(Z.vmsk.T);for(var b=0;b<F;b++)Z.vogk.push(V.$F.eJ())}return{name:e,wD:0,add:Z}};
aH.prototype.GJ=function(e){var Z=[],F=[],b=this,d=0;for(var l=1;l<b.Tl.length;l++){var _=b.Tl[l];_.wD=-1-l;
Z.push(_);if(b.YN.indexOf(l)!=-1)F.push(Z.length-1)}if(b.Tl[0].add.vmsk.T.length>2){var _=b.Tl[0];_.wD=-1;
Z.push(_);if(b.YN.indexOf(0)!=-1)F.push(Z.length-1)}var S=b.sQ==null;if(S)b.sQ=[];for(var l=b.V.length-1;
l>=0;l--){var U=b.g[b.V[l]],r=U.add.TySh;if(U.add.vmsk!=null&&(U.c7||U._l())){var _=aH.o7("\""+U.getName()+"\" Shape Path",U.add);
_.wD=b.V[l];Z.push(_);if(S)b.sQ.push(d);if(b.sQ.indexOf(d)!=-1)F.push(Z.length-1);d++}if(e!=!0&&r&&r.add&&V.YY.k2(r.mw)){var _=aH.o7("\""+U.getName().slice(0,10)+"..\" Text Path",r.add);
_.wD=1e6+b.V[l];Z.push(_);F.push(Z.length-1);d++}}if(F.length==0&&e){b.Tl[0].wD=-1;b.YN=[0];F.push(Z.length);
Z.push(b.Tl[0])}return[Z,F]};aH.prototype.Jf=function(l,e){var Z=[],gi=this.root.OV(l);if(gi)gi.zM(Z,e);
return Z};aH.prototype.Di=function(){this.root.Bk(this,new e3(0,0,this.w,this._),32*i.F())};aH.prototype.ed=function(e){for(var l=0;
l<this.g.length;l++){var Z=this.g[l];if(e.indexOf(Z)==-1){Z.xP.ab$();Z.G()}}var F=0;for(var l=0;l<e.length;
l++)if(e[l].add.artb)F++;this.zL(F);this.g=e.slice(0);this.FZ()};aH.prototype.FZ=function(){var e=this.g,Z=e.length;
this.root=new ik;var F=this.yG(!0);F.Du="pass";F.add.lsct=jj.$R;var b=this.vs(!0),_=[b];for(var l=0;
l<Z;l++)_.push(e[l]);_.push(F);this.root.TJ(_,0,0);if(this.V.length==0)this.V=[Z-1]};aH.prototype.$f=function(){if(this.V.length!=1)return;
var e=this.root.OV(this.V[0]);while(e.parent!=null){var Z=e.parent.i;Z.add.lsct=jj.$R;e=e.parent}this.sp=this.a4w=!0};
aH.prototype.abM=function(){this.FZ();var e=[this.root],hr=0;while(e.length!=0){var top=e.pop();hr++;
if(top.i.add.lsct==jj.$R)for(var l=0;l<top.children.length;l++)e.push(top.children[l])}if(hr>1e3){var Z=this.root.children;
for(var l=0;l<Z.length;l++)if(Z[l].i.add.lsct==jj.$R)Z[l].i.add.lsct=jj.ZU}};aH.yQ=function(e,Z,F,b,_,d,S){var U={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:b},artboard:{t:"bool",v:d},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:e}},Hght:{t:"UntF",v:{type:"#Rlt",val:Z}},Rslt:{t:"UntF",v:{type:"#Rsl",val:F}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:_}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
if(_=="Clr")U.Nw.v.FlCl={t:"Objc",v:S};return{qg:"make",ni:U}};aH.an$=function(e,Z){var F=0,b=0,_=72,d=Z.aas,S=e.preset&&e.preset.v=="Clipboard";
if(S){F=d.w;b=d._}else{F=e.Wdth.v.val;b=e.Hght.v.val;_=e.Rslt.v.val}var U=new aH((e.Nm?e.Nm.v:gA.get([11,7]))+".psd");
U.w=F;U._=b;U.Cr=_;var r=e.Fl?e.Fl.v.Fl:"Wht";if(e.artboard&&e.artboard.v){var q=U.yG();q.Hr("Artboard 1");
q.add.lsct=jj.$R;q.bc(new e3(0,0,F,b));q.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[r]};
if(r=="Clr")q.add.artb.Clr={t:"Objc",v:V.X.Q9(V.X.Gb(e.FlCl.v))};q.Du="pass";q.jj=24;var w=U.yG();w.Hr("Layer 1");
U.ed([U.vs(),w,q]);U.zL(1);U.V=[1]}else{var X=U.yG(),Q=0;X.Hr("Background");U.ed([X]);X.add.lspf=1<<2;
if(r=="Clr"){Q=V.X.Gb(e.FlCl.v);Q=255<<24|Math.round(Q.S)<<16|Math.round(Q.z)<<8|Math.round(Q.o)}else{var c=Z.ZE;
c=(c&255)<<16|(c>>>8&255)<<8|c>>>16;Q={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|c}[r]}X.rect=new e3(0,0,F,b);
X.buffer=V.J(F*b*4);V.oi(X.buffer,Q)}U.buffer=V.J(F*b*4);return U};function hg(e){this.Bm=e;this.e=0;
this.oX=1;this.r=new bI(0,0);this.vQ=new bI(0,0);this.wQ=0;this.$v=[1,1,1];this.JS=new e3(0,0,1,1);this.ade=new e3(0,0,e.w,e._);
this.M1=null;this.iS=null;this.aM=new Uint32Array(0);this.O0=null;this.nv=null;this.l_=V.J(0);this.Kg=null;
this.dy=null}hg.prototype.gu=function(e){var Z=new jg,F=this.JS,b=this.Bm,_=e?this.oX:this.e,d=e?this.vQ:this.r,S=Math.round((F.w-b.w*_)/2+d.x),U=Math.round((F._-b._*_)/2+d.y);
Z.translate(-S,-U);Z.scale(1/_,1/_);var r=b.w/2,q=b._/2;Z.translate(-r,-q);Z.rotate(this.wQ);Z.translate(r,q);
return Z};hg.prototype.me=function(e){var Z=this.JS,F=this.Bm,b=Math.atan2(-e.S,e.Y0),_=F.w/2,d=F._/2;
e.translate(-_,-d);e.rotate(-b);e.translate(_,d);var S=1/e.YE();e.scale(S,S);var U=-e.lr,r=-e.Xz,q=Math.round(U-(Z.w-F.w*S)/2),w=Math.round(r-(Z._-F._*S)/2);
if(Math.abs(S-Math.round(S))<1e-6)S=Math.round(S);this.wQ=b;this.e=S;this.r=new bI(q,w)};hg.prototype.mG=function(e,Z){var F=this.gu();
return F.rS(new bI(e,Z))};hg.prototype.Td=function(e,Z){var F=this.gu();F.eG();return F.rS(new bI(e,Z))};
function fu(){}fu.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");fu.VX="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
fu.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];fu.Ph=["DrSh","IrSh","SoFi","GrFl","FrFX"];
fu.On=["Clr"];fu.So="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");fu.p6=["Ptrn","Angl","Scl","Algn","phase"];
fu.Jr={t8:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",mz:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",CL:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",xn:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",eu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
fu.Jr.t8="\"Clr\": "+fu.Jr.t8;fu.Jr.X="\"Grad\":"+fu.Jr.mz+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
fu.Jr.eu="\"Ptrn\":"+fu.Jr.eu+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
fu.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
fu.qx=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+fu.Jr.t8+","+fu.Jr.X+","+fu.Jr.eu+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fu.Jr.t8+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fu.Jr.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fu.Jr.eu+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
fu.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
fu.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],MG:["SClr","GrFl","Ptrn"],a4S:[[13,0],[12,37],[12,62]]};
fu.Mh={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],CK:["SrcC","SrcE"],arD:[[19,5,1],[12,69]]};fu.M$={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],qs:["SfBL","PrBL","Slmt"],a5i:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
fu.jA={H9:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],ej:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],BY:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+fu.Jr.t8+"}")},strokeStyleResolution:{t:"doub",v:72}}};
fu.hV=[{classID:"null",Clr:JSON.parse(fu.qx[5]).Clr},{classID:"null",Grad:JSON.parse(fu.qx[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(fu.qx[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var d4={};d4.dr=function(e,Z){function F(e,Q){if(e==null)return null;var c=e[Q].v,u;if(c.length!=0){u=c[0].v;
if(!u.enab.v)u=null}return u}var b=Z.SoCo,_=Z.GdFl,d=F(e,"solidFillMulti"),S=F(e,"gradientFillMulti");
if(d==null&&S==null)return[b,_];var U=d4.ajy;if(b&&d&&S==null){var r=JSON.parse(JSON.stringify(b));r.Clr.v=U(d.Clr.v,b.Clr.v,d);
return[r,null]}if(_&&d&&S==null){var q=JSON.parse(JSON.stringify(_)),w=q.Grad.v.Clrs.v;for(var l=0;l<w.length;
l++){var X=w[l].v.Clr;X.v=U(d.Clr.v,X.v,d)}return[null,q]}if(b&&S){var q=JSON.parse(JSON.stringify(S)),w=q.Grad.v.Clrs.v;
for(var l=0;l<w.length;l++){var X=w[l].v.Clr;X.v=U(X.v,b.Clr.v,S)}return[null,q]}return[d,S]};d4.ans={AG:V.J(4),oZ:V.J(4),o:new e3(0,0,1,1)};
d4.ajy=function(e,Z,F){var b=ae.Pp(F.Md.v.BlnM),_=F.Opct.v.val/100,d=d4.ans;e=V.X.Gb(e);Z=V.X.Gb(Z);
d.AG[0]=e.o;d.AG[1]=e.z;d.AG[2]=e.S;d.AG[3]=255;d.oZ[0]=Z.o;d.oZ[1]=Z.z;d.oZ[2]=Z.S;d.oZ[3]=255;V.a.sB(b,d.AG,d.o,d.oZ,d.o,d.o,_);
return{classID:"RGBC",Rd:{t:"doub",v:d.oZ[0]},Grn:{t:"doub",v:d.oZ[1]},Bl:{t:"doub",v:d.oZ[2]}}};d4.Pc=function(e,Z,F){var b=e;
e=e.slice(0);var _=ae.Qd[ae.KU.indexOf(Z.Md.v.BlnM)],d=V.X.Gb(Z.Clr.v),S=4278190080|Math.round(d.S)<<16|Math.round(d.z)<<8|Math.round(d.o),U=V.J(F.Z()*4);
V.oi(U,S);V.a.sB(_,U,F,e,F,F,Z.Opct.v.val/100);for(var l=0;l<e.length;l+=4)e[l+3]=b[l+3];return e};d4.Q1=function(e,Z){var F=["Sz","blur","Sftn","Dstn"];
for(var l=0;l<fu.order.length;l++){var b=fu.order[l],_=e[fu.VX[l]].v;for(var d=0;d<_.length;d++){var S=_[d].v;
for(var U=0;U<F.length;U++){var r=S[F[U]];if(r){var q=r.v.val,w=q;w=Math.max(q==0?0:1,w*Z);if(b=="ChFX")w=Math.min(w,250);
if(b=="ebbl"){if(F[U]=="blur")w=Math.min(w,250);if(F[U]=="Sftn")w=Math.min(w,16)}r.v.val=Math.round(w)}}if(b=="ebbl"||b=="patternFill"||b=="FrFX")if(S.Ptrn&&S.Scl)S.Scl.v.val=Math.max(1,Math.min(1e3,S.Scl.v.val*Z))}}};
d4.a9L=function(e,Z,F){var b=new e3(-.5,-.5,1,1);for(var l=0;l<fu.order.length;l++){var _=fu.order[l],d=e[fu.VX[l]].v;
for(var S=0;S<d.length;S++){var U=d[S].v,X;if(!U.enab.v)continue;var r=U.blur?U.blur.v.val+1:0,q=U.Ckmt?U.Ckmt.v.val/100:0,w=Math.round(r*q);
if(_=="DrSh"||_=="IrSh"&&F){X=new e3(-.5,-.5,1,1);X.qN(r,r);d4.GS(X,U,Z,0)}if(_=="OrGl"||_=="IrGl"&&F){X=new e3(-.5,-.5,1,1);
X.qN(r,r)}if(_=="FrFX"){var Q=d4.tk(U),c=Q[1];if(F)c=Math.max(Q[0],c);X=new e3(-.5,-.5,1,1);X.qN(Math.ceil(c),Math.ceil(c))}if(_=="ebbl"){var r=U.blur.v.val,u=U.bvlS.v.BESl;
if(u=="Embs"||u=="PlEb")r/=2;var n=["OtrB","InrB","Embs","PlEb","strokeEmboss"],k=["SfBL","PrBL","Slmt"],B=["In","Out"],o=U.bvlT.v.bvlT!="SfBL"?r:r*.43,T=Math.round(r);
X=new e3(-T-1,-T-1,2*T+2,2*T+2)}if(F&&_=="ChFX"){X=new e3(-.5,-.5,1,1);X.qN(r,r);var z=X.clone();d4.GS(X,U,Z,0);
d4.GS(z,U,Z,Math.PI);X=X.Us(z)}if(X)b=b.Us(X)}}if(b.x!=Math.ceil(b.x)){b.x=Math.ceil(b.x);b.w-=1}if(b.y!=Math.ceil(b.y)){b.y=Math.ceil(b.y);
b._-=1}b.w=Math.floor(b.w);b._=Math.floor(b._);return b};d4.tk=function(e){var Z=0,F=0,b=e.Styl.v.FStl,_=e.Sz.v.val;
if(b=="OutF")F=_;if(b=="InsF")Z=_;if(b=="CtrF")Z=F=_/2;return[Z,F]};d4.ae0=function(e){if(E.P7&&e.BE==null){e.BE=new E.xV(e.Od.w,e.Od._);
e.BE.set(e.XT);delete e.XT;if(e.Mp){e.g2=new E.$M(e.Od.w,e.Od._);e.g2.set(e.Mp);delete e.Mp}if(e.zg){e.py=new E.$M(e.Od.w,e.Od._);
e.py.set(e.zg);delete e.zg}}};d4.adz=function(e){if(e.BE)e.BE.delete();if(e.g2)e.g2.delete();if(e.py)e.py.delete()};
d4._$=function(e){if(e.all==null)return;for(var l=0;l<e.all.length;l++){d4.adz(e.all[l])}};d4.ajK=function(e,Z,F,b,_,d){var S=d4._e(F,b,e,Z,_,d);
for(var l=0;l<S.all.length;l++)d4.ae0(S.all[l]);return S};d4.a90=function(e){for(var l=0;l<fu.order.length;
l++){var Z=fu.order[l],F=fu.VX[l],b=e[F].v;for(var _=0;_<b.length;_++){var d=b[_].v;if(d.enab.v&&["patternFill","GrFl","SoFi"].indexOf(Z)==-1)return!0}}return!1};
d4._e=function(e,Z,F,b,_,d){if(d==null)d=b;var S=0,U=0;for(var l=0;l<fu.order.length;l++){var r=fu.order[l],q=fu.VX[l],w=e[q].v;
for(var X=0;X<w.length;X++){var Q=w[X].v;if(r=="DrSh"&&Q.enab.v&&Q.Ckmt.v.val>0&&Q.blur.v.val>0)S=Math.max(S,Math.ceil(Q.Ckmt.v.val*Q.blur.v.val/100));
if(r=="OrGl"&&Q.enab.v&&Q.Ckmt.v.val>0&&Q.blur.v.val>0&&Q.GlwT.v.BETE=="SfBL")S=Math.max(S,Math.ceil(Q.Ckmt.v.val*Q.blur.v.val/100));
if(r=="OrGl"&&Q.enab.v&&Q.blur.v.val>0&&Q.GlwT.v.BETE=="PrBL")S=Math.max(S,Q.blur.v.val);if(r=="FrFX"&&Q.enab.v&&Q.Sz.v.val>0){if(Q.Styl.v.FStl=="OutF")S=Math.max(S,Q.Sz.v.val);
if(Q.Styl.v.FStl=="CtrF")S=Math.max(S,Math.ceil(Q.Sz.v.val/2));U=Math.max(U,d4.tk(Q)[1])}}}var c=new d4.bJ(F,b,S,d4.a90(e)),u=-b.x,n=-b.y,k={type:{},all:[]};
for(var B=0;B<fu.order.length;B++){var r=fu.order[B],q=fu.VX[B];k.type[r]=[];for(var o=e[q].v.length-1;
o>=0;o--){var T=e[q].v[o].v,R;if(!T.enab.v)continue;var z=T.blur?T.blur.v.val:0,W=T.Ckmt?T.Ckmt.v.val/100:0,$=z*W;
if(r=="DrSh"){var P=c.Gx($,z-$,!0),H=P.Tm,h=P.uT;h.offset(u,n);d4.pS(H,T,!1);d4.GS(h,T,_,0);var m=V.J(h.Z()*4);
d4.RC(m,T.Clr.v);V.s$(H,m,3);R={XT:m,Od:h,a9k:T.layerConceals.v}}else if(r=="IrSh"){var P=c.Gx($,z-$,!1);
d4.GS(P.uT,T,_,0);var h=c.rect().clone(),H=V.J(h.Z());H.fill(255);V.l2(P.Tm,P.uT,H,h);d4.pS(H,T,!0);
var m=V.J(h.Z()*4);d4.RC(m,T.Clr.v);V.s$(H,m,3);h.offset(u,n);R={XT:m,Od:h}}else if(r=="GrFl"){var m=V.J(c.rect().Z()*4);
d4.mN(T,m,c.rect(),_,null,d);var h=c.rect().clone();h.offset(u,n);R={XT:m,Od:h}}else if(r=="SoFi"){var m=V.J(c.Tm().length*4);
d4.RC(m,T.Clr.v);var h=c.rect().clone();h.offset(u,n);R={XT:m,Od:h}}else if(r=="ebbl"){var t=!1;if(t)console.log(T);
var j=Date.now(),x=T.bvlS.v.BESl;if(x=="strokeEmboss"){var C=e.frameFXMulti.v;if(C.length==0)continue;
C=C[0].v;if(!C.enab.v)continue;var L=C.Styl.v.FStl;if(L=="OutF")x="OtrB";if(L=="CtrF")x="Embs";if(L=="InsF")x="InrB"}var z=T.blur.v.val;
if(z==0)z=.7;if(x=="Embs"||x=="PlEb")z/=2;var f=["OtrB","InrB","Embs","PlEb","strokeEmboss"],D=["SfBL","PrBL","Slmt"],v=["In","Out"],A=T.bvlT.v.bvlT!="SfBL"?z:z*.45,M=Math.round(z),Y=c.rect().clone(),J=Y.clone();
J.qN(M,M);var I=J.w,p=J._,a=I*p,er=V.J(a);V.l2(c.Tm(),Y,er,J);var c8=new Float64Array(a),O=new Float64Array(a);
V.style.zo(er,c8,I,p);V.eG(er);V.style.zo(er,O,I,p);if(t)console.log("distTransform computed",Date.now()-j);
for(var l=0;l<a;l++)O[l]=O[l]-c8[l];for(var l=0;l<a;l++){var dF=O[l];if(dF<-A)O[l]=-A;else if(dF>A)O[l]=A}if(t)console.log("summing + cropping",Date.now()-j);
if(T.bvlT.v.bvlT=="SfBL"){var gl=Math.pow(z*.21,1.22);if(!0)gl=Math.max(gl,2);var e0=V.OS.dC(gl,2);V.OS.yF(O,c8,J,e0[0]>>>1);
V.OS.yF(c8,O,J,e0[1]>>>1)}if(t)console.log("blurring",Date.now()-j);var bv=O,gm=bv.slice(0);if(T.useShape.v){var iW=Math.min(100,T.Inpr.v.val+1)/100;
if(x!="OtrB"&&x!="InrB")iW=1;var jx=V.AH.cD(T.MpgS.v.Crv.v,2e3),aC=Math.round(2e3/iW);jx=V.AH.ai3(jx,aC,x=="InrB");
var d9=.5/A;for(var l=0;l<a;l++){var bS=bv[l],jo=.99999*(bS+A)*d9;bv[l]=-A+2*A*jx[~~(jo*(aC-1))]}if(t)console.log("applying shape",Date.now()-j)}if(T.useTexture.v){var g7=V.J(I*p*4);
d4.sG(T,g7,J,_.add.Patt,Z);var dI=V.J(I*p);V.QE(g7,dI);var gn=V.J(I*p);V.OS.Oo(dI,gn,J,1);dI=gn;var hI=z*T.textureDepth.v.val*(1/100)*(1/255);
if(T.InvT.v)hI=-hI;for(var l=0;l<a;l++)bv[l]+=-hI*dI[l];if(t)console.log("applying texture",Date.now()-j)}var d$=(T.bvlT.v.bvlT=="SfBL"?1:.5)*(T.bvlD.v.BESs=="In"?1:-1)*T.srgR.v.val/100;
for(var l=0;l<a;l++)bv[l]*=d$;if(t)console.log("scaling",Date.now()-j);var eX=T.uglg&&T.uglg.v?_.Kv():T.lagl.v.val;
eX=eX*(Math.PI/180);var d3=T.uglg&&T.uglg.v?_.Bt():T.Lald.v.val;d3=d3*(Math.PI/180);var cJ=Math.cos(eX)*Math.cos(d3),dM=-Math.sin(eX)*Math.cos(d3),dh=Math.sin(d3),jh=new Float64Array(a),aK=new Float64Array(a),ca=x=="PlEb";
for(var iY=0;iY<p;iY++)for(var et=0;et<I;et++){var l=iY*I+et,jD=0,j6=0,dc=1;if(iY!=0&&iY!=p-1&&et!=0&&et!=I-1){var ao=bv[l-I-1],ec=bv[l-I+1],fp=bv[l+I-1],eN=bv[l+I+1];
jD=-.125*(ec+2*bv[l+1]+eN-(ao+2*bv[l-1]+fp));j6=-.125*(fp+2*bv[l+I]+eN-(ao+2*bv[l-I]+ec))}else{var ha=bv[l];
j6=-(iY==0?bv[l+I]-ha:iY==p-1?ha-bv[l-I]:.5*(bv[l+I]-bv[l-I]));jD=-(et==0?bv[l+1]-ha:et==I-1?ha-bv[l-1]:.5*(bv[l+1]-bv[l-1]))}var bJ=1/Math.sqrt(jD*jD+j6*j6+1);
jD*=bJ;j6*=bJ;dc*=bJ;var g3=jD*cJ+j6*dM+dc*dh,bL=g3;if(ca)bL=-jD*cJ-j6*dM+dc*dh;if(g3>0)jh[l]=g3;if(bL>0)aK[l]=bL}if(t)console.log("raycasting",Date.now()-j);
if(T.Sftn.v.val!=0){V.OS.BA(jh,c8,J,T.Sftn.v.val*.43);var fD=c8,c8=jh,jh=fD;if(ca){V.OS.BA(aK,c8,J,T.Sftn.v.val*.43);
var fD=c8,c8=aK,aK=fD}else V.Fk(jh,aK)}if(t)console.log("softening",Date.now()-j);var jx=V.AH.cD(T.TrnS.v.Crv.v,1024);
for(var l=0;l<a;l++){jh[l]=jx[~~(jh[l]*1024)];aK[l]=jx[~~(aK[l]*1024)]}if(t)console.log("contour remap",Date.now()-j);
I=Math.round(I);p=Math.round(p);var bF=V.J(I*p*4);d4.RC(bF,T.hglC.v);var du=V.J(I*p*4);d4.RC(du,T.sdwC.v);
var b8=V.J(I*p*4);d4.RC(b8,T.hglC.v);var jf=V.J(I*p*4);d4.RC(jf,T.sdwC.v);var c1=1/dh,eV=1/(1-dh),d9=1/A,be=new Float64Array(1e3);
for(var l=0;l<1e3;l++)be[l]=Math.pow(l*.001,.2);for(var iY=0;iY<p;iY++)for(var et=0;et<I;et++){var l=iY*I+et,fh=4*l+3,ea=0,g4=0;
ea=jh[l];g4=aK[l];var i7=Math.max(0,Math.min(.9999,(gm[l]+A*.993)*d9));i7=be[Math.floor(i7*1e3)];var de=i7*(1-Math.min(1,ea*c1)),hb=i7*(1-Math.min(1,(1-ea)*eV)),hk=i7*(1-Math.min(1,g4*c1)),e9=i7*(1-Math.min(1,(1-g4)*eV));
du[fh]=Math.round(255*de);bF[fh]=Math.round(255*hb);jf[fh]=Math.round(255*hk);b8[fh]=Math.round(255*e9)}if(t)console.log("baking textures",Date.now()-j);
J=c.rect().clone();J.qN(M,M);J.offset(u,n);R={a3A:T.bvlS.v.BESl=="strokeEmboss"};var e2=ae.Pp(T.hglM.v.BlnM),bj=T.hglO.v.val/100,e8=ae.Pp(T.sdwM.v.BlnM),bt=T.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(x)!=-1){R.Le={XT:bF,Od:J,tg:e2,Rv:bj};R.PD={XT:du,Od:J,tg:e8,Rv:bt}}if(["OtrB","Embs","PlEb"].indexOf(x)!=-1){R.C2={XT:b8,Od:J,tg:e2,Rv:bj};
R.Ml={XT:jf,Od:J,tg:e8,Rv:bt}}if(t)console.log(Date.now()-j)}else if(r=="patternFill"){var cL=c.rect(),m=V.J(cL.Z()*4);
d4.sG(T,m,cL,_.add.Patt,Z);var h=cL.clone();h.offset(u,n);R={XT:m,Od:h}}else if(r=="ChFX"){var m=V.J(c.Tm().length*4);
d4.RC(m,T.Clr.v);var z=T.blur.v.val,j2=c.rect().clone();j2.qN(z,z);var e$=V.J(j2.Z()),eI=V.J(j2.Z());
V.l2(c.Tm(),c.rect(),eI,j2);V.OS.$x(eI,e$,j2,z*.43);var fy=V.AH.CC(T.MpgS.v.Crv.v,256,!0);V.w4(e$,fy);
var jO=V.J(c.Tm().length),jR=V.J(c.Tm().length),g0=c.rect().clone();d4.GS(g0,T,_,0);V.l2(e$,j2,jO,g0);
g0=c.rect().clone();d4.GS(g0,T,_,Math.PI);V.l2(e$,j2,jR,g0);var gL=jO.length;for(var l=0;l<gL;l++)m[4*l+3]=Math.abs(jO[l]-jR[l]);
if(T.Invr.v)for(var l=0;l<gL;l++)m[4*l+3]=255-m[4*l+3];var h=c.rect().clone();h.offset(u,n);R={XT:m,Od:h}}else if(r=="OrGl"){var P;
if(T.GlwT.v.BETE=="SfBL")P=c.Gx($,z-$,!0);else P=c.a0r(z,W,!0);var H=P.Tm,h=P.uT,cy=H.slice(0);d4.agF(H,T);
var m=V.J(h.Z()*4);if(T.Grad==null){d4.RC(m,T.Clr.v);d4.pS(H,T,!1)}else{d4.pS(H,T,null);var cP={Fi:H,uv:255,aO:0,P9:h};
d4.mN(T,m,h,_,cP);var cn=T.Nose.v.val/100,aJ=h.w;for(var l=0;l<cy.length;l++){var iR=255,gj=cy[l];if(gj<32){var cZ=(gj+cy[l-1]+cy[l+1]+cy[l-aJ]+cy[l+aJ])*.2-1;
iR=Math.min(255,Math.round(Math.max(0,cZ)*8))}H[l]=iR}d4.atr(H,T)}V.s$(H,m,3);h.offset(u,n);R={XT:m,Od:h}}else if(r=="IrGl"){var P;
if(T.GlwT.v.BETE=="SfBL")P=c.Gx($,z-$,!1);else P=c.a0r(z,W,!1);var H=P.Tm,h=P.uT;d4.agF(H,T);if(T.glwS.v.IGSr=="SrcC")V.eG(H);
var m=V.J(h.Z()*4);if(T.Grad==null){d4.RC(m,T.Clr.v);d4.pS(H,T,!0)}else{d4.pS(H,T,null);var cP={Fi:H,uv:255,aO:0,P9:h};
d4.mN(T,m,h,_,cP);H.fill(255);d4.atr(H,T)}V.s$(H,m,3);h.offset(u,n);R={XT:m,Od:h}}else if(r=="FrFX"){var dp=d4.tk(T),f0=dp[0],g1=dp[1],h=c.rect().clone(),aV=null,az=null;
h.qN(Math.ceil(U),Math.ceil(U));if(g1>0){var P=c.Gx(g1,0,!0);az=P.Tm;if(az.length<h.Z()){az=V.J(h.Z());
V.l2(P.Tm,P.uT,az,h)}}if(f0>0){var P=c.Gx(f0,0,!1);aV=V.J(h.Z());aV.fill(255);V.l2(P.Tm,P.uT,aV,h)}h.offset(u,n);
var m=V.J(h.Z()*4),c0=T.PntT.v.FrFl;if(c0=="SClr")d4.RC(m,T.Clr.v);if(c0=="GrFl")d4.mN(T,m,h,_,c.a91(f0,g1));
if(c0=="Ptrn")d4.sG(T,m,h,_.add.Patt,Z);R={XT:m,Od:h,zg:az,Mp:aV}}k.type[r].push(R);if(r=="ebbl"){if(R.Le)k.all.push(R.Le,R.PD);
if(R.C2)k.all.push(R.C2,R.Ml)}else{R.tg=ae.Pp(T.Md.v.BlnM);R.Rv=T.Opct.v.val/100,k.all.push(R)}}}return k};
d4.AB=function(e){var Z=1/Math.sqrt(e.x*e.x+e.y*e.y+e.QF*e.QF);e.x*=Z;e.y*=Z;e.QF*=Z};d4.acJ=function(e,Z){return{x:e.y*Z.QF-e.QF*Z.y,y:e.QF*Z.x-e.x*Z.QF,QF:e.x*Z.y-e.y*Z.x}};
d4.aui=function(e,Z){return e.x*Z.x+e.y*Z.y+e.QF*Z.QF};d4.atr=function(e,Z){var F=Z.Nose.v.val/100;if(F>0)for(var l=0;
l<e.length;l++){var b=e[l];b=Math.min(510-(1+F)*V.style.QO(l),b);e[l]=b}};d4.mO=function(e){var Z=d4.ck(),F=e.kz,b=!1;
for(var l=0;l<32;l+=8)if(F[l]+F[l+1]+F[l+4]+F[l+5]!=0||F[l+2]+F[l+3]+F[l+6]+F[l+7]!=1020)b=!0;if(b){F=F.slice(0);
for(var l=0;l<40;l+=4){var _=F[l]/255,d=F[l+1]/255,S=F[l+2]/255,U=F[l+3]/255;F[l]=_-.001;F[l+1]=_==d?1e6:1/(d-_);
F[l+2]=S==U?-1e6:1/(S-U);F[l+3]=U+.001}}var r=e.add.iOpa!=null?e.add.iOpa/255:Z.fill,q=e.add.vstk;if(q&&!q.fillEnabled.v&&(!q.strokeEnabled.v||q.strokeStyleLineWidth.v.val==0))r=0;
return{fill:r,lm:b?F:null,Vy:e.add.brst!=null?e.add.brst:Z.Vy,adh:e.add.knko!=null?e.add.knko:Z.adh,style:!1,FA:!1}};
d4.ck=function(){return{fill:1,lm:null,Vy:[1,1,1],adh:0,style:!1,FA:!1}};d4.oF=function(e,Z){if(Z==null)return null;
var F=e.Idnt.v,b=e.Nm.v;for(var l=0;l<Z.length;l++)if(Z[l].id==F)return Z[l];for(var l=0;l<Z.length;
l++)if(Z[l].name==b)return Z[l];return null};d4.anL=function(e,Z,F){var b=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var l=0;l<b.length;l++){var _=e.v[b[l]].v;for(var d=0;d<_.length;d++)if(_[d].v.Ptrn)Z.H7(d4.oF(_[d].v.Ptrn.v,F))}};
d4.a5p=function(e,Z,F){var b=["patternFillMulti","ebblMulti","frameFXMulti"];for(var l=0;l<b.length;
l++){var _=e.v[b[l]].v;for(var d=0;d<_.length;d++)if(_[d].v.Ptrn){var S=_[d].v.Ptrn.v,U=d4.oF(S,F),r=d4.oF(S,Z.add.Patt);
if(U==null&&r)F.push(r)}}};d4.sG=function(e,Z,F,b,_){var d=d4.oF(e.Ptrn.v,b);if(d!=null&&!F.BJ()){var S=d.ZV,U=S[0],r=S[1],q=0;
V.nP(S);var w=(e.Scl?e.Scl.v.val:100)/100;while((w<.3||w==.5)&&S[q+2]){w*=r.w/S[q+3].w;q+=2;U=S[q];r=S[q+1]}var X=V.scale.sG(U,r.w,r._),Q=e.phase?e.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},c=e.Angl?e.Angl.v.val:0,u=-F.x+Q.Hrzn.v-1,n=-F.y+Q.Vrtc.v-1;
if(e.Algn!=null&&!e.Algn.v){}else{u+=_.x;n+=_.y}V.scale.LG(X,Z,F.w,F._,w,w,u+1,n+1,c*Math.PI/180)}};
d4.mN=function(e,Z,F,b,_,d){if(d==null)d=F;var S=e.Type?e.Type.v.GrdT:"shapeburst",U=e.Algn&&e.Algn.v?d:new e3(0,0,b.w,b._),r=e.Angl?V.X.pH(e,U):[new bI(0,0),new bI(100,0)],q=r[0].x,w=r[0].y,X=r[1].x-q,Q=r[1].y-w,c=Math.sqrt(X*X+Q*Q);
c=1/(2*c*c);var u=[X*c,Q*c,-Q*c,X*c],n=e.Rvrs?e.Rvrs.v:!1,k=e.Dthr?e.Dthr.v:!1;V.X.v_(e.Grad.v,Z,F,u,q,w,n,fu.X.types.indexOf(S),0,0,_,k)};
d4.ajE=function(e,Z,F){for(var l=0;l<e.all.length;l++){var b=e.all[l];b.lO=b.Od.clone();b.lO.offset(Z,F)}};
d4.alc=function(e,Z,F,b,_,d){var S=E.P7?d4.alx:d4.a5w;d4.ajE(Z,F.x,F.y);var U=Z.type.DrSh;for(var l=0;
l<U.length;l++)if(!U[l].a9k)S(U[l],b,_,d)};d4.atN=function(e,Z,F,b,_,d,S,U,r,q){var w=F,X=E.P7?d4.alx:d4.a5w,Q=E.P7?E.a.Y3:V.a.i5,c;
c=Z.type.DrSh;for(var l=0;l<c.length;l++)if(c[l].a9k)X(c[l],b,_,d);c=Z.type.OrGl;for(var l=0;l<c.length;
l++)X(c[l],b,_,d);var u="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var n=0;n<u.length;n++){var c=Z.type[u[n]];
for(var l=0;l<c.length;l++)X(c[l],S,w,d)}var k=Z.type.ebbl[0],B=k!=null&&k.a3A;c=Z.type.FrFX;for(var l=0;
l<c.length;l++){var o=c[l];ik.Lb.l2(U,q,r,q,d);X(o,r,q,d);if(B&&l==c.length-1){if(k.Ml)X(k.Ml,r,q,d);
if(k.C2)X(k.C2,r,q,d);if(k.PD)X(k.PD,r,q,d);if(k.Le)X(k.Le,r,q,d)}if(o.Mp||o.g2)Q(r,q,S,w,E.P7?o.g2:o.Mp,o.lO,0,d,1);
if(o.zg||o.py)Q(r,q,b,_,E.P7?o.py:o.zg,o.lO,0,d,1)}if(!B&&k!=null){if(k.Ml)X(k.Ml,b,_,d);if(k.C2)X(k.C2,b,_,d);
if(k.PD)X(k.PD,S,w,d);if(k.Le)X(k.Le,S,w,d)}};d4.a5w=function(e,Z,F,b){var _=d4.ck();_.fill=e.Rv;_.style=!0;
V.a.sB(e.tg,e.XT,e.lO,Z,F,b,1,_)};d4.alx=function(e,Z,F,b){var _=d4.ck();_.fill=e.Rv;_.style=!0;E.a.jE(e.tg,e.BE,e.lO,Z,F,b,1,_)};
d4.agF=function(e,Z){var F=1-Z.Inpr.v.val/100,b=1+Math.tan(F*(Math.PI/2)),_=e.length;for(var l=0;l<_;
l++)e[l]=Math.min(255,Math.round(e[l]*b))};d4.pS=function(e,Z,F){var b=Z.blur.v.val,_=Math.round(b*(Z.Ckmt.v.val/100));
if(b>_){var d=V.AH.CC(Z.TrnS.v.Crv.v,256,!0);V.w4(e,d)}if(F!=null&&Z.Nose.v.val>0)V.style.jf(e,Z.Nose.v.val/100,F)};
d4.RC=function(e,Z,F){if(F==null)F=255;var b=V.X.Gb(Z),_=F<<24|b.S<<16|b.z<<8|b.o,d=new Uint32Array(e.buffer);
d.fill(_)};d4.GS=function(e,Z,F,b){var _=Z.uglg&&Z.uglg.v?F.Kv():Z.lagl.v.val;_=_*Math.PI/180+b;var d=Math.cos(_)*Z.Dstn.v.val,S=Math.sin(_)*Z.Dstn.v.val;
e.x-=Math.round(d);e.y+=Math.round(S)};d4.Oh=function(e){if(e==null)return null;var Z=e.frameFXMulti.v;
if(Z.length==0)return null;Z=Z[0].v;var F=JSON.parse(JSON.stringify(fu.jA.default));d4.a3P(Z,F);return F};
d4.a3P=function(e,Z){var F=fu.stroke.MG.indexOf(e.PntT.v.FrFl),b=[fu.On,fu.So,fu.p6][F],_=Z.strokeStyleContent.v={classID:fu.jA.BY[F]};
for(var l=0;l<b.length;l++)_[b[l]]=e[b[l]];Z.strokeEnabled=e.enab;Z.strokeStyleLineWidth=e.Sz;Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[fu.stroke.types.indexOf(e.Styl.v.FStl)];
Z.strokeStyleOpacity=e.Opct;Z.strokeStyleBlendMode=e.Md};d4.fL=function(e,Z){var F=[];for(var l=0;l<e.length;
l++)F.push({t:"UntF",v:{type:"#Nne",val:Math.round(e[l]*Z)}});return F};d4.bJ=function(e,Z,F,b){this.EI=Z.clone();
this.aef=Z.clone();this.aef.qN(F,F);if(b){this.EI.qN(1,1);this.zF=V.J(this.EI.Z());V.l2(e,Z,this.zF,this.EI)}else this.zF=e;
this.nI=null;this.kV=null;this.LQ=null};d4.bJ.prototype.Tm=function(){return this.zF};d4.bJ.prototype.rect=function(){return this.EI};
d4.bJ.prototype.L6=function(){return this.aef};d4.bJ.prototype._q=function(){if(this.nI)return this.nI;
this.nI=this.Tm().slice(0);V.eG(this.nI);return this.nI};d4.bJ.prototype.Zj=function(){if(this.kV)return this.kV;
this.kV=new Float64Array(this.rect().Z());V.style.zo(this._q(),this.kV,this.rect().w,this.rect()._);
return this.kV};d4.bJ.prototype.PJ=function(){if(this.LQ)return this.LQ;var e=this.L6(),Z=V.J(e.Z());
V.l2(this.Tm(),this.rect(),Z,e);this.LQ=new Float64Array(e.Z());V.style.zo(Z,this.LQ,e.w,e._);return this.LQ};
d4.bJ.prototype.a91=function(e,Z){var F={uv:-Z,aO:e,P9:null,Fi:null};if(Z==0){F.P9=this.rect();F.Fi=this.Zj();
return F}var b=this.PJ().slice(0),_=this.L6();F.P9=_;F.Fi=b;for(var l=0;l<b.length;l++)b[l]=-b[l];if(e==0)return F;
var d=this.Zj(),S=this.rect();for(var U=0;U<S._;U++)for(var r=0;r<S.w;r++){var q=U*S.w+r,w=(U+S.y-_.y)*_.w+r+S.x-_.x;
b[w]+=d[q]}return F};d4.bJ.prototype.Gx=function(e,Z,F){var b=Math.ceil(e+Z),_={uT:this.rect().clone(),Tm:null};
_.uT.qN(b,b);_.Tm=V.J(_.uT.Z());if(e==0&&Z==0)V.Fk(F?this.Tm():this._q(),_.Tm);else{var d=V.J(_.uT.Z());
V.l2(this.Tm(),this.rect(),d,_.uT);if(!F)V.eG(d);if(e!=0){if(F)V.style.v3(d,_.uT,this.PJ(),this.L6(),e);
else V.style.v3(d,_.uT,this.Zj(),this.rect(),e)}if(Z!=0)V.OS.$x(d,_.Tm,_.uT,Math.max(1,Z*.43));else _.Tm=d}return _};
d4.bJ.prototype.a0r=function(e,Z,F){var b=e*(Z-.5),_={uT:this.rect().clone(),Tm:null};if(F)_.uT.qN(e,e);
_.Tm=V.J(_.uT.Z());var d=_.uT.w,S=_.uT._,U=F?this.PJ():this.Zj(),r=F?this.L6():this.rect(),q=_.uT,w=q.QP(r),d=w.w,S=w._,X=w.x-q.x,Q=w.y-q.y,c=w.x-r.x,u=w.y-r.y,n=1-Z*2;
for(var k=0;k<S;k++)for(var B=0;B<d;B++){var o=U[(k+u)*r.w+B+c],T=o/e;_.Tm[(k+Q)*q.w+B+X]=Math.max(0,Math.min(255,255-255*((T+n)/(1+n))))}return _};
d4.a01=function(e,Z,F){var b=e.Lefx,_=e.blendOptions;if(b){var d=Z.add.lmfx;if(F==null)F=d?d.Scl.v.val:100;
Z.add.lmfx=JSON.parse(JSON.stringify(b.v));if(Z.add.lmfx.Scl==null)Z.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
d4.Q1(Z.add.lmfx,F/Z.add.lmfx.Scl.v.val);if(d)Z.add.lmfx.Scl.v.val=d.Scl.v.val}else delete Z.add.lmfx;
if(_){_=_.v;if(_.Md)Z.Du=ae.Pp(_.Md.v.BlnM);if(_.Opct)Z.opacity=Math.round(_.Opct.v.val*255/100);if(_.fillOpacity)Z.add.iOpa=Math.round(_.fillOpacity.v.val*255/100);
if(_.Blnd){var S=[];for(var l=0;l<10;l++)S.push(0,0,255,255);var U=_.Blnd.v,r="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var l=0;l<U.length;l++){var q=U[l].v,w=8*["Gry","Rd","Grn","Bl"].indexOf(q.Chnl.v[0].v.enum);for(var X=0;
X<8;X++){S[w+X]=q[r[X]].v}}Z.kz=S}}};d4.ail=function(e){var Z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),F=[],b=e.kz;
for(var l=0;l<4;l++){var _=l*8;if(b[_]+b[_+1]+b[_+4]+b[_+5]==0&&b[_+2]+b[_+3]+b[_+6]+b[_+7]==4*255)continue;
var d={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][l]}}]}}};
F.push(d);for(var S=0;S<8;S++)d.v[Z[S]]={t:"long",v:b[l*8+S]}}var U={classID:"blendOptions"};if(e.Du!="norm")U.Md={t:"enum",v:{BlnM:ae.px(e.Du)}};
if(e.opacity!=255)U.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(e.opacity*100/255)}};if(e.add.iOpa!=null)U.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(e.add.iOpa*100/255)}};
if(F.length!=0)U.Blnd={t:"VlLs",v:F};var r={P1:{classID:"null",Idnt:{t:"TEXT",v:aH.cG()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},J_:{classID:"Styl",blendOptions:{t:"Objc",v:U}}},q=e.add.lmfx;
if(q)r.J_.Lefx={t:"Objc",v:q};return r};function b6(){}b6.a1=function(e){return JSON.parse(JSON.stringify(e))};
b6.mY=function(e){var Z=b6.a1(b6.a8T),F=Z.Brsh.v;if(e!=null){delete F.Hrdn;F.classID="sampledBrush";
F.Nm={t:"TEXT",v:"layer.png"},F.sampledData={t:"TEXT",v:e}}return Z};b6.a8T={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
b6.AB={};b6.AB.check=function(e){var Z=b6.AB.Ve;for(var l=0;l<Z.length;l++)if(e[Z[l]]==null)e[Z[l]]=JSON.parse(b6.AB.Aa[Z[l]]);
var F=[];for(var l=0;l<Z.length;l++)F.push(Z[l]);var b=b6.AB.as2;for(var l=0;l<b.length;l++){var _=b[l][0],d=b[l][1],S=!0;
for(var U=0;U<_.length;U++)S=S&&e[_[U]].v==!0;if(S)for(var U=0;U<d.length;U++){if(e[d[U]]==null)console.log("Missing conditional parameter "+d[U]);
else F.push(d[U])}}for(var r in e)if(F.indexOf(r)==-1)console.log("Extra parameter "+r);e=e.Brsh.v;Z=b6.AB.LL.Ve;
for(var l=0;l<Z.length;l++)if(e[Z[l]]==null)e[Z[l]]=JSON.parse(b6.AB.LL.Aa[Z[l]]);F=[];for(var l=0;l<Z.length;
l++)if(e[Z[l]])F.push(Z[l]);else console.log("Missing default parameter "+Z[l]);b=b6.AB.LL.am7[e.classID];
for(var l=0;l<b.length;l++)if(e[b[l]]==null&&b[l]!="dtipsGridSize"&&b[l]!="dtipsErodibleTipHeightMap"&&e.a2d!=1)console.log("Missing conditional parameter "+b[l]);
else F.push(b[l]);for(var r in e)if(F.indexOf(r)==-1)console.log("Extra parameter "+r)};b6.AB.Tj=function(e){var Z=b6.AB.as2;
for(var l=0;l<Z.length;l++){var F=Z[l][0],b=Z[l][1],_=!0;for(var d=0;d<F.length;d++)_=_&&e[F[d]]&&e[F[d]].v==!0;
if(_){for(var d=0;d<b.length;d++)if(e[b[d]]==null){e[b[d]]=JSON.parse(b6.AB.Aa[b[d]])}}else for(var d=0;
d<b.length;d++)if(e[b[d]]!=null){delete e[b[d]]}}};b6.AB.LL={};b6.AB.LL.Ve="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
b6.AB.LL.Aa={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};b6.AB.LL.am7={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
b6.AB.as2=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
b6.AB.Ve="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
b6.AB.Aa={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function eU(e,Z){this.a3v=e;this.wQ=Z==null?0:Z;this.dir=0}eU.prototype.fp=function(e,Z){var F=this.a3v,b=new bI(e.x-F.x,e.y-F.y),_=new jg;
_.rotate(-this.wQ);b=_.rS(b);if(this.dir==0&&!F.Tn(e))this.dir=Math.abs(b.x)<Math.abs(b.y)?1:2;if(Z.j(ex.Ng)){if(this.dir==1)b.x=0;
if(this.dir==2)b.y=0}_.eG();b=_.rS(b);var d=new bI(F.x+b.x,F.y+b.y);return d};var bE=function(){function e(){this.akm={}}e.a1K=function(Z,F){var b=Z.clone();
b.lr-=Math.floor(b.lr);b.Xz-=Math.floor(b.Xz);var _=new bI(F,0),d=new bI(0,F),S=b.rS(_),U=b.rS(d),r=new bI(b.lr,b.Xz);
return[S,U,r]};e.a1l=function(Z,F){var b=bI.Ls;return b(Z[0],F[0])+b(Z[1],F[1])+b(Z[2],F[2]);return dsum};
e.prototype.a9E=function(Z){var F=this.akm,b=F[Z];if(b==null)b=F[Z]={be:[],o1:0,Z:0,ak0:0,aeT:0};b.o1=Date.now();
while(Object.keys(F).length>3){var _="",d=Date.now();for(var S in F){var U=F[S].o1;if(U<d){d=U;_=S}}delete F[_]}return b};
e.prototype.ako=function(Z,F){var b=Z.be,_,d=1e6;for(var l=0;l<b.length;l++){var S=b[l],U=e.a1l(S.Ov,F);
if(U<d){_=S;d=U}}return _};e.prototype.a3k=function(Z,F){var b=Z.be;b.push(F);Z.Z+=F.rect.Z();if(b.length>1e3||Z.Z>100*100*1600){console.log("pruning",Z.Z,b.length);
b.sort(function(d,S){return S.o1-d.o1});while(b.length>500||Z.Z>100*100*800){var _=b.pop();Z.Z-=_.rect.Z()}}};
return e}();function fR(e,Z,F,b,_,d,S,U,r){this.my=Z;this.Jj=F;this.ZE=d;this.wg=b;if(b.w1==null)b.w1=[!1,!0];
this.W8=null;this.Wn=null;this._D=0;this.a1Z=0;this.ai8=0;this.CG=0;this.dO=r==null?Math.floor(Math.random()*16777215):r;
this.a9W=r==null?Math.floor(Math.random()*16777215):r;this.V4=new e3;this.Kl=new e3;if(U!=null){this.XT=U}else{var q=fR.ak4;
if(q.length!=S.Z()*4)q=V.J(S.Z()*4);else q.fill(0);this.XT=fR.ak4=q}this.rect=S.clone();this.P_=[];this.tD=[];
this.V0=null;this.Ly=0;this.S=null;this.aj0="";this.P$=null;this.a5W(e,_)}fR.ak4=V.J(16);fR.prototype.a5W=function(e,Z){this.Ly=Z;
this.S=e;this.aj0=JSON.stringify(e)+JSON.stringify(this.wg.Ew);this.P$=fR.a3o(e,this.my,this.Jj)};fR.prototype.moveTo=function(e,Z,F){F=this.ab4(F);
this._D=F;var b=new bI(e,Z),_=this.S.Brsh.v.Dmtr.v.val;this.W8=b.clone();this.Wn=b.clone();this.V0=b.clone();
this.P_=[e,Z];this.tD=[F];var d=this.wg.w1;if(this.wg.Bg!=fR.au){var S=this.S.angleDynamics,U=S?S.v.bVTy.v==6:!1;
this.eb(U?new e3:this.a2f(b,this.aar()*(d[1]?F:1),this.wg.Pv*(d[0]?F*.5:1),new bI(0,0)))}this.CG=b.clone()};
fR.prototype.lineTo=function(e,Z,F){F=this.ab4(F);var b=this.P_,_=b.length,d=b[_-2],S=b[_-1];if(e==d&&Z==S)return;
var U=this.S.Brsh.v.Dmtr.v.val,r=Math.ceil(U)+1,q=new e3(Math.round(d),Math.round(S),0,0);q.qN(r,r);
var w=new e3(Math.round(e),Math.round(Z),0,0);w.qN(r,r);this.P_.push(e,Z);this.tD.push(F);_+=2;if(_>=6)this.eb(this.a8P(_))};
fR.prototype.ab4=function(e){if(e==null)e=1;e=Math.max(.05,Math.min(5,e));if(isNaN(e)){alert("Pressure is not a number");
throw"e"}return e};fR.prototype.eb=function(e){this.V4=e;this.Kl=this.Kl.Us(e)};fR.prototype.finish=function(){var e=this.P_,Z=e.length,F;
if(Z==4)F=this.aiU(e[Z-2],e[Z-1],this.tD[(Z>>1)-1],!0);if(Z>4)F=this.a8P(Z+2);if(F)this.eb(F)};fR.prototype.jK=function(){return this.rect.clone()};
fR.prototype.hh=function(){return this.V4.QP(this.rect)};fR.prototype.zx=function(){return this.Kl.QP(this.rect)};
fR.prototype.n$=function(){return this.XT};fR.prototype.a8P=function(e){var Z=this.P_,F=this.tD,b=Z[e-6],_=Z[e-5],d=Z[e-4],S=Z[e-3],U=F[(e>>1)-3],r=F[(e>>1)-2],q=new bI(0,0),w=new bI(0,0);
if(8<=e)q=fR.aeB(Z[e-8],Z[e-7],b,_,d,S);if(e<=Z.length)w=fR.aeB(Z[e-2],Z[e-1],d,S,b,_);var X=b+q.x,Q=_+q.y,c=d+w.x,u=S+w.y,n=new e3;
for(var l=0;l<10;l++){var k=(l+1)*.1,B=1-k,o=B*B*B*b+3*k*B*B*X+3*k*k*B*c+k*k*k*d,T=B*B*B*_+3*k*B*B*Q+3*k*k*B*u+k*k*k*S,z=this.aiU(o,T,U+k*(r-U));
n=n.Us(z)}return n};fR.aeB=function(e,Z,F,b,_,d){var S=e-F,U=Z-b,r=_-F,q=d-b,w=Math.sqrt(S*S+U*U),X=Math.sqrt(r*r+q*q),Q=Math.acos((S*r+U*q)/(w*X))/Math.PI,c=.35,u=.1;
Q=u+Q*(c-u);var n=_-e,k=d-Z,B=Math.sqrt(n*n+k*k),o=Q*X/B;return new bI(n*o,k*o)};fR.prototype.aiU=function(e,Z,F,b){var _=new e3,d=this.wg.aka;
if(d==null)d=0;if(d==0||b){_=this.a8d(e,Z,F);return _}var S=this.V0,U=e-S.x,r=Z-S.y,q=Math.sqrt(U*U+r*r);
U/=q;r/=q;if(q>d){var w=S.x+U*(q-d),X=S.y+r*(q-d);_=this.a8d(w,X,F);this.V0.zU(w,X)}return _};fR.prototype.a8d=function(e,Z,F){var b=new e3,_=new bI(e,Z),d=this.S.Brsh.v.Dmtr.v.val,S=this.wg.Bg,U=_.iv(this.Wn);
U.normalize(1);var r=bI.Ls(this.Wn,_),q=-this.a1Z,w=this.Wn.clone(),X=this.wg.w1;while(!0){var Q=this._D+(F-this._D)*(Math.max(0,q)/r),c=this.aar()*(X[1]?Q:1),u=this.adR()*(c+this.ai8)/2*this.P$.a7Q;
if(S==fR.au)u=1;if(q+u<r){q+=u;var n=new bI(this.Wn.x+U.x*q,this.Wn.y+U.y*q),o=1;if(S==fR.au){var k=w.clone();
k.x+=U.x>0?1:-1;var B=w.clone();B.y+=U.y>0?1:-1;if(bI.Ls(k,n)<bI.Ls(B,n))n=k;else n=B;q=bI.Ls(n,this.Wn)}if(this.S.useScatter.v==!0){o=this.S.Cnt.v;
var T=this.S.countDynamics.v.jitter.v.val/100,z=T*(-1+2*this.f2());o+=Math.round(o*z)}for(var l=0;l<o;
l++){var W=this.a2f(n,c,this.wg.Pv*(X[0]?Q*.5:1),U);b=b.Us(W)}w=n}else break}this.a1Z=r-q;this.Wn=_;
this._D=F;return b};fR.prototype.adR=function(){var e=this.S.Brsh.v,Z=e.Spcn.v.val,F=Math.max(5,e.Rndn.v.val);
return F/100*(Z/100)};fR.prototype.aar=function(){var e=this.S,Z=e.Brsh.v.Dmtr.v.val;if(e.useTipDynamics.v){var F=Z*(e.minimumDiameter.v.val/100);
Z=F+(Z-F)*(1-this.f2(this.a9W)*(e.szVr.v.jitter.v.val/100))}return Z};fR.prototype.a2f=function(e,Z,F,b){F=Math.min(1,F);
var _=this.S,d=this.S.Brsh.v,S=d.Dmtr.v.val,U=this.wg,r=U.Bg,q=U.aba,w=this.P$.ZV[1],X=new jg;X.translate(-w.w/2,-w._/2);
X.scale(1/this.P$.a1g,1/this.P$.a1g);X.scale(Z/S,Z/S);X.scale(1,Math.max(5,d.Rndn.v.val)/100);if(_.useTipDynamics.v){var Q=_.angleDynamics.v,c=_.minimumRoundness.v.val/100;
X.scale(1,c+(1-c)*Math.round(100-this.f2()*_.roundnessDynamics.v.jitter.v.val)/100);X.rotate((-.5+this.f2())*4*Math.PI*(Q.jitter.v.val/100));
if(Q.bVTy.v==6)X.rotate(Math.atan2(-b.y,b.x))}X.rotate(d.Angl.v.val*(Math.PI/180));if(_.useScatter.v){var u=(-1+2*this.f2())*_.scatterDynamics.v.jitter.v.val/100;
X.translate(-u*Z*b.y,u*Z*b.x)}X.translate(e.x,e.y);var n=this.akP(X,e,Z),k=n.rect.clone();if(r==null){var B=this.cP(_);
V.oi(n.Ba,Math.round(B.S*255)<<16|Math.round(B.z*255)<<8|Math.round(B.o*255)<<0,4278190080);if(this.Kl.BJ()&&this.rect.Tn(n.rect)&&F==1)this.XT=n.Ba.slice(0);
else V.a.aqI(n.Ba,n.rect,this.XT,this.rect,n.rect,F)}if(r==fR.au){var o=new bI(n.rect.x+n.rect.w/2,n.rect.y+n.rect._/2),T=Math.round(o.x-this.CG.x),z=Math.round(o.y-this.CG.y),W=n.rect.clone();
W.offset(-T,-z);var $=W.QP(this.rect);$.offset(T,z);V.Rf(this.XT,this.rect,n.Ba,W);V.a.tL(n.Ba,n.rect,this.XT,this.rect,n.JJ,n.rect,F)}if(r==fR.kI||r==fR.Ll||r==fR.Lt){var R=n.rect.QP(this.rect),P;
if(R.Tn(n.rect))P=n.JJ;else{P=V.J(R.Z());V.l2(n.JJ,n.rect,P,R)}var H=V.J(R.Z()*4);V.Rf(this.XT,this.rect,H,R);
if(r==fR.Ll){var y=H.slice(0),h=V.Qb.OD([-1,-1,-1,-1,25,-1,-1,-1,-1]);V.Qb.MP(H,y,R.w,R._,h,0);V.Fk(y,H)}else if(r==fR.Lt){var m=ff.wy("UnsM");
m.Amnt.v.val=15;m.Thsh.v=0;m.Rds.v.val=5;var y=V.J(H.length);ff.Gm("UnsM",{buffer:H,rect:R},m,0,0,{buffer:y,rect:R});
V.Fk(y,H)}else{ff.Ay(1,V.OS.e6,H,R)}V.a.tL(H,R,this.XT,this.rect,P,R,F)}this.ai8=Z;this.CG=o;this.a9W++;
return k};fR.prototype.cP=function(e){var Z=fR.a0y(this.Ly);if(e.useColorDynamics&&e.useColorDynamics.v){var F=1-this.f2()*e.clVr.v.jitter.v.val/100,b=fR.a0y(this.ZE);
Z.o=F*Z.o+(1-F)*b.o;Z.z=F*Z.z+(1-F)*b.z;Z.S=F*Z.S+(1-F)*b.S;var _=(-.5+this.f2())*e.H.v.val/100,d=(-1+2*this.f2())*e.Strt.v.val/100,S=(-1+2*this.f2())*e.Brgh.v.val/100,U=V.Sq(Z.o,Z.z,Z.S);
U.zA=(U.zA+_+1)%1;U.ME=U.ME+d;if(U.ME<0)U.ME=-U.ME;if(U.ME>1)U.ME=1-(U.ME-1);U.Bi=U.Bi+S;if(U.Bi<0)U.Bi=-U.Bi;
if(U.Bi>1)U.Bi=1-(U.Bi-1);Z=V.Mq(U.zA,U.ME,U.Bi)}return Z};fR.prototype.AB=function(e){return Math.max(0,Math.min(1,e))};
fR.prototype.f2=function(e){if(e==null){e=this.dO++}return fR.hash(e)};fR.a0y=function(e){return{o:(e>>16&255)/255,z:(e>>8&255)/255,S:(e>>0&255)/255}};
fR.hash=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return(e&16777215)/16777215};
fR.ae2=new bE;fR.prototype.akP=function(e,Z,F){var b=Math.sqrt(this.P$.ZV[1].Z()),_=b*e.YE(),d=_<10?1:_<50?1.5:_<200?3:8,S=fR.ae2,U=S.a9E(this.aj0),r=this.wg.Ew;
if(r){e=e.clone();e.lr=Math.floor(e.lr);e.Xz=Math.floor(e.Xz)}var q=bE.a1K(e,b),w=S.ako(U,q);if(w&&bE.a1l(w.Ov,q)>d)w=null;
if(w){w.rect.x=Math.round(w.a1S.x+e.lr);w.rect.y=Math.round(w.a1S.y+e.Xz);if(r){w.rect.x=Math.round(Z.x-w.rect.w/2);
w.rect.y=Math.round(Z.y-w.rect._/2)}w.o1=Date.now()}else{var X=Math.round(this.S.Brsh.v.Dmtr.v.val),Q;
if(r&&X<=3){Q={buffer:V.J(X*X*4),rect:new e3(Math.round(Z.x-X/2),Math.round(Z.y-X/2),X,X)};V.oi(Q.buffer,4278190080)}else if(e.Y0==1&&e.S==0&&e.d_==0&&e.rl==1){Q={buffer:this.P$.ZV[0],rect:this.P$.ZV[1].clone()};
Q.rect.x=Math.round(e.lr);Q.rect.y=Math.round(e.Xz)}else Q=i.Q.or(this.P$.ZV,e);if(r){for(var l=0;l<Q.buffer.length;
l++)Q.buffer[l]=Q.buffer[l]>127?255:0}if(Q==null)Q={buffer:V.J(0),rect:new e3};w={Ba:Q.buffer,JJ:V.J(Q.rect.Z()),rect:Q.rect,a1S:new bI(Q.rect.x-e.lr,Q.rect.y-e.Xz),Ov:q,o1:Date.now()};
V.yC(w.Ba,w.JJ,3);if(U)S.a3k(U,w)}return w};fR.a3o=function(e,Z,F){var b,_,d,S=e.Brsh.v.Dmtr.v.val;if(e.Brsh.v.classID=="computedBrush"){var U=e.Brsh.v.Hrdn.v.val/100,r=1+.55*(1-U);
_=S<100?1.2:1;d=1;var q=Math.round(_*S*r),w=new e3(0,0,q,q),X=V.J(q*q*4),Q=new Uint32Array(X.buffer);
b=[X,w];var c=q/2,u=r/c,n=Date.now(),k=fR.Jk(U),B=Math.round(8e3/c),Z=k[0],o=k[1]-B,T=k[2]+B,z=Math.min(q,(q>>>1)+1);
for(var l=0;l<z;l++){var W=u*(l-c+.25);W*=W;var $=u*(l-c+.75);$*=$;var R=l*q,P=(q-1-l)*q;for(var H=0;
H<z;H++){var y=u*(H-c+.25),h=Math.floor(Math.sqrt(y*y+W)*(4e3/1.55));if(T<h)continue;else if(h<o){var m=4278190080;
while(H<z){var t=q-1-H;Q[R+H]=m;Q[R+t]=m;Q[P+H]=m;Q[P+t]=m;H++}break}else{var j=u*(H-c+.75),x=Math.floor(Math.sqrt(j*j+W)*(4e3/1.55)),C=Math.floor(Math.sqrt(y*y+$)*(4e3/1.55)),L=Math.floor(Math.sqrt(j*j+$)*(4e3/1.55)),m=~~(.5+255*.25*(Z[h]+Z[x]+Z[C]+Z[L]))<<24,t=q-1-H;
Q[R+H]=m;Q[R+t]=m;Q[P+H]=m;Q[P+t]=m}}}}if(e.Brsh.v.classID=="sampledBrush"){var f;for(var l=0;l<Z.length;
l++)if(Z[l].id==e.Brsh.v.sampledData.v)f=Z[l];b=f.ZV;var w=b[1];_=Math.max(w.w,w._)/S;d=Math.min(w.w,w._)/Math.max(w.w,w._)}return{a1g:_,a7Q:d,ZV:b}};
fR.zl=[];fR.Jk=function(e){if(fR.zl[e])return fR.zl[e];var Z=Math.pow(e,.55),F=new Float64Array(8e3),b=0,_=8e3;
for(var l=0;l<8e3;l++){var d=fR.a1N(l*(1.55/4e3),Z);if(d>=1)b=l;else if(d<=0&&_==8e3)_=l;F[l]=d}var S=[F,b,_];
fR.zl[e]=S;return S};fR.a1N=function(e,Z){var F=e<Z?1:fR.aiB((e-Z)/Math.pow(1.001-Z,.86));return F};
fR.aiB=function(e){var Z=e*.85;return Math.exp(-(Z*Z)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
fR.O=null;fR.Gl=null;fR.Bk=function(e,Z,F,b,_,d){var S=fR.O,U=fR.Gl;if(S==null){fR.O=S=document.createElement("canvas");
fR.Gl=U=S.getContext("2d")}if(d==null)d=b;if(S.width!=d||S.height!=_){S.width=d;S.height=_}else U.clearRect(0,0,d,_);
U.fillStyle="#000000";U.font=Math.floor(10*i.F())+"px sans-serif";var r=e.Brsh.v.Dmtr.v.val,q=""+r,w=U.measureText(q);
U.fillText(q,(b-w.width)/2,_-2);var X=b,Q=_-10*i.F(),c=Math.min(X,Q),u=e.Brsh.v.classID;if(u=="computedBrush"){U.translate(X/2,Q/2);
U.rotate(-e.Brsh.v.Angl.v.val*Math.PI/180);U.scale(1,.1+.9*e.Brsh.v.Rndn.v.val/100);var n=Math.min(.95*c/2,r/2)+.5,k=.9*e.Brsh.v.Hrdn.v.val/100,B=U.createRadialGradient(0,0,0,0,0,n);
B.addColorStop(k,"rgba(0,0,0,1)");B.addColorStop((.5+k)/1.5,"rgba(0,0,0,.5)");B.addColorStop(1,"rgba(0,0,0,0)");
U.fillStyle=B;U.fillRect(-n,-n,2*n,2*n);U.setTransform(1,0,0,1,0,0)}else if(u=="sampledBrush"){var o,R=0;
for(var l=0;l<Z.length;l++)if(Z[l].id==e.Brsh.v.sampledData.v)o=Z[l];var T=o.ZV;V.nP(T);var z=T[0],W=T[1].w,$=T[1]._;
while((W>X||$>Q)&&T[R+2]){R+=2;z=T[R];W=T[R+1].w;$=T[R+1]._}if(W*$!=0){var P=new ImageData(new Uint8ClampedArray(z.buffer),W,$);
U.putImageData(P,Math.round((X-W)/2),Math.round((Q-$)/2))}}else{}return S.toDataURL()};fR.fn=function(e,Z,F,b){if(F==0)F=1;
var _=e.Brsh.v,d=_.Dmtr.v.val,S=_.Dmtr.v.val=Math.min(b!=null?Math.round(b*2.6):3e3,d*F),U=_.Hrdn?_.Hrdn.v.val/100:1,r=b!=null?b:Math.round(S*(1+.55*(1-U)))+4,X;
r=Math.max(15,Math.min(r,3e3));var q=new e3(0,0,r,r),w=new fR(e,Z,null,{Pv:1},16711712,0,q);_.Dmtr.v.val=d;
w.moveTo(q.w/2,q._/2);var Q=w.n$(),c=w.jK();if(q.Tn(c))X=Q;else{X=V.J(q.Z()*4);V.Rf(Q,c,X,q)}return[X,q,S]};
fR.afc=function(e,Z,F,b){var _=Z.w,d=_>>>1;for(var l=0;l<4;l++){var S=6-l;e[_*(d-S)+d-1]=b;e[_*(d-S)+d]=F;
e[_*(d-S)+d+1]=b;e[_*(d+S)+d-1]=b;e[_*(d+S)+d]=F;e[_*(d+S)+d+1]=b;e[_*(d-1)+d-S]=b;e[_*d+d-S]=F;e[_*(d+1)+d-S]=b;
e[_*(d-1)+d+S]=b;e[_*d+d+S]=F;e[_*(d+1)+d+S]=b}};fR.Y8=function(e,Z,F,b){var _=fR.fn(e,Z,F),d=_[0].slice(0),S=_[1],U=_[2],r=S.Z(),q=V.J(r);
V.yC(d,q,3);var w=V.J(r);V.K.a32(q,w,S);if(U<3||V.ZK(w,0)||b&&U>12){fR.afc(w,S,255,0)}var X=[1,2,1,2,8,2,1,2,1];
X=V.Qb.OD(X);V.Qb.PL(w,q,S.w,S._,X);V.oi(d,4294967295);V.s$(q,d,3);for(var l=0;l<r;l++)if(w[l]==255){d[l<<2]=d[(l<<2)+1]=d[(l<<2)+2]=0;
d[(l<<2)+3]=255}return{_j:d,uT:S,I7:new bI(S.w/2,S._/2)}};fR.au="0";fR.kI="1";fR.Ll="2";fR.Lt="3";var ac={};
ac.b9=function(e,Z){var F=e.n6(),S=0,q;if(F.x==Infinity||F.BJ())return{XT:V.J(0),uT:new e3,nq:new e3};
var b=e.n6(),_=ac.PX(e,Z),d=V.H.CN(_.s);for(var l=0;l<e.sn.length;l++){var U=e.sn[l].bd;if(U.StrokeFlag&&U._LineWidth)S=Math.max(S,Math.ceil(U._LineWidth/2))}d.qN(S,S);
if(d.BJ())return{XT:V.J(0),uT:new e3,nq:new e3};var r=V.LH(d.w,d._);r.translate(-d.x,-d.y);ac.abg(_,r);
if(e.sn.length!=0){var w=fN.zK(Z),X=r.getImageData(0,0,d.w,d._);q=new Uint8Array(X.data.buffer);if(w==0)for(var l=0;
l<q.length;l+=4)q[l+3]=q[l+3]>80?255:0;if(w==3)for(var l=0;l<q.length;l+=4)q[l+3]=Math.min(255,q[l+3]*1.5)}else q=V.J(d.Z()*4);
r.resetTransform();r.beginPath();return{XT:q,uT:d,nq:b}};ac.PX=function(e,Z){var F=Z.A,b=Z.HV,_=fN.zK(Z),d=Math.max(F.S*F.S,F.d_*F.d_)<1e-9?F:null;
if(_==3||_==4)d=null;var S={C:[],s:[]};ac.asX(e,S,d,!0);ac.asX(e,S,d,!1);S=ac.He(S,Z,e);return S};ac.He=function(e,Z,F){if(e==null)return e;
if(F&&F.wF)V.H.A(e.s,F.wF,e.s);if(F&&!V.YY.k2(Z.mw)){var b=fN.jK(Z,F);if(!b.BJ()){if(e.C){e=V.H.AM(e);
var _=Math.min(b.w,b._)/8;if(_<1)_=1;e=V.H.Ya(e,_)}var d=V.YY.wl(Z.mw,b);V.u5.A(d,e.s,b)}}var S=Z.A;
V.H.A(e.s,S,e.s);return e};ac.abg=function(e,Z){Z.save();Z.miterLimit=2;Typr.U.pathToContext({crds:e.s,cmds:e.C},Z);
Z.restore()};ac.h5=function(e,Z,F){if(!ge.abQ(F))return;var b=e.HV,_=b.ResourceDict.FontSet,d=b.ResourceDict.StyleSheetSet[0].StyleSheetData,S=b.EngineDict.StyleRun.RunLengthArray,U=b.EngineDict.StyleRun.RunArray,r=fN.xf(b),q=!0,w={},X=0;
for(var l=0;l<U.length;l++){var Q=U[l].StyleSheet.StyleSheetData.Font;if(Q==null)Q=d.Font;for(var c=0;
c<S[l];c++){var u=r.charCodeAt(X+c),n=Q+","+(u>128?u:-1);if(w[n]==null){w[n]=1;if(Z.J7(_[Q].Name,u)==null)q=!1}}X+=S[l]}return q};
ac.asX=function(e,Z,F,b){var _=new jg;for(var l=0;l<e.Qm.length;l++)ac.afB(e.sn,e.Qm[l],Z,_,F,b)};ac.afB=function(e,Z,F,b,_,d){b.translate(Z.TF.x,Z.TF.y);
for(var l=0;l<Z.sg.length;l++){var S={},U=Z.sg[l];if(!U.DO)break;var r=b.clone();r.translate(U.TF.x,U.TF.y);
if(_){var q=_.Xz+r.Xz*_.rl;r.Xz=(Math.round(q)-_.Xz)/_.rl}for(var w=U.start;w<U.end;w++)ac.ahS(e,Z.jN[w],Z,S,F,r,d)}b.translate(-Z.TF.x,-Z.TF.y)};
ac.apc="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
ac.ahS=function(e,Z,F,b,_,d,S){d.translate(Z.TF.x,Z.TF.y);for(var U=Z.sb;U<=Z.tb;U++){var r=F.Bd[U],q=r.uT.w,w=e[F.acU+r.RM],X=w.bd._FillBackgroundFlag;
if(w.qw=="\n"||S&&!X)continue;var Q=w.bd.FontSize/w.tR.head.unitsPerEm,c=d.clone();c.translate(r.TF.x+r.tK*Q,r.TF.y-r.h0*Q);
var u=new jg;u.scale(Q,-Q);if(w.th==1&&ac.apc.indexOf(w.qw)!=-1)u.concat(new jg(-1,0,0,1,q,0));if(w.bd.FauxItalic)u.concat(new jg(1,0,-Math.tan(.18),1,0,0));
u.translate(0,w.M7);u.scale(w.scale.x,w.scale.y);if(w.bd.BaselineShift!=null)u.translate(0,-w.bd.BaselineShift);
if(r.wQ!=0){u.rotate(-r.wQ)}u.concat(c);var n=w.bd._LineWidth?w.bd._LineWidth:1;if(S){_.C.push(ac.cP(w.bd._FillBackgroundColor));
var k=1.005*r.uT._/Q,B=new e3(-r.tK,-k*.27,1.03*r.uT.w/Q,k);if(w.bd.StrokeFlag)B.qN(n/Q,n/Q);V.H.concat(_,V.H.gb(B),u);
_.C.push("X");continue}if(w.bd.FillFlag)_.C.push(ac.cP(w.bd.FillColor));if(w.bd.StrokeFlag)_.C.push("O-"+ac.cP(w.bd.StrokeColor)+"-"+n);
if(r.path.C.length!=0&&w.qw!="\t"){if(w.bd.FauxBold){var o=w.bd.FontSize/2048*27*w.scale.x;u.lr+=o;V.H.concat(_,r.path,u);
u.lr-=o+o;V.H.concat(_,r.path,u)}else V.H.concat(_,r.path,u)}if(w.qw!="\n"){if(w.bd.Underline){if(b.TU==null)b.TU=w.tR.post.underlineThickness;
if(b.apk==null)b.apk=w.tR.post.underlinePosition;var T=0,z=b.apk-b.TU/2,W=r.Cl*1.05,$=-b.TU;V.H.concat(_,{C:["M","L","L","L","Z"],s:[T,z,T+W,z,T+W,z+$,T,z+$]},u)}if(w.bd.Strikethrough){var R=w.tR["OS/2"].yStrikeoutSize,P=w.tR["OS/2"].yStrikeoutPosition,T=0,z=P+R/2,W=r.Cl*1.05,$=-R;
V.H.concat(_,{C:["M","L","L","L","Z"],s:[T,z,T+W,z,T+W,z+$,T,z+$]},u)}}if(w.bd.FillFlag)_.C.push("X");
if(w.bd.StrokeFlag)_.C.push("OX")}d.translate(-Z.TF.x,-Z.TF.y)};ac.cP=function(e){var Z=fN.Gb(e),F=(Math.round(Z.o)<<16)+(Math.round(Z.z)<<8)+Math.round(Z.S);
return"#"+V.Z0(F)};function ge(e,Z){var F=fN.ms(e),b,_,d=fN.Lx(e),S=e._LineOrientation==2?new jg:null,w;
if(e.Curve)_=ge.lv(e.Curve);if(F!=0){b=new e3(d[0],d[1],d[2],d[3]);if(S){var U=b.w;b.w=b._;b._=U;S.translate(0,-d[2])}if(F==2){b.w=_[5]-_[4];
b._=9999}}this.Qm=[];this.sn=[];this.K$=F;this.wF=S;var r=this.abK=fN.xf(e),q=-1;for(var l=0;l<r.length;
l++){var X=w,Q=fN.arI(e,l);if(Q!=q){q=Q;X=w=fN.aoc(e,l)}var c={qw:r.charAt(l),bd:X,tR:null,lt:-1,WZ:fN.a23(e,l),M7:0,scale:new bI(0,0),c$:0,lineHeight:0,th:0},u=e.ResourceDict.FontSet[X.Font].Name,n=c.tR=Z.J7(u,r.charCodeAt(l));
c.scale.x=X.HorizontalScale==null?1:X.HorizontalScale;c.scale.y=X.VerticalScale==null?1:X.VerticalScale;
var k=n["OS/2"],B=n.hhea;if(X.FontCaps==1&&c.qw!=c.qw.toUpperCase()){var o=k.sxHeight?k.sxHeight/k.sTypoAscender:.76;
c.scale.x*=o;c.scale.y*=o}var T=1/n.head.unitsPerEm*X.FontSize;if(X.FontBaseline==1){var o=e.ResourceDict.SuperscriptSize;
c.scale.x*=o;c.scale.y*=o;c.M7-=e.ResourceDict.SuperscriptPosition*X.FontSize}if(X.FontBaseline==2){var o=e.ResourceDict.SubscriptSize;
c.scale.x*=o;c.scale.y*=o;c.M7+=e.ResourceDict.SubscriptPosition*X.FontSize}c.c$=ge.c$(n,u,X);c.lineHeight=X.FontSize*1.2;
if(X.AutoLeading==!1)c.lineHeight=X.Leading;if(c.lineHeight==0)c.lineHeight=.01;this.sn.push(c)}var z=this.Qm,$=[0];
for(var l=0;l<e.EngineDict.ParagraphRun.RunLengthArray.length;l++){var R=new ge.SL(e,Z,this.sn,l,b,$,F==1?_:null);
z.push(R)}if(S){if(F==0)S.translate(0,z[0].jN[0].c$/2);S.rotate(-Math.PI/2)}if(F==2){var P=e.Curve.Points,H=_[0],y=_[1],h=_[2],m=_[3],t=_[4],j=_[5];
for(var l=0;l<z.length;l++)for(var x=0;x<z[l].sg.length;x++)if(!(l==0&&x==0))z[l].sg[x].DO=!1;var R=z[0],C=R.sg[0];
R.TF.zU(0,0);C.TF.zU(0,0);for(var x=C.start;x<C.end;x++){var L=R.jN[x],f=L.TF.x;L.TF.x=0;for(var D=L.sb;
D<=L.tb;D++){var v=R.Bd[D],A=v.uT.w/2;v.TF.x+=f;var M=ge.ajL(H,(t+v.TF.x+A)%m);v.TF.x=M[0]-A*M[2];v.TF.y=M[1]-A*M[3];
v.wQ=Math.atan2(M[3],M[2])}}}}ge.c$=function(e,Z,F){var b=e["OS/2"],_=e.hhea,d=0,d=0,S=[];S.push(b&&b.sxHeight&&Z.toLowerCase().indexOf("capitals")!=-1?b.sxHeight:0);
S.push(b&&b.sCapHeight?b.sCapHeight:0);S.push(b&&b.sTypoAscender?b.sTypoAscender:0);S.push(_.ascender?_.ascender:0);
for(var U=0;U<S.length;U++)if(S[U]!=0){d=S[U];break}var r=1/e.head.unitsPerEm*F.FontSize;d=d*r;if(d<F.FontSize*.6)d=F.FontSize*.75;
return d};ge.prototype.abk=function(){return!this.acu(0)};ge.prototype.alZ=function(){return this.acu(1)};
ge.prototype.acu=function(e){var Z=this.Qm,F=!0,b=0;for(var l=0;l<Z.length;l++){var _=Z[l].sg,d=_.length;
b+=d;for(var S=0;S<d;S++)F&=_[S].DO}return[F,b][e]};ge.lv=function(e,Z){if(Z==null)Z=.25;var F=e.Points,b=F.length,_=b>>>3,d=e.TextOnPathTRange,S=e.Reversed,X=0,Q=0;
if(S){var U=F.slice(0);for(var l=0;l<b;l+=2){U[l]=F[b-2-l];U[l+1]=F[b-1-l]}F=U;d=[_-d[1]%_,_-d[0]%_]}var r=[],q=[0],w=[0];
for(var l=0;l<b;l+=8){var c=F[l+6]-F[l+0],u=F[l+7]-F[l+1],n=Math.round(1/Z*Math.sqrt(c*c+u*u));for(var k=0;
k<n;k++){var B=k/n,o=1-B,T=o*o*o*F[l+0]+3*o*o*B*F[l+2]+3*o*B*B*F[l+4]+B*B*B*F[l+6],z=o*o*o*F[l+1]+3*o*o*B*F[l+3]+3*o*B*B*F[l+5]+B*B*B*F[l+7];
r.push(T,z);if(l+k!=0){var c=T-X,u=z-Q;w.push(w[w.length-1]+Math.sqrt(c*c+u*u));q.push((l>>>3)+B)}X=T;
Q=z}}var Z=w.length,W=w[Z-1],$=ge.w6(d[0]%_,q),R=ge.w6(d[1]%_,q),P=w[$%Z],H=w[R%Z];if(P>=H)H+=W;return[r,q,w,W,P,H]};
ge.w6=function(e,Z){var l=0;while(Z[l]<e)l++;return l};ge.ajL=function(e,Z){var F=0,l=0,b,_,d;while(F<Z){b=e[l+2]-e[l];
_=e[l+3]-e[l+1];d=Math.sqrt(b*b+_*_);F+=d;l+=2}return[e[l],e[l+1],b/d,_/d]};ge.prototype.a8S=function(e){return this.sn[e]};
ge.prototype.a7k=function(e){for(var Z=0;Z<this.Qm.length;Z++){var F=this.Qm[Z];for(var b=0;b<F.sg.length;
b++){var _=F.sg[b],d=F.jN[_.start].start,S=F.jN[_.end-1].end;if(d<e&&e<S)return[d,S-1]}}return[0,1]};
ge.prototype.a0c=function(e,Z){var F=-1,b=this.Qm;if(this.K$==2){var _=1e9,d=0,S=b[0],U=S.sg[0];for(var r=U.start;
r<U.end;r++){var q=S.jN[r];for(var w=q.sb;w<=q.tb;w++){var X=S.Bd[w],Q=X.uT.w,c=e.x-X.TF.x,u=e.y-X.TF.y,n=c*c+u*u;
if(n<_){_=n;d=X.RM}}}if(d!=0&&this.abK.codePointAt(d-1)>65535)d--;return d}for(var k=0;k<b.length;k++){var S=b[k];
for(var B=0;B<S.sg.length;B++){F++;var U=S.sg[B],o=S.sg[B+1];if(o==null&&k<b.length-1)o=b[k+1].sg[0];
if(Z!=null){if(F!=Z)continue}else{if(o!=null&&S.TF.y+U.TF.y<e.y)continue}for(var r=U.start;r<U.end;r++){var q=S.jN[r];
for(var w=q.sb;w<=q.tb;w++){var X=S.Bd[w],Q=X.uT.w,T=S.TF.x+U.TF.x+q.TF.x,z=T+X.TF.x,W=T+(w<q.tb?S.Bd[w+1].TF.x:X.TF.x+Q);
if(e.x<=W||r+1==U.end&&w==q.tb){var $=S.acU+X.RM,R=this.sn[$],P=R.th&1;if(R.qw!="\n"&&(P==0&&e.x>z+Q/2||P==1&&e.x<z+Q/2))$+=this.abK.codePointAt($)>65535?2:1;
return $}}}}}};ge.prototype.jO=function(e){var Z={uT:new e3,Nf:0},F=0;for(var b=0;b<this.Qm.length;b++){var _=this.Qm[b];
for(var d=0;d<_.sg.length;d++){var S=_.sg[d];Z.Nf=F;F++;for(var U=S.start;U<S.end;U++){var r=_.jN[U];
for(var q=r.start;q<r.end;q++){if(q==e){var w=this.sn[q],X=w.lt,Q=_.Bd[X].RM,c=1;while(_.Bd[X]!=null&&_.Bd[X].RM==Q){var u=_.Bd[X],n=_.TF.x+S.TF.x+r.TF.x+u.TF.x,k=_.TF.y+S.TF.y+r.TF.y+u.TF.y;
Z.uT=Z.uT.Us(new e3(n,k-w.lineHeight,u.uT.w,w.lineHeight));Z.wQ=u.wQ;X+=c}return Z}}}}}};ge.prototype.n6=function(){var e=Infinity,Z=Infinity,F=-Infinity,b=-Infinity;
for(var l=0;l<this.Qm.length;l++){var _=this.Qm[l];for(var d=0;d<_.sg.length;d++){var S=_.sg[d];if(!S.DO)break;
for(var U=S.start;U<S.end;U++){var r=_.jN[U];for(var q=r.sb;q<=r.tb;q++){var w=_.Bd[q],X=w.uT,Q=_.TF.x+S.TF.x+r.TF.x+w.TF.x,c=_.TF.y+S.TF.y+r.TF.y+w.TF.y;
e=Math.min(e,Q+X.x);Z=Math.min(Z,c+X.y);F=Math.max(F,Q+X.x+X.w);b=Math.max(b,c+X.y+X._)}}}}return new e3(e,Z,F-e,b-Z)};
ge.MI=function(e){return 19968<=e&&e<=40959||12288<=e&&e<=12543};ge.ahG=function(e,Z,F,b,_,d,S){var U=[d],r=0;
for(var l=d;l<S;l++){if(F[l]==null)console.log(l,d,S,F);var q=F[l].qw,w=q.charCodeAt(0);if(w==32||w==9){U.push(r,l,1,l+1);
r=0}else if(w==3851){U.push(r+1,l+1);r=0}else if(ge.MI(w)){U.push(r,l);r=1}else if(l!=d&&F[l].th!=F[l-1].th){U.push(r,l);
r=1}else r++}U.push(r);var X=[];for(var l=0;l<U.length;l+=2){var Q=U[l],c=U[l+1];if(c==0)continue;X.push(new ge.ahD(e,Z,F,b,_,Q,c))}return X};
ge.agY=function(e,Z,F,b,_,d,S){var U=[0,Z?Z.w:1e9],r=[];if(b){var q=e[d].c$,w=_+(_==0?q:e[d].lineHeight),X=w-q*.9,Q=V.H.BF(b[0],X),c=Q.length,u=V.H.BF(b[0],w),n=u.length;
if(c!=0&&n!=0){var k=0,B=0;U=[];while(k<c&&B<n){var o=Math.max(Q[k],u[B]),T=Q[k+1],z=u[B+1],W=Math.min(T,z);
if(o<W)U.push(o,W);if(T<z)k+=2;else B+=2}}}for(var $=0;$<U.length;$+=2){var R=U[$+1]-U[$],P=0,H=d,y=Z?R-F.StartIndent-F.EndIndent-(d==0?F.FirstLineIndent:0):Infinity;
while(d!=e.length){var h=e[d],m=P==0||(h.dj||h.yz)||P+h.uT.w<y;if(!m)break;P+=h.uT.w;d++}r.push(d-H)}S[0]=r;
S[1]=U;S[2]=d};ge.aot=function(e,Z){var F=e.length,b=new Uint32Array(F),_=new Uint8Array(F),d=0;for(var l=0;
l<F;l++){_[l]=0;var S=e.charCodeAt(l);b[l]=S;if(S>d)d=S}if(d>1424)_=ge.ad_(b,Z);return _};ge.SL=function(e,Z,F,b,_,d,S){this.jN=[];
this.sg=[];this.TF=new bI(0,0);this.Bd=null;this.jN=null;this.bd=fN.a88(e,b);var U=this.bd,X=0,u="",T=0,z=1,J=0;
if(b!=0){var r=U.SpaceBefore;if(r!=null)d[0]+=r}var q=e.EngineDict.ParagraphRun.RunLengthArray,w=q[b];
for(var l=0;l<b;l++)X+=q[l];var Q=U._Direction?U._Direction:0;this.acU=X;var c=fN.xf(e).slice(X,X+w);
for(var n=0;n<c.length;n++){var k=c.charAt(n);u+=F[X+n].bd.FontCaps==0?k:k.toUpperCase()}c=u;var B=ge.aot(c,Q),o=[],$=B[l]&1,R=F[X].tR;
F[X].th=B[0];for(var l=1;l<c.length;l++){var k=F[X+l],P=B[l];k.th=P;if(P!=$||k.tR!=R){o.push(T,z);T=l;
z=1;$=P;R=k.tR}else z++}o.push(T,z);var H=this.Bd=[];for(var l=0;l<o.length;l+=2){var y=o[l],h=o[l+1],m=(F[X+y].th&1)==0,t=c.slice(y,y+h),j=Typr.U.shapeHB(F[X+y].tR,t,m),x=[],f=0;
for(var n=0;n<j.length;n++){var C=j[n];x.push({z:C.g,RM:C.cl,Cl:C.ax,mU:C.ay,tK:C.dx,h0:C.dy})}j=x;var L=j.slice(0);
if(!m)L.reverse();for(var n=0;n<t.length;n++){while(f+1<L.length&&L[f+1].RM<=n){f++}while(f>0&&L[f-1].RM==n)f--;
F[X+y+n].lt=H.length+(m?f:L.length-f-1)}for(var n=0;n<j.length;n++){H.push(j[n]);j[n].RM+=y;var k=F[X+j[n].RM];
if(k.WZ!=-1){j[n].z=k.WZ;var D=k.tR.hmtx;if(D){var v=Object.keys(D)[0];j[n].Cl=D[v][k.WZ]}}if(k.qw=="\n")j[n].Cl=0;
if(k.qw=="\t")j[n].Cl=k.tR.head.unitsPerEm*36/k.bd.FontSize}}var A=fN.Jz(U),M=this.jN=ge.ahG(e,Z,F,X,H,X,X+w),Y=this.sg,I=-1,u=[null,null,0];
while(J<M.length){ge.agY(M,_,U,S,d[0],J,u);I++;var p={start:J,end:0,uT:new e3,TF:new bI(0,0),DO:!0},g7=0,dI=0;
Y.push(p);p.end=u[2];var a=p.end==M.length;function er(L,y,d$){var eX=d$-y>>>1;for(var l=0;l<eX;l++){var d3=L[y+l];
L[y+l]=L[d$-1-l];L[d$-1-l]=d3}}for(var c8=1;c8<5;c8++){var O=-1;for(var l=p.start;l<p.end;l++){var P=F[M[l].start].th;
if(O==-1&&P>=c8)O=l;else if(O!=-1&&P<c8){er(M,O,l);O=-1}}var dF=p.end;if(Q==0&&M[dF-1].dj)dF--;if(O!=-1)er(M,O,dF)}var gl=u[0],e0=u[1],O=J,bv=J;
for(var gm=0;gm<gl.length;gm++){var iW=e0[gm*2+1]-e0[gm*2],jx=0;O=bv;bv+=gl[gm];var aC=this.asL(O,bv,M,Q,_!=null);
if(_){if(A==1||a&&A==4)jx=aC[1]+(iW-aC[0]);if(A==2||a&&A==5)jx=aC[1]+(iW-aC[0])/2;if(I==0)jx+=U.FirstLineIndent;
jx+=U.StartIndent}else{if(A==0)jx=U.StartIndent+U.FirstLineIndent;if(A==1)jx=-aC[0]-U.EndIndent;if(A==2)jx=-aC[0]/2}jx+=e0[gm*2];
if(_&&A>2&&(A==6||!a))this.atR(O,bv,M,iW,Q,jx);else{var d9=jx;for(var l=O;l<bv;l++){var bS=M[l],jo=bS.uT.w;
bS.TF.x=d9;if(bS.E1=="\t")jo=Math.ceil((d9+4)/36)*36-d9;d9+=jo}}}J=p.end;for(var l=p.start;l<p.end;l++){var gn=M[l].uT.clone();
gn.g6(M[l].TF);p.uT=p.uT.Us(gn);g7=Math.max(g7,M[l].c$);dI=Math.max(dI,M[l].lineHeight)}p.TF.y=I==0?0:Y[I-1].TF.y+dI;
if(I==0){if(b==0&&_)d[0]+=g7;if(b!=0)d[0]+=dI;this.TF.y=d[0]}else d[0]+=dI;if(_)p.DO=this.TF.y+p.TF.y<_.y+_._}var hI=U.SpaceAfter;
if(hI!=null)d[0]+=hI};ge.SL.prototype.asL=function(e,Z,F,b,_){var d=0,S=0;for(var l=e;l<Z;l++)d+=F[l].uT.w;
if(_){if(b==0)for(var l=Z-1;l>=e;l--)if(F[l].dj||F[l].yz)d-=F[l].uT.w;else break;if(b==1)for(var l=e;
l<Z;l++)if(F[l].dj||F[l].yz){var U=F[l].uT.w;d-=U;S-=U}else break}return[d,S]};ge.SL.prototype.atR=function(e,Z,F,b,_,d){var S=0,U=0,r=0,q=0;
for(var l=e;l<Z;l++)if(F[l].dj)r++;else{S+=F[l].uT.w;U++}if(_==0)for(var l=Z-1;l>=e;l--)if(F[l].dj||F[l].yz){if(F[l].dj){r--}}else break;
if(_==1)for(var l=e;l<Z;l++)if(F[l].dj||F[l].yz){if(F[l].dj){r--;q++}}else break;if(U<=1||r==0){if(U==1)F[e].TF.x=d;
return}var w=(b-S)/r,X=-q*w;for(var l=e;l<Z;l++){if(F[l].dj)this.Bd[F[l].sb].uT.w=F[l].uT.w=w;F[l].TF.x=d+X;
X+=F[l].uT.w}};ge.ahD=function(e,Z,F,b,_,d,S){this.E1="";for(var l=0;l<S;l++)this.E1+=F[d+l].qw;this.dj=S==1&&(F[d].qw==" "||F[d].qw=="\t");
this.yz=S==1&&F[d].qw=="\n";this.start=d;this.end=d+S;this.uT=new e3;this.TF=new bI(0,0);this.c$=0;this.lineHeight=0;
var U=0,r=0;if(S==0){this.lineHeight=F[d].lineHeight;this.c$=F[d].c$;this.uT=new e3(0,-F[d].lineHeight,0,F[d].lineHeight)}var q=F[d].lt,w=F[d+S-1].lt;
if(w<q){var X=q;q=w;w=X}while(w+1<_.length&&_[w].RM==_[w+1].RM){w++}this.sb=q;this.tb=w;for(var Q=q;
Q<=w;Q++){var c=_[Q],u=F[b+c.RM],n=e._LineOrientation==2&&(u.bd.BaselineDirection!=2||ge.MI(u.qw.charCodeAt(0))),k=Typr.U.glyphToPath(u.tR,c.z),$=0;
c.path={C:k.cmds,s:k.crds};var B=u.bd.FontSize,o=1/u.tR.head.unitsPerEm*B;if(!u.bd.AutoKerning)U+=u.bd.Kerning*2*o*u.scale.x;
c.TF=new bI(U,0);c.wQ=0;if(n&&c.path.s.length>0){c.wQ=-Math.PI/2;c.TF.x+=B*.83;c.TF.y=-B*.3+c.Cl*o/2;
c.Cl=B/o}var T=c.Cl*o*u.scale.x;c.uT=new e3(0,-u.lineHeight,T,u.lineHeight);var z=c.uT.clone();z.g6(c.TF);
if(u.bd.Tracking!=null)$=u.bd.Tracking*.001*B;if(u.bd.FauxBold==!0)$+=.027*B;U+=T+$;if(S==1&&u.qw==" ")z.w+=2*$;
else if(S==1&&u.qw!=null&&ge.MI(u.qw.charCodeAt(0)))z.w+=$;this.uT=this.uT.Us(z);this.c$=Math.max(this.c$,u.c$);
this.lineHeight=Math.max(this.lineHeight,u.lineHeight)}};ge.VI=0;ge.abQ=function(e){if(ge.VI==2)return!0;
if(ge.VI==1)return!1;ge.VI=1;function Z(){fetch("code/ext/fribidi.wasm").then(function(F){return F.arrayBuffer()}).then(function(F){return WebAssembly.instantiate(F)}).then(function(F){var b=F.instance.exports,_=b.memory,d=16,S=256,U=1,r=d|S,q=d|S|U;
ge.ad_=function(X,Q){var c=X.length,u=c*4+4+c*4+c*4+c;fg.aW(b,u+c+1e7);var n=new Uint8Array(_.buffer),k=new Uint32Array(_.buffer),B=b.calloc(u,1),o=B+c*4,T=o+4,z=T+c*4,W=z+c*4;
k.set(X,B>>>2);k[o>>>2]=Q==0?r:q;b.fribidi_get_bidi_types(B,c,T);b.fribidi_get_bracket_types(B,c,T,z);
b.fribidi_get_par_embedding_levels_ex(T,z,c,o,W);var $=n.slice(W,W+c);b.free(B);return $};ge.VI=2;var w=new j8(G.E.W,!0);
w.data={d:G.B.aE,iH:"add",NG:c6.jZ,va:null};e.$(w)})}Typr.U.initHB("code/ext/hb.wasm",Z);return!1};function fN(){}fN.a1=function(e){return JSON.parse(JSON.stringify(e))};
fN.WC=function(e,Z){for(var F in Z)e[F]=Z[F]};fN.hB=function(e,Z,F){var b=fN.adD();if(F)fN.IY(b,0,0,F);
var _={A:new jg(1,0,0,1,Math.round(e),Math.round(Z)),HV:b};_.tr=fN.a8s();_.mw=V.YY.J();_.nq=new e3;return _};
fN.akW=function(e){var Z=["CharacterDirection",0];for(var l=0;l<Z.length;l+=2){if(e[Z[l]]!=null&&e[Z[l]]!=Z[l+1]){throw"e";
console.log(Z[l],e[Z[l]])}}if(e instanceof Array)for(var l=0;l<e.length;l++)fN.akW(e[l]);else if(e instanceof Object)for(var F in e)fN.akW(e[F])};
fN.Jz=function(e,Z){if(Z==null)Z=e.Justification;var F=e._Direction?e._Direction:0;if(F==1){if(Z==0||Z==3)Z++;
else if(Z==1||Z==4)Z--}return Z};fN.vI=function(e){if(e.add==null)return;var Z=e.HV,F=Z.Curve,b=e.add.vmsk,_=b.T,d=V.H.Ju(_,!0).s,S=e.A.clone();
S.eG();V.H.A(d,S,d);var U=d.slice(0,8);for(var r=8;r<d.length;r+=6)U.push(d[r-2],d[r-1],d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);
F.Points=U;F.TextOnPathTRange=b.yk.slice(0);F.Reversed=b._J;if(fN.ms(Z)==1){var F=ge.lv(Z.Curve),q=V.H.HA(F[0]);
fN.wH(Z,[0,0,q.w,q._].map(Math.round));for(var l=0;l<U.length;l+=2){U[l]-=q.x;U[l+1]-=q.y}var w=new jg(1,0,0,1,q.x,q.y);
w.concat(e.A);e.A=w}};fN.yU=function(e){if(e.add==null)return;var Z=e.add.vmsk,F=e.HV.Curve,b=F.Points,_={C:["M"],s:[b[0],b[1]]};
for(var l=0;l<b.length;l+=8){_.C.push("C");_.s.push(b[l+2],b[l+3],b[l+4],b[l+5],b[l+6],b[l+7])}V.H.A(_.s,e.A,_.s);
var d=V.H.t6(_,!0);Z.T=d;Z._J=F.Reversed;Z.yk=F.TextOnPathTRange.slice(0);e.add.vogk=g.ov(d)};fN.Gb=function(e){var Z={o:0,z:0,S:0};
if(e){var F=e.Values;if(e.Type==1)Z={o:F[1]*255,z:F[2]*255,S:F[3]*255};else if(e.Type==2){var b={classID:"CMYC",Cyn:{t:"doub",v:F[1]*100},Mgnt:{t:"doub",v:F[2]*100},Ylw:{t:"doub",v:F[3]*100},Blck:{t:"doub",v:F[4]*100}};
Z=V.X.Gb(b)}else console.log("Unknown color type")}return Z};fN.aoC=function(e){for(var l=0;l<e.length;
l++){var Z=e[l].StyleSheet.StyleSheetData,F=Z.FillColor;if(F&&F.Type==2){var b=fN.Gb(F);F.Type=1;F.Values=[1,b.o/255,b.z/255,b.S/255]}}};
fN.jK=function(e,Z){var F;if(fN.ms(e.HV)==1){var b=fN.Lx(e.HV);F=new e3(0,0,b[2]-b[0],b[3]-b[1])}else{F=Z.n6();
if(Z.wF){var _=Z.wF.clone(),d=V.H.gb(F);V.H.A(d.s,_,d.s);F=V.H.HA(d.s)}}return F};fN.vp=function(e){var Z=e[0];
for(var l=0;l<e.length;l++)Z=fN.aos(Z,e[l]);return Z};fN.aos=function(e,Z){var F={};for(var b in e)if(JSON.stringify(e[b])==JSON.stringify(Z[b]))F[b]=e[b];
return F};fN.Kh=function(e,Z){var F=e.j3,b=-1;for(var l=0;l<F.length;l++)if(F[l].Name==Z)b=l;if(b==-1){b=F.length;
F.push({FontType:1,Name:Z,Script:0,Synthetic:0})}e.sn.Font=b};fN.xf=function(e){return e.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fN.Pd=function(e,Z){e.EngineDict.Editor.Text=Z.replace(/\n/g,"\r")};fN.ms=function(e){return e.Curve&&e.Curve.TextOnPathTRange[0]>=0?2:e.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fN.mJ=function(e,Z){var F=e.EngineDict.Rendered.Shapes.Children[0];F.ShapeType=Z;var b=F.Cookie.Photoshop;
b.ShapeType=Z;b.Base.ShapeType=Z;if(Z==0){delete b.BoxBounds;b.PointBase=[0,0]}if(Z==1){delete b.PointBase;
b.BoxBounds=[0,0,1,1]}};fN.Lx=function(e){return e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fN.wH=function(e,Z){e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=Z};fN.a23=function(e,Z){var F=e.EngineDict.AlternateGlyphRun;
if(F==null)return-1;var b=fN._Q(F.RunLengthArray,Z).il,_=F.RunArray[b].Glyph;return _==null?-1:_};fN.asE=function(e,Z,F){var b=e.EngineDict.AlternateGlyphRun;
if(b==null){b=e.EngineDict.AlternateGlyphRun=fN.ae7();b.RunArray.push({});b.RunLengthArray.push(fN.xf(e).length)}var _=fN._Q(b.RunLengthArray,Z),d=_.il,S=Z-_.MA,U=b.RunArray[d],r=JSON.stringify(U),q=b.RunLengthArray[d];
if(S!=0){b.RunArray.splice(d,0,JSON.parse(r));b.RunLengthArray.splice(d,0,S);b.RunLengthArray[d+1]-=S;
d++;q-=S;S=0}if(q!=1){b.RunArray.splice(d+1,0,JSON.parse(r));b.RunLengthArray.splice(d+1,0,q-1);b.RunLengthArray[d]=1;
q=1}U.Glyph=F};fN.aoc=function(e,Z){return fN.a27(e,fN.arI(e,Z))};fN.arI=function(e,Z){var F=e.EngineDict.StyleRun.RunLengthArray;
return fN._Q(F,Z).il};fN.a27=function(e,Z){var F=e.ResourceDict.StyleSheetSet[0].StyleSheetData,b={};
for(var _ in F)b[_]=F[_];var d=e.EngineDict.StyleRun.RunArray[Z].StyleSheet.StyleSheetData;fN.WC(b,d);
return b};fN.a88=function(e,Z){var F=e.ResourceDict.ParagraphSheetSet[0].Properties,b={};for(var _ in F)b[_]=F[_];
var d=e.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;fN.WC(b,d);var S=["StartIndent","EndIndent","FirstLineIndent"];
for(var l=0;l<3;l++)if(b[S[l]]==null)b[S[l]]=0;return b};fN.Z4=function(e,Z,F){if(F=="")return;var b=fN.xf(e);
fN.Pd(e,b.substring(0,Z)+F+b.substring(Z,b.length));var _=e.EngineDict.StyleRun,d=_.RunLengthArray,S=fN._Q(d,Z-1);
d[S.il]+=F.length;var U=e.EngineDict.AlternateGlyphRun;if(U){var d=U.RunLengthArray,S=fN._Q(d,Z-1);d[S.il]+=F.length}var r=e.EngineDict.ParagraphRun,d=r.RunLengthArray,q=fN._Q(d,Z),w=F.split("\n");
if(w.length==1){d[q.il]+=F.length;return}d.splice(q.il+1,0,d[q.il]-(Z-q.MA));r.RunArray.splice(q.il+1,0,fN.a1(r.RunArray[q.il]));
d[q.il]-=d[q.il+1];d[q.il]+=w[0].length+1;for(var l=1;l<w.length-1;l++){r.RunArray.splice(q.il+l,0,fN.a1(r.RunArray[q.il+l-1]));
r.RunLengthArray.splice(q.il+l,0,w[l].length+1)}d[q.il+w.length-1]+=w[w.length-1].length};fN.HO=function(e,Z,F){var b=fN.xf(e);
fN.Pd(e,b.substring(0,Z)+b.substring(F,b.length));fN.gr(e.EngineDict.ParagraphRun,Z,F,!0);fN.gr(e.EngineDict.StyleRun,Z,F,!1);
var _=e.EngineDict.AlternateGlyphRun;if(_)fN.gr(_,Z,F,!1)};fN.gr=function(e,Z,F,b){var _=e.RunLengthArray,d=fN._Q(_,Z),S=fN._Q(_,F),U=[];
for(var l=0;l<_.length;l++)for(var r=0;r<_[l];r++)U.push(l);U.splice(Z,F-Z);var q=[];for(var l=0;l<_.length;
l++)q.push(0);for(var l=0;l<U.length;l++)q[U[l]]++;for(var l=0;l<_.length;l++){if(q[l]==0){q.splice(l,1);
_.splice(l,1);e.RunArray.splice(l,1);l--}else if(q[l]<_[l])_[l]=q[l]}if(b&&d.il!=S.il&&d.MA!=Z){_[d.il]+=_[d.il+1];
_.splice(d.il+1,1);e.RunArray.splice(d.il+1,1)}};fN.IY=function(e,Z,F,b){var _=e.EngineDict.Editor.Text.length;
if(F==_-2)F++;if(b.sn.Font!=null)e.ResourceDict.FontSet=b.j3.slice(0);if(Z<=F)fN.adq(e.EngineDict.StyleRun,b.sn,Z,F,!0);
fN.adq(e.EngineDict.ParagraphRun,b.Qm,Z,F,!1)};fN.C7=function(e,Z,F){var b={j3:e.ResourceDict.FontSet.slice(0),sn:[],Qm:[]},_=e.EngineDict.StyleRun.RunLengthArray,d=fN._Q(_,Z).il,S=fN._Q(_,F).il;
for(var l=d;l<=S;l++){var U=fN.a1(e.ResourceDict.StyleSheetSet[0].StyleSheetData),r=e.EngineDict.StyleRun.RunArray;
if(r.length==0)continue;var q=r[l].StyleSheet.StyleSheetData;fN.WC(U,q);b.sn.push(U)}var w=e.EngineDict.ParagraphRun.RunLengthArray,X=fN._Q(w,Z).il,Q=fN._Q(w,F).il;
for(var l=X;l<=Q;l++){var c=e.EngineDict.ParagraphRun.RunArray;if(c.length==0)continue;b.Qm.push(fN.a1(c[l].ParagraphSheet.Properties))}b.sn=b.sn.length==0?{}:fN.vp(b.sn);
b.Qm=b.Qm.length==0?{}:fN.vp(b.Qm);return b};fN.adq=function(e,Z,F,b,_){var d=e.RunLengthArray;if(_){var S=fN._Q(d,F);
if(S.MA!=F){var U=d[S.il];d.splice(S.il,0,F-S.MA);d[S.il+1]=U-d[S.il];e.RunArray.splice(S.il+1,0,fN.a1(e.RunArray[S.il]))}var r=fN._Q(d,b);
if(r.MA+d[r.il]-1!=b){var U=d[r.il];d.splice(r.il,0,b-r.MA+1);d[r.il+1]=U-d[r.il];e.RunArray.splice(r.il+1,0,fN.a1(e.RunArray[r.il]))}}var S=fN._Q(d,F),r=fN._Q(d,b);
if(_)for(var l=S.il;l<=r.il;l++)fN.WC(e.RunArray[l].StyleSheet.StyleSheetData,Z);else for(var l=S.il;
l<=r.il;l++)fN.WC(e.RunArray[l].ParagraphSheet.Properties,Z)};fN.a7I=function(e,Z,F){var b=e.EngineDict.StyleRun.RunLengthArray,_=[],d=0;
for(var l=0;l<b.length;l++){var S=b[l];for(var U=0;U<S;U++)if(Z<=d+U&&d+U<F)_.push(l);d+=S}var r=_[0],q=[];
for(var l=0;l<_.length;l++){var w=_[l]-r;if(w==q.length)q.push(0);q[w]++}return q};fN.a0J=function(e){var Z=e.EngineDict.StyleRun,F=Z.RunArray,b=Z.RunLengthArray;
for(var l=0;l<b.length-1;l++){var _=F[l].StyleSheet.StyleSheetData,d=F[l+1].StyleSheet.StyleSheetData;
if(JSON.stringify(_)==JSON.stringify(d)){F.splice(l+1,1);b[l]+=b[l+1];b.splice(l+1,1);l--}}};fN.zK=function(e){var Z=e.tr.AntA.v.Annt;
Z=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(Z);if(Z==-1)Z=1;return Z};fN.W_=function(e,Z){e.tr.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][Z]};
fN.G$=function(e,Z){var F,b;F=["FontSize","Leading","BaselineShift"];b=e.sn;for(var l=0;l<F.length;l++)if(b[F[l]]!=null)b[F[l]]*=Z;
F=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];b=e.Qm;for(var l=0;l<F.length;
l++)if(b[F[l]]!=null)b[F[l]]*=Z};fN.adP=function(){return fN.C7(fN.apC,0,0)};fN.a8s=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
fN._Q=function(e,Z){var F=0,l=0;while(F+e[l]<=Z){F+=e[l];l++}return{il:l,MA:F}};fN.adD=function(){var e=fN.a1(this.apC);
return e};fN.a8r={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fN.a9P={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fN.ae7=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fN.apC={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fN.a8r))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fN.a8r))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(fN.a9P))}],FontSet:[{Name:"SourceHanSansSC-Regular",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var f9={};f9.ash=function(e){var Z=f9.a1T(e._0,e._1);f9.aqb(Z,e._0);return Z};f9.a2a=function(e,Z,F){var b={};
b._98={_0:"i7"};b._0=f9.a72(e,Z,F?F._0:null);b._1=f9.a4B(e,Z,b._0,F?F._1:null);return b};f9.a72=function(e,Z,F){var b={};
b._1=f9.a4Y(e,F?F._1:null);b._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};b._3=JSON.parse(JSON.stringify(f9.alF));
b._4=JSON.parse(JSON.stringify(f9.akO));b._5=f9.a1h(e,b._1._0,F?F._5:null);b._6=f9.a1$(e,F?F._6:null);
b._8=f9.ad6(e,Z,F?F._8:null);b._9=f9.ak9;return b};f9.aqb=function(e,Z){f9.abN(e,Z._5,Z._1._0)};f9.a4Y=function(e,Z){var F=[],b=[];
for(var l=0;l<e.length;l++){var _=e[l].ResourceDict.FontSet;for(var d=0;d<_.length;d++){var S=_[d];if(b.indexOf(S.Name)!=-1)continue;
F.push(S);b.push(S.Name)}}var U={_0:[]};for(var l=0;l<F.length;l++){var r=F[l],q={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+r.Name,_1:"i"+r.Script,_2:"i"+r.FontType}}};
if(r.Script==0)delete q._0._0._1;U._0.push(q)}return U};f9.a1h=function(e,Z,F){var b={_0:[],_1:[]},_={_0:JSON.parse(JSON.stringify(f9.a6I))};
f9.a29(_._0,e[0].ResourceDict.StyleSheetSet[0],Z,e[0].ResourceDict.FontSet);b._0.push(_);b._1.push({_0:"i0"});
b._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});b._1.push({_0:"i1"});return b};f9.abN=function(e,Z,F){var b=Z._0[0];
for(var l=0;l<e.length;l++)f9.aiP(b._0,e[l].ResourceDict.StyleSheetSet[0],F,e[l].ResourceDict.FontSet)};
f9.a1$=function(e,Z){var F={_0:[],_1:[]},b={_0:JSON.parse(JSON.stringify(f9.Gd))};f9.hw(b._0,e[0].ResourceDict.ParagraphSheetSet[0]);
F._0.push(b);F._1.push({_0:"i0"});b={_0:JSON.parse(JSON.stringify(f9.Gd))};f9.hw(b._0,e[0].ResourceDict.ParagraphSheetSet[0]);
b._0._0="sBasic Paragraph";b._0._6="i0";F._0.push(b);F._1.push({_0:"i1"});return F};f9.ad6=function(e,Z,F){var b={_0:[]};
for(var l=0;l<e.length;l++){var _=e[l].Curve,d={};b._0.push({_0:d});var S=fN.ms(e[l]);d._2={};d._2._0="i"+S;
if(e[l]._LineOrientation==2)d._2._1="i2";if(S==0){d._2._6=["f-1","f-1"];d._2._11={_4:"i-1",_7:!1}}else if(S==1&&_==null){var U=fN.Lx(e[l]),r=U[2],q=U[3];
d._1={_0:f9.lj("f",[0,0,0,0,r,0,r,0,r,0,r,0,r,q,r,q,r,q,r,q,0,q,0,q,0,q,0,q,0,0,0,0])};d._2._6=["f-2","f-2"];
d._2._11={_4:"i-2",_7:!1}}else if(S==1){var U=fN.Lx(e[l]),r=U[2],q=U[3];d._1={_0:f9.lj("f",_.Points)};
d._2._6=["f-3","f-3"];d._2._11={_4:"i-3",_7:!1}}else if(S==2){d._1={_0:f9.lj("f",_.Points)};d._2._6=f9.lj("f",_.TextOnPathTRange);
d._2._11={_0:_.Reversed,_3:"i0",_5:"f0",_7:!1}}}return b};f9.a4B=function(e,Z,F,b){var _={};_._0=JSON.parse(JSON.stringify(f9.aj$));
_._1=f9.ap8(e,Z,F,b?b._1:null);_._2=JSON.parse(JSON.stringify(f9.a6I._6));_._3=JSON.parse(JSON.stringify(f9.Gd._5));
return _};f9.a1T=function(e,Z){return f9.ai0(e,Z._1)};f9.ap8=function(e,Z,F,b){var _=[],d=F._1._0;for(var l=0;
l<e.length;l++){var S=e[l],U={_0:{}};_.push(U);U._0._0="s"+S.EngineDict.Editor.Text;U._0._0=U._0._0;
var r=U._0._5={_0:[]},q=S.EngineDict.ParagraphRun;for(var w=0;w<q.RunArray.length;w++){var X={_0:{}};
r._0.push(X);X._0._0={_0:"s",_5:{},_6:"i1"};f9.hw(X._0._0,q.RunArray[w].ParagraphSheet);X._1="i"+q.RunLengthArray[w]}var Q=U._0._6={_0:[]};
q=S.EngineDict.StyleRun;for(var w=0;w<q.RunArray.length;w++){var c={_0:{}};Q._0.push(c);c._0._0={_0:"s",_5:"i1",_6:{}};
f9.a29(c._0._0,q.RunArray[w].StyleSheet,d,S.ResourceDict.FontSet);c._1="i"+q.RunLengthArray[w]}q=S.EngineDict.AlternateGlyphRun;
if(q){var u=U._0._9={_0:[]};for(var w=0;w<q.RunArray.length;w++){var n={_0:{}};u._0.push(n);var k=q.RunArray[w];
if(k.Glyph!=null){n._0._0={_0:"i"+k.Glyph,_1:"e"}}n._1="i"+q.RunLengthArray[w]}}U._0._10={_0:"i4",_2:!0};
U._1=f9.view.amr(S,null,l,null)}return _};f9.ai0=function(e,Z){var F=[],b=e._1._0;for(var l=0;l<Z.length;
l++){var _=fN.adD();F.push(_);var d=Z[l];_.EngineDict.Editor.Text=d._0._0.slice(1);var S=_.EngineDict.ParagraphRun.RunArray[0],U=_.EngineDict.ParagraphRun,r=d._0._5;
if(r)for(var q=0;q<r._0.length;q++){var w=r._0[q];U.RunLengthArray[q]=parseInt(w._1.slice(1));U.RunArray[q]=JSON.parse(JSON.stringify(S));
f9.abO(w._0._0,U.RunArray[q].ParagraphSheet)}else{U.RunLengthArray[0]=fN.xf(_).length}var X=d._0._6;
U=_.EngineDict.StyleRun;if(X)for(var q=0;q<X._0.length;q++){var Q=X._0[q];U.RunLengthArray[q]=parseInt(Q._1.slice(1));
U.RunArray[q]={StyleSheet:{StyleSheetData:{}}};f9.aiP(Q._0._0,U.RunArray[q].StyleSheet,b,_.ResourceDict.FontSet)}else{U.RunLengthArray[0]=fN.xf(_).length;
U.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return F};f9.a29=function(e,Z,F,b,_){e._0="s"+(Z.Name?Z.Name:"");
var d=e._6,S=_?_._6:null,U=Z.StyleSheetData;if(U.Font==null)return;var r=b[U.Font].Name,q=-1;for(var l=0;
l<F.length;l++)if("s"+r==F[l]._0._0._0){q=l;break}d._0="i"+q;if(U.FontSize!=null)d._1="f"+U.FontSize;
if(U.FauxBold!=null)d._2=U.FauxBold;if(U.FauxItalic!=null)d._3=U.FauxItalic;if(U.AutoLeading!=null)d._4=U.AutoLeading;
if(U.Leading!=null)d._5="f"+U.Leading;if(U.HorizontalScale!=null)d._6="f"+U.HorizontalScale;if(U.VerticalScale!=null)d._7="f"+U.VerticalScale;
if(U.Tracking!=null)d._8="i"+U.Tracking;if(U.BaselineShift!=null)d._9="f"+U.BaselineShift;if(U.AutoKerning!=null)d._11="i"+(U.AutoKerning?1:0);
if(U.FontCaps!=null)d._12="i"+U.FontCaps;if(U.FontBaseline!=null)d._13="i"+U.FontBaseline;if(U.Strikethrough!=null)d._15="i"+(U.Strikethrough?1:0);
if(U.Underline!=null)d._16="i"+(U.Underline?2:0);if(U.Ligatures!=null)d._18=U.Ligatures;if(U.DLigatures!=null)d._19=U.DLigatures;
if(U.BaselineDirection!=null)d._35="i"+U.BaselineDirection;if(U.Language!=null)d._38="i"+U.Language;
if(U.FillColor!=null)d._53=f9.cP(U.FillColor);if(U.StrokeColor!=null)d._54=f9.cP(U.StrokeColor);if(U.FillFlag!=null)d._56=U.FillFlag;
if(U.StrokeFlag!=null)d._57=U.StrokeFlag;if(U._LineWidth!=null)d._63="f"+U._LineWidth;if(U._FillBackgroundColor!=null)d._79=f9.cP(U._FillBackgroundColor);
if(U._FillBackgroundFlag!=null)d._80=U._FillBackgroundFlag};f9.cP=function(e){return{_99:"/SimplePaint",_0:{_0:"i1",_1:f9.lj("f",e.Values)}}};
f9.aiP=function(e,Z,F,b){var _=e._6;if(_==null)return;var d=Z.StyleSheetData;if(_._0){var S=parseInt(_._0.slice(1)),U=F[S]._0._0._0.slice(1);
fN.Kh({sn:d,j3:b},U)}if(_._1!=null)d.FontSize=parseFloat(_._1.slice(1));if(_._2!=null)d.FauxBold=_._2;
if(_._3!=null)d.FauxItalic=_._3;if(_._4!=null)d.AutoLeading=_._4;if(_._5!=null)d.Leading=parseFloat(_._5.slice(1));
if(_._6!=null)d.HorizontalScale=parseFloat(_._6.slice(1));if(_._7!=null)d.VerticalScale=parseFloat(_._7.slice(1));
if(_._8!=null)d.Tracking=parseFloat(_._8.slice(1));if(_._9!=null)d.BaselineShift=parseFloat(_._9.slice(1));
if(_._11!=null)d.AutoKerning=parseFloat(_._11.slice(1))==1;if(_._12!=null)d.FontCaps=parseFloat(_._12.slice(1));
if(_._13!=null)d.FontBaseline=parseFloat(_._13.slice(1));if(_._15!=null)d.Strikethrough=parseFloat(_._15.slice(1))==1;
if(_._16!=null)d.Underline=parseFloat(_._16.slice(1))==1;if(_._18!=null)d.Ligatures=_._18;if(_._19!=null)d.DLigatures=_._19;
if(_._35!=null)d.BaselineDirection=parseFloat(_._35.slice(1));if(_._38!=null)d.Language=parseFloat(_._38.slice(1));
if(_._53!=null)d.FillColor=f9.Ja(_._53);if(_._54!=null)d.StrokeColor=f9.Ja(_._54);if(_._56!=null)d.FillFlag=_._56;
if(_._57!=null)d.StrokeFlag=_._57;if(_._63!=null)d._LineWidth=parseFloat(_._63.slice(1));if(_._79!=null)d._FillBackgroundColor=f9.Ja(_._79);
if(_._80!=null)d._FillBackgroundFlag=_._80};f9.Ja=function(e){var Z=e._0._0,F=e._0._1,b=[1,0,0,0],_=[];
for(var l=0;l<F.length;l++)_[l]=parseFloat(F[l].slice(1));if(Z=="i0")b[1]=b[2]=b[3]=_[1];else if(Z=="i1")b=_;
else if(Z=="i2")b=[1].concat(UDOC.C.cmykToRgb(_.slice(1)));else console.log("unknown color type",Z,_);
return{Type:1,Values:b}};f9.hw=function(e,Z){e._0="s"+(Z.Name?Z.Name:"");var F=e._5,b=Z.Properties;if(b.Justification!=null)F._0="i"+b.Justification;
if(b.FirstLineIndent!=null)F._1="f"+b.FirstLineIndent;if(b.StartIndent!=null)F._2="f"+b.StartIndent;
if(b.EndtIndent!=null)F._3="f"+b.EndtIndent;if(b.SpaceBefore!=null)F._4="f"+b.SpaceBefore;if(b.SpaceAfter!=null)F._5="f"+b.SpaceAfter;
if(b.AutoHyphenate!=null)F._9=b.AutoHyphenate;if(b._Direction!=null)F._33="i"+b._Direction;if(b._ComposerEngine!=null)F._35="i"+b._ComposerEngine};
f9.abO=function(e,Z){var F=e._5;if(F==null)return;var b=Z.Properties;if(F._0)b.Justification=parseInt(F._0.slice(1))};
f9.lj=function(e,Z){var F=[];for(var l=0;l<Z.length;l++)F.push(e+Z[l]);return F};f9.alF={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
f9.akO={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
f9.a6I={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
f9.Gd={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
f9.ak9={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
f9.aj$={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var hz={};hz.a5V=function(e){return hz.gv(e,hz.CB,0)};hz.a3J=function(e){return hz.UY(e,hz.CB)};hz.gv=function(e,Z,F){var b;
if(typeof e=="string")return e;if(e instanceof Array){b=[];for(var l=0;l<e.length;l++)b[l]=hz.gv(e[l],Z,F+1)}else{b={};
var _={};for(var d in Z){var S=Z[d],U="_"+S[0];if(e[U]!=null){b[d]=S[1]?hz.gv(e[U],S[1],F+1):e[U];_[U]=!0}}for(var d in e){if(_[d]==null){if(d.length>3)continue;
console.log(Z,_);console.log(d,e);throw"e"}}}return b};hz.UY=function(e,Z){var F;if(typeof e=="string")return e;
else if(e instanceof Array){F=[];for(var l=0;l<e.length;l++)F[l]=hz.UY(e[l],Z)}else{F={};var b={};for(var _ in Z){var d=Z[_],S="_"+d[0];
if(e[_]!=null){F[S]=d[1]?hz.UY(e[_],d[1]):e[_];b[_]=!0}}for(var _ in e){if(b[_]==null){console.log(Z,b);
console.log(_,e);throw"e"}}}return F};hz.vE={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
hz.KU={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,hz.vE],_StrokeColor:[54,hz.vE],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,hz.vE],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
hz.agW={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,hz.KU],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
hz.af3={_Name:[0],_Features:[5,hz.agW],_Parent:[6],_97:[97]};hz.a5M={_Name:[0],_Parent:[5],_Features:[6,hz.KU],_97:[97]};
hz.CB={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,hz.a5M]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,hz.af3]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,hz.af3]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,hz.a5M]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,hz.KU],_OriginalNormalParagraphFeatures:[3,hz.agW]}]};
f9.view={};f9.view.amr=function(e,Z,F,b){var _={},d=fN.ms(e);_._0=[{_0:"i"+F}];return _};function CSS(){}CSS.arx=function(e,Z){var F=e.add,b=F.vmsk,_=F.vstk,d=F.lmfx,S=F.TySh,U=[],r=CSS.adE(d,F);
if(e._l()&&b){var q=V.c.wS(b.T);if(!q.BJ()){U.push("width: "+Math.round(q.w)+"px");U.push("height: "+Math.round(q._)+"px")}var w=V.c.abl(b.T);
if(w>0)U.push("border-radius: "+Math.round(w)+"px")}else if(S){var X=S.HV;if(fN.ms(X)==1){var q=fN.Lx(X);
U.push("width: "+Math.round(q[2])+"px");U.push("height: "+Math.round(q[3])+"px")}CSS.a14(U,fN.C7(X,0,0),S.A,!1,!1,r[0])}var Q=[],c=d?d.dropShadowMulti.v:0;
for(var l=0;l<c.length;l++){var u=c[l].v;if(u.enab.v){var n=u.Dstn.v.val,k=u.lagl.v.val*Math.PI/180;
if(u.uglg&&u.uglg.v)k=Z.Kv()*Math.PI/180;var B=n*Math.cos(k),o=n*Math.sin(k);Q.push("drop-shadow("+(B==0?"0 ":CSS.N2(-B)+"px ")+(o==0?"0 ":CSS.N2(o)+"px ")+u.blur.v.val/2+"px "+CSS.xO(u.Clr.v,u.Opct.v.val/100)+")")}}if(Q.length!=0)U.push("filter: "+Q.join(" "));
if(S==null)CSS.ane(r,U);if(_==null||!_.strokeEnabled.v)_=d4.Oh(d);if(_&&_.strokeEnabled.v){var T=_.strokeStyleContent.v,z=T.classID,$=fu.jA.H9.indexOf(_.strokeStyleLineCapType.v.strokeStyleLineCapType),R=fu.jA.join.indexOf(_.strokeStyleLineJoinType.v.strokeStyleLineJoinType),P=_.strokeStyleOpacity.v.val/100,H=_.strokeStyleLineWidth.v.val,y="";
if(z=="solidColorLayer")y=CSS.xO(T.Clr.v,P);U.push("border: "+H+"px solid "+y)}return U};CSS.adE=function(e,Z){var F=d4.dr(e,Z),b=F[0],_=F[1],d,S;
if(b){d=CSS.xO(b.Clr.v,Z.iOpa!=null?Z.iOpa/255:1)}else if(_){S=CSS.Xt(_)}return[d,S]};CSS.ane=function(e,Z){if(e[0])Z.push("background-color: "+e[0]);
if(e[1])Z.push("background-image: "+e[1])};CSS.nD={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.N2=function(gi){return""+parseFloat(gi.toFixed(3))};CSS.PT=function(e){if(e==null)return{o:0,z:0,S:0};
var Z=e.indexOf("(");if(Z!=-1){var F=e.slice(Z+1,e.length-1).split(",");for(var l=0;l<F.length;l++){var b=F[l].trim();
F[l]=parseFloat(b)*(b.endsWith("%")?255/100:1)}return{o:F[0],z:F[1],S:F[2]}}if(e.charAt(0)!="#"){var _=CSS.nD;
if(_[e])e=_[e];else console.log("unknown color "+e)}e=e.slice(1);if(e.length==3)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];
e=parseInt(e,16);return{o:e>>16&255,z:e>>8&255,S:e&255}};CSS.xO=function(e,Z){return CSS.$X(V.X.Gb(e),Z)};
CSS.$X=function(e,Z){if(Z==null)Z=1;var F=Math.round(e.o),b=Math.round(e.z),_=Math.round(e.S),d=F<<16|b<<8|_;
return Z==1?"#"+V.Z0(d):"rgba("+F+","+b+","+_+","+Z+")"};CSS.Xt=function(e){var Z=e.Grad.v;if(Z.Clrs==null)return"";
var F=Z.Clrs.v.slice(0),b=Z.Trns.v.slice(0),_=e.Ofst.v,d=e.Type.v.GrdT=="Rdl"?1:0,S=(d==1?"radial":"linear")+"-gradient",U=d==0?Math.round(-e.Angl.v.val+90)+"deg":"circle at center",r=e.Rvrs.v;
if(r){F.reverse();b.reverse()}for(var l=0;l<F.length;l++){var q=F[l].v,w=l<b.length?b[l].v.Opct.v.val/100:1,X=q.Lctn.v/4096;
if(r)X=1-X;U+=", "+CSS.xO(q.Clr.v,w)+" "+Math.round(X*100)+"%"}return S+"("+U+")"};CSS.a14=function(e,Z,F,b,_,d){var S=Z.sn,U=b?1:i.Q.YE(F),r=Math.round(S.FontSize*U);
e.push("font-size: "+r+"px");var q=S.Tracking;if(!b&&q!=null&&q!=0)e.push("letter-spacing: "+Math.round(q*r/1e3)+"px");
if(!S.AutoLeading)e.push("line-height: "+Math.round(S.Leading*U)+"px");if(S.Strikethrough)e.push("text-decoration: line-through");
if(S.Underline)e.push("text-decoration: underline");var w=fN.Gb(S.FillColor);w=[w.o,w.z,w.S].map(Math.round);
e.push((b?"fill: ":"color: ")+(d?d:"#"+V.Z0(w[0]<<16|w[1]<<8|w[2])));var X=Z.j3[S.Font].Name;if(X){var Q=bh.O6.J7(X),c="",u=null,n=null;
if(Q!=null&&X!=bh.Z7(Q))Q=null;if(_&&Q)c+="\""+X+"\", ";var k=X.toLowerCase();if(Q){u=bh.xT(Q)[0];if(Q["OS/2"])n=Q["OS/2"].usWeightClass}else{u=CSS.ahy(X);
if(k.indexOf("light")!=-1)n=300;else if(k.indexOf("medium")!=-1)n=500;else if(k.indexOf("black")!=-1||k.indexOf("extrabold")!=-1)n=800;
else if(k.indexOf("bold")!=-1)n="bold"}if(u!=null)c+="\""+u+"\"";if(n!=null)e.push("font-weight: "+n);
if(k.indexOf("italic")!=-1||k.indexOf("oblique")!=-1)e.push("font-style: italic");if(c)e.push("font-family: "+c)}var B=Z.Qm.Justification;
if(B!=null&&B!=0)if(b){}else e.push("text-align: "+["left","right","center"][B%3])};CSS.ahy=function(e){e=e.split("-")[0];
while(e.endsWith("MT")||e.endsWith("PS"))e=e.slice(0,e.length-2);var Z=!0;for(var l=0;l<e.length;l++){var F=e.charAt(l);
if(!Z&&F.toLowerCase()!=F){e=e.slice(0,l)+" "+e.slice(l);l++;Z=!0}else Z=!1}return e};function jw(){}jw.xN={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
jw.iZ=function(e,Z){var F=Date.now(),b;try{b=acorn.parse(e)}catch(gA){console.log(gA);return}var _=JSON.parse(JSON.stringify(jw.zE.sD));
_.__return=!1;_.__continue=!1;_.__break=!1;_.__throw=!1;_.__fs={};_.__window={};jw.eval(b,Z,_);var d=_.__fs;
if(Object.keys(d).length!=0){var S=UZIP.encode(d);h5.save(S,"output.zip")}};jw.eval=function(e,Z,F){var b=e.type;
if(!1){}else if(b=="Program"||b=="BlockStatement"){var _=e.body;for(var l=0;l<_.length;l++){var d=_[l].type;
if(d=="FunctionDeclaration")F[_[l].id.name]=_[l]}for(var l=0;l<_.length;l++){var d=_[l].type,S=jw.eval(_[l],Z,F);
if(F.__continue){F.__continue=!1;return S}if(F.__return||F.__break||F.__throw)return S}}else if(b=="ReturnStatement"){F.__return=!0;
return e.argument?jw.Zr(e.argument,Z,F):null}else if(b=="BreakStatement"){F.__break=!0}else if(b=="ContinueStatement"){F.__continue=!0}else if(b=="VariableDeclaration"){var U=e.declarations;
for(var l=0;l<U.length;l++)jw.eval(U[l],Z,F)}else if(b=="VariableDeclarator"){F[e.id.name]=e.init?jw.Zr(e.init,Z,F):null}else if(b=="FunctionDeclaration"){F[e.id.name]=e}else if(b=="MemberExpression"){var r=jw.Zr(e.object,Z,F),q=e.computed?jw.Zr(e.property,Z,F):jw.eval(e.property,Z,F),S;
if(r.$v!=null)S=jw.zE.oQ(r,q,Z,F);else if(r==window&&jw.xN[q]){}else S=r[q];return S}else if(b=="ArrayExpression"){var w=[],X=e.elements;
for(var l=0;l<X.length;l++)w.push(jw.Zr(X[l],Z,F));return w}else if(b=="ObjectExpression"){var w={},X=e.properties;
for(var l=0;l<X.length;l++){var Q=X[l],c=X[l].key.name?X[l].key.name:X[l].key.value;w[c]=jw.Zr(X[l].value,Z,F)}return w}else if(b=="ExpressionStatement"){return jw.eval(e.expression,Z,F)}else if(b=="NewExpression"){var u=e.arguments,n=e.callee,k=n.type,B=[],w=null;
for(var l=0;l<u.length;l++)B.push(jw.Zr(u[l],Z,F));if(k=="Identifier")w=jw.zE.a2T(n.name,B,Z,F);else throw"e";
if(w==null)throw"new "+n.name;return w}else if(b=="CallExpression"){var u=e.arguments,n=e.callee,k=n.type,o={};
for(var T in F)o[T]=F[T];var B=[];for(var l=0;l<u.length;l++)B.push(jw.Zr(u[l],Z,F));if(k=="Identifier"){var z=n.name,W=F[z];
if(W){if(W.params){var $=W.params;for(var l=0;l<$.length;l++)o[$[l].name]=B[l];return jw.eval(W.body,Z,o)}else{return W.apply(null,B)}}else if(jw.zE.aeS.indexOf(z)!=-1)return jw.zE.PS({$v:"Application"},z,B,Z,F);
else if(window[z]==null)console.log("Unknown function "+z);else if(jw.xN[z])alert(z+"() not available");
else{var R=window[z].apply(window,B);return R}}else if(k=="MemberExpression"){var r=jw.Zr(n.object,Z,F),q=n.computed?jw.Zr(n.property,Z,F):jw.eval(n.property,Z,F);
if(r==window&&jw.xN[q])return;if(r.$v!=null)return jw.zE.PS(r,q,B,Z,F);else return r[q].apply(r,B)}else if(k=="FunctionExpression"){return jw.eval(n.body,Z,F)}else console.log(e)}else if(b=="AssignmentExpression"){var P=e.operator,H=e.left,h=H.type,m=jw.Zr(H,Z,F),t=jw.Zr(e.right,Z,F),S=null;
if(!1){}else if(P=="=")S=t;else if(P=="+=")S=m+t;else if(P=="-=")S=m-t;else if(P=="*=")S=m*t;else if(P=="/=")S=m/t;
else if(P=="%=")S=m%t;else if(P=="&=")S=m&t;else if(P=="|=")S=m|t;else if(P=="&&=")S=m&&t;else if(P=="||=")S=m||t;
else console.log(e);if(h=="Identifier"){var j=H.name;if(F.hasOwnProperty(j))F[j]=S;else F.__window[j]=S}else if(h=="MemberExpression"){var x=jw.eval(H.property,Z,F),C=jw.Zr(H.object,Z,F);
if(C.$v!=null)jw.zE.a0m(C,x,S,Z,F);else C[x]=S}else console.log(e)}else if(b=="Identifier")return e.name;
else if(b=="Literal")return e.value;else if(b=="UpdateExpression"){var P=e.operator,L=e.argument.name,w=jw.Zr(e.argument,Z,F),f=F;
if(f[L]==null)f=F.__window;if(!1){}else if(P=="++"){f[L]++;return e.prefix?f[L]:f[L]-1}else if(P=="--"){f[L]--;
return e.prefix?f[L]:f[L]+1}else console.log(e)}else if(b=="UnaryExpression"){var P=e.operator,D=jw.Zr(e.argument,Z,F);
if(D.$v=="UnitValue"){if(P=="-")return-D.I;else return jw.a8$(D.I,P)}else return jw.a8$(D,P)}else if(b=="BinaryExpression"||b=="LogicalExpression"){var P=e.operator,H=jw.Zr(e.left,Z,F),D=jw.Zr(e.right,Z,F);
if(H==null||D==null)return jw.Ge(H,D,P);else if(H.$v=="UnitValue"&&D.$v=="UnitValue")return jw.Ge(H.I,D.I,P);
else if(H.$v=="UnitValue")return jw.Ge(H.I,D,P);else if(D.$v=="UnitValue"){if(P=="-")return-(H-D.I);
else return jw.Ge(H,D.I,P)}else return jw.Ge(H,D,P)}else if(b=="IfStatement"||b=="ConditionalExpression"){var v=jw.Zr(e.test,Z,F);
if(v)return jw.eval(e.consequent,Z,F);else if(e.alternate)return jw.eval(e.alternate,Z,F)}else if(b=="ForInStatement"){jw.eval(e.left,Z,F);
var A=e.left.declarations[0].id.name,M=jw.Zr(e.right,Z,F);for(var T in M){F[A]=T;var Y=jw.eval(e.body,Z,F);
if(F.__break)break;if(F.__return)return Y}F.__break=!1}else if(b=="ForStatement"){jw.eval(e.init,Z,F);
while(jw.eval(e.test,Z,F)){var Y=jw.eval(e.body,Z,F);if(F.__break)break;if(F.__return)return Y;jw.eval(e.update,Z,F)}F.__break=!1}else if(b=="DoWhileStatement"){do{var Y=jw.eval(e.body,Z,F);
if(F.__break)break;if(F.__return)return Y}while(jw.eval(e.test,Z,F));F.__break=!1}else if(b=="TryStatement"){jw.eval(e.block,Z,F);
if(F.__throw){var J=e.handler;F[J.param.name]=F.__throw;F.__throw=!1;jw.eval(J.body,Z,F);delete F[J.param.name]}}else if(b=="EmptyStatement"){}else console.log(e)};
jw.Ge=function(e,Z,F){if(F=="+")return e+Z;else if(F=="-")return e-Z;else if(F=="*")return e*Z;else if(F=="/")return e/Z;
else if(F=="%")return e%Z;else if(F=="^")return e^Z;else if(F=="&")return e&Z;else if(F=="&&")return e&&Z;
else if(F=="|")return e|Z;else if(F=="||")return e||Z;else if(F=="<")return e<Z;else if(F==">")return e>Z;
else if(F=="=="){if(e.$v&&Z.$v)return e.I==Z.I;return e==Z}else if(F=="===")return e===Z;else if(F=="<=")return e<=Z;
else if(F==">=")return e>=Z;else if(F=="!=")return e!=Z;else if(F=="!==")return e!==Z;else if(F=="<<")return e<<Z;
else if(F==">>")return e>>Z;else console.log(F)};jw.a8$=function(e,Z){if(Z=="-")return-e;else if(Z=="!")return!e;
else if(Z=="~")return~e;else if(Z=="+")return e;else console.log(obj)};jw.Zr=function(e,Z,F){var b=e.type;
if(b=="Identifier")return jw.ahQ(e.name,Z,F);else return jw.eval(e,Z,F)};jw.ahQ=function(e,Z,F){if(e=="undefined")return undefined;
else if(F.hasOwnProperty(e))return F[e];else if(e=="app")return{$v:"Application"};else if(e=="$")return{$v:"$"};
else if(jw.zE.ame.indexOf(e)!=-1)return jw.zE.oQ({$v:"Application"},e,Z,F);else if(F.__window.hasOwnProperty(e))return F.__window[e];
else if(window[e]&&!jw.xN[e])return window[e];else{F[e]=null;return null}};jw.zE={};jw.zE.a2T=function(e,Z,F,b){var _;
if(e=="SolidColor")_={$v:e,I:[1,0,0,0]};if(e=="RGBColor")_={$v:e,I:[1,0,0,0]};if(e=="Window")_={$v:e,I:new aI(Z[0],Z[1],Z[2])};
if(e=="ExportOptionsSaveForWeb")_={$v:e,I:{ix:"png",LZ:100}};if(e=="JPEGSaveOptions")_={$v:e,I:{ix:"jpg",LZ:100}};
if(e=="PDFSaveOptions")_={$v:e,I:{ix:"pdf",alk:""}};if(e=="File")_={$v:e,I:Z[0]};if(e=="ActionReference")_={$v:e,I:[]};
if(e=="ActionDescriptor")_={$v:e,I:{}};if(e=="ActionList")_={$v:e,I:[]};if(e=="UnitValue")_={$v:e,I:Z.length==0?0:parseFloat(Z[0])};
return _};jw.zE.ame="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
jw.zE.aeS=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];jw.zE.oQ=function(e,Z,F,b){var _=F.Wr,d=F.pw();
if(!1){}else if(Z=="typename"){if(e.$v=="Layer")return e.I.yx()?"LayerSet":"ArtLayer";else return e.$v}else if(["Document","Layer"].indexOf(e.$v)!=-1&&["layers","artLayers","layerSets"].indexOf(Z)!=-1){var S=d.root,U={$v:"Layers",OQ:Z,I:[]};
if(e.$v=="Layer")S=d.root.OV(d.g.indexOf(e.I));if(S.children==null)return null;for(var l=0;l<S.children.length;
l++){var r=S.children[l].i,q=r.yx();if(q&&Z=="artLayers"||!q&&Z=="layerSets")continue;U.I.push({$v:"Layer",I:r})}U.I.reverse();
return U}else if(e.$v=="Documents"||e.$v=="Layers"||e.$v=="HistoryStates"||e.$v=="LayerComps"){if(!1){}else if(Z=="length")return e.I.length;
else if(Number.isInteger(Z))return e.I[Z];else console.log(e.$v+": unknown property ",Z)}else if(e.$v=="Application"){if(!1){}else if(Z=="activeDocument")return{$v:"Document",I:F.pw()};
else if(Z=="documents"){var U={$v:"Documents",I:[]};for(var l=0;l<F.cU.length;l++)U.I.push({$v:"Document",I:F.cU[l]});
return U}else if(Z=="fonts")return{$v:"TextFonts"};else if(Z=="preferences")return{$v:"Preferences"};
else if(Z=="displayDialogs")return{$v:"DialogModes"};else if(Z=="foregroundColor"||Z=="backgroundColor"){var w=Z[0]=="f"?_.Ly:_.ZE;
return{$v:"SolidColor",I:[1,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]}}else if(Z=="UI")return{$v:"UI"};
else console.log(e,Z)}else if(e.$v=="Document"){var d=e.I;if(!1){}else if(Z=="activeLayer"){var r=d.g[d.V[0]];
return{$v:"Layer",I:r}}else if(Z=="resolution")return d.Cr;else if(Z=="width")return d.w;else if(Z=="height")return d._;
else if(Z=="name")return d.name;else if(Z=="saved")return!d.yL();else if(Z=="selection")return{$v:"Selection"};
else if(Z=="activeHistoryState")return{$v:"HistoryState",wD:d.Ti};else if(Z=="source")return d.NO;else if(Z=="layerComps"){var X=d.hn.list.v,Q=[];
for(var l=0;l<X.length;l++)Q.push({$v:"LayerComp",I:l});return{$v:"LayerComps",I:Q}}else if(Z=="historyStates"){var c=[];
for(var l=0;l<d.history.length;l++)c.push({$v:"HistoryState",wD:l});return{$v:"HistoryStates",I:c}}else console.log(e,Z)}else if(e.$v=="LayerComp"){if(Z=="name")return d.hn.list.v[e.I].v.Nm.v;
else throw Z}else if(e.$v=="Layer"){var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},r=e.I;
if(!1){}else if(Z=="visible")return r.ir();else if(Z=="selected")return d.V.indexOf(d.g.indexOf(r))!=-1;
else if(Z=="grouped")return r.bN;else if(u[Z]!=null)return r.oT(u[Z]);else if(Z=="opacity")return r.opacity*100/255;
else if(Z=="blendMode")return r.Du;else if(Z=="name")return r.getName();else if(Z=="textItem")return{$v:"TextItem",I:r};
else if(Z=="bounds"){var n=i.Q.jK(d,[d.g.indexOf(r)]);return jw.zE.a6P(n,d)}else if(Z=="parent"){var k=F.cU;
for(var l=0;l<k.length;l++)if(k[l].g.indexOf(r)!=-1)return{$v:"Document",I:k[l]}}else if(Z=="kind"){var B=jw.zE.Ku;
for(var l=0;l<B.length;l++)if(r.add[B[l]]!=null)return l;return 0}else console.log(e,Z)}else if(e.$v=="Selection"){if(!1){}else if(Z=="bounds")return jw.zE.a6P(F.pw().K.rect,d);
else console.log(e,Z)}else if(e.$v=="TextItem"){var o=e.I.add.TySh,T=o.HV,z=fN.xf(T),$=o.A.YE(),R=fN.C7(T,0,Math.max(0,z.length-2));
if(Z=="contents")return z.slice(0,z.length-1).replace(/\n/g,"\r");else if(Z=="font")return R.sn.Font!=null?R.j3[R.sn.Font].Name:null;
else if(Z=="size")return jw.zE.Ji(R.sn.FontSize*$,d);else if(Z=="leading")return jw.zE.Ji(R.sn.Leading*$,d);
else if(Z=="tracking")return jw.zE.Ji(R.sn.Tracking);else if(Z=="baselineShift")return jw.zE.Ji(R.sn.BaselineShift);
else if(Z=="fauxBold")return R.sn.FauxBold;else if(Z=="fauxItalic")return R.sn.FauxItalic;else if(Z=="kind")return 1-fN.ms(T);
else if(Z=="useAutoLeading")return R.Qm.AutoLeading;else if(Z=="hyphenation")return R.Qm.AutoHyphenate;
else if(Z=="justification")return jw.zE.Ji(R.Qm.Justification);else if(Z=="color")return{$v:"SolidColor",I:R.sn.FillColor.Values.slice(0)};
else if(Z=="width"||Z=="height"){var P=fN.Lx(T),H=(P[2]-P[0])*$,y=(P[3]-P[1])*$;return jw.zE.Ji(Z=="width"?H:y,d)}else if(Z=="position"){var h=o.A;
return jw.zE.aaz([h.lr,h.Xz],d)}else if(Z=="horizontalScale"||Z=="verticalScale"){var m=Z[0].toUpperCase()+Z.slice(1);
return Math.round(R.sn[m]*100)}else if(Z=="antiAliasMethod")fN.zK(o);else console.log(e,Z)}else if(e.$v=="Preferences"){if(Z=="rulerUnits")return _.I9._b;
else console.log(e,Z)}else if(e.$v=="SolidColor"){if(Z=="rgb")return{$v:"RGBColor",I:e.I};else console.log(e,Z)}else if(e.$v=="RGBColor"){var n=Math.round(255*e.I[1]),t=Math.round(255*e.I[2]),j=Math.round(255*e.I[3]);
if(!1){}else if(Z=="red")return n;else if(Z=="green")return t;else if(Z=="blue")return j;else if(Z=="hexValue")return"#"+V.Z0(n<<16|t<<8|j).toUpperCase();
else console.log(e,Z)}else if(e.$v=="UnitValue"){if(Z=="value")return e.I;else throw"e"}else if(e.$v=="ExportOptionsSaveForWeb"){if(Z=="format")return e.I.ix;
else if(Z=="PNG8"||Z=="interlaced")return!1;else if(Z=="quality")return e.I.LZ;else if(Z=="transparency")return!0;
else throw Z}else if(e.$v=="JPEGSaveOptions"||e.$v=="PDFSaveOptions"){return 0}else console.log(e,Z)};
jw.zE.a6P=function(e,Z){return jw.zE.aaz([e.x,e.y,e.x+e.w,e.y+e._],Z)};jw.zE.aaz=function(e,Z){var F=[];
for(var l=0;l<e.length;l++)F.push(jw.zE.Ji(e[l],Z));return F};jw.zE.am4=function(e){var Z=[];for(var l=0;
l<e.length;l++)Z.push(e[l].$v?e[l].I:e[l]);return Z};jw.zE.Ji=function(e,Z){return{$v:"UnitValue",I:e}};
jw.zE.a0v=function(e,Z){if(e.$v=="UnitValue")return e.I;return e};jw.zE.a0m=function(e,Z,F,b,_){var d=new j8(G.E.u,!0),S=new j8(G.E.W,!0),U=b.pw(),r=b.Wr;
if(!1){}else if(e.$v=="Application"){if(!1){}else if(Z=="activeDocument"){S.data={d:G.B.I8,Bm:F.I};b.$(S)}else if(Z=="displayDialogs"){}else console.log(e,Z,F)}else if(e.$v=="Document"){var q=e.I;
if(!1){}else if(Z=="name"){d.k=i.__;d.data={d:g.V2,I:F,a4$:!0,oz:q};U.Zc=!0}else if(Z=="source")q.NO=F;
else if(Z=="activeLayer"){q.V=[q.g.indexOf(F.I)]}else if(Z=="activeHistoryState"){d.k=i.Pi;d.data={d:"h_itemchange",index:F.wD}}else console.log(e,Z)}else if(e.$v=="Layer"){d.k=i.__;
var w={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},X=e.I,Q=U.g.indexOf(X);
if(!1){}else if(Z=="visible"){if(X.ir()!=F)d.data={d:g.fk,i:Q}}else if(Z=="opacity"){d.data={d:g.H4,i:Q,mQ:Math.round(255*F/100)}}else if(Z=="blendMode"){d.data={d:g.tx,i:Q,mQ:ae.Qd.indexOf(F)}}else if(Z=="name"){d.data={d:g.hK,i:Q,name:F}}else if(w[Z]!=null){d.data={d:g.TR,i:Q,mQ:[[F],[w[Z]]]}}else if(Z=="kind"){d.data={d:g.Bc,i:Q,jS:jw.zE.Ku[F]}}else if(Z=="grouped"){d.data={d:g.jp,i:Q,mQ:F}}else console.log(e,Z,F)}else if(e.$v=="TextItem"){d.k=i.Xk;
var X=e.I,c=X.add.TySh,u=JSON.parse(JSON.stringify(c.HV)),n=c.A.clone(),k=c.A.YE(),B=fN.xf(u),o=fN.C7(u,0,B.length-2),T=!1;
if(!1){}else if(Z=="contents"){fN.HO(u,0,B.length-1);fN.Z4(u,0,F.replace(/\r/g,"\n"))}else if(Z=="size"){o.sn.FontSize=(F.I!=null?F.I:F)/k;
T=!0}else if(Z=="leading"){o.sn.Leading=(F.I!=null?F.I:F)/k;T=!0}else if(Z=="tracking"){o.sn.Tracking=F.I!=null?F.I:F;
T=!0}else if(Z=="baselineShift"){o.sn.BaselineShift=F.I!=null?F.I:F;T=!0}else if(Z=="fauxBold"){o.sn.FauxBold=F;
T=!0}else if(Z=="fauxItalic"){o.sn.FauxItalic=F;T=!0}else if(Z=="kind"){var z=fN.ms(u);if(z==1&&F==1){var $=new ge(u,b.Wr.W5).Qm[0],R=$.sg[0].end,P=$.jN[R-1].end;
fN.HO(u,0,B.length-1);fN.Z4(u,0,B.slice(0,P-1))}if(z==F)fN.mJ(u,1-F)}else if(Z=="useAutoLeading"){o.Qm.AutoLeading=F;
T=!0}else if(Z=="hyphenation"){o.Qm.AutoHyphenate=F;T=!0}else if(Z=="justification"){o.Qm.Justification=F;
T=!0}else if(Z=="font"){fN.Kh(o,F);T=!0}else if(Z=="color"){o.sn.FillColor.Values=F.I.slice(0);T=!0}else if(Z=="width"||Z=="height"){var H=fN.Lx(u).slice(0),y=jw.zE.a0v(F);
if(Z=="width")H[2]=Math.round(H[0]+y/k);else H[3]=Math.round(H[1]+y/k);fN.wH(u,H)}else if(Z=="position"){n.lr=F[0];
n.Xz=F[1]}else if(Z=="horizontalScale"||Z=="verticalScale"){var h=Z[0].toUpperCase()+Z.slice(1);o.sn[h]=F/100;
T=!0}else if(Z=="antiAliasMethod")fN.W_(c,F);else console.log(e,Z,F);if(T)fN.IY(u,0,B.length-1,o);d.data={d:"newED",Jq:U.g.indexOf(X),cM:u,A:n}}else if(e.$v=="Preferences"){if(!1){}else if(Z=="rulerUnits"){var m=JSON.parse(JSON.stringify(r.I9));
m._b=F;S.data={d:G.B.aE,NG:c6.Ga,mQ:m};b.$(S)}else console.log(e,Z,F)}else if(e.$v=="SolidColor"){if(Z=="rgb")e.I=F.I;
else throw Z}else if(e.$v=="RGBColor"){if(!1){}else if(Z=="red")e.I[1]=F/255;else if(Z=="green")e.I[2]=F/255;
else if(Z=="blue")e.I[3]=F/255;else if(Z=="hexValue"){var t=V.T2(F.slice(1));e.I[1]=(t>>>16&255)/255;
e.I[2]=(t>>>8&255)/255;e.I[3]=(t>>>0&255)/255}else console.log(e,Z)}else if(e.$v=="ExportOptionsSaveForWeb"){if(Z=="format")e.I.ix=F;
else if(Z=="PNG8"||Z=="transparency"||Z=="interlaced"){}else if(Z=="quality")e.I.LZ=F;else throw Z}else if(e.$v=="JPEGSaveOptions"){if(Z=="quality")e.I.LZ=Math.round(100*F/12)}else if(e.$v=="PDFSaveOptions"){if(Z=="preset")e.I.alk=F}else console.log(e,Z,F);
if(d.data!=null)b.$(d)};jw.zE.PS=function(e,Z,F,b,_){var d=e.$v,S=null,U=new j8(G.E.u,!0),r=new j8(G.E.GT,!0),q=new j8(G.E.W,!0),w=b.pw(),X=b.cU;
if(!1){}else if(d=="Application"){if(!1){}else if(Z=="charIDToTypeID"){var Q=F[0].trim(),c={slct:"select",Dlt:"delete",Mk:"make"};
return c[Q]?c[Q]:Q}else if(Z=="stringIDToTypeID"){var u=F[0].trim(),c={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},n=c[u];
return n==null?u:n}else if(Z=="executeAction"){console.log(F);var k;if(F[1]){k=F[1].I;k.classID=F[0]}var B={setd:"set"},o=B[F[0]];
if(o==null)o=F[0];var T=hc.gz[F[0]];if(T&&hc.E7[T])o=hc.E7[T];r.data={qg:o,ni:k}}else if(Z=="executeActionGet"){return{$v:"ActionDescriptor",I:{classID:"null",null:{t:"obj ",v:F[0].I}}}}else if(Z=="doAction"){q.data={d:G.B.wa,wg:[F[0],F[1]]}}else if(Z=="open"){q.data={d:G.B.l0,NG:{url:F[0]}};
if(F[2]&&X.length!=0)q.data.NG.tY=X.indexOf(w)}else if(Z=="echoToOE"){q.data={d:G.B.Vq,NG:F[0]}}else console.log(Z)}else if(d=="LayerComp"){if(Z=="apply"){U.k=i.p4;
U.data={d:"setLC",wD:w.hn.list.v[e.I].v.compID.v}}else throw Z}else if(d=="Document"){var w=e.I;if(!1){}else if(Z=="crop"){r.data=i.Za.Nv(F[0])}else if(Z=="trim"){var z=[];
for(var l=0;l<4;l++)z.push(F[l+1]!=null?F[l+1]:!0);r.data=i.Za.hR(F[0]!=null?F[0]:0,z)}else if(Z=="suspendHistory"){var W=acorn.parse(F[1]);
jw.eval(W,b,_)}else if(Z=="save"){q.data={d:G.B.RF}}else if(Z=="saveToOE"){q.data={d:G.B.RF,apu:F}}else if(Z=="rotateCanvas"){r.data=i.Q.Mj(!0,F[0])}else if(Z=="resizeImage"||Z=="resizeCanvas"){var $=F[0],R=F[1];
if(typeof $!="number"){$=w.w*parseFloat($.slice(0,$.length-1))/100;R=w._*parseFloat(R.slice(0,R.length-1))/100}if(Z=="resizeCanvas")r.data=i.Za.L1(Math.round($),Math.round(R),F[2]);
else r.data=i.Za.ZA(Math.round($),Math.round(R),null,1)}else if(Z=="paste"){q.data={d:G.B.TQ,Rc:F.length!=0&&F[0],AY:!0}}else if(Z=="close"){q.data={d:G.B.lY,Zd:w}}else if(Z=="exportDocument"||Z=="saveAs"){var P=_.__fs,H=F[0].I.replace(":","").replace("~/",""),y=Z=="exportDocument"?F[2].I:F[1].I,h=fg.T4(w,y.ix,null,null,y.ix=="pdf"?null:[y.LZ],b.Wr);
P[H]=new Uint8Array(h)}else console.log(e,Z,F)}else if(d=="Layer"){var m=e.I,t=w.g.indexOf(m);if(!1){}else if(Z=="copy"){jw.zE.H6(w,b,0);
q.data={d:G.B.t7,XP:F[0],CE:t,AY:!0};b.$(q);delete q.data;jw.zE.H6(w,b,1)}else if(Z=="clear"){jw.zE.H6(w,b,0);
r.data={qg:"delete"};b.$(r);delete r.data;jw.zE.H6(w,b,1)}else if(Z=="duplicate"){if(F.length==0){U.data={d:g.YB,i:t};
U.k=i.__;b.$(U);U.data=null;S={$v:"Layer",I:w.g[w.V[0]]}}else if(F[0].$v=="Document"){U.data={d:g.sr,g:w.fb(t),C0:w,w3:F[0].I};
U.k=i.__}}else if(Z=="merge"||Z=="remove"){U.data={d:Z=="merge"?g.J$:g.BD,i:t};U.k=i.__;if(Z!="remove")S={$v:"Layer",I:w.g[w.V[0]]}}else if(Z=="move"){U.data={d:g.zH,source:t,target:w.g.indexOf(F[0].I),s0:F[1]!=3?.6:.3};
U.k=i.__}else if(Z=="rasterize"){r.data={qg:"rasterizeLayer",ni:{classID:"rasterizeLayer",null:dz.vz("Lyr",!0)}}}else if(Z=="rotate"){U.data={d:"rot",Pj:[2,5],I:-F[0]*Math.PI/180,xq:F[1],i:t};
U.k=i.PF}else if(Z=="resize"){U.data={d:"scl",Pj:[2,4],I:new bI(F[0]/100,F[1]/100),xq:F[2],i:t};U.k=i.PF}else if(Z=="translate"){var j=jw.zE.am4(F);
U.data={d:"trsl",i:t,vZ:j[0],D3:j[1]};U.k=i.l$}else if(Z=="link"){U.data={d:g.QA,a8m:[t,w.g.indexOf(F[0].I)]};
U.k=i.__}else if(Z=="invert"){U.k=i.v$;U.data={d:"start",KM:"nvrt"}}else if(Z.startsWith("apply")&&ff.Am[Z.slice(5)]){var j=jw.zE.am4(F),x=ff.Am[Z.slice(5)];
r.data={qg:ff.E7[x]};var k=ff.wy(x);if(k){ff.eW["g"+x](k,j);r.data.ni=k}}else console.log(e,Z,F)}else if(d=="Documents"){if(Z=="getByName"){for(var l=0;
l<X.length;l++)if(X[l].name==F[0])return{$v:"Document",I:X[l]};return null}else if(Z=="add"){var L=F[5];
if(L==null)L=1;r.data=aH.yQ(F[0],F[1],F[2],F[3],["Wht","Trns","BckC"][L],!1)}else throw"e"}else if(d=="Layers"){if(Z=="getByName"){for(var l=0;
l<e.I.length;l++)if(e.I[l].I.getName()==F[0]){S=e.I[l];break}if(S==null)_.__throw={message:"No layer with a name "+F[0]}}else if(Z=="add"){U.data={d:e.OQ=="layerSets"?g.UM:g.ls};
U.k=i.__;b.$(U);U.data=null;S={$v:"Layer",I:w.g[w.V[0]]}}else console.log(e,Z,F)}else if(e.$v=="Selection"){if(Z=="select"){var f=F[0],D=[];
for(var l=0;l<f.length;l++)D.push(f[l][0],f[l][1]);r.data=i.wL.hL(D)}else if(Z=="selectAll"){r.data=i.wL.JG(!0)}else if(Z=="invert"){r.data={qg:"inverse"}}else if(Z=="copy"){q.data={d:G.B.t7}}else if(Z=="deselect"){r.data=i.wL.JG()}else if(Z=="fill"){var v=F[0].I;
v=V.X.Q9({o:v[1]*255,z:v[2]*255,S:v[3]*255});r.data=i.Aj.eX("Clr",F[1],F[2]==null?1:F[2]/100,v)}else console.log(e,Z,F)}else if(e.$v=="Window"){if(Z=="show"){q.data={d:G.B.tJ,ZB:e.I}}else throw"e"}else if(e.$v=="ActionReference"){if(Z=="putProperty"){e.I.push({t:"prop",v:{classID:F[0],keyID:F[1]}})}else if(Z=="putClass"){e.I.push({t:"Clss",v:{classID:F[0]}})}else if(Z=="putEnumerated"){e.I.push({t:"Enmr",v:{classID:F[0],typeID:F[1],enum:F[2]}})}else if(Z=="putName"){e.I.push({t:"name",v:{classID:F[0],val:F[1]}})}else console.log(Z,F)}else if(e.$v=="ActionDescriptor"||e.$v=="ActionList"){if(Z=="putReference"){e.I[F[0]]={t:"obj ",v:F[1].I}}else if(Z=="putDouble"){e.I[F[0]]={t:"doub",v:F[1]}}else if(Z=="putUnitDouble"){e.I[F[0]]={t:"UntF",v:{type:F[1],val:F[2]}}}else if(Z=="putObject"){if(e.$v=="ActionList"){var A=F[1].I;
A.classID=F[0];e.I.push({t:"Objc",v:A})}else{var A=F[2].I;A.classID=F[1];e.I[F[0]]={t:"Objc",v:A}}}else if(Z=="putList"){e.I[F[0]]={t:"VlLs",v:F[1].I}}else if(Z=="putBoolean"){e.I[F[0]]={t:"bool",v:F[1]}}else if(Z=="putInteger"){e.I[F[0]]={t:"long",v:F[1]}}else if(Z=="putString"){e.I[F[0]]={t:"TEXT",v:F[1]}}else if(Z=="putEnumerated"){var M={};
M[F[1]]=F[2];e.I[F[0]]={t:"enum",v:M}}else if(Z=="hasKey"){var J=e.I.null.v;for(var l=0;l<J.length;l++){if(J[l].v.keyID==F[0]){if(F[0]=="UsrM"){return w.g[w.V[0]].Vj()!=null}else throw F}}}else console.log(Z,F)}else if(e.$v=="$"){if(Z=="writeln"){console.log(F[0])}else throw Z}else if(e.$v=="UI"){var I;
if(Z=="zoomIn"||Z=="zoomOut"){I={d:"zoom",FU:Z=="zoomIn"}}else if(Z=="fitTheArea"){I={d:"adapt",I:"fitscr"}}else if(Z=="pixelToPixel"){I={d:"adapt",I:"pixel"}}U.k=i.GD;
U.data=I}else console.log(e,Z,F);if(U.data)b.$(U);if(r.data)b.$(r);if(q.data)b.$(q);return S};jw.zE.H6=function(e,Z,F){var b=new j8(G.E.u,!0);
b.k=i._6;var _=new j8(G.E.GT,!0);if(F==0){jw.zE.a9w=e.K;_.data=i.wL.JG(!0)}else{var d=jw.zE.a9w;if(d)b.data={d:"setsel",Pj:"Restore Selection",K:{rect:d.rect.clone(),channel:d.channel.slice(0)}};
else _.data=i.wL.JG()}Z.$(b.data?b:_)};jw.zE.a9w=null;jw.zE.sD={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
jw.zE.sD.ColorBlendMode=jw.zE.sD.BlendMode;jw.zE.Ku="---- SoLd TySh SoCo GdFl PtFl".split(" ");function bW(){}bW.ph={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
bW.lu={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
bW.arL=function(e,Z){if(Z==null)Z={};var F=bW.lu,b=[],_=[],d="";for(var l=0;l<e.length;l++){var S=e[l],U=F[S[0]+""];
if(U&&Z[U]==null)Z[U]=S[1];else if(S[0]==12)_.push(S[1]);else if(S[0]==25)b.push(S[1]);else if(S[0]==55)d=S[1];
else if(S[0]==60)d+=";"+S[1]}if(d!=""&&Z["exif:DateTimeOriginal"]==null)Z["exif:DateTimeOriginal"]=d;
if(_.length!=0&&Z["Iptc4xmpCore:SubjectCode"]==null)Z["Iptc4xmpCore:SubjectCode"]=_.join(";");if(b.length!=0&&Z["dc:Keywords"]==null)Z["dc:Keywords"]=b.join(";");
return Z};bW.agZ=function(e){var Z=bW.lu,F=[];for(var b in Z)if(e[Z[b]])F.push([parseInt(b),e[Z[b]]]);
if(e["Iptc4xmpCore:SubjectCode"]){var _=e["Iptc4xmpCore:SubjectCode"].split(";");for(var l=0;l<_.length;
l++)F.push([12,_[l].trim()])}if(e["dc:Keywords"]){var _=e["dc:Keywords"].split(";");for(var l=0;l<_.length;
l++)F.push([25,_[l].trim()])}F.sort(function(d,S){return d[0]-S[0]});return F};bW.anp=function(e,Z){if(Z==null)Z={};
var F=new DOMParser,b=F.parseFromString(e,"image/svg+xml"),_=b.getElementsByTagName("rdf:Description")[0];
if(_==null)return Z;var d=bW.ph;for(var S in d){var U=d[S][2];if(U==null)continue;var r=_.getElementsByTagName(U)[0];
if(r==null)continue;var q=r.getElementsByTagName("rdf:li"),w=[];for(var l=0;l<q.length;l++)w.push(q[l].textContent);
Z[S]=w.join("; ")}return Z};bW.aqj=function(e){var Z=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],F=bW.ph;
for(var b in F){var _=e[b],d=F[b][2],S="Seq",U="";if(_==null||d==null)continue;if(d=="dc:title"||d=="dc:description"){S="Alt";
U=" xml:lang=\"x-default\""}if(d=="dc:subject")S="Bag";Z.push("\t<"+d+"><rdf:"+S+">");var r=d=="dc:subject"?_.split(";").join(",").split(","):[_];
for(var l=0;l<r.length;l++)Z.push("\t\t<rdf:li"+U+">"+r[l].trim()+"</rdf:li>");Z.push("\t</rdf:"+S+"></"+d+">")}Z.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return Z.join("\n")};bW.akI=function(e){var Z=[];for(var l=0;l<e.length;l++)Z[l]=e[l][1]==0?0:e[l][0]/e[l][1];
return Z};bW.ajn=function(e){var Z=[];for(var l=0;l<e.length;l++){var F=e[l],b=1;if(F!=Math.round(F)){b=1e3;
F=Math.round(F*b)}Z[l]=[F,b]}return Z};bW.nU=function(e,Z){var F=bW.ph;if(Z==null)Z={};for(var b in F){var _=F[b][1],d="t"+_;
if(_!=null&&e[d]!=null){var S=e[d];if(_==0)S=S.join(".");else if(_==2||_==4){var U=e["t"+(_-1)];if(U==null)U=[_==2?"N":"E"];
S=bW.akI(S).join(",")+U[0]}else if(_==42034)S=bW.akI(S).join(" ");else if(_==270||_==315){var r=S[0],q=new Uint8Array(r.length);
s.Zh(q,0,r);S=s.CI(q)}else S=S[0];Z[b]=S}}if(e.exifIFD)bW.nU(e.exifIFD,Z);if(e.gpsiIFD)bW.nU(e.gpsiIFD,Z);
return Z};bW.FP=function(e,Z,F){var b=bW.ph,d=0,U=0;if(Z==null)Z={};var _={},S={};for(var r in b){if(e[r]==null||b[r][1]==null)continue;
var q=b[r][1],w="t"+q,X=Z;if(r.startsWith("exif:")){X=_;d++;if(r.startsWith("exif:GPS")){X=S;U++}}var Q=e[r];
if(q==0)Q=new Uint8Array(Q.split(".").map(parseFloat));else if(q==2||q==4){var c=Q.length;X["t"+(q-1)]=[Q.slice(Q.length-1)];
Q=bW.ajn(Q.split(",").map(parseFloat))}else if(q==42034)Q=bW.ajn(Q.split(" ").map(parseFloat));else if(q==270||q==315){var u=s.nw(Q);
Q=[s.fl(u,0,u.length)]}else Q=[Q];X[w]=Q}if(d!=0){Z.exifIFD=_;Z.t34665=[0]}if(U!=0){Z.gpsiIFD=S;Z.t34853=[0]}var n=new Date,k=[n.getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()];
for(var l=0;l<6;l++)k[l]=(k[l]+"").padStart(2,"0");Z.t305=["Photopea Editor (www.photopea.com)"];if(F!=!0)Z.t306=[k[0]+":"+k[1]+":"+k[2]+" "+k[3]+":"+k[4]+":"+k[5]];
return Z};var K={};K.aoF=0;K._m=function(){K.aoF++;return K.aoF};K.aje="uint8";K.ajr=function(){var e=K.as5();
if(e=="")return 0;if(e!=K.eL("_TXZRPB;d7@;")){var Z=K.jM[ch.SJ][ch.Ob],F=Z.indexOf(String.fromCharCode(35)),b;
if(F==-1)return 0;try{b=JSON.parse(K.jM[ch.aod](Z.slice(F+1)))}catch(gA){return 0}var _=b[K.eL("bQ[ODL<E<M")];
if(_==null||_.length<<2!=64)return 0;var d=ch.o1(),S=parseInt(_.slice(3*4).split("").reverse().join(""),16)<<16;
if(S<d||_!=ch.agC(S,e))return 0;return 2}return 1};K.as5=function(){var e=K.jM[K.Oa("}$z{2*35")][K.eL("W[\\ZQAJ?")],Z=String.fromCharCode(46),F=e.split(Z);
if(F.length<2)return"";var b=F.pop();b=F.pop()+Z+b;return b};K.ahJ=function(){if(K.jM[ch.a4l][ch.agT]){var e=new K.jM[ch.Jp];
e[ch.ML](ch.aoK,K.eL("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+K.as5());e[ch._f]()}};K.ZO=function(){if(window.top!=window.self)return!1;
var e=navigator.userAgent.toLowerCase();if(e.indexOf("android")!=-1)return!1;if(e.indexOf("safari")!=-1&&e.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};K.YV=function(e){this.wP=e;this.anE=K.L("img");this.HN=K.L("canvas");
this.sm=null;this.Z6="";this.qh=null;this.Ok=new bI(0,0);K.gQ(this.wP,this.fN.bind(this))};K.YV.prototype.jQ=function(e,Z){this.sm=e;
if(Z)this.Z6=Z;this.fN()};K.YV.prototype.fN=function(e){if(e)this.Ok=K.DK(e,this.wP);var Z=this.sm,F=typeof Z=="string";
if(!F){var b=K.F(),_=this.Ok,d=Z.uT.w,S=Z.uT._,U=typeof Z._j=="string",r=U?this.anE:this.HN;if(U)r.setAttribute("src",Z._j);
else{r.width=d;r.height=S;var q=r.getContext("2d"),w=new ImageData(new Uint8ClampedArray(Z._j.buffer),d,S);
q.putImageData(w,0,0)}r.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(_.y-Z.I7.y/b)+"px; left:"+(_.x-Z.I7.x/b)+"px; width:"+d/b+"px; height:"+S/b+"px");
var X=this.qh;if(X==null||X!=r){if(X)this.wP.removeChild(X);this.wP.appendChild(r);this.qh=r}}else if(this.qh){this.wP.removeChild(this.qh);
this.qh=null}this.wP.setAttribute("style","cursor:"+(F?Z:"none")+"; "+this.Z6)};K.eB=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
K.Yk=function(e,Z){e.cc(gA.get([12,41]).charAt(0)+":");Z.cc(gA.get([12,42]).charAt(0)+":")};K.L=function(e,Z){var F=document.createElement(e);
if(Z!=null)F.setAttribute("class",Z);return F};K.WL=function(e){while(e.firstChild)e.removeChild(e.firstChild)};
K.j_=function(e,Z){var F=e.getAttribute("class");if(F==null)F="";F=F.split(" ");if(F.indexOf(Z)==-1)F.push(Z);
e.setAttribute("class",F.join(" "))};K.vB=function(e,Z){var F=e.getAttribute("class");if(F==null)return;
F=F.split(" ");if(F.indexOf(Z)!=-1)F.splice(F.indexOf(Z),1);e.setAttribute("class",F.join(" "))};K.RY=function(e){while(!0){if(e==document)return!0;
if(e==null)return!1;e=e.parentNode}};K.MV=function(e){e.appendChild(K.L("br"))};K.pj=function(e){e.appendChild(K.L("hr"))};
K.ny=function(e,Z,F){var b=new cd([1,12,1],F==null?!0:F,null,!0);if(e)b.h("click",e.bM,e);if(Z)Z.appendChild(b.m);
return b};K.jM=document;K.uQ=function(e){var Z=0;for(var l=0;l<e;l++)Z+=Math.random();return Z/e<Math.PI/4};
K.eL=function(e){var Z="";if(!K.uQ(28))e+="-3";for(var l=0;l<e.length;l++){var F=e.charCodeAt(l);if(F<32||126<F)throw"e";
Z+=String.fromCharCode(32+(F-32+17+3*l)%95)}return Z};K.Oa=function(e){var Z="";if(!K.uQ(28))e+="-1";
for(var l=0;l<e.length;l++){var F=e.charCodeAt(l);F-=32;F+=95e4;F-=17+3*l;F=F%95;Z+=String.fromCharCode(32+F)}return Z};
K.qf=function(e){var Z=Math.random();K.aje="uint"+(3+Z);return new e};(function(){var e=window.PointerEvent,Z=e?"pointer":"mouse",F=Z+"down",b=Z+"move",_=Z+"up",d=!1;
K.x7=function(S,U){S.addEventListener(F,U,d);if(!e)S.addEventListener("touchstart",U,d)};K.gQ=function(S,U){S.addEventListener(b,U,d);
if(!e)S.addEventListener("touchmove",U,d)};K.z1=function(S,U){S.addEventListener(_,U,d);if(!e)S.addEventListener("touchend",U,d)};
K.agl=function(S,U){S.removeEventListener(F,U,d);if(!e)S.removeEventListener("touchstart",U,d)};K.J3=function(S,U){S.removeEventListener(b,U,d);
if(!e)S.removeEventListener("touchmove",U,d)};K.UP=function(S,U){S.removeEventListener(_,U,d);if(!e)S.removeEventListener("touchend",U,d)}}());
K.GU=function(e){e.addEventListener("touchstart",K.zX,!1);e.addEventListener("touchmove",K.zX,!1);e.addEventListener("touchend",K.zX,!1);
e.addEventListener("gesturestart",K.zX,!1);e.addEventListener("gesturechange",K.zX,!1);e.addEventListener("gestureend",K.zX,!1)};
K.kd=function(e,Z,F,b){var _=K.F();e.width=Math.floor(Z*_);e.height=Math.floor(F*_);if(b)b.scale(_,_);
K.aj7(e)};K.aj7=function(e){var Z=K.F();e.style.width=e.width/Z+"px";e.style.height=e.height/Z+"px"};
K.rB=function(e,Z,F){e.setAttribute("style","width:"+Z/K.F()+"px; height:"+F/K.F()+"px")};K.DK=function(e,Z){if(Z==null)Z=e.currentTarget;
var F=Z.getBoundingClientRect();if(e.touches)e=e.touches.item(0);return{x:e.clientX-F.left,y:e.clientY-F.top}};
K.F=function(){return window.devicePixelRatio||1};K.lN=function(e){e.addEventListener("keydown",K.abA,!1)};
K.abA=function(e){e.stopPropagation()};K.zX=function(e){e.preventDefault()};K.Zn=function(e){e.stopPropagation();
e.preventDefault()};K.kO=function(e,Z,F){F=F?F:"";if(PIMG["__"+e]==null)F+=" gsicon";return"<img src=\""+PIMG[e]+"\" alt=\""+(Z?Z:"")+"\" class=\""+F+"\" />"};
K.Rk=function(e,Z,F,b){var _=e.dataTransfer.getData("text/uri-list");if(_!=null&&_.startsWith("http")){var d=new j8(G.E.W,!0);
d.data={d:G.B.l0,NG:{url:_,hf:!0,tY:F,cv:b}};Z.$(d)}if(e.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var S=[],U=e.dataTransfer.items.length,r=e.dataTransfer.files;
for(var q of e.dataTransfer.items)q.getAsFileSystemHandle().then(function(w){S.push(w);if(S.length==U){var d=new j8(G.E.W,!0);
d.data={d:G.B.TO,data:r,tY:F,cv:b,a00:S};Z.$(d)}})}else{var d=new j8(G.E.W,!0);d.data={d:G.B.TO,data:e.dataTransfer.files,tY:F,cv:b};
Z.$(d)}};if(K.uQ(27))K.jM=window;else K.jM=K.afO;K.jM._cwY=K.jM[K.Oa("t$&!'31")];var aQ={};aQ.a7j=function(l){var e=aQ.x3[l],Z=document.documentElement.style,b=1;
Z.setProperty("--base","#"+V.Z0(e["--base"]));Z.setProperty("--bg-panel","#"+V.Z0(e["--bg-panel"]));
Z.setProperty("--bg-canvas","#"+V.Z0(e["--bg-canvas"]));Z.setProperty("--bg-input","#"+V.Z0(e["--bg-input"]));
Z.setProperty("--bg-bbtn","#"+V.Z0(e["--bg-bbtn"]));Z.setProperty("--bg-bbtnOver","#"+V.Z0(e["--bg-bbtnOver"]));
Z.setProperty("--brdr","#"+V.Z0(e["--brdr"]));Z.setProperty("--text-color","#"+V.Z0(e["--text-color"]));
Z.setProperty("--brdrLgt","rgba(255,255,255,"+e["--brdrLgt"]+")");Z.setProperty("--brdrDrk","rgba(  0,  0,  0,"+e["--brdrDrk"]+")");
Z.setProperty("--alphaDark",""+e["--alphaDark"]);Z.setProperty("--gs-invert",""+e["--gs-invert"]);var F=e["--sh-clr"];
Z.setProperty("--sh-clr","rgba("+(F>>16)+","+(F>>8&255)+","+(F&255)+", 0.45)");Z.setProperty("--sh-dy",""+e["--sh-dy"]+"px");
if(1<K.F()&&K.F()<1.5)b=1/K.F();Z.setProperty("--img20",20*b+"px");Z.setProperty("--img18",18*b+"px");
if(PIMG!=null){var _="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var l=0;l<_.length;l++){var d=_[l],S=d.split("/").pop(),U=PIMG["__"+d]==null?e["--gs-invert"]:"0";
Z.setProperty("--icon_"+S,"url("+PIMG[d]+")");Z.setProperty("--icon_"+S+"_invrt",U)}}var r=document.querySelector("meta[name=theme-color]");
if(r)r.setAttribute("content","#"+V.Z0(e["--base"]))};aQ.x3=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function fq(){this.tT={};this.As={}}fq.prototype.a7v=function(e){var Z=this.tT[e];if(Z==null)return!1;
return Z.length>0};fq.prototype.addEventListener=function(e,Z){this.h(e,Z,null)};fq.prototype.h=function(e,Z,F){if(this.tT[e]==null){this.tT[e]=[];
this.As[e]=[]}this.tT[e].push(Z);this.As[e].push(F)};fq.prototype.removeEventListener=function(e,Z){var F=this.tT[e];
if(F==null)return;var b=F.indexOf(Z);if(b<0)return;var _=this.As[e];F.splice(b,1);_.splice(b,1)};fq.prototype.$=function(e){e.currentTarget=this;
if(e.target==null)e.target=this;var Z=this.tT[e.type];if(Z==null)return;var F=this.As[e.type];for(var l=0;
l<Z.length;l++){if(F[l]==null)Z[l](e);else Z[l].call(F[l],e)}};var j8=function(e,Z){if(!Z)Z=!1;this.type=e;
this.target=null;this.currentTarget=null;this.bubbles=Z;this.k=null;this.ma=!1},G={E:{u:"0",W:"1",GT:"1.5",p:"2",KW:"3",aiX:"4"},B:{fX:"10",f6:"11",vM:"12",pO:"13",MQ:"14",ahp:"14.1",l0:"15",Fq:"16",S3:"17",Js:"18",RF:"19",a9Z:"19.5",amb:"20",s2:"21",t7:"22",TQ:"23",mu:"24",tJ:"25",Ax:"26",I8:"27",pr:"28",afr:"29",TO:"30",LN:"31",_k:"32",JX:"33",Zw:"34",aE:"35",abb:"35.5",i8:"37",aeA:"38",qP:"39",OI:"40",PW:"41",Vq:"41.5",aqy:"42",li:"43",a75:"43.5",lY:"44",a4b:"45",SI:"46",LU:"47",a5:"48",wa:"49",aqi:"50",nG:"51"}};
function h1(){fq.call(this);this.parent=null;this.m=null;this.bo=0;this.zA=0}h1.prototype=new fq;h1.prototype.a2x=function(e){var gi=this;
while(gi!=null){if(gi==e)return!0;gi=gi.parent}return!1};h1.prototype.bq=function(){var e=this.m;return e.offsetWidth+e.clientLeft};
h1.prototype.anH=function(){var e=this.m;return e.offsetHeight+e.clientTop};h1.prototype.update=function(e){};
h1.prototype.$=function(e){fq.prototype.$.call(this,e);if(e.bubbles&&this.parent!=null)this.parent.$(e)};
h1.prototype.n=function(){};h1.prototype.Av=function(e,Z){};h1.prototype.aK=function(e){K.j_(this.m,"disabled")};
h1.prototype.N_=function(e){K.vB(this.m,"disabled")};h1.prototype.c5=function(e){if(e)this.N_();else this.aK()};
function cI(e){h1.call(this);this.G9=[];this._B=!1;this.aeU=0;this.sz={x:0,y:0,jP:!1};this.Li=e;this.a56=this.s8.bind(this);
this._T=this.Mn.bind(this);this.a6F=this.fQ.bind(this);K.x7(e,this.a56);K.gQ(e,this._T);e.addEventListener("wheel",this.nr.bind(this),!1);
e.addEventListener("contextmenu",this.asc.bind(this),!1);var Z=this.a7s.bind(this);e.addEventListener("gesturestart",Z,!1);
e.addEventListener("gesturechange",Z,!1);e.addEventListener("gestureend",Z,!1);K.GU(e)}cI.prototype=new h1;
cI.prototype.a7s=function(e){if(e.type=="gesturestart")this.VG=e.scale;if(e.type=="gesturechange"){var Z=new j8("mouse",!0);
Z.action="scroll";Z.ob=!0;this.Sh(e,Z);var F=(this.VG-e.scale)/this.VG;Z.Nk=new bI(0,100*F);this.VG=e.scale;
this.$(Z)}};cI.prototype._I=function(e){var Z=-1,F=this.G9;for(var l=0;l<F.length;l++)if(F[l].pointerId==e.pointerId)Z=l;
return Z};cI.fJ=function(e){if(e.which==2)return!0;var Z=e.pointerType,F=window.__kb;return Z=="touch"&&F.j(ex.a7l)};
cI.prototype.s8=function(e){if(cI.fJ(e))return;var Z=this._I(e);if(Z!=-1)this.G9[Z]=e;else this.G9.push(e);
if(this.G9.length==1){this.aeU=Date.now();var F=e.button!=null&&e.button!=0?"rdown":"down",b=new j8("mouse",!0);
b.action=F;this.Sh(e,b);this.$(b);K.J3(this.Li,this._T);K.gQ(window,this._T);K.z1(window,this.a6F)}if(this.G9.length==2){if(Date.now()-this.aeU<100){var b=new j8("mouse",!0);
b.action="cancellast";this.Sh(e,b);this.$(b)}this.agE("multidown");this._B=!0}};cI.prototype.Mn=function(e){if(cI.fJ(e))return;
var Z=this._I(e);if(Z!=-1)this.G9[Z]=e;if(this.G9.length>1){this.agE("multimove")}if(this._B)return;
if(this.G9.length==1&&Z==-1)return;var F=new j8("mouse",!0);F.action="move";this.Sh(e,F);this.$(F)};
cI.prototype.fQ=function(e){if(cI.fJ(e))return;var Z=this.G9,F=this._I(e);if(F!=-1)Z.splice(F,1);else return;
if(Z.length==0){var b=e.button!=null&&e.button>0?"rup":"up",_=new j8("mouse",!0);_.action=b;this.Sh(e,_);
this.$(_);K.J3(window,this._T);K.UP(window,this.a6F);K.gQ(this.Li,this._T);this._B=!1}};cI.prototype.nr=function(e){e.preventDefault();
if(e.deltaX==0&&e.deltaY==0)return;var Z=new j8("mouse",!0);Z.action="scroll";Z.ob=e.ctrlKey;this.Sh(e,Z);
this.$(Z)};cI.prototype.asc=function(e){K.Zn(e);var Z=e.sourceCapabilities;if(Z)Z=Z.firesTouchEvents;
if(Z){var F=new j8("mouse",!0);this.Sh(e,F);F.action="rdown";this.$(F);F.action="rup";this.$(F)}};cI.prototype.agE=function(e){var Z=this.G9,F=K.F(),b=[];
for(var l=0;l<Z.length;l++){var _=b[l]=K.DK(Z[l],this.Li);_.x*=F;_.y*=F}var d=new j8("mouse",!0);d.action=e;
d._1=b;if(Z.length<=2)this.$(d)};cI.prototype.Sh=function(e,Z,F){var b=this.G9.length!=0;if(Z.action!="up"){var _=K.F();
if(F==null)F=K.DK(e,this.Li);this.sz=Z.HL={x:_*F.x,y:_*F.y,jP:b};var d=K.DK(e,document.body);Z.HL.Cl=d.x;
Z.HL.mU=d.y}else this.sz=Z.HL={x:this.sz.x,y:this.sz.y,jP:b};Z.HL.BI=.5;if(e.pressure!=null&&e.pressure!=0)Z.HL.BI=e.pressure;
if(e.pointerType=="mouse")Z.HL.BI*=2;Z.HL.anY=e.pointerType;if(e.deltaX!=null){var S=e.deltaMode==0?1:40;
Z.Nk=new bI(e.deltaX*S,e.deltaY*S)}};function gx(e,Z,F){h1.call(this);this.Tc=null;this.amH=this.fQ.bind(this);
this.a9f=this.xQ.bind(this);this.asn=this.a8K.bind(this);this.aru=this.a1p.bind(this);this.dE=[];this.yy=[];
this.cX=[];this.amw=[];this.m=K.L("div","contextpanel "+(F?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",K.zX,!1);
this.Yv=null;this.Rm=0;this.abu=e;this.st=Z;this.ep=[];for(var l=0;l<e.length;l++){var b=K.L("div","enab");
this.yy.push(b);this.m.appendChild(b);if(e[l].QK){var _=K.L("img","thumb"+(F?" gsicon":""));_.setAttribute("src",PIMG[e[l].QK]);
b.appendChild(_)}else{var d=K.L("span","check");this.amw.push(d);b.appendChild(d)}var S=K.L("span","label");
S.innerHTML=gA.get(e[l].name);b.appendChild(S);this.cX.push(S);if(e[l].jr)this.m.appendChild(K.L("hr"));
if(e[l].Nr||e[l].sub){var U=K.L("span","right");b.appendChild(U);if(e[l].Nr)U.innerHTML=ex.Qf(e[l].Nr);
if(e[l].sub)U.innerHTML="\u25B6"}b.addEventListener("click",this.amH,!1);b.addEventListener("mouseover",this.a9f,!0);
b.addEventListener("mouseout",this.asn,!0);if(e[l].sub){var r=new gx(e[l].sub,Z?Z[l].sub:null);r.parent=this;
this.ep.push(r);r.h("select",this.aqM,this)}else this.ep.push(null)}}gx.prototype=new h1;gx.prototype.apU=function(e){K.WL(this.m);
for(var l=0;l<e.length;l++)if(e[l]!=0&&e[l]!=null){this.m.appendChild(this.yy[l]);if(e[l]!=1&&this.ep[l])this.ep[l].apU(e[l])}};
gx.prototype.n=function(){var e=this.abu;for(var l=0;l<e.length;l++){if(e[l].title)this.yy[l].title=gA.get(e[l].title);
this.cX[l].textContent=gA.get(e[l].name)+(e[l].vD?"...":"")}for(var l=0;l<this.ep.length;l++)if(this.ep[l])this.ep[l].n()};
gx.prototype.update=function(e,Z){var F=this.abu;for(var l=0;l<F.length;l++){if(F[l].P){var b=F[l].P(e,Z,l);
if(b.P!=null)this.yy[l].setAttribute("class",b.P?"enab":"disab");if(b.cw!=null)this.cX[l].textContent=b.cw;
if(b.b2!=null)this.amw[l].textContent=b.b2?"\u2713":"";if(b.R!=null)this.st[l]=b.R}}for(var l=0;l<this.ep.length;
l++)if(this.ep[l])this.ep[l].update(e,Z)};gx.prototype.Ko=function(){return this.dE};gx.prototype.fQ=function(e){if(e.button!=0)return;
var l=this.yy.indexOf(e.currentTarget);if(this.ep[l]){this.Rm=l;this.a1p()}else{if(this.st){var Z=this.st[l],F=new j8(Z.Y,!0);
F.k=Z.k;F.data=Z.R;this.$(F)}this.Tc=null;this.dE=[l];this.$(new j8("select",!1));var F=new j8(G.E.W,!0);
F.data={d:G.B.pO};this.$(F)}};gx.prototype.xQ=function(e){var l=this.yy.indexOf(e.currentTarget);if(this.Yv){clearTimeout(this.Yv);
this.Yv=null}if(this.ep[l]==null)return;this.Rm=l;this.Yv=setTimeout(this.aru,300)};gx.prototype.a8K=function(e){var l=this.yy.indexOf(e.currentTarget);
if(this.Yv){clearTimeout(this.Yv);this.Yv=null}};gx.prototype.a1p=function(){if(this.Yv){clearTimeout(this.Yv);
this.Yv=null}var l=this.Rm;if(this.Tc)this.Tc.ah9();this.Tc=this.ep[l];var e=this.yy[l].getBoundingClientRect(),Z=new j8(G.E.W,!0);
Z.data={d:G.B.f6,Gw:this.ep[l],x:e.left+e.width+2,y:e.top};this.$(Z)};gx.prototype.ah9=function(){for(var l=0;
l<this.ep.length;l++)if(this.ep[l])this.ep[l].ah9();var e=new j8(G.E.W,!0);e.data={d:G.B.vM,Gw:this};
this.$(e)};gx.prototype.aqM=function(e){var l=this.ep.indexOf(e.target);this.dE=[l].concat(e.target.Ko());
this.$(new j8("select",!1))};function c7(e,Z,F){h1.call(this);this.m=K.L("span","fitem cbox");if(Z==null)Z=!0;
if(F==null)F="flabel";var b="cb"+K._m();this.zh=K.L("input","");this.zh.setAttribute("type","checkbox");
this.zh.setAttribute("id",b);this.m.appendChild(this.zh);this.G5=e;this.kb=K.L("label",F);if(Z)this.kb.setAttribute("for",b);
this.m.appendChild(this.kb);this.n();this.zh.addEventListener("change",this.Lm.bind(this),!1)}c7.prototype=new h1;
c7.prototype.agL=function(){return this.G5};c7.prototype.cc=function(e){this.kb.textContent=e};c7.prototype.n=function(){var e=this.G5;
if(typeof e=="string"&&e.startsWith("<"))this.kb.innerHTML=e;else this.kb.textContent=gA.get(e)};c7.prototype.SB=function(){this.zh.checked=!0};
c7.prototype.sS=function(){this.zh.checked=!1};c7.prototype.MK=function(){return this.zh.checked};c7.prototype.f=function(e){this.zh.checked=e};
c7.prototype.U=c7.prototype.MK;c7.prototype.Lm=function(e){this.$(new j8(G.E.p,!1))};function dB(e,Z){h1.call(this);
this.G5=e;this.m=K.L("span","labelitem fitem"+(Z?" spread":""));this.n()}dB.prototype=new h1;dB.prototype.f=function(e){this.m.textContent=e};
dB.prototype.U=function(){return this.m.textContent};dB.prototype.N_=function(){this.m.removeAttribute("disabled")};
dB.prototype.aK=function(){this.m.setAttribute("disabled","")};dB.prototype.cc=function(e){this.m.textContent=e};
dB.prototype.n=function(){this.m.textContent=gA.get(this.G5)};dB.prototype.agL=function(){return this.G5};
function cd(e,Z,F,b,_){h1.call(this);this.m=K.L("button","fitem"+(Z?" spread":"")+(b?" bbtn":""));this.G5=e;
this.Af=F;this.n();var d=_&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(d,this.nk.bind(this),!1)}cd.prototype=new h1;
cd.prototype.n=function(){var e=this.m,Z=this.G5,F=this.Af,b=gA.get(Z);if(b.startsWith("<img")||b.startsWith("<svg"))e.innerHTML=b;
else e.textContent=b;if(b.startsWith("<img")||b.startsWith("<svg"))e.setAttribute("style","padding:2px");
if(F){e.setAttribute("title",gA.get(F))}};cd.prototype.aue=function(e){this.m.setAttribute("title",e)};
cd.prototype.nk=function(e){this.$(new j8("click",!1))};cd.prototype.SB=function(){K.j_(this.m,"bactive")};
cd.prototype.sS=function(){K.vB(this.m,"bactive")};cd.prototype.cc=function(e,Z){if(e)this.G5=e;if(Z)this.Af=Z;
this.n()};cd.prototype.f=function(e){if(e)this.SB();else this.sS()};cd.prototype.MK=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
cd.prototype.U=function(){return this.MK()};function cY(e,Z,F,b,_){h1.call(this);var d=K._m();this.m=K.L("span","fitem tinput");
if(e){this.G5=e;this.kb=K.L("label","flabel");this.m.appendChild(this.kb);this.kb.setAttribute("for",d);
this.n()}if(_){this.zh=K.L("span")}else if(b==null){this.zh=K.L("input");this.zh.setAttribute("type","text")}else this.zh=K.L("textarea","scrollable");
this.zh.setAttribute("id",d);if(F)this.zh.setAttribute("style","width:"+F+"em;"+(_?" display:inline-block; margin-left:6px;":""));
if(b)this.zh.setAttribute("rows",b);this.m.appendChild(this.zh);if(Z){this.IK=K.L("span");this.IK.textContent=Z;
this.m.appendChild(this.IK)}K.lN(this.zh);this.zh.addEventListener("change",this.Lm.bind(this),!1);this.zh.addEventListener("input",this.at7.bind(this),!1)}cY.prototype=new h1;
cY.prototype.n=function(){if(this.G5)this.kb.textContent=gA.get(this.G5)+":"};cY.prototype.cc=function(e){this.kb.textContent=e};
cY.prototype.f=function(e){var Z=this.zh,F=e==null?"":e,b=Z.tagName=="SPAN";if(b){Z.textContent=" "+F;
if(this.IK)Z.appendChild(this.IK)}else Z.value=F};cY.prototype.U=function(){return this.zh.value};cY.prototype.TP=function(){this.zh.select();
this.zh.focus()};cY.prototype.Lm=function(e){this.$(new j8(G.E.p,!1))};cY.prototype.at7=function(e){this.$(new j8("input",!1))};
function bK(e,Z,F,b,_,d,S,U,r){h1.call(this);if(_==null)_=0;this.m=K.L("span","fitem");var q=K._m();
this.G5=e;this.Af=U;this.sm=0;this.a4h=r;this.uv=Z;this.aO=F;this.Pf=null;if(b instanceof Array){this.Pf=b;
b=b[0]}this.Cq=b;this.FC=_;this.a9K=d;this.uk=S;this.kQ=0;this.kb=K.L("label","flabel");this.kb.innerHTML=e;
this.kb.setAttribute("style","cursor:col-resize;");this.Mr=K.L("input","");this.Mr.setAttribute("type","range");
if(S){this.Mr.min=0;this.Mr.max=400}else{this.Mr.min=Z;this.Mr.max=F;if(_!=0)this.Mr.step=(F-Z)/200}this.zh=K.L("input","");
this.zh.setAttribute("type","text");this.zh.setAttribute("id",q);this.IK=K.L("span","");this.IK.innerHTML=b;
K.lN(this.zh);this.zh.addEventListener("change",this.Lm.bind(this),!1);this.zh.addEventListener("keydown",this.Or.bind(this),!1);
this.zh.addEventListener("wheel",this.nr.bind(this),!1);this.Mr.addEventListener("input",this.Lm.bind(this),!1);
if(r)this.Mr.addEventListener("change",this.Lm.bind(this),!1);this.Mr.addEventListener("click",this.ark.bind(this),!1);
this.ajo=this.anQ.bind(this);this.adM=this.a5e.bind(this);this.aiK=this.alV.bind(this);this.JI=0;this.RE=0;
this.jI=!1;K.x7(this.kb,this.ajo);K.GU(this.kb)}bK.prototype=new h1;bK.prototype.ty=function(e){this.FC=e};
bK.prototype.cc=function(e){this.kb.textContent=e};bK.prototype.n=function(){var gi=this.G5,e=this.Af;
if(gi){if(typeof gi=="string"&&gi.startsWith("<"))this.kb.innerHTML=gi;else this.kb.textContent=gA.get(gi)+":"}if(e){e=gA.get(e);
if(gi)this.kb.setAttribute("title",e);this.zh.setAttribute("title",e)}};bK.prototype.f=function(e,Z){var F=this.uv==this.aO;
if(!F&&this.uv>=0)e=Math.max(this.uv,e);if(this.FC==0)e=Math.round(e);var b=this.Cq;this.sm=e;this.zh.value=(this.FC!=0?e.toFixed(this.FC):e)+(this.a9K&&b?(b.toLowerCase()==b.toUpperCase()?"":" ")+b:"");
var _=400*Math.pow((e-this.uv)/(this.aO-this.uv),1/2.7);this.Mr.value=this.uk?_:e;if(Z)this.oJ()};bK.prototype.U=function(){var e=this.sm;
if(isNaN(e))e=0;return e};bK.prototype.zc=function(){return this.Cq};bK.prototype.Lm=function(e){var Z=0;
if(e.currentTarget==this.zh){var F=e.target.value,b=0;Z=F==""?0:this.Cq?parseFloat(F):eval(F);if(isNaN(Z))Z=0;
while(b<F.length&&(F.charAt(b)=="."||48<=F.charCodeAt(b)&&F.charCodeAt(b)<=57))b++;var _=F.slice(b).trim();
if(this.Pf&&this.Pf.indexOf(_)!=-1)this.Cq=_}else{if(Date.now()-this.kQ<10)return;Z=parseFloat(e.target.value);
if(this.uk){Z=this.uv+Math.pow(Z/400,2.7)*(this.aO-this.uv);Z=this.alU(Z)}}this.f(Z);if(e.type=="input"&&this.a4h)return;
this.oJ()};bK.prototype.oJ=function(){this.$(new j8(G.E.p))};bK.prototype.alU=function(e){if(this.aO-this.uv>50&&e>10)e=Math.round(e);
return e};bK.prototype.Or=function(e){var Z=0;if(ex.Ww(e.code,ex.kg))Z=1;if(ex.Ww(e.code,ex.ZF))Z=-1;
if(Z!=0)this.aao(Z,e.shiftKey)};bK.prototype.nr=function(e){this.aao(e.deltaY>0?-1:1,e.shiftKey)};bK.prototype.aao=function(e,Z){var F=this.U(),b=this.FC,_=e*(b==null||b==0||F>5?1:.1);
if(Z)_*=10;var d=F+_;if(!this.uk&&this.aO!=this.uv)d=Math.min(this.aO,d);this.f(d);this.oJ()};bK.prototype.ark=function(e){var Z=Date.now()-this.kQ;
this.kQ=Date.now();if(Z>200)return;var F=this.uv,b=this.aO,_=(F+b)/2;if(F<1&&b>1&&b<10)_=1;else if(F<90&&b>110)_=100;
else if(F<0&&b>0)_=0;this.f(_);this.oJ()};bK.prototype.anQ=function(e){K.gQ(document,this.adM);K.z1(document,this.aiK);
this.JI=K.DK(e,document.body).x;this.RE=this.U()};bK.prototype.a5e=function(e){K.Zn(e);var Z=this.uv==this.aO,F=K.DK(e,document.body).x,b=(F-this.JI)*(Z?1:1/120*(this.aO-this.uv)),_=this.RE+b;
if(Z)_=Math.round(_);if(!Z){if(!0){_=Math.max(this.uv,_);if(_==this.uv){this.JI=F;this.RE=this.uv}}if(!this.uk){_=Math.min(this.aO,_);
if(_==this.aO){this.JI=F;this.RE=this.aO}}_=this.alU(_)}this.jI=!0;this.f(_);this.oJ()};bK.prototype.alV=function(e){if(!this.jI)this.zh.focus();
this.jI=!1;K.J3(document,this.adM);K.UP(document,this.aiK)};bK.prototype.TP=function(){this.zh.select();
this.zh.focus()};function en(e,Z,F,b,_,d,S,U,r){bK.call(this,e,Z,F,b,_,!0,d,r);K.j_(this.m,"rangedropinput");
this.m.appendChild(this.kb);this.zh.setAttribute("style","width:"+(U?U:3.3)+"em");this.m.appendChild(this.zh);
this.ahh=K.L("span","rangecont");this.ahh.appendChild(this.Mr);this.HF=K.L("button");this.HF.innerHTML="\u25BC";
K.x7(this.HF,this.a6X.bind(this));if(S!=!0)this.m.appendChild(this.HF);this.OA=new h1;this.OA.m=this.ahh}en.prototype=new bK;
en.prototype.a6X=function(e){if(K.RY(this.OA.m))return;e.stopPropagation();var Z=this.m.getBoundingClientRect();
this.Mr.setAttribute("style","width:"+Z.width+"px;");var F=new j8(G.E.W,!0);F.data={d:G.B.f6,Gw:this.OA,x:Z.left,y:Z.top+Z.height};
this.$(F)};function e_(e,Z,F,b,_,d){bK.call(this,e,Z,F,b,_,!1,d);this.m.appendChild(this.kb);var S=K.L("span","rangecont");
this.m.appendChild(S);S.appendChild(this.Mr);this.m.appendChild(this.zh);this.zh.setAttribute("style","width:3.3em");
if(this.Cq)this.m.appendChild(this.IK)}e_.prototype=new bK;function fZ(e,Z,F,b,_,d,S,U){bK.call(this,e,Z,F,b,_,!0,d,null,S);
K.j_(this.m,"trangeinput");this.m.appendChild(this.kb);this.m.appendChild(this.zh);var r=K.L("span","rangecont");
if(U!=!0)this.m.appendChild(r);r.appendChild(this.Mr);this.Mr.setAttribute("style","width:97%;")}fZ.prototype=new bK;
function dE(e,Z,F,b){h1.call(this);if(!Z)return;if(F==null)F=!1;this.VU=0;this.a38=F;this.G5=e;this.lu=null;
this.an6=b;this.jT=[];var _="dd"+K._m();this.m=K.L("span","fitem ddmenu");if(e&&!F){this.kb=K.L("label","flabel");
this.m.appendChild(this.kb);this.kb.setAttribute("for",_)}this.Jy=K.L("select","bbtn");this.Jy.setAttribute("id",_);
this.m.appendChild(this.Jy);this.Jy.addEventListener("change",this.Lm.bind(this),!1);this.tw=[];this.Zt=null;
this.mj(Z,b);this.n()}dE.prototype=new h1;dE.prototype.cc=function(e){this.G5=e;this.n()};dE.prototype.n=function(){if(this.G5!=null){var e=gA.get(this.G5);
if(this.a38)this.Jy.setAttribute("title",e);else this.kb.textContent=e+":"}if(this.Zt)this.mj(this.Zt,this.an6);
this.f(this.VU)};dE.prototype.U=function(){return this.VU};dE.prototype.mj=function(e,Z){K.WL(this.Jy);
var F=[],b=0;if(Z){F.push(Z[0]);for(var l=1;l<Z.length;l++)F.push(F[l-1]+Z[l])}this.Zt=e;this.lu=[];
this.an6=Z;for(var l=0;l<e.length;l++){var _=K.L("option");if(this.jT.indexOf(l)!=-1)_.setAttribute("disabled","");
_.textContent=gA.get(e[l]);_.setAttribute("value",l);this.Jy.appendChild(_);this.tw.push(_);this.lu.push(l+b);
if(F.indexOf(l+1)!=-1&&l!=e.length-1){var d=K.L("option");d.setAttribute("disabled","");d.textContent="";
this.Jy.appendChild(d);b++}}};dE.prototype.abH=function(l){var e=this.jT,Z=e.indexOf(l);if(Z==-1)e.push(l);
this.n()};dE.prototype.ab7=function(l){var e=this.jT,Z=e.indexOf(l);if(Z!=-1)e.splice(Z,1);this.n()};
dE.prototype.f=function(e){this.VU=e;this.Jy.selectedIndex=this.lu[e]};dE.prototype.Lm=function(e){this.VU=this.lu.indexOf(this.Jy.selectedIndex);
this.$(new j8(G.E.p,!1))};function jv(e,Z,F,b){h1.call(this);if(!Z)return;this.VU=0;this.aqU=b;this.m=K.L("span","fitem bbmenu");
if(e){this.G5=e;this.kb=K.L("label","flabel");this.kb.textContent=e+":";this.m.appendChild(this.kb)}this.tw=[];
this.Zt=null;this.mj(Z,F);this.f(0)}jv.prototype=new h1;jv.prototype.cc=function(e){this.G5=e;this.n()};
jv.prototype.n=function(){if(this.G5!=null){this.kb.textContent=gA.get(this.G5)+": "}for(var l=0;l<this.tw.length;
l++)this.tw[l].n()};jv.prototype.U=function(){return this.VU};jv.prototype.mj=function(e,Z){while(this.tw.length>0)this.m.removeChild(this.tw.pop().m);
this.Zt=e;for(var l=0;l<e.length;l++){var F=new cd(e[l],!1,Z?Z[l]:null,this.aqU);F.h("click",this.Lm,this);
this.m.appendChild(F.m);this.tw.push(F)}this.n()};jv.prototype.f=function(e){this.VU=e;for(var l=0;l<this.tw.length;
l++)this.tw[l].sS();this.tw[e].SB()};jv.prototype.Lm=function(e){var l=this.tw.indexOf(e.target);this.f(l);
this.$(new j8(G.E.p,!1))};jv.K4=function(e,Z){if(Z==null)Z=16;var F=jv.HN,b=F.getContext("2d"),_=Z>>>1;
F.width=F.height=Z;var d=[];for(var l=0;l<e.length;l++){if(e[l][0]=="-")d.push(e[l].slice(1));else if(e[l]=="checker"||e[l].startsWith("#")){if(e[l]=="checker"){b.fillStyle="white";
b.fillRect(0,0,Z,Z);b.fillStyle="#bbbbbb";b.fillRect(_,0,_,_);b.fillRect(0,_,_,_)}else if(e[l].startsWith("#")){b.fillStyle=e[l];
b.fillRect(0,0,Z,Z)}d.push("<img src=\""+F.toDataURL()+"\" />")}else d.push(K.kO(e[l],null,"autoscale"))}return d};
jv.HN=K.L("canvas");function g_(e,Z,F,b,_,d){h1.call(this);this.m=K.L("span","fitem mbox");this.a8w=F;
this.aaS=_;if(e){this.G5=e;this.kb=K.L("label","flabel");this.m.appendChild(this.kb)}this.XC=Z;this.rc=[];
for(var l=0;l<Z.length;l++){var S=F?new cd(Z[l],!1,b?b[l]:null,!1,d):new c7(Z[l],!0,"");S.h(F?"click":G.E.p,this.Lm,this);
this.rc.push(S);this.m.appendChild(S.m)}this.n()}g_.prototype=new h1;g_.prototype.f=function(e){for(var Z=0;
Z<this.XC.length;Z++)this.rc[Z].f(e[Z])};g_.prototype.U=function(){var e=[];for(var Z=0;Z<this.XC.length;
Z++)e[Z]=this.rc[Z].U();return e};g_.prototype.n=function(){if(this.G5)this.kb.innerHTML=gA.get(this.G5)+": ";
var e=this.rc;for(var Z=0;Z<e.length;Z++){e[Z].n();if(Z==e.length-1)e[Z].m.style.marginRight="0px"}};
g_.prototype.Lm=function(e){var l=this.rc.indexOf(e.currentTarget),Z=this.rc[l];if(this.a8w)Z.f(!Z.U());
if(this.aaS){var F=Z.U();for(var l=0;l<this.rc.length;l++)this.rc[l].f(!1);Z.f(F)}this.$(new j8(G.E.p,!1))};
function b7(e,Z){h1.call(this);this.VO=[];this.V=[];this.a3j=e;this.pi=Z;this.zv=0;this.Cd=null;this.Ok=new bI(0,0);
if(Z!=null){this.J5=new gx([{name:[6,37]},{name:[5,4]}]);this.J5.parent=this;this.J5.h("select",this.lW,this)}this.m=K.L("div","imageset scrollable");
this.m.addEventListener("contextmenu",K.zX,!1)}b7.prototype=new h1;b7.prototype.n=function(){if(this.J5)this.J5.n()};
b7.prototype.lW=function(e){var l=this.J5.Ko()[0],Z=new j8(G.E.W,!0),F={d:G.B.aE,NG:this.pi,jR:this.V.slice(0)};
if(l==0){var b=this.Cd[1][this.V[0]];F.iH="rnm";Z.data={d:G.B.tJ,ZB:"namewindow",Xd:b,kD:{Y:G.E.W,R:F}}}else{Z.data=F;
F.iH="del"}this.$(Z)};b7.prototype.aqY=function(){return this.zv};b7.prototype.pk=function(e){this.zv=e;
if(this.Cd)this.qz()};b7.prototype.Ra=function(e,Z,F,b){this.Cd=[e,Z,F,b];this.qz()};b7.prototype.qz=function(){var e=this.Cd,Z=e[0],F=e[1],b=e[2],_=e[3];
this.VO=[];this.m.innerHTML="";var d=this.nk.bind(this),S=this.zv;if(S==0)K.j_(this.m,"imageset");else K.vB(this.m,"imageset");
for(var l=0;l<Z.length;l++){var U=Z[l],r=null;if(U==null){this.VO.push(null);continue}if(typeof U=="string"){r=K.L("img","image");
r.setAttribute("src",U)}else r=U;if(b)K.rB(r,b,_);if(this.a3j)K.j_(r,"gsicon");if(S==0){}else{var q=K.L("div","listitem");
q.appendChild(r);var w=K.L("span");w.textContent=F?F[l]:"Item "+(l+1);w.setAttribute("style","margin-left:4px;");
q.appendChild(w);r=q}if(F)r.setAttribute("title",F[l]);r.addEventListener("mousedown",d,!1);this.VO.push(r);
this.m.appendChild(r)}};b7.prototype.nk=function(e){if(this.pi==null)e.preventDefault();var Z=this.VO.indexOf(e.currentTarget),F=window.__kb,b=this.V,_=b.length;
if(F.j(ex.Ng)){var d=Math.min(b[0],b[b.length-1],Z),S=Math.max(b[0],b[b.length-1],Z);b=[];for(var l=d;
l<=S;l++)b.push(l)}else if(F.j(ex.Nh)){var U=b.indexOf(Z);if(U==-1)b.push(Z);else b.splice(U,1)}else b=[Z];
b.sort(function(X,Q){return X-Q});if(e.button==0||_==1)this.f(b);this.Ok=K.DK(e,e.currentTarget);if(e.button==0)this.$(new j8(G.E.p));
if(e.button==2&&this.J5){var r=this.J5;r.update(null);var q=K.DK(e,document.body),w=new j8(G.E.W,!0);
w.data={d:G.B.f6,Gw:r,x:q.x,y:q.y+2};this.$(w)}};b7.prototype.U=function(){return this.V.slice(0)};b7.prototype.a0W=function(){var e=this.Ok;
return new bI(e.x,e.y)};b7.prototype.f=function(e){this.V=e.slice(0);for(var l=0;l<this.VO.length;l++){var Z=this.VO[l];
if(Z==null)continue;if(e.indexOf(l)!=-1)K.j_(Z,"selected");else K.vB(Z,"selected")}};function aT(e,Z,F,b,_,d,S){h1.call(this);
this.m=K.L("span","fitem "+F);this.S6=new h1;this.S6.m=K.L("div","floatcont");this.S6.m.setAttribute("style","width: "+(b+1.5)+"em;");
this.S6.parent=this;this.a2q=K.L("div");this.S6.m.appendChild(this.a2q);this.gM=K.L("div");this.S6.m.appendChild(this.gM);
if(e){this.G5=e;this.kb=K.L("label","flabel");this.m.appendChild(this.kb)}this.d=K.L("button",S?"nopadding":"");
this.d.setAttribute("style","position:relative;");this.d.addEventListener("click",(Z?this.H5:this.ld).bind(this),!1);
this.m.appendChild(this.d);this.KG=K.L("img",S?"gsicon":"");this.d.appendChild(this.KG);if(Z){var U=K.L("button");
U.textContent="\u25BC";U.addEventListener("click",this.ld.bind(this),!1);this.m.appendChild(U)}else{var r=K.L("span");
r.textContent="\u25BC";r.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(r)}var q=K.L("span");
this.gM.appendChild(q);q.setAttribute("style","display:inline-block;  vertical-align:top; width:"+b+"em;");
this.ik=new b7(S,d);q.appendChild(this.ik.m);this.ik.parent=this.S6;this.ik.h(G.E.p,this.U8,this);this.ik.m.style.height=_+"em";
this.us=K.L("button");this.us.textContent="\u25BC";this.us.setAttribute("style","padding:3px");this.us.addEventListener("click",this.ajW.bind(this),!1);
this.gM.appendChild(this.us);var w=this.z8(),X=d!=c6.y9&&d!=c6.Fj?d:null,Q=d==null?"":c6.zf[d][0].toUpperCase(),c=X?[{name:[12,87]}]:[];
c=c.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],jr:!0},{name:[[23,6],"."+(Q=="ICC"?"icc .cube .look .3dl":Q)]},{name:["VAR0 ."+Q,[1,8]]},{name:[6,37]},{name:[5,4],jr:w.length!=0}]);
for(var l=0;l<w.length;l++)c.push({name:w[l].split("/").pop()});this.J5=new gx(c);this.J5.parent=this.S6;
this.J5.h("select",this.lW,this);this.pi=d;this.a1u=X;this.Gc=null;this.ij=!0;this.kU=null}aT.prototype=new h1;
aT.prototype.z8=function(){return[]};aT.prototype.H5=function(){};aT.prototype.n=function(){this.J5.n();
this.ik.n();var e=this.G5;if(e)this.kb.textContent=gA.get(e)+":"};aT.prototype.cc=function(e){this.kb.textContent=e};
aT.prototype.z6=function(e){var Z=this.pi,F=0;if(Z==c6.CU){F=this.Gc?this.Gc.length:0;e=e.slice(0)}this.Gc=e;
this.ij=!0;if(K.RY(this.ik.m)||Z==c6.qZ)this.ZI();if(Z==c6.CU&&e.length-F==1&&K.RY(this.m)){this.f(e[F]);
this.ij=!0;this.ZI();this.ik.f([F]);this.$(new j8(G.E.p))}};aT.prototype.lW=function(e){var Z=e.target.Ko()[0];
if(this.a1u==null)Z++;var F=new j8(G.E.W,!0);if(Z==0){var b=this.Dc();if(this.pi==c6.CU&&b[0].profile==null)return;
F.data={d:G.B.aE,iH:"add",NG:this.a1u,va:b}}else if(Z==1)this.ik.pk(1-this.ik.aqY());else if(Z<=5)this.at(Z-2);
else{var _=this.z8();F.data={d:G.B.l0,NG:{url:"rsrc/"+_[Z-6]}}}if(F.data)this.$(F)};aT.prototype.at=function(e){var Z=new j8(G.E.W,!0),F=this.ik.U(),b={d:G.B.aE,NG:this.pi,jR:F};
if(e>1&&F.length==0){alert("No items selected");return}if(e==0)Z.data={d:G.B.Fq};else if(e==1)Z.data={d:G.B.SI,a7w:this.pi,jR:F.length==0?null:F};
else if(e==2){var _=this.ik.Cd[1][F[0]];b.iH="rnm";Z.data={d:G.B.tJ,ZB:"namewindow",Xd:_,kD:{Y:G.E.W,R:b}}}else if(e==3){Z.data=b;
b.iH="del"}this.$(Z)};aT.prototype.Dc=function(){return[this.U()]};aT.prototype.ajW=function(e){var Z=this.J5;
Z.n();Z.update(null);var F=e.currentTarget.getBoundingClientRect(),b=new j8(G.E.W,!0);b.data={d:G.B.f6,Gw:Z,x:F.left,y:F.top+F.height};
this.$(b)};aT.prototype.ld=function(e){this.ZI();var Z=this.d.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height,eV:!0};this.$(F)};function jq(){h1.call(this);
this.m=K.L("div");this.sm=!1;this.hy=[new dE([12,19,1],[[13,1,7]].concat(hc.aD)),new iM([17,1]),new iM([12,46])];
for(var l=0;l<3;l++){var e=this.hy[l];this.m.appendChild(e.m);e.h(G.E.p,this.j6,this)}this.n()}jq.prototype=new h1;
jq.prototype.n=function(){for(var l=0;l<3;l++)this.hy[l].n()};jq.prototype.U=function(){return this.sm.slice(0)};
jq.prototype.f=function(e){this.sm=e.slice(0);var Z=this.hy,F=Z[0].U();Z[1].f(e.slice(F*8,F*8+4),F);
Z[2].f(e.slice(F*8+4,F*8+8),F)};jq.prototype.j6=function(e){var Z=this.hy,F=Z.indexOf(e.currentTarget);
if(F==0)this.f(this.sm);else{var b=Z[0].U()*8+(F==1?0:4),_=Z[F].U();for(var l=0;l<4;l++)this.sm[b+l]=_[l];
this.$(new j8(G.E.p,!1))}};function iM(e){h1.call(this);this.m=K.L("div");this.O=K.L("canvas");this.Wt=e;
this.sm=[0,20,200,255];this.Hu=0;this.Ar=-1;this.afn=[];for(var l=0;l<5;l++){var Z=K.L("span");Z.setAttribute("style","display:inline-block;width:"+(l==0?8:l==2?7:2)+"em");
this.afn.push(Z);this.m.appendChild(Z)}this.a_=this.s8.bind(this);this.YQ=this.Mn.bind(this);this.YK=this.fQ.bind(this);
K.GU(this.O);K.x7(this.O,this.a_);this.m.appendChild(this.O);this.qz()}iM.prototype=new h1;iM.prototype.n=function(){this.qz()};
iM.prototype.f=function(e,Z){this.sm=e;this.Hu=Z;this.qz()};iM.prototype.U=function(){return this.sm.slice(0)};
iM.prototype.s8=function(e){var Z=this.sm,F=K.DK(e,this.O),b=F.x-8,_=-1,d=1e9;for(var l=0;l<4;l++){var S=b-Z[l],U=Math.abs(S);
if(U<8&&U<d&&((l&1)==0&&S<0||(l&1)==1&&S>0)){d=S;_=l}}if(_==-1)return;this.Ar=_;this.Ed=window.__kb.j(ex.sW)||Z[(_>>>1)*2]!=Z[(_>>>1)*2+1];
K.gQ(window,this.YQ);K.z1(window,this.YK)};iM.prototype.Mn=function(e){var Z=this.sm,F=this.Ar,b=(F>>>1)*2,_=b+1,d=K.DK(e,this.O),S=Math.round(Math.max(0,Math.min(255,d.x-8)));
Z[F]=S;if(this.Ed&&Z[b]>=Z[_])this.Ed=!1;if(!this.Ed)Z[b]=Z[_]=S;this.qz();this.$(new j8(G.E.p,!1))};
iM.prototype.fQ=function(e){K.J3(window,this.YQ);K.UP(window,this.YK)};iM.prototype.qz=function(){var e=this.O;
K.kd(e,255+16,16);var Z=e.getContext("2d"),F=e.width,b=e.height,_=Math.round(255*K.F()),d=Math.round(8*K.F());
Z.translate(d,0);var S=Z.createLinearGradient(0,0,_,0);S.addColorStop(0,"black");S.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Hu]);
Z.fillStyle=S;Z.fillRect(0,0,_,d);var U=this.afn,r=gA.get(this.Wt)+":";U[0].textContent=r;for(var l=0;
l<4;l++){var q=this.sm[l];U[1+l].textContent=q;var w=Math.round(q*K.F());Z.beginPath();Z.moveTo(w,d);
Z.lineTo(w,d+d);Z.lineTo(w+((l&1)==0?-1:1)*d,d+d);Z.closePath();Z.fillStyle=l<2?"#666666":"#cccccc";
Z.fill();Z.strokeStyle="black";Z.stroke()}};function hD(e,Z,F){h1.call(this);if(F==null)F=!1;this.I=[0,0,1];
this.arn=Z;this.ac6=F;this.as1=0;var b="ai"+K._m();this.m=K.L("span","fitem angleinput");if(e){this.kb=K.L("label","flabel");
this.G5=e;this.m.appendChild(this.kb);this.kb.setAttribute("for",b)}this.JZ=F?44:20;this.O=K.L("canvas","gsicon");
this.Gl=this.O.getContext("2d");K.GU(this.O);K.kd(this.O,this.JZ*2+1,this.JZ*2+1);this.Gl.scale(K.F(),K.F());
this.m.appendChild(this.O);K.x7(this.O,this.WN.bind(this));this.Gv=this.xH.bind(this);this.mK=this.CM.bind(this);
var _=this.Lm.bind(this),d=K.L("div");d.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!F)this.m.appendChild(d);this.Er=[];for(var l=0;l<2;l++){var S=K.L("input");this.Er.push(S);S.setAttribute("type","text");
K.lN(S);if(l==0)S.setAttribute("id",b);S.addEventListener("change",_,!1);var U=K.L("span");U.textContent="\xB0";
if(l==0||Z){d.appendChild(S);d.appendChild(U);K.MV(d)}}this.f(this.I)}hD.prototype=new h1;hD.prototype.n=function(){if(this.G5)this.kb.textContent=gA.get(this.G5)+":"};
hD.prototype.cc=function(e){this.kb.textContent=e};hD.prototype.U=function(){return this.I.slice(0)};
hD.prototype.f=function(e,Z){var F=this.I;e=e.slice(0);if(e[0]==null)e[0]=F[0];if(e[1]==null)e[1]=F[1];
if(e[2]==null)e[2]=F[2];this.I=e;var b=e[0],_=e[1],d=e[2],S=this.arn,U=this.ac6,r=this.JZ*.85;if(!S)_=0;
this.Er[0].value=b;this.Er[1].value=_;var q=this.Gl;q.clearRect(0,0,100,100);b=Math.PI*b/180;_=r*(90-_)/90;
var w=this.JZ+.5;q.save();q.translate(w,w);q.rotate(-b);q.strokeStyle="rgba(0,0,0,0.5)";q.beginPath();
q.ellipse(0,0,r,r*d,0,0,2*Math.PI);if(U){q.moveTo(0,-r*d);q.lineTo(0,r*d);q.moveTo(-_,0)}else q.moveTo(0,0);
q.lineTo(_,0);q.stroke();var X=this.JZ*.15;q.fillStyle="black";q.beginPath();if(U){q.arc(0,-r*d,X*.66,0,2*Math.PI);
q.arc(0,r*d,X*.66,0,2*Math.PI)}if(S){q.arc(_,0,X*.4,0,2*Math.PI)}else{q.moveTo(w-X,-X*.66);q.lineTo(w,0);
q.lineTo(w-X,X*.66)}q.fill();q.restore();if(Z)this.Lm()};hD.prototype.Lm=function(e){var Z=parseInt(this.Er[0].value);
if(isNaN(Z))Z=0;var F=parseInt(this.Er[1].value);if(isNaN(F))F=0;Z=Z%360;F=F%360;this.f([Z,F]);this.$(new j8(G.E.p,!1))};
hD.prototype.WN=function(e){K.gQ(window,this.Gv);K.z1(window,this.mK);var Z=K.DK(e,this.O),w=0,X=1e9;
Z.x-=this.JZ;Z.y-=this.JZ;var F=this.I,b=F[0]*Math.PI/180,_=(90-F[1])/90,d=F[2],S=this.JZ*.85,U=Math.sin(-b),r=Math.cos(-b),q=[new bI(r*S,U*S)];
if(this.ac6)q.push(new bI(-U*S*d,r*S*d),new bI(U*S*d,-r*S*d));for(var l=0;l<q.length;l++){var Q=bI.Ls(Z,q[l]);
if(Q<X){X=Q;w=l}}this.as1=w;if(w==0)this.xH(e)};hD.prototype.xH=function(e){var Z=K.DK(e,this.O),F=this.as1,b=[],_=Z.x-this.JZ,d=Z.y-this.JZ,S=this.JZ*.85;
if(F==0){var U=180*Math.atan2(-d,_)/Math.PI,r=90-90*Math.min(1,Math.sqrt(_*_+d*d)/S);b=[Math.round(U),Math.round(r)]}else b=[null,null,Math.max(.01,Math.min(1,Math.sqrt(_*_+d*d)/S))];
this.f(b);this.$(new j8(G.E.p,!1))};hD.prototype.CM=function(e){this.$(new j8(G.E.p,!1));K.J3(window,this.Gv);
K.UP(window,this.mK)};function bq(e,Z){h1.call(this);this.sm=0;this.s6=Z;this.m=K.L("span","fitem angleinput");
if(e){this.kb=K.L("label","flabel");this.G5=e;this.m.appendChild(this.kb)}this.O=K.L("canvas","gsicon");
this.Gl=this.O.getContext("2d");K.kd(this.O,Z,Z);this.m.appendChild(this.O);K.x7(this.O,this.WN.bind(this));
this.Gv=this.xH.bind(this);this.mK=this.CM.bind(this);this.f(0)}bq.prototype=new h1;bq.prototype.n=function(){if(this.G5)this.kb.textContent=gA.get(this.G5)+":"};
bq.prototype.cc=function(e){this.kb.textContent=e};bq.prototype.U=function(){return this.sm};bq.prototype.ai2=function(e){var Z=this.sm,F=Math.floor(Z/3),b=Z-F*3;
b=Math.max(0,Math.min(2,b+e.x));F=Math.max(0,Math.min(2,F+e.y));this.f(F*3+b)};bq.prototype.f=function(e){this.sm=e;
var Z=this.O.width,F=Math.floor(e/3),b=e-3*F,_=(b+.5)*Z/3,d=(F+.5)*Z/3,S=this.Gl,U=[.5,Math.round(Z/3)+.5,Math.round(2*Z/3)+.5,Z-.5];
S.clearRect(0,0,Z,Z);var r=this.s6<30;S.setLineDash([]);S.strokeStyle=r?"rgba(0,0,0,0.5)":"#000000";
S.beginPath();for(var l=0;l<4;l++){var q=U[l];S.moveTo(q,0);S.lineTo(q,Z);S.moveTo(0,q);S.lineTo(Z,q)}S.stroke();
if(e==9)return;if(!r){S.setLineDash([1,2]);var w=Z*.53,X=Math.max(0,Math.min(Z-w,_-w/2)),Q=Math.max(0,Math.min(Z-w,d-w/2));
S.strokeRect(Math.round(X)+.5,Math.round(Q)+.5,Math.round(w),Math.round(w))}S.fillStyle="#000000";S.beginPath();
S.arc(_,d,Z/8,0,Math.PI*2);S.fill()};bq.prototype.WN=function(e){K.gQ(window,this.Gv);K.z1(window,this.mK);
this.xH(e)};bq.prototype.xH=function(e){var Z=K.DK(e,this.O),F=Math.max(0,Math.min(2,Math.floor(Z.x/(this.s6/3)))),b=Math.max(0,Math.min(2,Math.floor(Z.y/(this.s6/3))));
this.f(b*3+F)};bq.prototype.CM=function(e){this.$(new j8(G.E.p,!1));K.J3(window,this.Gv);K.UP(window,this.mK)};
function dY(gi){h1.call(this);this.m=K.L("span","fitem cswatch");this.at0=0;this.SD=[];this._7=[];var e=this.ak3.bind(this);
for(var l=0;l<gi;l++){this.SD.push(0);var Z=K.L("span","colorsample");Z.addEventListener("click",e,!1);
this._7.push(Z);this.m.appendChild(Z)}var F=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],b=Math.min(gi,F.length);
for(var l=0;l<b;l++)this.SD[l]=F[l];this.ci()}dY.prototype=new h1;dY.prototype.ak3=function(e){this.at0=this._7.indexOf(e.currentTarget);
this.$(new j8(G.E.p))};dY.prototype.U=function(){return this.SD[this.at0]};dY.prototype.f=function(e){var Z=this.SD,F=Z.indexOf(e);
if(F!=-1)Z.splice(F,1);else Z.pop();Z.unshift(e);this.ci()};dY.prototype.ci=function(){for(var l=0;l<this.SD.length;
l++){this._7[l].setAttribute("style","background-color:#"+V.Z0(this.SD[l]))}};function jQ(e){h1.call(this);
this.vE={o:0,z:0,S:0};this.bl=e;this.m=K.L("span","fitem colorsample");this.m.addEventListener("click",this.zi.bind(this),!1)}jQ.prototype=new h1;
jQ.prototype.n=function(){};jQ.prototype.zi=function(e){var Z=this.vE;this.$(new j8("click"));var F=new j8(G.E.W,!0);
F.data={d:G.B.tJ,ZB:"colorpicker",RW:Z.o<<16|Z.z<<8|Z.S,E3:this.DW.bind(this),FE:this.bl};this.$(F)};
jQ.prototype.DW=function(e){this.jH(e);this.$(new j8(G.E.p))};jQ.prototype.ahe=function(){this.zi(null)};
jQ.prototype.ach=function(){var e=this.vE;return e.o<<16|e.z<<8|e.S};jQ.prototype.U=function(){return V.X.Q9(this.vE)};
jQ.prototype.jH=function(e){this.vE={o:e>>16&255,z:e>>8&255,S:e&255};this.a8_()};jQ.prototype.f=function(e){this.vE=V.X.Gb(e);
this.a8_()};jQ.prototype.a8_=function(){var e=this.vE,Z=e.o,F=e.z,b=e.S,_=Z<<16|F<<8|b;this.m.setAttribute("style","background-color:#"+V.Z0(_))};
function iT(){h1.call(this);this.Vp=!1;this.rH=20;this.acn=10;this.bU=0;this.Vp=!1;this.nM={o:255,z:0,S:0};
this.OG={o:0,z:0,S:0};this.m=K.L("canvas");this.qz();K.GU(this.m);K.x7(this.m,this.a_.bind(this))}iT.prototype=new h1;
iT.prototype.aq4=function(e){if(this.Vp==e)return;this.Vp=e;this.qz()};iT.prototype.n=function(){};iT.prototype.aob=function(e,Z){function F(b){return{o:b>>16&255,z:b>>8&255,S:b&255}}if(e!=null)this.nM=F(e);
if(Z!=null)this.OG=F(Z);this.qz()};iT.prototype.a_=function(e){var Z=K.DK(e,this.m),F=Z.x*K.F(),b=Z.y*K.F(),_=this.rH,d=this.acn,S=0;
if(F<d&&b<d){S=0}else if(F>_-d&&b>_-d){S=1}else if(F<d){S=2}else{S=3}var U=new j8(G.E.W,!0);if(S>1)U.data={d:G.B.aE,NG:c6.kp,Yu:S};
else{this.bU=S;var r=S==0?this.nM:this.OG;U.data={d:G.B.tJ,ZB:"colorpicker",RW:r.o<<16|r.z<<8|r.S,E3:this.DW.bind(this)}}this.$(U)};
iT.prototype.DW=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.aE,NG:c6.kp,Yu:this.bU,I:e};this.$(Z)};
iT.prototype.qz=function(){var e=this.m,Z=e.getContext("2d"),F=K.F(),_="#aaaaaa",d=.62;K.kd(e,34,34);
e.setAttribute("style",e.getAttribute("style")+";cursor:pointer");var b=this.rH=e.width,S=this.acn=Math.round(b*d);
function U(c,u){var n=c.o,k=c.z,B=c.S;if(u)n=k=B=Math.round(V.Mv(n,k,B));var o=n<<16|k<<8|B;return"#"+V.Z0(o)}function r(c,u,S,n,k){Z.fillStyle=k?k:"black";
Z.fillRect(c,u,S,S);Z.fillStyle=n;Z.fillRect(c+1,u+1,S-2,S-2)}r(b-S,b-S,S,U(this.OG,this.Vp));r(0,0,S,U(this.nM,this.Vp));
var q=b-S,w=Math.round(q*d);r(b-w,q-w,w,"white",_);r(b-q,0,w,"black",_);Z.save();Z.fillStyle=_;Z.translate(0,b);
Z.rotate(-Math.PI/2);q=b-S;var X=Math.round(q*.28),Q=Math.round(q*.25);for(var l=0;l<2;l++){Z.fillRect(X,X,q-X,1);
Z.beginPath();Z.moveTo(q-Q,X+.5-Q);Z.lineTo(q,X+.5);Z.lineTo(q-Q,X+.5+Q);Z.closePath();Z.fill();Z.transform(0,1,1,0,0,0)}Z.restore()};
function gD(e){aT.call(this,e,!1,"brushbutton nopadding",19,10,c6.f_,!0);var Z=this.a2q;K.j_(Z,"flexrow");
var F=K.L("div");Z.appendChild(F);var b=K.L("div");Z.appendChild(b);b.setAttribute("style","margin-left:8px");
this.EQ=new hD(null,null,!0);this.EQ.h(G.E.p,this.az,this);F.appendChild(this.EQ.m);this.PE=new fZ([12,14,0],1,1e3," px",0,!0);
this.PE.h(G.E.p,this.az,this);b.appendChild(this.PE.m);this.fM=new fZ([12,17],0,100,"%");this.fM.h(G.E.p,this.az,this);
b.appendChild(this.fM.m)}gD.prototype=new aT;gD.prototype.z8=function(){var e=["pencil","trees"];for(var l=0;
l<e.length;l++)e[l]="brushes/"+e[l]+".abr";return e};gD.prototype.ld=function(e){var Z=this.m.getBoundingClientRect();
this.aaW(Z.left,Z.top+Z.height)};gD.prototype.aaW=function(e,Z){this.ZI();var F=new j8(G.E.W,!0);F.data={d:G.B.f6,Gw:this.S6,x:e,y:Z};
this.$(F)};gD.prototype.f=function(e,Z,F){this.kU=JSON.parse(JSON.stringify(e));var b=Math.floor(20*K.F()),_=Math.floor(36*K.F()),d=Math.floor(24*K.F()),S=fR.Bk(e,Z,F,b,d,_);
this.KG.setAttribute("src",S);K.rB(this.KG,_,d);var U=e.Brsh.v;this.PE.f(U.Dmtr.v.val);if(U.Hrdn!=null){this.fM.N_();
this.fM.f(U.Hrdn.v.val)}else this.fM.aK();if(U.Angl!=null)this.EQ.f([U.Angl.v.val]);if(U.Rndn!=null)this.EQ.f([null,null,U.Rndn.v.val/100])};
gD.prototype.Dc=function(){return{list:[{t:"Objc",v:this.U()}],my:[],Jj:[]}};gD.prototype.U=function(){return this.kU};
gD.prototype.ZI=function(){if(!this.ij)return;var e=[],Z=[],F=this.Gc,b=Math.floor(33*K.F()),_=Math.floor(40*K.F());
for(var l=0;l<F.list.length;l++){var d=F.list[l].v,S=fR.Bk(d,F.my,F.Jj,b,_);e.push(S);Z.push(d.Nm.v.split("=").pop())}this.ik.Ra(e,Z,b,_);
this.ij=!1};gD.prototype.U8=function(e){var Z=this.Gc;this.f(Z.list[this.ik.U()[0]].v,Z.my,Z.Jj);this.$(new j8(G.E.p))};
gD.prototype.n=function(){aT.prototype.n.call(this);this.EQ.n();this.PE.n();this.fM.n()};gD.prototype.az=function(e){var Z=this.Gc,F=this.kU,b=F.Brsh.v;
b.Dmtr.v.val=this.PE.U();if(b.Hrdn!=null)b.Hrdn.v.val=this.fM.U();if(b.Angl!=null)b.Angl.v.val=this.EQ.U()[0];
if(b.Rndn!=null)b.Rndn.v.val=Math.round(this.EQ.U()[2]*100);this.f(F,Z.my,Z.Jj);this.$(new j8(G.E.p))};
function eb(e){aT.call(this,e,!0,"contourbutton",17,10.5,c6.Hy)}eb.prototype=new aT;eb.prototype.U8=function(e){this.f(this.Gc[e.target.U()]);
this.$(new j8(G.E.p))};eb.prototype.H5=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.tJ,ZB:"contoureditor",JS:this.kU,response:this.aud.bind(this)};
this.$(Z)};eb.prototype.aud=function(e){this.f(e);this.$(new j8(G.E.p))};eb.prototype.ZI=function(){if(!this.ij)return;
var e=Math.floor(38*K.F()),Z=Math.floor(38*K.F()),F=[],b=[],_=this.Gc;for(var l=0;l<_.length;l++){b.push(_[l].Nm?_[l].Nm.v:"");
F.push(V.AH.Bk(_[l].Crv.v,e,Z))}this.ik.Ra(F,b,e,Z);this.ij=!1};eb.prototype.f=function(e){this.kU=JSON.parse(JSON.stringify(e));
var Z=this.kU.Crv.v;for(var l=0;l<Z.length;l++)if(Z[l].v.Cnty==null)Z[l].v.Cnty={t:"bool",v:!0};this.DC()};
eb.prototype.DC=function(){var e=Math.floor(30*K.F()),Z=Math.floor(30*K.F()),F=V.AH.Bk(this.kU.Crv.v,e,Z);
this.KG.setAttribute("src",F);K.rB(this.KG,e,Z)};eb.prototype.U=function(){return JSON.parse(JSON.stringify(this.kU))};
function eq(e){h1.call(this);this.UX=null;this.Pk=null;this.Ao=null;this.sX=null;this.a5m=[];this.a9c=[];
this.m=K.L("span","fitem fillbutton");this.S6=new h1;this.S6.m=K.L("div","floatcont form");this.S6.m.setAttribute("style","width: 21em;");
this.S6.parent=this;this.Ae=e;this.kb=this.kb=K.L("label","flabel");this.m.appendChild(this.kb);this.O=K.L("canvas");
this.Gl=this.O.getContext("2d");this.ar2=null;this.m.appendChild(this.O);this.O.addEventListener("click",this.ld.bind(this),!1);
this.aV=new jv([12,66],["","Color","Grad","Patt"]);this.S6.m.appendChild(this.aV.m);this.aV.h(G.E.p,this.j6,this);
this.S6.m.appendChild(K.L("hr"));this.aix=K.L("span");this.ID=new jQ(!0);this.ID.parent=this.S6;this.ID.h(G.E.p,this.j6,this);
this.Q5=new dY(10);this.Q5.h(G.E.p,this.j6,this);this.x1=K.L("div","marged hiline");this.x1.appendChild(this.ID.m);
K.MV(this.x1);this.x1.appendChild(this.Q5.m);this.KR=new ev("GrFl",!0);this.KR.parent=this.S6;this.KR.h(G.E.p,this.j6,this);
this._A=K.L("div","marged hiline");var Z="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var l=0;
l<Z.length;l++){var F=this.KR.yE[Z[l]].m;this._A.appendChild(F)}this.gi=new ev("patternFill",!0);this.gi.parent=this.S6;
this.gi.h(G.E.p,this.j6,this);this.qL=K.L("div","marged hiline");var Z=["Ptrn","Angl","Scl","Algn","phase"];
for(var l=0;l<Z.length;l++){var F=this.gi.yE[Z[l]].m;this.qL.appendChild(F)}}eq.prototype=new h1;eq.prototype.ZP=function(e,Z){if(Z==c6.hs){this.a5m=[];
this.a9c=[];if(this.UX)this.f(this.Ao,this.U(),this.UX)}this.Pk=e;this.KR.ZP(e,Z);this.gi.ZP(e,Z)};eq.prototype.n=function(){this.kb.textContent=gA.get(this.Ae)+": ";
this.aV.n();this.ID.n();this.KR.n();this.gi.n()};eq.prototype.j6=function(e){var Z=e.currentTarget;if(Z==this.aV){var F=this.aV.U(),b={QL:F,n8:this.UX[F]};
if(F>0&&b.n8==null)b.n8=JSON.parse(JSON.stringify(fu.hV[F-1]));if(this.UX)this.f(this.Ao,b,this.UX)}if(Z==this.Q5)this.ID.jH(Z.U());
this.$(new j8(G.E.p,!1))};eq.prototype.ld=function(e){var Z=this.O.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height+4};this.$(F);this.Q5.f(this.ID.ach())};eq.prototype.f=function(e,Z,F){this.UX=F;
this.Ao=e;var b=[[13,1,0],[13,0],[12,37],[12,62]],_=this.a5m,d=this.a9c,S=!1,w;for(var l=0;l<4;l++){var U={QL:l,n8:F[l]},r=eq.agw(U);
if(d[l]==r)continue;S=!0;var q=eq.am$(null,U,this.Pk,this.Ao,22,22,!1);_[l]="<img width=\"22\" height=\"22\" src=\""+q+"\" />";
d[l]=r}if(S)this.aV.mj(_,b);this.aV.f(Z.QL);var r=eq.agw(Z);if(r!=this.ar2)eq.am$(this.Gl,Z,this.Pk,this.Ao,30,23,!0);
this.ar2=r;var X=Z.QL;if(X==0){w=this.aix}if(X==1){this.ID.f(Z.n8.Clr.v);w=this.x1}if(X==2){this.KR.update(e,Z.n8);
w=this._A}if(X==3){this.gi.update(e,Z.n8);w=this.qL}if(w!=this.sX){if(this.sX!=null){this.S6.m.removeChild(this.sX)}this.S6.m.appendChild(w);
this.sX=w}};eq.prototype.U=function(){var e={QL:this.aV.U()};if(e.QL==1){e.n8=JSON.parse(JSON.stringify(fu.hV[0]));
e.n8.Clr.v=this.ID.U()}if(e.QL==2){e.n8=this.KR.U()}if(e.QL==3){e.n8=this.gi.U()}return e};eq.agw=function(e){var Z=e.QL,F=e.n8,b="empty";
if(Z==1){b=V.X.Gb(F.Clr.v);b=b.o+","+b.z+","+b.S}if(Z==2)b=JSON.stringify(F.Grad.v);if(Z==3)b=F.Ptrn.v.Idnt.v;
return b};eq.am$=function(e,Z,F,b,_,d,S){if(e==null)e=eq.Gl;var U=Math.floor(_*K.F()),r=Math.floor(d*K.F()),q=e.canvas,w;
q.width=U;q.height=r;K.rB(q,U,r);var X=Z.QL;if(X==0){e.fillStyle="#ffffff";e.fillRect(0,0,U,r);e.strokeStyle="#ff0000";
e.lineWidth=2;e.moveTo(0,0);e.lineTo(U,r);e.moveTo(0,r);e.lineTo(U,0);e.stroke()}if(X==1){var Q=Z.n8.Clr.v;
Q=V.X.Gb(Q);e.fillStyle="#"+V.Z0(Q.o<<16|Q.z<<8|Q.S);e.fillRect(0,0,U,r)}if(X==2){i.vS.Bk(Z.n8.Grad.v,U,r,0,F.Ly,F.ZE,q)}if(X==3){var c=Z.n8.Ptrn.v,u;
if(b!=null)u=d4.oF(c,b.add.Patt);if(u==null)u=d4.oF(c,F.NY);fV.Bk(u,U,r,q)}if(S){e.beginPath();e.strokeStyle="#000000";
e.fillStyle="#ffffff";e.lineWidth=2;var n=U*.7,k=Math.floor(r*.7),B=7*K.F();e.moveTo(n,k);e.lineTo(n+B,k);
e.lineTo(n+B/2,k+B/2);e.closePath();e.stroke();e.fill()}if(e==eq.Gl)return q.toDataURL()};eq.Gl=K.L("canvas").getContext("2d");
function fV(e){aT.call(this,e,!1,"patternbutton",18,10,c6.hs);this.nS=null}fV.prototype=new aT;fV.prototype.U8=function(e){var Z=this.Gc[this.ik.U()];
this.kU={classID:"Ptrn",Nm:{t:"TEXT",v:Z.name},Idnt:{t:"TEXT",v:Z.id}};this.$(new j8(G.E.p));this.DC()};
fV.fi=!1;fV.prototype.ZI=function(){if(!this.ij)return;var e=this.Gc;if(e==null||!fV.fi){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.l0,NG:{url:"rsrc/basic/basic.pat"}};this.$(Z);fV.fi=!0;return}var F=Math.floor(34*K.F()),b=Math.floor(34*K.F()),_=[],d=[];
for(var l=0;l<e.length;l++){_.push(fV.Bk(e[l],F,b));d.push(e[l].name)}this.ik.Ra(_,d,F,b);this.ij=!1};
fV.prototype.f=function(e,Z){if(this.kU&&e.Idnt.v==this.kU.Idnt.v)return;this.kU=JSON.parse(JSON.stringify(e));
this.DC(Z)};fV.prototype.U=function(){return JSON.parse(JSON.stringify(this.kU))};fV.prototype.Dc=function(){return this.nS?[this.nS]:[]};
fV.prototype.DC=function(e){var Z=Math.floor(50*K.F()),F=Math.floor(50*K.F()),b;if(e!=null)b=d4.oF(this.kU,e.add.Patt);
if(b==null)b=d4.oF(this.kU,this.Gc);this.nS=b;var _=fV.Bk(b,Z,F);this.KG.setAttribute("src",_);K.rB(this.KG,Z,F)};
fV.O=K.L("canvas","");fV.Bk=function(e,Z,F,b){if(b==null)b=fV.O;var _=b.getContext("2d");b.width=Z;b.height=F;
if(e){var d=e.ZV[1],S=d.w,U=d._,r=e.ZV[0],q=Math.min(Z/S,F/U),w=q;if(w*S<2)w=2/S;var X=q;if(X*U<2)X=2/U;
var Q=i.Q.or([r,d],new jg(w,0,0,X,0,0),w>2),c=Q.rect.w,u=Q.rect._,n=_.createImageData(c,u);V.Fk(Q.buffer,n.data);
_.putImageData(n,Math.floor((Z-c)/2),Math.floor((F-u)/2))}return b.toDataURL()};function hh(e,Z,F){if(Z==null)Z=24.2;
if(F==null)F=17;aT.call(this,e,!1,"patternbutton",Z,F,c6.y9);this.bz=""}hh.prototype=new aT;hh.prototype.U8=function(e){this.kU=JSON.parse(JSON.stringify(this.Gc[0][this.ik.U()[0]]));
this.$(new j8(G.E.p))};hh.prototype.ZI=function(){var e=this.Gc;if(e==null||!this.ij)return;var Z=Math.floor(50*K.F()),F=Math.floor(50*K.F()),b=[],_=[];
for(var l=0;l<e[0].length;l++){b.push(hh.Bk(this.Gc[0][l].J_,Z,F,this.Gc[1]));_.push(e[0][l].P1.Nm.v.split("=").pop())}this.ik.Ra(b,_,Z,F);
this.ij=!1};hh.prototype.f=function(e,Z,F,b){var _=JSON.stringify(e.J_)+","+F+","+b;if(this.bz!=_){this.bz=_;
this.kU=JSON.parse(JSON.stringify(e));this.DC(Z,F,b)}};hh.prototype.U=function(){return JSON.parse(JSON.stringify(this.kU))};
hh.prototype.DC=function(e,Z,F){var b=Math.floor(68*K.F()),_=Math.floor(68*K.F()),d=hh.Bk(this.kU.J_,b,_,e?e:this.Gc[1],Z,F);
this.KG.setAttribute("src",d);K.rB(this.KG,b,_)};hh.Bk=function(e,Z,F,b,_,d){var S=new aH;S.w=Z;S._=F;
S.buffer=V.J(Z*F*4);S.add.Patt=b;S.Ri(_==null?90:_);S.qQ(d==null?30:d);var U=new e3(0,0,Math.round(Z*.5),Math.round(F*.5));
U.x=Math.round((Z-U.w)/2);U.y=Math.round((F-U._)/2);var r=S.yG();r.rect=U;r.buffer=V.J(U.Z()*4);V.oi(r.buffer,4284045657);
d4.a01(e,r,.5*100);S.g.push(r);S.FZ();S.G();var q=E.P7;E.P7=!1;S.Om();var w=S.zB();E.P7=q;var X=fg.js(w.buffer,S.w,S._);
return X};function hi(e){aT.call(this,null,!1,"tpresetbutton",18,24,c6.Ki,!0);K.vB(this.m,"fitem");this.ik.pk(1);
this.id=e;this.DC();this.d.style.overflow="hidden";this.QW=new c7([15,7,9]);this.QW.f(!0);this.QW.h(G.E.p,this.a5E,this);
this.gM.appendChild(this.QW.m)}hi.prototype=new aT;hi.prototype.agK=function(e){if(this.id==e)return;
this.id=e;this.z6(this.Gc)};hi.prototype.U8=function(e){var Z=this.Gc[this.ik.U()],F=new j8(G.E.W,!0);
F.data={d:G.B.aE,iH:"set",NG:c6.Ki,va:Z};this.$(F)};hi.prototype.n=function(){aT.prototype.n.call(this);
this.QW.n()};hi.prototype.a5E=function(){this.ij=!0;this.ZI()};hi.prototype.ZI=function(){if(!this.ij)return;
var e=Math.floor(16*K.F()),Z=Math.floor(16*K.F()),F=[],b=[],_=this.Gc,d=this.QW.U();for(var l=0;l<_.length;
l++){var S=i.XH(_[l]);if(!d||S==this.id){b.push(_[l][0]?_[l][0].split("=").pop():"");F.push(S==-1?"":PIMG[i.KH[S][0]])}else{F.push(null);
b.push(null)}}this.ik.Ra(F,b,e,Z);this.ij=!1};hi.prototype.DC=function(){var e=this.KG;e.setAttribute("src",PIMG[i.KH[this.id][0]]);
K.j_(e,"toolicon")};hi.prototype.Dc=function(){return null};hi.CB={};hi.Bk=function(e,Z,F){var b=hi.Gl,_=hi.CB,d=V.Z0(e.o<<16|e.z<<8|e.S);
if(_[d])return _[d];if(b==null){var S=K.L("canvas");b=hi.Gl=S.getContext("2d")}var S=b.canvas;S.width=Z;
S.height=F;b.fillStyle="#"+d;b.fillRect(0,0,Z,F);var U=_[d]=S.toDataURL();return U};function gF(e,Z){h1.call(this);
this.m=K.L("span","fitem curveeditor");this.Be=null;this.aaw=0;this.Hu="";this.mode=0;this.fT=e;this.ajI=Z;
this.d5=null;this.RD=null;this.a3m=0;this.a5y=0;this.Wn=new bI;this.wb=this.xH.bind(this);this.R1=this.CM.bind(this);
this.s6=256;this.O=K.L("canvas");this.Gl=this.O.getContext("2d");K.GU(this.O);this.m.appendChild(this.O);
this.Av(256,256);K.x7(this.O,this.WN.bind(this))}gF.prototype=new h1;gF.prototype.Av=function(e,Z){this.s6=Math.round(e);
this.Gl.resetTransform();K.kd(this.O,this.s6,this.s6,this.Gl);this.Gl.scale(this.s6/256,this.s6/256);
if(this.d5)this.Yl()};gF.prototype.f=function(e,l){var Z=JSON.stringify(e);if(Z==JSON.stringify(this.d5))return;
this.mode=e.length==256?1:0;this.d5=JSON.parse(Z);if(l!=null)this.RD=this.d5[l];this.Yl()};gF.prototype.Jv=function(e,Z,F){this.Be=e;
this.aaw=Z;this.Hu=F;this.Yl()};gF.prototype.U=function(){return JSON.parse(JSON.stringify(this.d5))};
gF.prototype.a6k=function(){return this.d5.indexOf(this.RD)};gF.prototype.WN=function(e){var Z=256/this.s6,F=K.DK(e,this.O);
F.x*=Z;F.y*=Z;var b=F.x,_=256-F.y;if(this.fT){var d=b;b=256-_;_=d}this.Wn.zU(b,_);if(this.mode==0){var S=0,U=1e9,Q;
for(var l=0;l<this.d5.length;l++){var r=this.d5[l].v,q=r.Hrzn.v-b,w=r.Vrtc.v-_,X=Math.sqrt(q*q+w*w);
if(X<U){U=X;S=l}}if(U<15)Q=this.d5[S];else{Q=V.AH.iF(b,_,!0);this.d5.push(Q);this.d5.sort(function(c,u){return c.v.Hrzn.v-u.v.Hrzn.v})}this.RD=Q;
this.a5y=this.d5.slice(0)}K.gQ(document.body,this.wb);K.z1(document.body,this.R1);this.xH(e)};gF.prototype.xH=function(e){var Z=256/this.s6,F=K.DK(e,this.O);
F.x*=Z;F.y*=Z;var b=F.x,_=256-F.y;if(this.fT){var d=b;b=256-_;_=d}if(this.mode==0){var S=this.d5,U=this.RD,r=this.a5y,q=r.indexOf(U),w=S.indexOf(U)!=-1,X=r.length-1,Q=b;
if(q==0){Q=Math.max(0,Math.min(r[1].v.Hrzn.v-1,b))}else if(q==X){Q=Math.min(255,Math.max(r[X-1].v.Hrzn.v+1,b))}else{var c=b<0||b>255||_<0||_>255;
if(b<=r[q-1].v.Hrzn.v||b>=r[q+1].v.Hrzn.v)c=!0;if(!c&&!w)S.splice(q,0,U);if(c&&w)S.splice(q,1)}if(!this.ajI)U.v.Hrzn.v=Math.round(Q);
U.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(_)))}else{b=Math.round(b);_=Math.round(_);b=Math.max(0,Math.min(255,b));
_=Math.max(0,Math.min(255,_));var u=this.Wn.x,n=b,k=this.Wn.y,B=_;if(b<this.Wn.x){n=u;u=b;B=k;k=_}this.d5[b]=_;
if(u!=n)for(var o=u;o<=n;o++)this.d5[o]=Math.round(k+(o-u)*(B-k)/(n-u))}this.Wn.zU(b,_);this.Yl();this.$(new j8(G.E.p))};
gF.prototype.CM=function(e){K.J3(document.body,this.wb);K.UP(document.body,this.R1);this.$(new j8(G.E.p))};
gF.prototype.Yl=function(){var e=this.Gl,Z=this.O;e.fillStyle="#ffffff";e.fillRect(0,0,256,256);var F=256/Z.width;
if(this.Be){e.save();e.translate(0,256);e.scale(1,-1);hq.a0N(e,this.Be,5700/this.aaw,this.Hu);e.restore()}e.strokeStyle="#aaaaaa";
e.lineWidth=1*F;e.beginPath();for(var l=1;l<4;l++){var b=(Math.floor(64*l/F)+.5)*F;e.moveTo(0,b);e.lineTo(255,b);
e.moveTo(b,0);e.lineTo(b,255)}e.stroke();if(this.fT){e.save();e.transform(0,1,-1,0,256,0)}if(this.mode==0){var _=this.d5,d=V.AH.CC(_,256);
e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-d[0]);for(var l=0;l<256;l++)e.lineTo(l,255.5-d[l]);
e.stroke();e.lineWidth=2*F;for(var l=0;l<_.length;l++){var S=_[l].v;e.fillStyle=this.RD==_[l]?"#333":"#fff";
e.beginPath();e.moveTo(S.Hrzn.v,255.5-S.Vrtc.v);e.arc(S.Hrzn.v,255.5-S.Vrtc.v,5*F,0,2*Math.PI);e.stroke();
e.fill()}}else{var d=this.d5;e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-d[0]);for(var l=0;
l<256;l++)e.lineTo(l,255.5-d[l]);e.stroke()}if(this.fT)e.restore()};function hq(e,Z){h1.call(this);this.m=K.L("span","");
this.jx=new dE([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.jx.h(G.E.p,this.qz,this);this.m.appendChild(this.jx.m);
K.MV(this.m);this.O=K.L("canvas");var F=this.O;this.m.appendChild(F);F.width=Math.round(e*K.F());F.height=Math.round(100*K.F());
K.rB(F,F.width,F.height);this.Gl=F.getContext("2d");this.Be=null;this.NI=0;this.agd=null;this.ajx=[];
this.DR=[];var b=["Mean:","Pixels:"],_=this.m;for(var l=0;l<b.length;l++){var d=new dB(b[l]);this.ajx.push(d);
if(Z)_.appendChild(d.m);var S=new dB("hi");this.DR.push(S);if(Z)_.appendChild(S.m);K.MV(_)}}hq.prototype=new h1;
hq.prototype.n=function(){this.jx.n()};hq.prototype.pk=function(e){this.jx.f(e);this.qz()};hq.prototype.f=function(e,Z){this.Be=e;
this.agd=Z;this.qz()};hq.prototype.jH=function(e){if(e==this.NI)return;this.NI=e;this.qz()};hq.prototype.qz=function(){if(this.Be==null)return;
var e=this.O,Z=this.Gl,F=this.Be,b=this.agd,_=this.jx.U(),d=6e3/F[4],S="#"+V.Z0(this.NI),U=hq.a0N;e.width=e.width;
Z.setTransform(e.width/256,0,0,-e.height/100,0,e.height);Z.globalCompositeOperation="lighter";if(_==0)U(Z,F[0],d/3,S);
else if(_<4)U(Z,F[_],d,S);else{U(Z,F[1],d,"#ff0000");U(Z,F[2],d,"#00ff00");U(Z,F[3],d,"#0000ff")}Z.setTransform(1,0,0,1,0,0);
if(b!=null){var r=0;for(var l=0;l<256;l++)r+=l*F[_][l];if(_==0)r/=3;this.DR[0].f((r/b).toFixed(1)+"");
this.DR[1].f(b+"")}};hq.a0N=function(e,Z,F,b){e.beginPath();e.moveTo(0,0);for(var _=0;_<256;_++)e.lineTo(_,Z[_]*F);
e.lineTo(256,0);e.closePath();e.fillStyle=b;e.fill()};function iN(e){h1.call(this);this.VP={o:0,z:0,S:0};
if(Math.abs(e-256/K.F())<10)e=256/K.F();var Z=this.m=K.L("div","flexrow");this.Gp=new bI;this.Z5=new bI;
this.Gv=this.arY.bind(this);this.mK=this.a9B.bind(this);this.O=K.L("canvas","");this.Gl=this.O.getContext("2d");
this.O.width=this.O.height=256;this.aaG=this.Gl.getImageData(0,0,256,256);this.a6z=-1;K.GU(this.O);K.x7(this.O,this.arw.bind(this));
Z.appendChild(this.O);this.a9M=this.ag1.bind(this);this.a3q=this.als.bind(this);this.uY=K.L("canvas","");
this.r7=this.uY.getContext("2d");this.uY.width=20;this.uY.height=256;this.auc=this.r7.getImageData(0,0,20,256);
iN.a2c(this.auc.data,20,256);K.GU(this.uY);K.x7(this.uY,this.ap6.bind(this));Z.appendChild(this.uY);
this.O.setAttribute("style","width:"+e+"px; height:"+e+"px");this.uY.setAttribute("style","width:16px; height:"+e+"px")}iN.prototype=new h1;
iN.prototype.Av=function(e,Z){this.O.style.width=e-16+"px"};iN.prototype.f=function(e){this.VP=e;this.update()};
iN.prototype.U=function(){return JSON.parse(JSON.stringify(this.VP))};iN.prototype.update=function(){var e=this.VP,Z=V.Sq(e.o,e.z,e.S);
if(Z.Bi==0)Z.ME=this.Gp.x/255;if(Z.ME==0||Z.Bi==0)Z.zA=(255-this.AB(this.Z5.y))/255;if(Z.Bi!=0)this.Gp.x=Z.ME*255;
this.Gp.y=(1-Z.Bi)*255;this.Z5.y=(1-Z.zA)*255;var F=this.aaG;if(Math.abs(Z.zA-this.a6z)>.002){this.agn(F.data,256,256,Z.zA);
this.a6z=Z.zA}var b=this.Gl;b.putImageData(F,0,0);b.strokeStyle="#000000";b.beginPath();b.arc(this.Gp.x+1,this.Gp.y+1,5,0,2*Math.PI);
b.stroke();b.strokeStyle="#ffffff";b.beginPath();b.arc(this.Gp.x,this.Gp.y,5,0,2*Math.PI);b.stroke();
F=this.auc;b=this.r7;b.putImageData(F,0,0);b.strokeStyle="#ffffff";b.beginPath();b.moveTo(0,this.Z5.y);
b.lineTo(20,this.Z5.y);b.lineWidth=2;b.stroke()};iN.prototype.agn=function(e,Z,F,b){var _=1/Z,d=1/F;
for(var S=0;S<F;S++)for(var U=0;U<Z;U++){var r=V.Mq(b,U*_,(F-S-1)*d),l=S*Z+U<<2;e[l+0]=~~(r.o*255);e[l+1]=~~(r.z*255);
e[l+2]=~~(r.S*255);e[l+3]=255}};iN.a2c=function(e,Z,F,b,_){if(b==null)b=1;if(_==null)_=0;var d=new Uint32Array(e.buffer);
for(var S=0;S<F;S++){var U=V.Mq((1+b*(1-S/F)+_)%1,1,1),r=255<<24|U.S*255<<16|U.z*255<<8|U.o*255;for(var q=0;
q<Z;q++)d[S*Z+q]=r}};iN.prototype.arw=function(e){K.gQ(window,this.Gv);K.z1(window,this.mK);this.arY(e)};
iN.prototype.a9B=function(e){K.J3(window,this.Gv);K.UP(window,this.mK)};iN.prototype.arY=function(e){var Z=K.DK(e,this.O);
Z.x=Z.x*(256/parseFloat(this.O.style.width));Z.y=Z.y*(256/parseFloat(this.O.style.height));this.Gp.zU(this.AB(Z.x),this.AB(Z.y));
this.oJ()};iN.prototype.oJ=function(){this.VP=this.a7n();this.$(new j8(G.E.p))};iN.prototype.a7n=function(){var e=V.Mq((255-this.AB(this.Z5.y))/255,this.$r(this.Gp.x/255),this.$r(1-this.Gp.y/255));
return{o:e.o,z:e.z,S:e.S}};iN.prototype.ap6=function(e){K.gQ(window,this.a9M);K.z1(window,this.a3q);
this.ag1(e)};iN.prototype.als=function(e){K.J3(window,this.a9M);K.UP(window,this.a3q)};iN.prototype.ag1=function(e){var Z=K.DK(e,this.uY);
Z.y=Z.y*(256/parseFloat(this.uY.style.height));this.Z5.zU(this.AB(Z.x),this.AB(Z.y));this.oJ()};iN.prototype.AB=function(e){return Math.max(0,Math.min(255,e))};
iN.prototype.$r=function(e){return Math.max(0,Math.min(1,e))};function eg(e,Z,F,b){var _=jv.K4(Z,b);
jv.call(this,e,_,F)}eg.prototype=new jv;function fW(){h1.call(this);this.J8=null;this._c=new c2;this._c.h(G.E.p,this.alv,this);
this._c.parent=this;this.Ry=new en([12,14,0],1,150,"px",0,!0);this.Ry.h(G.E.p,this.rJ,this);this.Ry.parent=this;
this.L9=new en([16,0],.01,100,"px",2,!0,null,5);this.L9.h(G.E.p,this.rJ,this);this.L9.parent=this;this.K0=new c7("Auto");
this.K0.h(G.E.p,this.rJ,this);this.JV=new en([16,1],-500,5e3,"%",0,!0);this.JV.h(G.E.p,this.rJ,this);
this.JV.parent=this;this.Xq=new en("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Xq.h(G.E.p,this.rJ,this);
this.Xq.parent=this;this.e3=new en("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.e3.h(G.E.p,this.rJ,this);
this.e3.parent=this;this.oI=new en([16,2],-10,10,"px");this.oI.h(G.E.p,this.rJ,this);this.oI.parent=this;
this.U_=new jQ(!0);this.U_.h(G.E.p,this.I0,this);this.U_.parent=this;this.Zl=new jQ(!0);this.Zl.h(G.E.p,this.I0,this);
this.Zl.parent=this;this.cu=new jQ(!0);this.cu.h(G.E.p,this.I0,this);this.cu.parent=this;this.nT=new jQ(!0);
this.nT.h(G.E.p,this.I0,this);this.nT.parent=this;this.oK=new c7([2,3]);this.oK.h(G.E.p,this.rJ,this);
this.LS=new c7([14,9]);this.LS.h(G.E.p,this.rJ,this);this.Tg=new c7([12,46]);this.Tg.h(G.E.p,this.rJ,this);
this.pT=new cd("...",null,null,!0);this.pT.m.style.marginLeft="-8px";this.pT.h("click",this.a3S,this);
this.S6=new h1;var e=this.S6.m=K.L("div","floatcont form");this.S6.parent=this;this._9=new en([12,41],1,20,"px",0,!0,!0);
this._9.m.style.marginLeft="16px";this._9.h(G.E.p,this.rJ,this);this._9.parent=this.S6;e.appendChild(this.Zl.m);
e.appendChild(this.oK.m);K.MV(this.S6.m);e.appendChild(this.cu.m);e.appendChild(this.LS.m);e.appendChild(this._9.m);
K.MV(this.S6.m);e.appendChild(this.nT.m);e.appendChild(this.Tg.m);this.xM=new cd("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.pm=new cd("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.IZ=new cd("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.N5=new cd("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.hT=new cd("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.GZ=new cd("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.v4=new cd("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.yY=new cd("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var Z=[this.xM,this.pm,this.IZ,this.N5,this.hT,this.GZ,this.v4,this.yY];
for(var l=0;l<Z.length;l++)Z[l].h("click",this.ake,this);this.O4=new cd("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Ci=new cd("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.$u=new cd("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.ai4=new cd("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aaZ=new cd("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.acY=new cd("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a1R=new cd("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.R0=[this.O4,this.Ci,this.$u,this.ai4,this.aaZ,this.acY,this.a1R];for(var l=0;l<this.R0.length;l++)this.R0[l].h("click",this.rJ,this);
var F=["lind","rind","flind","bind","aind"],b=[];for(var l=0;l<5;l++)b.push("<img src=\""+PIMG["par/"+F[l]]+"\" class=\"autoscale gsicon\" /> ");
this.SC=new en(b[0],-20,20,"px");this.SC.h(G.E.p,this.rJ,this);this.SC.parent=this;this.t5=new en(b[1],-20,20,"px");
this.t5.h(G.E.p,this.rJ,this);this.t5.parent=this;this.Ig=new en(b[2],-20,20,"px");this.Ig.h(G.E.p,this.rJ,this);
this.Ig.parent=this;this.Hm=new en(b[3],-20,20,"px");this.Hm.h(G.E.p,this.rJ,this);this.Hm.parent=this;
this.eO=new en(b[4],-20,20,"px");this.eO.h(G.E.p,this.rJ,this);this.eO.parent=this;this.O$=new jv([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.O$.h(G.E.p,this.rJ,this);this.O$.parent=this}fW.prototype=new h1;fW.prototype.a3S=function(e){var Z=this.pT.m.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height+4};this.$(F)};fW.prototype.n=function(){this._c.n();
this.Ry.n();this.L9.n();this.JV.n();this.oI.n();this.Xq.n();this.e3.n();this.oK.n();this.LS.n();this.Tg.n();
this._9.n();this.O$.n()};fW.prototype.f=function(e,Z,F){this.Cv=JSON.parse(JSON.stringify(e));var b=this.Cv,_=b.sn,d=b.Qm;
this.xM.f(_.FauxBold!=null?_.FauxBold:!1);this.pm.f(_.FauxItalic!=null?_.FauxItalic:!1);this.IZ.f(_.FontCaps==2);
this.N5.f(_.FontCaps==1);this.GZ.f(_.FontBaseline==1);this.hT.f(_.FontBaseline==2);this.v4.f(_.Underline);
this.yY.f(_.Strikethrough);this._c.f(_.Font==null?null:b.j3[_.Font].Name,Z,F);var S=_.FontSize==null?20:_.FontSize;
this.Ry.f(S);var U=_.Tracking;this.JV.f(U==null?0:U);this._9.f(_._LineWidth!=null?_._LineWidth:1);this.L9.f(_.Leading!=null&&_.Leading!=0?_.Leading:S);
this.K0.f(_.AutoLeading);this.Xq.f((_.VerticalScale!=null?_.VerticalScale:0)*100);this.e3.f((_.HorizontalScale!=null?_.HorizontalScale:0)*100);
this.oI.f(_.BaselineShift!=null?_.BaselineShift:0);this.oK.f(_.FillFlag!=null?_.FillFlag:!1);this.LS.f(_.StrokeFlag!=null?_.StrokeFlag:!1);
this.Tg.f(_._FillBackgroundFlag!=null?_._FillBackgroundFlag:!1);this.UI(_.FillColor,this.U_);this.UI(_.FillColor,this.Zl);
this.UI(_.StrokeColor,this.cu);this.UI(_._FillBackgroundColor,this.nT);var r=d._Direction!=null?d._Direction:0,q=fN.Jz(d);
for(var l=0;l<this.R0.length;l++)this.R0[l].f(q==l);this.O$.f(r);this.SC.f(d.StartIndent!=null?d.StartIndent:0);
this.t5.f(d.EndIndent!=null?d.EndIndent:0);this.Ig.f(d.FirstLineIndent!=null?d.FirstLineIndent:0);this.Hm.f(d.SpaceBefore!=null?d.SpaceBefore:0);
this.eO.f(d.SpaceAfter!=null?d.SpaceAfter:0)};fW.prototype.UI=function(e,Z){if(e){var F=fN.Gb(e);Z.jH(Math.round(F.o)<<16|Math.round(F.z)<<8|Math.round(F.S))}else Z.jH(0)};
fW.prototype.r_=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.aE,NG:c6.fU,Cv:this.Cv};this.$(e);var e=new j8(G.E.u,!0);
e.k=i.Xk;e.data={d:"updateStyles"};this.$(e)};fW.prototype.ake=function(e){var Z=this.Cv.sn,F=e.target,b=!F.MK();
if(F==this.xM)Z.FauxBold=b;if(F==this.pm)Z.FauxItalic=b;if(F==this.IZ)Z.FontCaps=b?2:0;if(F==this.N5)Z.FontCaps=b?1:0;
if(F==this.GZ)Z.FontBaseline=b?1:0;if(F==this.hT)Z.FontBaseline=b?2:0;if(F==this.v4)Z.Underline=b;if(F==this.yY)Z.Strikethrough=b;
this.r_()};fW.prototype.rJ=function(e){var Z=this.Cv.sn,F=this.Cv.Qm,b=e.target;if(b==this.JV){var _=this.JV.U();
Z.Tracking=_}if(b==this.L9){Z.AutoLeading=!1;Z.Leading=this.L9.U()}if(b==this.K0){Z.AutoLeading=this.K0.U()}if(b==this._9)Z._LineWidth=b.U();
if(b==this.Ry)Z.FontSize=b.U();if(b==this.Xq)Z.VerticalScale=b.U()/100;if(b==this.e3)Z.HorizontalScale=b.U()/100;
if(b==this.oI)Z.BaselineShift=b.U();if(b==this.oK)Z.FillFlag=b.U();if(b==this.LS)Z.StrokeFlag=b.U();
if(b==this.Tg)Z._FillBackgroundFlag=b.U();if(this.R0.indexOf(b)!=-1){F.Justification=fN.Jz(F,this.R0.indexOf(b))}if(b==this.SC)F.StartIndent=b.U();
if(b==this.t5)F.EndIndent=b.U();if(b==this.Ig)F.FirstLineIndent=b.U();if(b==this.Hm)F.SpaceBefore=b.U();
if(b==this.eO)F.SpaceAfter=b.U();if(b==this.O$)F._Direction=b.U();this.r_()};fW.prototype.alv=function(e){var Z=this.Cv,F=this._c.U(),b=-1;
for(var l=0;l<Z.j3.length;l++)if(Z.j3[l].Name==F)b=l;if(b==-1){b=Z.j3.length;var _=JSON.parse(JSON.stringify(Z.j3[0]));
_.Name=F;Z.j3.splice(b,0,_)}Z.sn.Font=b;this.r_()};fW.prototype.I0=function(e){var Z=e.target,F=Z.ach(),b={Type:1,Values:[1,(F>>16&255)/255,(F>>8&255)/255,(F>>0&255)/255]};
for(var l=0;l<4;l++)b.Values[l]=Math.round(b.Values[l]*1e3)/1e3;var _=Z==this.U_||Z==this.Zl?0:Z==this.cu?1:2;
this.Cv.sn[["FillColor","StrokeColor","_FillBackgroundColor"][_]]=b;this.r_()};function c2(){h1.call(this);
this.m=K.L("span","fontinput");this._G=null;this.HD=null;this.M_=null;this.uh="";this.VO={};this.qK=[];
this.aoU={};this.OZ=!1;this.Et=K.L("button","fitem");this.Et.setAttribute("style","width:9em;");this.Et.textContent="Family Name \u25BC";
this.m.appendChild(this.Et);K.x7(this.Et,this.atU.bind(this));this.QS=new h1;this.QS.parent=this;this.QS.m=K.L("div","floatcont");
this.QS.m.addEventListener("keyup",this.a2R.bind(this),!1);this.Fw=new gI(6.8);this.QS.m.appendChild(this.Fw.acj());
this.Fw.parent=this.QS;this.Fw.h(G.E.p,this.A4,this);var e=K.L("div","form");this.QS.m.appendChild(e);
this.Fu=new cd(K.kO("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Fu.h("click",this.a4R,this);
e.appendChild(this.Fu.m);this.ae=new cY([12,86],null,8.4);this.ae.h("input",this.aU,this);e.appendChild(this.ae.m);
var Z=this.a36=new cd([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);Z.h("click",this.a3$,this);
Z.m.style.marginLeft="1.5em";Z.m.style.marginRight="0";e.appendChild(Z.m);this.Ss=K.L("span","fitem imageset scrollable");
this.Ss.style.height="30em";this.QS.m.appendChild(this.Ss);this.Wz=K.L("button","fitem");this.Wz.setAttribute("style","width:7em;");
this.Wz.textContent="SubFamily Name \u25BC";this.m.appendChild(this.Wz);K.x7(this.Wz,this.atU.bind(this));
this.j9=new h1;this.j9.parent=this;this.j9.m=K.L("div","floatcont");this.FX=K.L("span","fitem imageset scrollable marged");
this.j9.m.appendChild(this.FX)}c2.prototype=new h1;c2.prototype.a2R=function(e){var Z=0;if(ex.Ww(e.code,ex.kg))Z=-1;
if(ex.Ww(e.code,ex.ZF))Z=1;if(Z!=0){var F=this.qK,b=F.length,_=this._G.TE()[this.M_];if(_==null&&b==0)return;
var d=F.indexOf(_[0]);if(d==-1)return;d=(d+Z+b)%b;this.pq(F[d],null)}};c2.prototype.a3$=function(){var e=new j8(G.E.W,!0);
e.data={d:G.B.Fq,a2k:".otf,.ttf,.ttc"};this.$(e)};c2.prototype.n=function(){this.Fw.n();this.a36.n();
this.Fu.cc(K.kO("tools/cshape",null,"autoscale"))};c2.prototype.a4R=function(e){this.Fu.f(!this.Fu.MK());
this.A4()};c2.prototype.aU=function(e){this.uh=this.ae.U().toLowerCase();this.A4()};c2.prototype.atU=function(e){K.Zn(e);
var Z=e.currentTarget,F=Z.getBoundingClientRect(),b=Z==this.Et,_=b?this.QS:this.j9;if(K.RY(_.m)){this.ar6(_);
return}if(!b&&this._G.TE()[this.M_]==null)return;var d=new j8(G.E.W,!0);d.data={d:G.B.f6,Gw:_,x:F.left,y:F.top+F.height};
this.$(d);if(b){this.A4()}};c2.prototype.ab9=function(e){var Z=e.currentTarget.firstChild.nextSibling.textContent;
if(e.target.tagName.toLowerCase()=="button"){var F=this.HD.slice(0),b=F.indexOf(Z);if(b==-1){F=F.slice(Math.max(0,F.length-29));
F.push(Z)}else F.splice(b,1);var _=new j8(G.E.W,!0);_.data={d:G.B.aE,NG:c6.Ub,mQ:F};this.$(_);this.OZ=!0;
this.A4()}else{this.pq(Z,null)}};c2.prototype.a7i=function(e){this.pq(null,e.currentTarget.firstChild.textContent)};
c2.prototype.pq=function(e,Z){var F=e==null?this.j9:this.QS,b=this._G;if(e==null)e=b.TE()[this.M_][0];
else{var _=b.RR(e),d=b.TE()[this.M_];Z=bh.pY(_,d?d[1]:"regular")}var S=b.WG(e,Z)[2];this.f(S,b);this.$(new j8(G.E.p,!1));
this.ar6(F);this.A4()};c2.prototype.ar6=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.vM,Gw:e};this.$(Z)};
c2.prototype.U=function(){return this.M_};c2.prototype.f=function(e,Z,F){var b=this._G;if(e!=null)this.M_=e;
else e=this.M_;this._G=Z;this.HD=F;if(e!=null){var _=Z.TE()[e],d,S;if(_==null){d="- "+e;S="-------"}else{d=_[0];
S=_[1];var U=Z.RR(d);U.sort(bh.aoN);var r=U.indexOf(S),q=this.a7i.bind(this);this.FX.textContent="";
for(var l=0;l<U.length;l++){var _=Z.WG(d,U[l]);if(!this.Fw.Ty(_))continue;var w=this.asN(_,_[1],q,!1);
this.FX.appendChild(w)}}this.Et.textContent=d.substring(0,15)+" \u25BC";this.Et.setAttribute("title",d+", \""+e+"\"");
this.Wz.textContent=S.substring(0,10)+" \u25BC";this.Wz.setAttribute("title",S)}};c2.prototype.A4=function(){var e=this._G.TE()[this.M_],Z=this.HD,F=null,b=this._G.aaL(),_=this.ab9.bind(this);
this.qK=[];for(var d in b){var S=bh.pY(b[d],"regular"),U=this._G.WG(d,S),r=Z.indexOf(d)!=-1,q=!0;if(this.uh.length>0&&U[0].toLowerCase().indexOf(this.uh)==-1)q=!1;
else if(!this.Fw.Ty(U))q=!1;else if(this.Fu.MK()&&!r)q=!1;var w=this.VO[d];if(w==null){var w=this.asN(U,d,_,!0);
this.VO[d]=w;this.Ss.appendChild(w)}if(q)this.qK.push(d);var X=q?"":"display:none; ",Q="opacity: "+(r?"1":"0.2");
if(e&&e[0]==d){X+="background-color:rgba(0,0,0,0.13);";F=w}if(this.aoU[d]!=X+Q){w.setAttribute("style",X);
w.firstChild.setAttribute("style",Q);this.aoU[d]=X+Q}}if(F&&!this.OZ)this.Ss.scrollTop=F.offsetTop-210;
this.OZ=!1};c2.prototype.asN=function(e,Z,F,b){var _=K.L("div","fontitem"),r="";_.addEventListener("click",F,!1);
if(b)_.appendChild(K.L("button","star"));var d=K.L("span","label");d.setAttribute("title",Z);d.textContent=Z;
_.appendChild(d);var S=K.F(),U=1/S,q=bh.OT*U,w=bh.ol*U;if(1<S&&S<1.5)r="width:"+q+"px; height:"+w+"px;";
var X=K.L("span","thumb gsicon");if(e.asD){r+="background: url("+e.asD+");";if(1<S&&S<1.5)r+="background-size: "+q+"px "+w+"px;"}else{var Q=Math.ceil(FNTS.list.length/bh.cols),c=Math.floor(e.wD/Q),u=e.wD%Q,n=c*bh.OT,k=u*bh.ol;
if(1<S&&S<1.5){r+="background-size: "+bh.cols*q+"px "+Q*w+"px;";n*=U;k*=U}r+="background-position:-"+n+"px -"+k+"px;"}X.setAttribute("style",r);
_.appendChild(X);return _};function gI(e){h1.call(this);this.m=K.L("button","fitem bbtn");this.m.addEventListener("click",this.ac4.bind(this),!1);
this.S6=new h1;this.S6.m=K.L("div","floatcont");this.S6.parent=this;this.wC=K.L("div","flexrow");this.S6.m.appendChild(this.wC);
this.BC=[];this.Ij=[];var Z=this.wC,F=K.L("div",""),b=K.L("div","");Z.appendChild(F);Z.appendChild(b);
this.xh=[];for(var l=0;l<FNTS.cats.length;l++)this.xh.push({name:FNTS.cats[l],index:l,Wu:0});this.Zm=new c7([7,0]);
this.Zm.f(!0);this.Zm.h(G.E.p,this.a5G,this);F.appendChild(this.Zm.m);this.Zo=K.L("div","vlist marged scrollable");
this.Zo.setAttribute("style","width:10.3em; height:"+e+"em; ");F.appendChild(this.Zo);this.NJ=[];for(var l=0;
l<this.xh.length;l++){var _=this.xh[l],d=new c7(_.name);this.NJ.push(d);d.h(G.E.p,this.aes,this);d.f(!0);
this.Zo.appendChild(d.m);this.BC.push(1)}this.alR=new c7([7,0]);this.alR.h(G.E.p,this.acf,this);this.df=K.L("div","vlist marged scrollable");
this.df.setAttribute("style","width:8.6em; height:"+(e+1.5)+"em; ");b.appendChild(this.df);this.uf=[];
for(var l=0;l<FNTS.subsetNames.length;l++){var d=new c7(FNTS.subsetNames[l]);this.uf.push(d);d.h(G.E.p,this.a7P,this);
d.f(!1);this.df.appendChild(d.m);this.Ij.push(0)}}gI.prototype=new h1;gI.prototype.aon=function(e){var Z=this.uf;
for(var l=0;l<Z.length;l++){var F=(e>>>l&1)==1;this.Ij[l]=F;Z[l].f(F)}};gI.prototype.acj=function(){return this.wC};
gI.prototype.n=function(){this.m.textContent=gA.get([25,1,0])+" \u25BC";this.Zm.n();this.alR.n()};gI.prototype.ac4=function(e){var Z=this.m.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height,eV:!1};this.$(F)};gI.prototype.Ty=function(e){if(this.BC[e[4]]==0)return!1;
else for(var Z=0;Z<this.Ij.length;Z++)if(this.Ij[Z]==1&&(e[3]>>>Z&1)==0)return!1;return!0};gI.prototype.a5G=function(e){var Z=e.target.U(),F=this.NJ,b=this.BC;
for(var l=0;l<F.length;l++){F[l].f(Z);b[l]=Z?1:0}this.$(new j8(G.E.p,!1))};gI.prototype.acf=function(e){var Z=e.target.U(),F=this.uf,b=this.Ij;
for(var l=0;l<F.length;l++){F[l].f(Z);b[l]=Z?1:0}this.$(new j8(G.E.p,!1))};gI.prototype.aes=function(e){var l=this.NJ.indexOf(e.target),Z=this.xh[l].index;
this.BC[Z]=1-this.BC[Z];this.$(new j8(G.E.p,!1))};gI.prototype.a7P=function(e){var l=this.uf.indexOf(e.target);
this.Ij[l]=1-this.Ij[l];this.$(new j8(G.E.p,!1))};function j0(e,Z,F){aT.call(this,Z,!0,"gradientbutton",18,10,c6.kv);
this.Ly=-1;this.ZE=-1;this.afd=null;this.an7=e;this.bl=F}j0.prototype=new aT;j0.prototype.U8=function(e){var Z=this.Gc;
this.f(Z[this.ik.U()]);this.$(new j8(G.E.p))};j0.prototype.H5=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.tJ,ZB:"gradienteditor",X:this.kU,E3:this.ady.bind(this),FE:this.bl};
this.$(Z)};j0.prototype.ady=function(e){this.f(e);this.$(new j8(G.E.p))};j0.prototype.ZI=function(){if(!this.ij)return;
var e=Math.floor(36*K.F()),Z=Math.floor(36*K.F()),F=[],b=[],_=this.Gc;for(var l=0;l<_.length;l++){var d=_[l];
b.push(d.Nm?d.Nm.v.split("=").pop():"");var S=i.vS.Bk(d,e,Z,Math.PI/4,this.Ly,this.ZE);F.push(S)}this.ik.Ra(F,b,e,Z);
this.ij=!1};j0.prototype.cz=function(e,Z){this.au4(this.kU,e,Z)};j0.prototype.f=function(e){this.au4(e,this.Ly,this.ZE)};
j0.prototype.au4=function(e,Z,F){this.Ly=Z;this.ZE=F;if(e==null)return;var b=JSON.stringify(e),_=b+Z+","+F;
if(_==this.afd)return;this.afd=_;this.kU=JSON.parse(b);var d=Math.floor(80*K.F()),S=Math.floor(16*K.F()),U=i.vS.Bk(this.kU,d,S,0,this.Ly,this.ZE);
this.KG.setAttribute("src",U);K.rB(this.KG,d,S)};j0.prototype.U=function(){var e;if(this.an7)e=i.vS.atq(this.kU,this.Ly,this.ZE);
else e=JSON.parse(JSON.stringify(this.kU));return e};function aX(e){aT.call(this,e,!1,"swatchbutton",16,8.75,c6.qZ)}aX.prototype=new aT;
aX.prototype.U8=function(e){this.f(this.Gc[e.target.U()]);this.$(new j8(G.E.p))};aX.prototype.ZI=function(){if(!this.ij)return;
var e=Date.now(),Z=Math.floor(10*K.F()),F=Math.floor(10*K.F()),b=[],_=[],d=this.Gc;for(var l=0;l<d.length;
l++){_.push(d[l].A9?d[l].A9.split("=").pop():"");b.push(aX.Bk(d[l],Z,F))}this.ik.Ra(b,_,Z,F);this.ij=!1};
aX.prototype.f=function(e){this.kU=JSON.parse(JSON.stringify(e));this.DC()};aX.prototype.DC=function(){var e=Math.floor(24*K.F()),Z=Math.floor(20*K.F()),F=aX.Bk(this.kU,e,Z);
this.KG.setAttribute("src",F);K.rB(this.KG,e,Z)};aX.prototype.U=function(){return JSON.parse(JSON.stringify(this.kU))};
aX.CB={};aX.Bk=function(e,Z,F){var b=aX.Gl,_=aX.CB,d=V.Z0(e.o<<16|e.z<<8|e.S);if(_[d])return _[d];if(b==null){var S=K.L("canvas");
b=aX.Gl=S.getContext("2d")}var S=b.canvas;S.width=Z;S.height=F;b.fillStyle="#"+d;b.fillRect(0,0,Z,F);
var U=_[d]=S.toDataURL();return U};function ew(e,Z,F,b,_){if(e==null)e=!1;if(Z==null)Z=!1;if(F==null)F=!1;
h1.call(this);this.yX=new bI;this.L3=new bI;this.kt=72;this.t0=72;this.mA=!0;this.m=K.L("span");this.ha=new en([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.ha.m);this.ha.h(G.E.p,this.j6,this);var d=["px","%"];if(e)d=d.concat(["mm","in"]);
if(_){d=[[12,76,2],[12,76,6]];if(e)d=d.concat([[12,76,5],[12,76,3]])}this.L0=new dE(null,d);this.m.appendChild(this.L0.m);
K.MV(this.m);this.L0.h(G.E.p,this.j6,this);this.fr=new en([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.fr.m);
this.fr.h(G.E.p,this.j6,this);var S=new cd("\u21F5",!1,null,!0);S.h("click",this.ap2,this);this.q8=new cd("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.q8.h("click",this.j6,this);this.a3G=new dB("");if(Z){this.m.appendChild(this.q8.m);this.m.appendChild(this.a3G.m);
this.q8.SB()}else this.m.appendChild(S.m);this.tN=new en("DPI",0,0,null,3,!1,!0,4);if(e&&b==null){K.MV(this.m);
this.m.appendChild(this.tN.m)}this.tN.h(G.E.p,this.j6,this);this.vX=new c7([12,23,1]);this.vX.h(G.E.p,this.j6,this);
if(F){K.MV(this.m);this.m.appendChild(this.vX.m)}K.MV(this.m)}ew.prototype=new h1;ew.prototype.TP=function(){this.ha.TP()};
ew.prototype.an5=function(){this.mA=!1;if(this.L0.U()==0){this.L0.f(3);this.sv()}};ew.prototype.as0=function(){this.mA=!0};
ew.prototype.asT=function(e){this.q8.f(e)};ew.prototype.n=function(){this.ha.n();this.fr.n();this.tN.n();
this.q8.n();this.vX.n();this.L0.n()};ew.prototype.ap2=function(e){var Z=this.L3.x;this.L3.x=this.L3.y;
this.L3.y=Z;this.sv();this.$(new j8(G.E.p,!1))};ew.prototype.j6=function(e){if(e.target==this.L0&&!this.mA&&this.L0.U()==0)this.L0.f(3);
if(e.target==this.L0||e.target==this.vX){this.sv();return}if(e.target==this.q8)e.target.f(!e.target.U());
var Z=this.yX,F=parseFloat(this.ha.U());if(isNaN(F))F=1;var b=parseFloat(this.fr.U());if(isNaN(b))b=1;
var _=this.L0.U();if(this.mA){var d=this.t0;if(_==1){F=this.yX.x*(F/100);b=this.yX.y*(b/100)}var S=[1,1,25.4/d,1/d][_];
F/=S;b/=S;if(this.vX.U()){F+=this.yX.x;b+=this.yX.y}if(e.target==this.tN){var U=this.tN.U();if(!0){var r=U/d;
F*=r;b*=r}d=U}if(this.q8.U()){if(e.target==this.ha)b=F*(Z.y/Z.x);else F=b*(Z.x/Z.y)}F=Math.max(Math.abs(F),1);
b=Math.max(Math.abs(b),1)}else{var d=this.kt;if(e.target==this.tN)d=this.tN.U();else{if(this.q8.U()){if(e.target==this.ha)b=F*(Z.y/Z.x);
else F=b*(Z.x/Z.y)}var S=[1,1,25.4/d,1/d][_],q=F/(_==1?100:Z.x*S);d=d/q}F=Z.x;b=Z.y}this.L3=new bI(Math.round(F),Math.round(b));
this.t0=d;this.sv();this.$(new j8(G.E.p,!1))};ew.prototype.aiG=function(l){this.L0.f(l);this.sv()};ew.prototype.f=function(e,Z,F){if(F!=!0)this.yX=e.clone();
this.L3=e.clone();if(Z!=null){this.kt=Z;this.t0=Z}this.sv()};ew.prototype.sv=function(){var e=this.L3.x,Z=this.L3.y,F=this.t0,b=(e/Z).toFixed(3);
while(b.charAt(b.length-1)=="0")b=b.substring(0,b.length-1);if(b.charAt(b.length-1)==".")b=b.substring(0,b.length-1);
var _="  "+b+" : 1",d=function(w,X){while(X!=0){var Q=X;X=w%X;w=Q}return w},S=d(e,Z);if(Math.min(e,Z)/S<10)_="  "+Math.round(e/S)+" : "+Math.round(Z/S);
this.a3G.f(_);if(this.vX.U()){e-=this.yX.x;Z-=this.yX.y}var U=this.L0.U();if(U==1){if(this.mA){e=100*e/this.yX.x;
Z=100*Z/this.yX.y}else{e=Z=100*this.kt/this.t0}}else{e=Math.round(e);Z=Math.round(Z)}var r=[1,1,25.4/F,1/F][U];
e*=r;Z*=r;var q=U==1||U==3?2:0;this.ha.ty(q);this.fr.ty(q);this.ha.f(e);this.fr.f(Z);this.tN.f(F)};ew.prototype.U=function(){return this.L3.clone()};
ew.prototype.B7=function(){return this.t0};function cb(e,Z){h1.call(this);var F=e==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this._n=e;this.a2A=Z;this.fz=1;this.Io=[1,1,0];var b=this.m=K.L("div","numlist"),_=this.Q8=[];for(var l=0;
l<4;l++){var d=new en(F[l],0,0,null,2,!1,!0,4);d.h(G.E.p,this.j6,this);b.appendChild(d.m);_[l]=d;if(l==1||l==3)K.MV(b)}_[4]=new c7(e==0?[12,51]:[12,91,2]);
_[4].f(!0);b.appendChild(_[4].m)}cb.prototype=new h1;cb.prototype.n=function(){var e=this.Q8;for(var l=0;
l<5;l++)e[l].n();if(this._n==0)K.Yk(e[0],e[2])};cb.prototype.f=function(e,Z,F){if(Z)this.Io=Z;Z=this.Io;
var b=F?e:this._n==0?[e[2],e[0],e[3],e[1]]:[e[0],e[1],e[3],e[2]];this.fz=b[0]/b[2];for(var l=0;l<4;l++){var _=this.Q8[l];
_.ty(Z[2]==0&&this.a2A?0:2);_.f(V.PR.a7b(b[l],Z[0],Z[1],Z[2]))}};cb.prototype.U=function(e){var Z=[],F=this.Io;
for(var l=0;l<4;l++){var b=V.PR.tm(this.Q8[l].U(),F[0],F[1],F[2]);Z[l]=this.a2A?Math.round(b):b}return e?Z:this._n==0?[Z[1],Z[3],Z[0],Z[2]]:[Z[0],Z[1],Z[3],Z[2]]};
cb.prototype.j6=function(e){var Z=this._n,F=this.Q8.indexOf(e.currentTarget),b=this.U(!0),_=this.Q8[4].U();
if(Z==0){b[0]=Math.max(1,b[0]);b[2]=Math.max(1,b[2]);if(_&&F==0)b[2]=b[0]/this.fz;if(_&&F==2)b[0]=b[2]*this.fz}if(Z==1){b[F]=Math.max(0,b[F]);
if(_)for(var l=0;l<4;l++)b[l]=b[F]}this.f(b,null,!0);this.$(new j8(G.E.p,!1))};function ad(){h1.call(this);
this.jw=0;this.DR=[0,0,1,1,100,100];this.m=K.L("span","fitem");this.dT=new dE(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.dT.m);this.dT.h(G.E.p,this.j6,this);this.ha=new en("W",0,0,null,0,!1,!0);this.m.appendChild(this.ha.m);
this.ha.h(G.E.p,this.j6,this);this.fr=new en("H",0,0,null,0,!1,!0);this.m.appendChild(this.fr.m);this.fr.h(G.E.p,this.j6,this);
this.f({DE:0,x:0,y:0})}ad.prototype=new h1;ad.prototype.n=function(){K.Yk(this.ha,this.fr);this.dT.n()};
ad.prototype.j6=function(e){if(e.target==this.dT){var Z=this.U(),F=this.DR;F[this.jw*2]=Z.x;F[this.jw*2+1]=Z.y;
this.jw=Z.DE;this.f({DE:Z.DE,x:F[Z.DE*2],y:F[Z.DE*2+1]})}if(this.ha.U()<1)this.ha.f(1);if(this.fr.U()<1)this.fr.f(1);
this.$(new j8(G.E.p,!1))};ad.prototype.f=function(e){this.dT.f(e.DE);this.ha.f(e.x);this.fr.f(e.y);if(e.DE==0){this.ha.aK();
this.fr.aK()}else{this.ha.N_();this.fr.N_()}};ad.prototype.U=function(){return{DE:this.dT.U(),x:this.ha.U(),y:this.fr.U()}};
function eZ(e){h1.call(this);this.m=K.L("span","");this.a1c=e;this.Rs=new e_("Off X",-100,100,e?"%":"px",0,!1);
this.fy=new e_("Off Y",-100,100,e?"%":"px",0,!1);this.Rs.h(G.E.p,this.j6,this);this.fy.h(G.E.p,this.j6,this);
this.m.appendChild(this.Rs.m);this.m.appendChild(this.fy.m)}eZ.prototype=new h1;eZ.prototype.n=function(){this.Rs.n();
this.fy.n()};eZ.prototype.j6=function(e){this.$(new j8(G.E.p,!1))};eZ.prototype.a7f=function(e){this.Rs.f(e.x);
this.fy.f(e.y)};eZ.prototype.adK=function(){return new bI(this.Rs.U(),this.fy.U())};eZ.prototype.f=function(e,Z){var F=e.Hrzn.v,b=e.Vrtc.v;
if(this.a1c){F=F.val;b=b.val}this.Rs.f(F);this.fy.f(b);if(Z==!0)this.j6()};eZ.prototype.U=function(){var e=this.Rs.U(),Z=this.fy.U();
if(this.a1c)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:e}},Vrtc:{t:"UntF",v:{type:"#Prc",val:Z}}};
else return{classID:"Pnt",Hrzn:{v:e,t:"doub"},Vrtc:{v:Z,t:"doub"}}};function gB(){h1.call(this);this.m=K.L("span","fitem strokebutton");
this.B4=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.N1=JSON.parse(JSON.stringify(fu.jA.default));
this.Ft=K.L("button");this.m.appendChild(this.Ft);this.Ft.addEventListener("click",this.ld.bind(this),!1);
var e=K.L("canvas","gsicon");this.Gl=e.getContext("2d");this.Ft.appendChild(e);var Z=K.L("span");Z.textContent=" \u25BC";
this.Ft.appendChild(Z);this.S6=new h1;this.S6.parent=this;this.S6.m=K.L("div","floatcont form");var F=this.S6.m;
F.setAttribute("style","width: 14em;");this.VO=[new dE([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new jv([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new jv([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new cY([19,9,2])];
for(var l=0;l<this.VO.length;l++){var b=this.VO[l];F.appendChild(b.m);var _=l<4?G.E.p:"click";b.h(_,this.j6,this)}K.MV(F);
this._7=[];var d=this.agj.bind(this);for(var l=0;l<this.B4.length;l++){var S=K.L("button","fitem");this._7.push(S);
F.appendChild(S);S.addEventListener("click",d,!1);var e=K.L("canvas","gsicon"),U=e.getContext("2d");
S.appendChild(e);this.agA(U,40,20,this.B4[l])}}gB.prototype=new h1;gB.prototype.ld=function(e){var Z=this.Ft.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height+4};this.$(F)};gB.prototype.j6=function(e){var Z=this.VO,F=Z.indexOf(e.target),b=[];
for(var l=0;l<4;l++)b.push(Z[l].U());this.N1=this.arl(b);this.$(new j8(G.E.p,!1))};gB.prototype.agj=function(e){var Z=this._7.indexOf(e.currentTarget);
this.f(this.arl(this.B4[Z]));this.$(new j8(G.E.p,!1))};gB.prototype.arl=function(e){var Z=JSON.parse(JSON.stringify(this.N1)),F=e[0],b=e[1],_=e[2],d=e[3];
if(F!=null)Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fu.jA.ej[F];if(b!=null)Z.strokeStyleLineCapType.v.strokeStyleLineCapType=fu.jA.H9[b];
if(_!=null)Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fu.jA.join[_];var S=Z.strokeStyleLineDashSet.v=[];
d=d.split(" ");while((d.length&1)!=0)d.pop();for(var l=0;l<d.length;l++)S.push({t:"UntF",v:{type:"#Nne",val:parseInt(d[l])}});
return Z};gB.prototype.n=function(){for(var l=0;l<this.VO.length;l++)this.VO[l].n()};gB.prototype.f=function(e){this.N1=JSON.parse(JSON.stringify(e));
var Z=fu.jA.ej.indexOf(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment),F=fu.jA.H9.indexOf(e.strokeStyleLineCapType.v.strokeStyleLineCapType),b=fu.jA.join.indexOf(e.strokeStyleLineJoinType.v.strokeStyleLineJoinType),_=[],d=e.strokeStyleLineDashSet.v;
for(var S=0;S<d.length;S++)_.push(d[S].v.val);var U=this.VO;U[0].f(Z);U[1].f(F);U[2].f(b);U[3].f(_.join(" "));
var r=[];for(var l=0;l<4;l++)r.push(U[l].U());this.agA(this.Gl,40,16,r)};gB.prototype.U=function(){return JSON.parse(JSON.stringify(this.N1))};
gB.prototype.agA=function(e,Z,F,b){var _=b[0],d=b[1],S=b[2],U=b[3].split(" ").map(parseFloat);K.kd(e.canvas,Z,F);
var r=Math.min(5,this.N1.strokeStyleLineWidth.v.val);for(var l=0;l<U.length;l++)U[l]*=r;e.clearRect(0,0,Z,F);
e.setLineDash(U);e.lineCap=["butt","round","square"][d];e.lineJoin=["miter","round","bevel"][S];e.lineWidth=r;
e.beginPath();e.moveTo(0,F/2);e.lineTo(Z*2,F/2);e.stroke()};function hC(e){aT.call(this,e,!1,"contourbutton",34,16,c6.Fj,!0);
this.ae=new cY([12,86],null,16);this.ae.h("input",this.aU,this);this.S6.m.appendChild(this.ae.m);this.sq=null;
this.uh="";this.b1=null;this.f(fK.wy())}hC.prototype=new aT;hC.prototype.n=function(){aT.prototype.n.call(this);
this.ae.n()};hC.prototype.U8=function(e){this.f(this.sq[e.target.U()[0]]);this.$(new j8(G.E.p))};hC.prototype.aU=function(e){this.uh=this.ae.U().toLowerCase();
this.ank()};hC.fi=!1;hC.prototype.ZI=function(){if(!this.ij)return;var e=this.Gc;if(e==null||!hC.fi){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.l0,NG:{url:"rsrc/basic/fa_basic.csh"}};this.$(Z);hC.fi=!0}else{var F=Math.floor(38*K.F()),b=Math.floor(38*K.F());
this.b1=[];for(var l=0;l<e.length;l++)this.b1.push(hC.ah7(e[l],F,b));this.ank();this.ij=!1}};hC.prototype.ank=function(){var e=Math.floor(38*K.F()),Z=Math.floor(38*K.F());
this.sq=[];var F=[],b=[],_=this.Gc;for(var l=0;l<_.length;l++){if(_[l].aJ.toLowerCase().indexOf(this.uh)==-1)continue;
this.sq.push(_[l]);F.push(this.b1[l]);b.push(_[l].aJ)}this.ik.Ra(F,b,e,Z)};hC.prototype.f=function(e){this.kU=hC.clone(e);
this.DC()};hC.prototype.DC=function(){var e=Math.floor(23*K.F()),Z=Math.floor(23*K.F()),F=hC.ah7(this.kU,e,Z);
this.KG.setAttribute("src",F);K.rB(this.KG,e,Z)};hC.prototype.U=function(){return hC.clone(this.kU)};
hC.clone=function(e){return{aJ:e.aJ,P1:e.P1,T:g.NX.o4(e.T),Dl:e.Dl.clone()}};hC.O=null;hC.Gk=null;hC.ah7=function(e,Z,F){var b=g.NX.o4(e.T),_=e.Dl,d=Math.min(Z/_.w,F/_._)*.9,S=new jg;
S.translate(-.5,-.5);S.scale(.95,.95);S.translate(.5,.5);S.scale(d*_.w,d*_._);V.c.Jb(b,S);var U=new g.NX;
U.T=b;var r=U.Vj();r.rect.x=Math.floor((Z-r.rect.w)/2);r.rect.y=Math.floor((F-r.rect._)/2);var q=V.J(r.rect.Z()*4);
V.s$(r.channel,q,3);var w=hC;if(w.O==null)w.O=K.L("canvas");var X=w.O,Q=X.getContext("2d");if(X.width!=Z||X.height!=F||w.Gk==null){X.width=Z;
X.height=F;w.Gk=Q.createImageData(Z,F)}var c=w.Gk;c.data.fill(0);V.Rf(q,r.rect,c.data,new e3(0,0,Z,F));
Q.putImageData(c,0,0);return X.toDataURL()};function ih(e){aT.call(this,e,!1,"ICCButton",16,12,c6.CU,!0);
this.ik.pk(1)}ih.prototype=new aT;ih.prototype.z8=function(){var e="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var l=0;l<e.length;l++)e[l]="luts/"+e[l]+".CUBE";return e};ih.prototype.U8=function(e){this.f(this.Gc[e.target.U()]);
this.$(new j8(G.E.p))};ih.prototype.ZI=function(){if(!this.ij)return;var e=Math.floor(1*K.F()),Z=Math.floor(1*K.F()),F=[],b=[],_=this.Gc;
for(var l=0;l<_.length;l++){var d=_[l].Nm.v.split("\\").pop().split("/").pop();b.push(d);F.push(ih.Bk(_[l],e,Z))}this.ik.Ra(F,b,e,Z);
this.ij=!1};ih.prototype.f=function(e){this.kU=JSON.parse(JSON.stringify(e));this.DC()};ih.Bk=function(e,Z,F){var b=K.L("canvas"),S="ICC / 3DL / look / cube";
b.width=Z;b.height=F;var _=b.getContext("2d"),d=Math.floor(14*K.F());_.font=d+"px sans-serif";if(e.Nm)S=e.Nm.v.split("\\").pop().split("/").pop();
_.fillText(S,10,d);return b.toDataURL()};ih.prototype.DC=function(){var e=Math.floor(120*K.F()),Z=Math.floor(20*K.F());
this.KG.setAttribute("src",ih.Bk(this.kU,e,Z));K.rB(this.KG,e,Z)};ih.prototype.U=function(){return JSON.parse(JSON.stringify(this.kU))};
function jr(){h1.call(this);this.VP=null;this.m=K.L("span","fitem");this.sU=new eq([14,9]);this.u0=new en(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.ao=new gB;this.Mu=[this.sU,this.u0,this.ao];for(var l=0;l<this.Mu.length;l++){var e=this.Mu[l];
this.m.appendChild(e.m);e.parent=this;e.h(G.E.p,this.j6,this)}}jr.prototype=new h1;jr.prototype.n=function(){for(var l=0;
l<this.Mu.length;l++)this.Mu[l].n()};jr.prototype.ZP=function(e,Z){this.sU.ZP(e,Z)};jr.prototype.j6=function(e){var Z=this.VP,F=this.sU.U(),b=F.QL;
Z.strokeEnabled.v=b!=0;if(b!=0){Z.strokeStyleContent.v=F.n8;F.n8.classID=fu.jA.BY[b-1]}Z.strokeStyleLineWidth.v.val=this.u0.U();
if(e.target==this.ao)Z=this.ao.U();this.VP=Z;this.$(new j8(G.E.p,!1))};jr.prototype.f=function(e,Z,F){this.VP=JSON.parse(JSON.stringify(Z));
var b=Z.strokeEnabled.v,_=Z.strokeStyleContent.v,d=b?{QL:1+fu.jA.BY.indexOf(_.classID),n8:_}:{QL:0};
this.sU.f(e,d,F);this.u0.f(Z.strokeStyleLineWidth.v.val);this.ao.f(Z)};jr.prototype.U=function(){return JSON.parse(JSON.stringify(this.VP))};
function aZ(e){var Z=[[18,0],[18,1],[18,2],[18,3]],F=jv.K4(["set/front","set/union","set/difference","set/intersection"]);
jv.call(this,e?[12,36]:null,F,Z)}aZ.prototype=new jv;function cf(){h1.call(this);this.m=K.L("button","fitem bbtn");
this.m.textContent="Arrow";this.m.addEventListener("click",this.ld.bind(this),!1);this.S6=new h1;this.S6.m=K.L("div","floatcont form");
this.S6.m.setAttribute("style","max-width: 200px;");this.S6.parent=this;var e=fZ;this.Y_=[new c7("Start"),new c7("End"),new e([12,41],0,100,"px",null,!0,null,!0),new e([12,80,0],0,100,"px",null,!0,null,!0),new e("Concavity",-50,50,"%",null,null,null,!0)];
for(var l=0;l<this.Y_.length;l++){var Z=this.Y_[l];Z.parent=this;Z.h(G.E.p,this.oJ,this);this.S6.m.appendChild(Z.m)}this.arH=K.L("div");
this.S6.m.appendChild(this.arH)}cf.prototype=new h1;cf.prototype.f=function(e){for(var l=0;l<5;l++)this.Y_[l].f(e[l]);
this.qz()};cf.prototype.U=function(e){var Z=[];for(var l=0;l<5;l++)Z[l]=this.Y_[l].U();return Z};cf.prototype.n=function(){for(var l=0;
l<this.Y_.length;l++)this.Y_[l].n()};cf.prototype.oJ=function(e){this.$(new j8(G.E.p,!1));this.qz()};
cf.prototype.qz=function(e){var Z=this.U(),F=200,b=60;Z[2]/=K.F();Z[3]/=K.F();var _=V.c.wV.BS(0,b/2,F,b/2,5,Z),d=V.c.GE(_);
this.arH.innerHTML="<svg width=\""+F+"\" height=\""+b+"\" class=\"gsicon\">\t\t\t<path d=\""+d.qp+"\" />\t\t\t</svg>"};
cf.prototype.ld=function(e){var Z=this.m.getBoundingClientRect(),F=new j8(G.E.W,!0);F.data={d:G.B.f6,Gw:this.S6,x:Z.left,y:Z.top+Z.height};
this.$(F)};function hJ(){h1.call(this);this.Cd=[16,!0,!0];this.m=K.L("span","");this.hy=[new en([12,24],0,255),new c7([12,25,1]),new c7([12,25,0])];
for(var l=0;l<3;l++){var e=this.hy[l];e.parent=this;e.f(this.Cd[l]);this.m.appendChild(e.m);e.h(G.E.p,this.j6,this)}}hJ.prototype=new h1;
hJ.prototype.j6=function(){for(var l=0;l<3;l++)this.Cd[l]=this.hy[l].U();this.$(new j8(G.E.p,!1))};hJ.prototype.f=function(e){this.Cd=e.slice(0);
for(var l=0;l<3;l++)this.hy[l].f(e[l])};hJ.prototype.U=function(){return this.Cd.slice(0)};hJ.prototype.n=function(){for(var l=0;
l<3;l++)this.hy[l].n()};function hA(e,Z){h1.call(this);if(Z==null)Z=!1;this.b1=[];this.eT=Math.floor(120*K.F());
this.amu=Math.floor(23*K.F());this.X8=0;this.bP=[];this.Bj=[];for(var F in V.YY.type){if(F=="warpCustom"&&!Z)continue;
this.bP.push(F);this.Bj.push(V.YY.type[F])}this.m=K.L("span","fitem warpbutton");this.S6=new h1;this.S6.m=K.L("div","floatcont");
if(e){this.w7=e;this.kb=K.L("label","flabel");this.m.appendChild(this.kb)}this.d=K.L("button");this.m.appendChild(this.d);
this.d.addEventListener("click",this.ld.bind(this),!1);this.Ux=new b7(!0);this.S6.m.appendChild(this.Ux.m);
this.Ux.h(G.E.p,this.asd,this);this.S6.m.setAttribute("style","width:"+Math.floor(8+this.eT/K.F())+"px;");
this.n()}hA.prototype=new h1;hA.prototype.cc=function(e){this.kb.textContent=e};hA.prototype.n=function(){if(this.w7)this.kb.innerHTML=gA.get(this.w7)+":";
this.DC()};hA.afm={};hA.acA=function(e,Z,F){var b=gA.get(V.YY.type[e]),_=b+"-"+e+"-"+Z+"-"+F,d=hA.afm[_];
if(d)return d;var S=hA.Gl;if(U==null){var U=K.L("canvas");S=hA.Gl=U.getContext("2d")}var U=S.canvas;
if(U.width!=Z||U.height!=F){U.width=Z;U.height=F}S.font=Math.floor(13*K.F())+"px sans-serif";S.lineWidth=1;
S.strokeStyle="#000000";var r=Math.floor(16*K.F()),q=new e3(0,0,r,r);S.clearRect(0,0,U.width,U.height);
var w=V.YY.YY(q,e,!0,.3,0,0),X=V.H.gb(q);X.C.push("M","L","M","L");X.s.push(0,r/2,r,r/2);X.s.push(r/2,0,r/2,r);
X=V.H.AM(X);X=V.H.Ya(X,r/5);V.u5.A(w,X.s,q);V.H.A(X.s,new jg(1,0,0,1,Math.floor(8*K.F())+.5,Math.floor(3*K.F())+.5),X.s);
S.beginPath();Typr.U.pathToContext({cmds:X.C,crds:X.s},S);S.stroke();S.fillText(b,Math.floor(40*K.F()),Math.floor(16*K.F()));
d=hA.afm[_]=U.toDataURL();return d};hA.prototype.ld=function(e){var Z=this.eT,F=this.amu;for(var l=0;
l<this.bP.length;l++)this.b1[l]=hA.acA(this.bP[l],Z,F);this.Ux.Ra(this.b1,null,Z,F);var b=this.d.getBoundingClientRect(),_=new j8(G.E.W,!0);
_.data={d:G.B.f6,Gw:this.S6,x:b.left,y:b.top+b.height+4};this.$(_)};hA.prototype.asd=function(e){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.vM,Gw:this.S6};this.$(Z);this.X8=e.target.U()[0];this.DC();this.$(new j8(G.E.p))};hA.prototype.DC=function(){var e=this.eT,Z=this.amu;
this.Ux.f([this.X8]);this.d.innerHTML="<img src=\""+hA.acA(this.bP[this.X8],e,Z)+"\" class=\"gsicon\" />";
K.rB(this.d.firstChild,e,Z)};hA.prototype.U=function(){return this.bP[this.X8]};hA.prototype.f=function(e){this.X8=this.bP.indexOf(e);
this.DC()};function aS(e,Z,F){h1.call(this);if(e==null)e=!1;if(Z==null)Z=!1;if(F==null)F=!1;this.afj=Z;
this.YY=null;this.sy=new hA([12,22],F);this.sy.parent=this;this.sy.h(G.E.p,this.r_,this);this.Hs=new dE([22,0],[[22,4,0],[22,4,1]]);
this.Hs.h(G.E.p,this.r_,this);var b=e?en:fZ;this.Gr=new b([22,1],-100,100,"%");this.KE=new b("Horizontal Distortion:",-100,100,"%");
this.IQ=new b("Vertical Distortion:",-100,100,"%");this.Gr.parent=this.KE.parent=this.IQ.parent=this;
this.Gr.h(G.E.p,this.r_,this);this.KE.h(G.E.p,this.r_,this);this.IQ.h(G.E.p,this.r_,this)}aS.prototype=new h1;
aS.prototype.n=function(){this.sy.n();this.Hs.n();this.Gr.n();var e=this.afj?1:100;this.KE.cc(gA.get([22,2]).substring(0,e)+":");
this.IQ.cc(gA.get([22,3]).substring(0,e)+":")};aS.prototype.r_=function(){var e=this.YY,Z=this.sy.U(),F=e.warpStyle.v.warpStyle;
if(Z=="warpCustom")V.YY.B8(V.YY.wl(e),e);else delete e.customEnvelopeWarp;e.warpStyle.v.warpStyle=this.sy.U();
e.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Hs.U()];e.warpValue.v=this.Gr.U();e.warpPerspective.v=this.KE.U();
e.warpPerspectiveOther.v=this.IQ.U();if(Z=="warpNone"||Z=="warpCustom"){e.warpValue.v=0;e.warpPerspective.v=0;
e.warpPerspectiveOther.v=0}else if(F=="warpNone"||F=="warpCustom")e.warpValue.v=50;this.$(new j8(G.E.p,!1));
this.f(e)};aS.prototype.U=function(e){return JSON.parse(JSON.stringify(this.YY))};aS.prototype.f=function(e){this.YY=JSON.parse(JSON.stringify(e));
this.sy.f(e.warpStyle.v.warpStyle);this.Hs.f(e.warpRotate.v.Ornt=="Hrzn"?0:1);this.Gr.f(e.warpValue.v);
this.KE.f(e.warpPerspective.v);this.IQ.f(e.warpPerspectiveOther.v);var Z=e.warpStyle.v.warpStyle,F=Z=="warpNone"||Z=="warpCustom",b=[this.Hs,this.Gr,this.KE,this.IQ];
for(var l=0;l<b.length;l++)if(F)b[l].aK();else b[l].N_()};function hH(e,Z){h1.call(this);this.m=K.L("div");
this.AP=e;this.lC=null;this.Ok=new bI(0,0);this.Z6="position:relative;overflow:hidden;";this.ET=null;
this.VY=new K.YV(this.m);this.a4p=Z;this.ER("grab");this.O=K.L("canvas","canv");this.m.appendChild(this.O);
this.Gl=this.O.getContext("2d");this.a0s=null;this.mW=null;this.Dh=null;this.OF=0;this._g=0;this.DX=0;
this.a6j=this.anD.bind(this);this.aaH=null;this.t=new hg({w:1,_:1});this.Og=null;this.Tf=null;this.G9=[];
this.ahm=0;this.WR=0;this.al3=this.s8.bind(this);this.atB=this.Mn.bind(this);this.al$=this.fQ.bind(this);
this.a5Y=this.nr.bind(this);this.anj=0;this.zN=null;this.a0F(this.O);this.QD(this)}hH.prototype=new h1;
hH.a6a=function(e){var Z=new ex(!0);if(e>=0)Z.Gi("Space");if(e>=1){Z.Gi("ControlLeft");if(e==2)Z.Gi("AltLeft")}return Z};
hH.prototype.b8=function(e){var Z=this.ET,F=null;if(e.j(ex.gT)){F="grab";if(e.j(ex.Nh)){F="zoom-in";
if(e.j(ex.sW))F="zoom-out"}}this.lC=F;if(F)Z=F;this.VY.jQ(Z,this.Z6);if(e.j(ex.Nh)){var b=0;if(e.j(ex.yv))b=1;
if(e.j(ex.Z9))b=-1;if(b!=0){this.CQ(new bI(this.O.width/2,this.O.height/2),b==1)}}};hH.prototype.ER=function(e){this.ET=e;
if(this.lC)return;this.VY.jQ(e,this.Z6)};hH.prototype.a0F=function(e){K.x7(e,this.al3);K.GU(e);e.addEventListener("wheel",this.a5Y,!1)};
hH.prototype.QD=function(e){e.h("viewchange",this.aoX,this)};hH.prototype.aoX=function(e){var Z=this.t.e,F=e.currentTarget.ox();
this.t.e=F.e;this.t.r=F.r.clone();if(Z!=F.e)this.gg();this.Yl()};hH.prototype.ox=function(){return{e:this.t.e,r:this.t.r}};
hH.prototype.f=function(e,Z){var F=e[0].V4;if(this.mW!=null&&this.mW[0].V4.Tn(F)){}else{this.t.Bm={w:F.w,_:F._};
this.t.r=new bI(0,0);this.t.e=1}this.mW=e;this.gg();this.G2();this.OF=0;this._g=0;this.DX=Z==null?0:Z;
this.anD()};hH.prototype.nr=function(e){e.preventDefault();if(e.deltaY==0||Date.now()-this.anj<100)return;
var Z=K.DK(e);Z.x=K.F()*Z.x;Z.y=K.F()*Z.y;this.anj=Date.now();this.CQ(Z,e.deltaY<0)};hH.prototype.CQ=function(e,Z){i.Jt.nX(this.t,e,Z);
this.ahv()};hH.prototype.Rj=function(){var e=this.t,Z=e.Bm;this.t.e=i.Jt.WE(Z.w,Z._,e.JS.w,e.JS._);this.ahv()};
hH.prototype.ahv=function(){this.gg();this.$(new j8("viewchange"));this.$(new j8("zoom"))};hH.prototype.gg=function(){this.Dh=[];
var e=this.t.e;if(this.mW==null)return;for(var l=0;l<this.mW.length;l++){var Z=this.mW[l],F=new Uint8Array(Z.data),b;
if(e>=1)b={XT:F,rect:Z.V4};else b=V.aqW(F,Z.V4,e);this.Dh.push(b)}};hH.prototype.G2=function(){clearTimeout(this.aaH)};
hH.prototype.Yl=function(){if(this.mW==null||!K.RY(this.O))return;var e=this.a0s,Z=this.O.width,F=this.O.height,u,n;
if(e==null||e.width!=Z||e.height!=F){e=this.a0s=this.Gl.createImageData(Z,F);console.log("creating image data")}var b=this.mW[this.OF],_=this.Dh[this.OF],d=this.t,S=d.Bm,U=d.JS,r=U.w,q=U._,w=S.w*d.e,X=S._*d.e,Q=Math.round((r-w)/2+d.r.x),c=Math.round((q-X)/2+d.r.y);
if(d.e<=1){n=_.rect.clone();n.x=Q;n.y=c;w=n.w;X=n._;u=_.XT}else{var k=1/d.e,B=new e3(Math.floor((U.x-Q)*k),Math.floor((U.y-c)*k),Math.ceil(U.w*k)+1,Math.ceil(U._*k)+1),o=new e3(0,0,B.w*d.e,B._*d.e);
o.x=B.x*d.e+Q;o.y=B.y*d.e+c;if(d.aM==null||d.aM.length!=B.Z()*4){d.aM=V.J(B.Z()*4)}if(d.iS==null||d.iS.length!=o.Z()*4){d.iS=V.J(o.Z()*4)}V.oi(d.aM,0);
V.Rf(_.XT,_.rect,d.aM,B);V.scale.Pg(d.aM,B.w,B._,d.iS,o.w,o._,d.e);u=d.iS;n=o}var T=new Uint8Array(e.data.buffer);
V.Ag(T,r,q,8,-Q,-c);V.a.sB("norm",u,n,T,U,U,1);var z=this.Gl;z.setTransform(1,0,0,1,0,0);z.putImageData(e,0,0);
z.clearRect(Q-1e3,c,1e3,X);z.clearRect(Q+w,c,1e3,X);z.clearRect(Q-1e3,c-1e3,w+2e3,1e3);z.clearRect(Q-1e3,c+X,w+2e3,1e3);
var W=hH.ajv(d.e,"#ffffff",this.a4p);z.putImageData(W,0,d.JS._-W.height)};hH.aia={};hH.ajv=function(e,Z,F){if(F==null)F=!1;
var b="z"+e+","+Z+","+F,_=hH.aia[b];if(_)return _;var d=Math.round(50*K.F()),S=Math.round(18*K.F()),U=F?2*S:0,r=K.L("canvas"),q=r.getContext("2d");
r.width=d+U;r.height=S;q.fillStyle="rgba(1,1,1,1)";q.fillRect(0,0,d+U,S);q.font=Math.round(11*K.F())+"px monospace";
q.fillStyle=Z;var w=e*100;if(w<100)w=w.toFixed(2);else w=Math.round(w);w=w+"%";var X=q.measureText(w).width;
q.fillText(w,U+(d-X)/2,Math.round(S*.7));_=hH.aia[b]=q.getImageData(0,0,d+U,S);return _};hH.prototype.anD=function(){var e=this.mW,Z=e.length,F=this.OF,b=this.mW[F],_=(F+1)%Z;
this.Yl();if(Z!=1&&e[_].V4.Tn(b.V4)){var d=b.no?parseInt(b.no.split(",").pop()):30;if(d==0)d=16;if(_==0)this._g++;
if(this.DX==0||this._g<this.DX)this.aaH=setTimeout(this.a6j,d)}this.OF=_};hH.prototype.Av=function(e,Z){if(e<=0||Z<=0)return;
var F=Math.floor(e*K.F()),b=Math.floor(Z*K.F());this.t.JS=new e3(0,0,F,b);this.O.width=F;this.O.height=b;
this.O.setAttribute("style","width:"+F/K.F()+"px; height:"+b/K.F()+"px; display:block;");this.Yl()};
hH.prototype._I=function(e){var Z=-1,F=this.G9;for(var l=0;l<F.length;l++)if(F[l].pointerId==e.pointerId)Z=l;
return Z};hH.prototype.s8=function(e){var Z=this._I(e),F=this.G9;if(Z!=-1)F[Z]=e;else F.push(e);if(F.length==1){this.zN=e.target;
K.gQ(window,this.atB);K.z1(window,this.al$);this.Og=K.DK(e,this.O);this.Og.x*=K.F();this.Og.y*=K.F();
this.Ok=this.Og;this.Tf=this.t.r.clone();if(this.AP&&this.zN==this.O&&!this.lC)this.$(new j8("mousedown"))}else this.ahm=this.WR=bI.Ls(K.DK(F[0],this.O),K.DK(F[1],this.O))};
hH.prototype.Mn=function(e){var Z=this._I(e),F=this.G9;if(Z!=-1)F[Z]=e;var b=this.t,_=this.lC,d=this.mW[this.OF].V4.clone();
d.w*=b.e;d._*=b.e;var S=K.DK(e,this.O);S.x*=K.F();S.y*=K.F();this.Ok=S;if(this.AP&&this.zN==this.O&&!_)this.$(new j8("mousemove"));
else if((_=="grab"||_==null)&&(F.length>1||!b.JS.tv(d))){if(F.length>1){var U=K.DK(F[0],this.O),r=K.DK(F[1],this.O),q=new bI(K.F()*(U.x+r.x)/2,K.F()*(U.y+r.y)/2),w=bI.Ls(U,r),X=null;
if(w>this.WR+50){this.WR+=50;X=!0}if(w<this.WR-50){this.WR-=50;X=!1}if(X!=null)this.CQ(q,X);return}else{var Q=S.x-this.Og.x,c=S.y-this.Og.y;
b.r.x=this.Tf.x+Math.round(Q);b.r.y=this.Tf.y+Math.round(c)}this.$(new j8("viewchange"))}};hH.prototype.fQ=function(e){var Z=this._I(e),F=this.G9;
F.splice(Z,1);if(F.length==0){K.J3(window,this.atB);K.UP(window,this.al$);var b=this.lC;if(e.detail>1){this.t.e=1;
this.t.r.zU(0,0);this.Yl()}if(this.AP&&this.zN==this.O&&!this.lC)this.$(new j8("mouseup"));else{if(b=="zoom-in"||b=="zoom-out")this.CQ(this.Ok,b=="zoom-in")}}else{var _=this.Og=K.DK(F[0],this.O);
_.x*=K.F();_.y*=K.F()}};hH.prototype.SF=function(){return this.t.mG(this.Ok.x,this.Ok.y)};function di(){h1.call(this);
this.HU=null;this.rH=null;this.wu=null;this.Kr=null;this.adF="";this.TV=[];this.bn=0;this.dU=[];this.y2=0;
this.Pk=null;var e=this.m=K.L("div",""),Z=this.aoh=K.L("div","form");Z.setAttribute("style","line-height:0; margin-bottom:0.5em;");
e.appendChild(Z);var F=this.w7=K.L("span");Z.appendChild(F);F.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var b=this.ajj=new c7([25,2,0]);b.f(!0);Z.appendChild(b.m);b.h(G.E.p,this.ci,this);var _=this.Xx=new c7([25,2,1]);
_.f(!0);Z.appendChild(_.m);_.h(G.E.p,this.ci,this);var d=new dB(" ");Z.appendChild(d.m);var S=this.SP=new cY([25,1,1]);
Z.appendChild(S.m);S.h(G.E.p,this.ci,this);this.Fw=new gI(14);this.Fw.aon(3);Z.appendChild(this.Fw.m);
this.Fw.parent=this;this.Fw.h(G.E.p,this.a2C,this);var U=this.a8I=new cd([25,1,2],null,null,!0);Z.appendChild(U.m);
U.h("click",this.XZ,this);this.a8f=this.aj1.bind(this);this.uL=K.L("div","svggallery scrollable");e.appendChild(this.uL);
this.uL.addEventListener("scroll",this.abz.bind(this))}di.prototype=new h1;di.prototype.ZP=function(e){this.agz=e};
di.prototype.n=function(){this.w7.textContent=gA.get([25,0]);this.Fw.n();this.ajj.n();this.Xx.n();this.SP.n();
this.a8I.n()};di.prototype.Av=function(e,Z){this.HU=new bI(e,Z);this.aoh.setAttribute("style","width:"+e+"px");
var F=this.aoh.getBoundingClientRect();Z-=F.height;this.uL.setAttribute("style","width:"+e+"px; height:"+Z+"px");
if(K.RY(this.m))this.ci()};di.prototype.f=function(e){this.rH=e;this.ci()};di.prototype.abz=function(e){var Z=this.uL;
if(Z.scrollTop+Z.clientHeight+10>=Z.scrollHeight){this.ci(!0)}};di.prototype.a2C=function(e){this.wu=null;
this.ci()};di.prototype.aj1=function(e){if(Date.now()-this.y2<2e3)return;this.y2=Date.now();this.bn=this.dU.indexOf(e.currentTarget);
var Z=this.wN(this.rH.x,this.rH.y);if(Z[1]){var F=Z[1].largeImageURL,b=new XMLHttpRequest;b.responseType="arraybuffer";
b.open("GET",F,!0);b.onload=this.arS.bind(this);b.send();return}this.apD(Z)};di.prototype.arS=function(e){var Z=e.target.response,F=fg.zV(Z),b=fg.H_(F),_=b.Fx(Z),d=this.wN(this.rH.x,this.rH.y,[Z,_[0].V4.w,_[0].V4._]);
this.apD(d)};di.prototype.apD=function(e){var Z=e[0],F=fg.zV(Z),b=fg.H_(F),_=new aH("template.psd");
b.Fx(Z,_);var d=new j8("tempready",!0);d.data={Bm:_};this.$(d)};di.prototype.XZ=function(e){var Z=e.target;
this.TV=[];this.ci()};di.prototype.a15=function(e){var Z=JSON.parse(e.target.response);this.Kr=Z.hits;
this.ci()};di.prototype.ci=function(e){if(this.rH==null||this.HU==null||this.agz==null)return;if(this.HU.x<=0)return;
var Z=this.rH.x,F=this.rH.y;if(Math.min(Z,F)<50)return;if(e!=!0){this.dU=[];K.WL(this.uL);this.uL.scrollTop=0}if(this.dU.length>300)return;
var b=Math.min(1,300/Math.max(Z,F)),_=this.HU.clone();_.x-=20;var d=Math.max(1,Math.floor(_.x/(Z*b))),S=Math.max(1,Math.ceil(_.y/(F*b)));
b=_.x/d/Z;var U=d*S;if(this.wu==null){var r=this.agz.W5.TE();this.wu=[];for(var q in r){var w=r[q],X=w[3];
if(!this.Fw.Ty(w))continue;if(w[5]==null||w[5].slice(0,2)=="gf")continue;this.wu.push(w)}if(this.wu.length==0)this.wu.push(r['SourceHanSansSC-Regular'])}var Q=this.Xx.U(),c=this.SP.U().trim();
this.SP.c5(Q);if(Q&&(this.Kr==null||c!=this.adF)){var u=new XMLHttpRequest,n="https://pixabay.com/api/?image_type=photo"+(c==""?"":"&q="+encodeURIComponent(c))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(c=="")n+="&safesearch=true";if(c=="")n="plugins/gallery.json";u.open("GET",n,!0);u.onload=this.a15.bind(this);
u.onerror=function(W){console.log(W.target.response)};u.send();this.adF=c;return}b*=(Z*b-5)/(Z*b);var k=this.dU.length;
for(var l=0;l<U;l++){var B=this.bn=k+l;if(this.TV[B]==null)this.TV[B]=Math.floor(Math.random()*4294967295);
var o=this.wN(Math.round(Z*b),Math.round(F*b)),T=o[0];T=s.CI(new Uint8Array(T));var z=K.L("span");z.innerHTML=T;
this.dU.push(z);this.uL.appendChild(z);z.addEventListener("click",this.a8f,!1)}};di.prototype.wN=function(e,Z,F){var b=this.Xx.U(),_=this.ajj.U(),d=b&&this.Kr.length!=0?this.Kr:null;
if(_&&!b)d=null;if(_&&b&&(this.bn&1)==0)d=null;return iL.wV(e,Z,this.TV[this.bn],this.wu,F?F:d)};function gG(){h1.call(this);
this.m=K.L("div");this.O6=null;this.aaE=null;this.P5=-1;this.gP={JPG:[{W$:new fZ([12,52,0],0,100,"%",null,null,!0),GX:70},{W$:new c7("attach metadata"),GX:!1}],TIFF:[{W$:new c7("attach metadata"),GX:!1}],WEBP:[{W$:new fZ([12,52,0],0,100,"%",null,null,!0),GX:70}],GIF:[{W$:new fZ([12,52,0],0,100,"%",null,null,!0),GX:100},{W$:new c7([12,23,3]),GX:!1}],PNG:[{W$:new fZ([12,52,0],0,100,"%",null,null,!0),GX:100},{W$:new c7("don't use palettes"),GX:!1}],PDF:[{W$:new cY([12,52,1]),GX:""},{W$:new fZ([12,52,0],0,100,"%",null,null,!0),GX:100},{W$:new c7("rasterize all"),GX:!1},{W$:new c7("rasterize text"),GX:!1},{W$:new c7("vectorize text"),GX:!1},{W$:new fZ("Add Margin",0,5,"in",2),GX:0}],EMF:[{W$:new cY([12,52,1]),GX:""},{W$:new c7("rasterize all"),GX:!1},{W$:new c7("rasterize text"),GX:!1},{W$:new c7("vectorize text"),GX:!1}],SVG:[{W$:new c7("add raster graphics"),GX:!0},{W$:new c7("add hidden layers"),GX:!1},{W$:new c7("vectorize text"),GX:!1},{W$:new c7("rasterize text"),GX:!1},{W$:new c7("add layer names"),GX:!0},{W$:new c7("pretty-print"),GX:!0}],RAW:[{W$:new jv([12,72],["1","3","4"]),GX:2},{W$:new jv([12,34],["8 Bits","16 Bits"]),GX:0},{W$:new jv("Byte Order",["12-34","34-12"]),GX:0}],DDS:[{W$:new c7("Add Mipmaps"),GX:!0},{W$:new c7("Compression"),GX:!0}],anim:[{W$:new fZ("Speed",10,800,"%",null,!0,!0),GX:100},{W$:new en("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),GX:0},{W$:new c7("reverse frames"),GX:!1},{W$:new c7("boomerang"),GX:!1}],slcs:[{W$:new c7("As Slices"),GX:!0}],artb:[{W$:new c7("As Artboards"),GX:!0}]};
for(var e in this.gP){var Z=this.gP[e];for(var l=0;l<Z.length;l++){Z[l].W$.f(Z[l].GX);Z[l].W$.h(G.E.p,this.An,this)}}}gG.prototype=new h1;
gG.prototype.amn=function(){this.P5=-1};gG.prototype.n=function(){for(var e in this.gP)for(var l=0;l<this.gP[e].length;
l++)this.gP[e][l].W$.n()};gG.prototype.An=function(){this.ci();this.$(new j8(G.E.p,!1))};gG.prototype.ci=function(){var e=this.O6,Z=e[0],F=e[1],b=e[2],_=e[3],d=this.gP[Z];
if(d==null)d=[];else d=d.slice(0);if(F)d=d.concat(this.gP.anim);if(["GIF","PNG","JPG"].indexOf(Z)!=-1&&b)d=d.concat(this.gP.slcs);
else if(["GIF","PNG","JPG"].indexOf(Z)!=-1&&_)d=d.concat(this.gP.artb);if(Z+" "+F+" "+_!=this.P5){this.P5=Z+" "+F+" "+_;
K.WL(this.m);for(var l=0;l<d.length;l++){if(Z=="PDF"&&!_&&l==0)continue;this.m.appendChild(d[l].W$.m);
K.MV(this.m)}}var S=this.aaE=[];for(var l=0;l<d.length;l++)S.push(d[l].W$.U())};gG.prototype.afG=function(e,Z,F,b){this.O6=[e,Z,F,b];
this.ci()};gG.prototype.U=function(){return this.aaE.slice(0)};function gc(){h1.call(this);this.m=K.L("span","fitem");
this.sm=!1;this.NC=new cd("No",!1,"Cancel");this.wv=new cd("Yes",!1,"Confirm");this.m.appendChild(this.NC.m);
this.m.appendChild(this.wv.m);this.NC.h("click",this.Xh,this);this.wv.h("click",this.Xh,this);this.n()}gc.prototype=new h1;
gc.prototype.n=function(){this.NC.cc(K.kO("cross",null,"autoscale"));this.wv.cc(K.kO("checkmark",null,"autoscale"))};
gc.prototype.Xh=function(e){this.sm=e.target==this.wv;this.$(new UIEvent("click"))};gc.prototype.U=function(){return this.sm};
function dn(){h1.call(this);var e=this.m=K.L("div","fitem");this.d1=new dE([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);
this.d1.h(G.E.p,this.j6,this);e.appendChild(this.d1.m);this.jW=new jQ(!1);this.jW.parent=this;this.jW.jH(16777215);
this.jW.h(G.E.p,this.j6,this);e.appendChild(this.jW.m)}dn.prototype=new h1;dn.prototype.n=function(){this.d1.n();
this.jW.n()};dn.prototype.a1Q=function(e){var Z=[e.artboardBackgroundType.v-1];if(e.Clr)Z.push(e.Clr.v);
this.f(Z)};dn.prototype.ao9=function(){var e=this.U();return{classID:"artboard",Clr:{t:"Objc",v:e[1]},artboardBackgroundType:{t:"long",v:e[0]+1}}};
dn.prototype.f=function(e){this.d1.f(e[0]);if(e[1])this.jW.f(e[1])};dn.prototype.U=function(){return[this.d1.U(),this.jW.U()]};
dn.prototype.j6=function(e){if(e.target==this.jW)this.d1.f(3);this.$(new j8(G.E.p,!1))};function N(e){h1.call(this);
this.Mz=e;this.m=K.L("div","");this.Cg=[];this.fI=null;this.adi=[]}N.prototype=new h1;N.prototype.gj=function(e){};
N.prototype.Kw=function(){return!1};N.prototype.Av=function(e,Z){};N.prototype.ZP=function(e,Z){};N.prototype.Jv=function(e){};
N.prototype.f=function(e,Z,F,b,_,d){var S=[],U=this.Cg,r=0,q=ff.eW["s"+this.Mz];q?q(e,S,d):this.Yg(e,S,d);
for(var l=0;l<U.length;l++)if(!(U[l]instanceof dB))U[l].f(S[r++]);if(e.RndS)this.fI=e.RndS.v};N.prototype.U=function(){var e=ff.wy(this.Mz),Z=[],F=this.Cg,b=0;
for(var l=0;l<F.length;l++)if(!(F[l]instanceof dB))Z[b++]=F[l].U();var _=ff.eW["g"+this.Mz];_?_(e,Z):this.Ff(e,Z);
if(e.RndS)e.RndS.v=this.fI;return e};N.prototype.b8=function(e){};N.prototype.r_=function(e){if(e&&e.target instanceof cd){this.fI=Math.floor(Math.random()*4294967295)}var Z=this.adi;
for(var l=0;l<Z.length;l+=2){var F=this.Cg[Z[l]],b=this.Cg[Z[l+1]],_=F.U(),d=b.U();if(e.target==F)b.f(Math.max(_,d));
else F.f(Math.min(_,d))}this.$(new j8(G.E.p))};N.prototype.n=function(){for(var l=0;l<this.Cg.length;
l++)this.Cg[l].n();var e=this.alI;if(e)e.n()};N.prototype.c8=function(e){K.j_(this.m,"form");var Z=this.Cg;
for(var l=0;l<Z.length;l++){var F=Z[l];F.parent=this;F.h(G.E.p,this.r_,this);this.m.appendChild(F.m);
if(F instanceof c7&&Z[l+1]instanceof jQ)continue;if(e&&e.indexOf(l)!=-1)K.pj(this.m);else K.MV(this.m)}var b=ff.wy(this.Mz);
if(b.RndS){var _=this.alI=new cd([25,1,2],null,null,!0);this.m.appendChild(_.m);_.h("click",this.r_,this)}};
N.prototype.rm=function(){return!1};N.prototype.NU=function(e,Z,F,b,_){};N.prototype.SE=function(e,Z,F,b,_){};
N.prototype.UD=function(e,Z,F,b,_){};N.prototype.Ff=function(e,Z){};N.prototype.Yg=function(e,Z){};N.prototype.Q3=function(e){var Z=e.target.U().indexOf(!0)!=-1,F=new j8(G.E.W,!0);
F.ma=!0;F.data={d:Z?G.B.LN:G.B._k,k:i.Dz};this.$(F);F=new j8(G.E.u,!0);F.k=i.Dz;F.ma=!0;F.data={d:"supertool",k:Z?this:null};
this.$(F)};N.a8k=function(e){e.rm=function(){return!0};e.NU=function(Z,F,b,_,d){this.MU=!0;this.a3O(Z,d)};
e.SE=function(Z,F,b,_,d){if(!this.MU)return;this.a3O(Z,d)};e.UD=function(Z,F,b,_,d){this.MU=!1};e.a3O=function(Z,F){var b=Z.t.mG(F.x,F.y);
function _(d,S){return Math.round(Math.max(0,Math.min(100,100*d/S)))}this.Cg[2].f(_(b.x,Z.w));this.Cg[3].f(_(b.y,Z._));
this.r_()}};N.Bokh=function(){N.call(this,"Bokh");this.Cg=[new dE("Depth Map",["A","b"]),new fZ("Focal Distance",0,255),new c7([4,11]),new dE([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new fZ([12,56],0,100),new fZ([12,15],0,360),new fZ([12,2],0,100),new fZ([4,13],0,255),new fZ([24,6],0,100),new jv([12,58],[[12,59,0],[12,59,1]]),new c7([12,60])];
this.c8([4,6])};N.Bokh.prototype=new N;N.Bokh.prototype.Yg=function(e,Z,F){var b=[[22,5,0],[6,5,3],[6,2]],_=e.BkDi.v.BtDi,d=e.BkDc,S=0;
if(_=="BeIn")S=0;else if(_=="BeIt"&&d.v.BtDc=="BeCt")S=1;else if(_=="BeIt"&&d.v.BtDc=="BeCm")S=2;else S=3+d.v;
for(var l=0;l<F[1].length;l++)b.push(F[1][l].name);this.Cg[0].mj(b,[3]);Z[0]=S;Z[1]=e.BkDp.v;Z[2]=e.BkDs.v;
Z[3]=parseInt(e.BkIs.v.BtIs.slice(3))-3;Z[4]=e.BkIb.v;Z[5]=e.BkIr.v;Z[6]=e.BkSb.v;Z[7]=e.BkSt.v;Z[8]=e.BkNa.v;
Z[9]=e.BkNt.v.BtNt=="BeNu"?0:1;Z[10]=e.BkNm.v};N.Bokh.prototype.Ff=function(e,Z){var F;if(Z[0]==0){F="BeIn";
delete e.BkDc}else if(Z[0]<3){F="BeIt";e.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][Z[0]-1]}}}else{F="BeIa";
e.BkDc={t:"long",v:Z[0]-3}}e.BkDi.v.BtDi=F;e.BkDp.v=Z[1];e.BkDs.v=Z[2];e.BkIs.v.BtIs="BeS"+(3+Z[3]);
e.BkIb.v=Z[4];e.BkIr.v=Z[5];e.BkSb.v=Z[6];e.BkSt.v=Z[7];e.BkNa.v=Z[8];e.BkNt.v.BtNt=["BeNu","BeNg"][Z[9]];
e.BkNm.v=Z[10]};N.oilPaint=function(){N.call(this,"oilPaint");this.Cg=[new fZ([12,56],.1,10,"px",!0),new fZ("Cleanliness",0,10,"px",!0),new fZ([12,38],.1,10,null,!0),new fZ("Bristle Detail",0,10,null,!0),new c7("Lighting"),new fZ("Shine",0,10,null,!0),new hD([12,15])];
this.c8()};N.oilPaint.prototype=new N;N.oilPaint.prototype.Yg=function(e,Z){var F="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<F.length;l++)Z[l]=e[F[l]].v;Z[6]=[e.LghD.v]};N.oilPaint.prototype.Ff=function(e,Z){var F="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<F.length;l++)e[F[l]].v=Z[l];e.LghD.v=Z[6][0]};N.TrcC=function(){N.call(this,"TrcC");this.Cg=[new fZ("Level",0,255),new jv([12,69],[[19,4,1],[19,4,0]])];
this.c8()};N.TrcC.prototype=new N;N.TrcC.prototype.Yg=function(e,Z){Z[0]=e.Lvl.v;Z[1]=["Lwr","Upr"].indexOf(e.Edg.v.CntE)};
N.TrcC.prototype.Ff=function(e,Z){e.Lvl.v=Z[0];e.Edg.v.CntE=["Lwr","Upr"][Z[1]]};N["Dfs "]=function(){N.call(this,"Dfs ");
this.Cg=[new jv([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.c8()};N["Dfs "].prototype=new N;
N["Dfs "].prototype.Yg=function(e,Z){Z[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(e.Md.v.DfsM)};
N["Dfs "].prototype.Ff=function(e,Z){e.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][Z[0]]};N.Embs=function(){N.call(this,"Embs");
this.Cg=[new hD([12,15]),new fZ([12,42],1,100,"px"),new fZ([12,57],1,500,"%")];this.c8()};N.Embs.prototype=new N;
N.Embs.prototype.Yg=function(e,Z){Z[0]=[e.Angl.v];Z[1]=e.Hght.v;Z[2]=e.Amnt.v};N.Embs.prototype.Ff=function(e,Z){e.Angl.v=Z[0][0];
e.Hght.v=Z[1];e.Amnt.v=Z[2]};N["Wnd "]=function(){N.call(this,"Wnd ");this.Cg=[new jv([12,32],["Wind","Blast","Stagger"]),new jv([12,33],["From the Right","From the Left"])];
this.c8()};N["Wnd "].prototype=new N;N["Wnd "].prototype.Yg=function(e,Z){Z[0]=["Wnd","Blst","Stgr"].indexOf(e.WndM.v.WndM);
Z[1]=["Left","Rght"].indexOf(e.Drct.v.Drct)};N["Wnd "].prototype.Ff=function(e,Z){e.WndM.v.WndM=["Wnd","Blst","Stgr"][Z[0]];
e.Drct.v.Drct=["Left","Rght"][Z[1]]};N.denoise=function(){N.call(this,"denoise");this.Cg=[new fZ([12,64],0,10),new fZ([12,65],0,100,"%")];
this.c8()};N.denoise.prototype=new N;N.denoise.prototype.Yg=function(e,Z){var F=e.channelDenoise.v[0].v;
Z[0]=F.Amnt.v;Z[1]=F.EdgF.v};N.denoise.prototype.Ff=function(e,Z){var F=e.channelDenoise.v[0].v;F.Amnt.v=Z[0];
F.EdgF.v=Z[1]};N.lightFilterGradient=function(){N.call(this,"lightFilterGradient");this.Cg=[new fZ([24,3,1],0,100,"px",1,!0),new fZ([12,38],0,200,"%"),new c7([4,11]),new fZ("High",0,100,"%"),new fZ("Medium",0,100,"%"),new fZ("Low",0,100,"%")];
this.c8()};N.lightFilterGradient.prototype=new N;N.lightFilterGradient.prototype.Yg=function(e,Z){Z[0]=e.blur.v;
Z[1]=e.textureScale.v*100;Z[2]=e.Scl.v==-1;var F=e.Dtl.v;Z[3]=F[0].v*100;Z[4]=F[1].v*100;Z[5]=F[2].v*100};
N.lightFilterGradient.prototype.Ff=function(e,Z){e.blur.v=Z[0];e.textureScale.v=Z[1]/100;e.Scl.v=Z[2]?-1:1;
var F=e.Dtl.v;F[0].v=Z[3]/100;F[1].v=Z[4]/100;F[2].v=Z[5]/100};N.Fbrs=function(){N.call(this,"Fbrs");
this.Cg=[new fZ("Variance",1,64),new fZ([12,64],1,64)];this.c8()};N.Fbrs.prototype=new N;N.Fbrs.prototype.Yg=function(e,Z){Z[0]=e.Vrnc.v;
Z[1]=e.Strg.v};N.Fbrs.prototype.Ff=function(e,Z){e.Vrnc.v=Z[0];e.Strg.v=Z[1]};N.LnsF=function(){N.call(this,"LnsF");
this.Cg=[new fZ([12,2],10,300,"%"),new jv([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fZ("Position X",0,100,"%"),new fZ("Position Y",0,100,"%")];
this.c8()};N.LnsF.prototype=new N;N.LnsF.prototype.Yg=function(e,Z){Z[0]=e.Brgh.v;Z[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(e.Lns.v.Lns);
var F=e.FlrC.v;Z[2]=Math.round(F.Hrzn.v*100);Z[3]=Math.round(F.Vrtc.v*100)};N.LnsF.prototype.Ff=function(e,Z){e.Brgh.v=Z[0];
e.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][Z[1]];var F=e.FlrC.v;F.Hrzn.v=Z[2]/100;F.Vrtc.v=Z[3]/100};N.a8k(N.LnsF.prototype);
N.blendOptions=function(){N.call(this,"blendOptions");this.Cg.push(new dE([12,19,0],ae.Bj,!1,ae.aH));
this.Cg.push(new fZ([12,0],0,100,"%"));this.c8()};N.blendOptions.prototype=new N;N.blendOptions.prototype.Yg=function(e,Z){Z[0]=ae.KU.indexOf(e.Md.v.BlnM);
Z[1]=e.Opct.v.val};N.blendOptions.prototype.Ff=function(e,Z){e.Md.v.BlnM=ae.KU[Z[0]];e.Opct.v.val=Z[1]};
N.LnCr=function(){N.call(this,"LnCr");this.Cg=[new fZ([12,57],-100,100),new fZ([12,38],10,150,"%")];
this.c8()};N.LnCr.prototype=new N;N.LnCr.prototype.Yg=function(e,Z){Z[0]=e.LnIa.v;Z[1]=e.LnSi.v};N.LnCr.prototype.Ff=function(e,Z){e.LnIa.v=Z[0];
e.LnSi.v=Z[1]};N.adaptCorrect=function(){N.call(this,"adaptCorrect");var e=e_;this.Cg=[new dB([19,6,0]),new e([12,57],0,100,"%"),new e("Tone",0,100,"%"),new e([12,56],0,200,"px"),new dB([19,6,2]),new e([12,57],0,100,"%"),new e("Tone",0,100,"%"),new e([12,56],0,200,"px"),new dB([3]),new e([13,0],-100,100)];
this.c8([3,7])};N.adaptCorrect.prototype=new N;N.adaptCorrect.prototype.Yg=function(e,Z){var F=e.sdwM.v;
Z[0]=F.Amnt.v.val;Z[1]=F.Wdth.v.val;Z[2]=F.Rds.v;var F=e.hglM.v;Z[3]=F.Amnt.v.val;Z[4]=F.Wdth.v.val;
Z[5]=F.Rds.v;Z[6]=e.ClrC.v};N.adaptCorrect.prototype.Ff=function(e,Z){var F=e.sdwM.v;F.Amnt.v.val=Z[0];
F.Wdth.v.val=Z[1];F.Rds.v=Z[2];var F=e.hglM.v;F.Amnt.v.val=Z[3];F.Wdth.v.val=Z[4];F.Rds.v=Z[5];e.ClrC.v=Z[6]};
N.Flam=function(){N.call(this,"Flam");var e=this.Cg=[new dE([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fZ([12,80,0],20,1e3,"px"),new c7("Randomize Length"),new fZ([12,41],5,600,"px"),new fZ([12,15],0,360,"\xB0"),new fZ("Interval",10,200,"px"),new c7("Adapt Interval for Loops"),new jQ(!1),new dE([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fZ("Turbulent",0,100),new fZ("Jag",0,100),new fZ([12,0],0,100),new fZ("Lines",2,30),new fZ("Bottom",0,100),new dE([12,22],["Normal","Violent","Flat"]),new dE([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new c7("Randomize Shape"),new fZ("Random Seed",0,100)];
this.c8();var Z=this.m;K.WL(Z);var F=new jv(null,["Basic","Advanced"]);F.h(G.E.p,this.aeg,this);Z.appendChild(F.m);
K.pj(Z);var b=K.L("div"),_=K.L("div");this.a30=[b,_];Z.appendChild(b);for(var l=0;l<e.length;l++){(l<9?b:_).appendChild(e[l].m);
if(l==6)K.MV(b)}e[0].h(G.E.p,this.aiD,this);this.aiD()};N.Flam.prototype=new N;N.Flam.prototype.aiD=function(e){var Z=this.Cg,l=Z[0].U();
Z[1].c5(l!=0&&l!=5);Z[2].c5(l!=0&&l!=5);Z[4].c5(l!=0&&l!=5&&l!=1);Z[5].c5(l!=0&&l!=5);Z[6].c5(l!=0&&l!=5)};
N.Flam.prototype.aeg=function(e){var l=e.target.U(),Z=this.a30,F=this.m;F.removeChild(Z[1-l]);F.appendChild(Z[l])};
N.boxblur=function(){N.call(this,"boxblur");this.Cg=[new fZ([12,56],1,200," px")];this.c8()};N.boxblur.prototype=new N;
N.boxblur.prototype.Yg=function(e,Z){Z[0]=e.Rds.v.val};N.boxblur.prototype.Ff=function(e,Z){e.Rds.v.val=Z[0]};
N.GsnB=function(){N.call(this,"GsnB");this.Cg=[new fZ([12,56],.1,400,"px",1,!0)];this.c8()};N.GsnB.prototype=new N;
N.MtnB=function(){N.call(this,"MtnB");this.Cg=[new hD([12,15]),new fZ([12,28],1,100," px")];this.c8()};
N.MtnB.prototype=new N;N.RdlB=function(){N.call(this,"RdlB");this.Cg=[new fZ([12,57],1,100),new jv([12,36],["Spin","Zoom"]),new fZ("Position X",0,100,"%"),new fZ("Position Y",0,100,"%")];
this.c8()};N.RdlB.prototype=new N;N.RdlB.prototype.Yg=function(e,Z){Z[0]=e.Amnt.v;Z[1]=["Spn","Zm"].indexOf(e.BlrM.v.BlrM);
Z[2]=e.Cntr.v.Hrzn.v*100;Z[3]=e.Cntr.v.Vrtc.v*100};N.RdlB.prototype.Ff=function(e,Z){e.Amnt.v=Z[0];e.BlrM.v.BlrM=["Spn","Zm"][Z[1]];
e.Cntr.v.Hrzn.v=Z[2]/100;e.Cntr.v.Vrtc.v=Z[3]/100};N.a8k(N.RdlB.prototype);N.Dspl=function(){N.call(this,"Dspl");
this.Cg=[new dE([6,36,3],["a","b"]),new fZ([22,4,0],-100,100,"px"),new fZ([22,4,1],-100,100,"px"),new dE([24,18,0],[[24,18,3],[24,18,2]])];
this.c8()};N.Dspl.prototype=new N;N.Dspl.prototype.Yg=function(e,Z,F){this.au5=[];this.z0=[];var b=-1,_=F?F[0]:null;
if(_==null)_=this.aqe;else this.aqe=_;if(_)for(var l=0;l<_.length;l++){var d=_[l];this.au5.push(d.Iv.trim());
this.z0.push(d.uz);if(d.uz==e.DspF.v.pth)b=l}this.Cg[0].mj(this.au5);Z[0]=b==-1?0:b;Z[1]=e.HrzS.v;Z[2]=e.VrtS.v;
Z[3]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};N.Dspl.prototype.Ff=function(e,Z){if(this.z0.length==0)return;
e.DspF.v.pth=this.z0[Z[0]];e.HrzS.v=Z[1];e.VrtS.v=Z[2];e.UndA.v.UndA=["WrpA","RptE"][Z[3]]};N.Pnch=function(){N.call(this,"Pnch");
this.Cg=[new fZ([12,57],-100,100,"%")];this.c8()};N.Pnch.prototype=new N;N["Plr "]=function(){N.call(this,"Plr ");
this.Cg=[new jv(null,["Rect to Polar","Polar to Rect"])];this.c8()};N["Plr "].prototype=new N;N.Rple=function(){N.call(this,"Rple");
this.Cg=[new fZ([12,57],-999,999),new dE([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.c8()};N.Rple.prototype=new N;
N["Shr "]=function(){N.call(this,"Shr ");this.Cg=[new gF(!0,!0),new dE([24,18,0],[[24,18,3],[24,18,2]])];
this.c8()};N["Shr "].prototype=new N;N["Shr "].prototype.Yg=function(e,Z){var F=new jg(0,255/127,255/127,0,-2,128),b=JSON.parse(JSON.stringify(e.ShrP.v));
V.AH.A(b,F);Z[0]=b;Z[1]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};N["Shr "].prototype.Ff=function(e,Z){var F=new jg(0,255/127,255/127,0,-2,128);
F.eG();V.AH.A(Z[0],F);e.ShrP.v=Z[0];e.ShrE.v=Z[0].length-1;e.UndA.v.UndA=["WrpA","RptE"][Z[1]]};N.Sphr=function(){N.call(this,"Sphr");
this.Cg=[new fZ([12,57],-100,100),new dE([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.c8()};N.Sphr.prototype=new N;
N.Sphr.prototype.Yg=function(e,Z){Z[0]=e.Amnt.v;Z[1]=["Nrml","HrzO","VrtO"].indexOf(e.SphM.v.SphM)};
N.Sphr.prototype.Ff=function(e,Z){e.Amnt.v=Z[0];e.SphM.v.SphM=["Nrml","HrzO","VrtO"][Z[1]]};N.Dthr=function(){N.call(this,"Dthr");
this.Cg=[new dE("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.c8()};N.Dthr.prototype=new N;
N.Dthr.prototype.Yg=function(e,Z){Z[0]=e.Plte.v};N.Dthr.prototype.Ff=function(e,Z){e.Plte.v=Z[0]};N.Twrl=function(){N.call(this,"Twrl");
this.Cg=[new fZ([12,15],-999,999)];this.c8()};N.Twrl.prototype=new N;N.Wave=function(){N.call(this,"Wave");
this.adi=[1,2,3,4];this.Cg=[new fZ("Number of Generators",1,100),new e_("Min Length",1,999),new e_("Max Length",1,999),new e_("Min Ampl.",1,999),new e_("Max Ampl.",1,999),new e_("Scale X",1,100,"%"),new e_("Scale Y",1,100,"%"),new jv([12,44],["Sine","Triangle",[12,93,3]]),new dE([24,18,0],[[24,18,3],[24,18,2]]),new cY("Randomizer Seed")];
this.c8()};N.Wave.prototype=new N;N.Wave.prototype.Yg=function(e,Z){Z[0]=e.NmbG.v;Z[1]=e.WLMn.v;Z[2]=e.WLMx.v;
Z[3]=e.AmMn.v;Z[4]=e.AmMx.v;Z[5]=e.SclH.v;Z[6]=e.SclV.v;Z[7]=["WvSn","WvTr","WvSq"].indexOf(e.Wvtp.v.Wvtp);
Z[8]=["WrpA","RptE"].indexOf(e.UndA.v.UndA);Z[9]=e.RndS.v};N.Wave.prototype.Ff=function(e,Z){e.NmbG.v=Z[0];
e.WLMn.v=Z[1];e.WLMx.v=Z[2];e.AmMn.v=Z[3];e.AmMx.v=Z[4];e.SclH.v=Z[5];e.SclV.v=Z[6];e.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][Z[7]];
e.UndA.v.UndA=["WrpA","RptE"][Z[8]];var F=parseInt(Z[9]);if(isNaN(F))F=248325464;F=Math.max(0,Math.min(268435455,F));
e.RndS.v=F;this.Cg[9].f(F)};N.ZgZg=function(){N.call(this,"ZgZg");this.Cg=[new fZ([12,57],-100,100),new fZ("Ridges",0,20),new dE([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.c8()};N.ZgZg.prototype=new N;N.surfaceBlur=function(){N.call(this,"surfaceBlur");this.Cg=[new fZ([12,56],1,200," px"),new fZ([4,13],1,255," px")];
this.c8()};N.surfaceBlur.prototype=new N;N.surfaceBlur.prototype.Yg=function(e,Z){Z[0]=e.Rds.v.val;Z[1]=e.Thsh.v};
N.surfaceBlur.prototype.Ff=function(e,Z){e.Rds.v.val=Z[0];e.Thsh.v=Z[1]};N.AdNs=function(){N.call(this,"AdNs");
this.Cg=[new fZ([12,57],0,200," %"),new dE([12,58],[[12,59,1],[12,59,0]]),new c7([12,60])];this.c8()};
N.AdNs.prototype=new N;N.DstS=function(){N.call(this,"DstS");this.Cg=[new fZ([12,56],1,200," px"),new fZ([4,13],1,255," px")];
this.c8()};N.DstS.prototype=new N;N["Mdn "]=function(){N.call(this,"Mdn ");this.Cg=[new fZ([12,56],1,200," px")];
this.c8()};N["Mdn "].prototype=new N;N["Mdn "].prototype.Yg=function(e,Z){Z[0]=e.Rds.v.val};N["Mdn "].prototype.Ff=function(e,Z){e.Rds.v.val=Z[0]};
N.ClrH=function(){N.call(this,"ClrH");this.Cg=[new fZ([12,56],4,100," px")];for(var l=1;l<4;l++)this.Cg.push(new fZ("Angle "+l,0,90," \xB0"));
this.c8()};N.ClrH.prototype=new N;N.ClrH.prototype.Yg=function(e,Z){Z[0]=e.Rds.v;for(var l=1;l<4;l++)Z[l]=e["Ang"+l].v};
N.ClrH.prototype.Ff=function(e,Z){e.Rds.v=Z[0];for(var l=1;l<4;l++)e["Ang"+l].v=Z[l]};N.ClrH.prototype.n=function(){var e=this.Cg;
e[0].n();for(var l=1;l<4;l++)e[l].cc(gA.get([12,15])+" "+l)};N.Crst=function(){N.call(this,"Crst");this.Cg=[new fZ([12,61],3,100," px")];
this.c8()};N.Crst.prototype=new N;N.Crst.prototype.Yg=function(e,Z){Z[0]=e.ClSz.v};N.Crst.prototype.Ff=function(e,Z){e.ClSz.v=Z[0]};
N.Mztn=function(){N.call(this,"Mztn");this.Cg.push(new dE([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.z0="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.c8()};N.Mztn.prototype=new N;
N.Mztn.prototype.Yg=function(e,Z){Z[0]=this.z0.indexOf(e.MztT.v.MztT)};N.Mztn.prototype.Ff=function(e,Z){e.MztT.v.MztT=this.z0[Z[0]]};
N["Msc "]=function(){N.call(this,"Msc ");this.Cg=[new fZ([12,61],2,200," px")];this.c8()};N["Msc "].prototype=new N;
N["Msc "].prototype.Yg=function(e,Z){Z[0]=e.ClSz.v.val};N["Msc "].prototype.Ff=function(e,Z){e.ClSz.v.val=Z[0]};
N.Pntl=function(){N.call(this,"Pntl");this.Cg=[new fZ([12,61],3,100," px")];this.c8()};N.Pntl.prototype=new N;
N.Pntl.prototype.Yg=function(e,Z){Z[0]=e.ClSz.v};N.Pntl.prototype.Ff=function(e,Z){e.ClSz.v=Z[0]};N.smartSharpen=function(){N.call(this,"smartSharpen");
this.Cg=[new fZ([12,57],1,200,"%"),new fZ([12,56],0,200,"px",1,!0)];this.c8()};N.smartSharpen.prototype=new N;
N.smartSharpen.prototype.Yg=function(e,Z){Z[0]=e.Amnt.v.val;Z[1]=e.Rds.v.val};N.smartSharpen.prototype.Ff=function(e,Z){e.Amnt.v.val=Z[0];
e.Rds.v.val=Z[1]};N.UnsM=function(){N.call(this,"UnsM");this.Cg=[new fZ([12,57],1,200," %"),new fZ([12,56],.1,400,"px",1,!0),new fZ([4,13],0,255," ")];
this.c8()};N.UnsM.prototype=new N;N.HghP=function(){N.call(this,"HghP");this.Cg=[new fZ([12,56],.1,400,"px",1,!0)];
this.c8()};N.HghP.prototype=new N;N.HsbP=function(){N.call(this,"HsbP");this.Cg=[new jv("Input",["RGB","HSB","HSL"]),new jv("Output",["RGB","HSB","HSL"])];
this.c8()};N.HsbP.prototype=new N;N["Mxm "]=function(){N.call(this,"Mxm ");this.Cg=[new fZ([12,56],.1,200," px",1,!0),new dE([12,76,1],[[12,93,3],"Circle"])];
this.c8()};N["Mxm "].prototype=new N;N["Mnm "]=function(){N.call(this,"Mnm ");this.Cg=[new fZ([12,56],.1,200," px",1,!0),new dE([12,76,1],[[12,93,3],"Circle"])];
this.c8()};N["Mnm "].prototype=new N;N.Ofst=function(){N.call(this,"Ofst");this.Cg=[new fZ([22,4,0],-1024,1024," px"),new fZ([22,4,1],-1024,1024," px"),new dE([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.c8()};N.Ofst.prototype=new N;N.Rept=function(){N.call(this,"Rept");this.Cg=[new e_([12,38],1,300," %"),new e_("Row Shift",-50,50," %"),new e_("Space X",-99,200," %"),new e_("Space Y",-99,200," %"),new c7([4,16,2]),new hD([12,15])];
this.c8()};N.Rept.prototype=new N;N.Rept.prototype.Yg=function(e,Z){Z[0]=e.Scl.v.val;Z[1]=e.Rsft.v.val;
Z[2]=e.SpcX.v.val;Z[3]=e.SpcY.v.val;Z[4]=e.SpcC.v;Z[5]=[e.Angl.v]};N.Rept.prototype.Ff=function(e,Z){e.Scl.v.val=Z[0];
e.Rsft.v.val=Z[1];e.SpcX.v.val=Z[2];e.SpcY.v.val=Z[3];e.SpcC.v=Z[4];e.Angl.v=Z[5][0];return e};N.Ctoa=function(){N.call(this,"Ctoa");
this.Cg=[new dB([13,0]),new jQ(!0),new fZ(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fZ(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.c8()};N.Ctoa.prototype=new N;N.Ctoa.prototype.Yg=function(e,Z){Z[0]=e.Clr.v;Z[1]=e.Trsp.v.val;Z[2]=e.Opct.v.val};
N.Ctoa.prototype.Ff=function(e,Z){e.Clr.v=Z[0];e.Trsp.v.val=Z[1];e.Opct.v.val=Z[2]};N.LqFy=function(){N.call(this,"LqFy");
this.ND=!1;this.CJ=!1;this.sz=null;this.ait=null;this.k=0;this.q={Qc:[[{k:{id:0,name:[24,1,0,1,0],gW:"liq/smudge"}}],[{k:{id:1,name:[24,1,0,1,1],gW:"liq/reconstruct"}}],[{k:{id:2,name:[24,1,0,1,2],gW:"liq/smooth"}}],[{k:{id:3,name:[24,1,0,1,3],gW:"liq/twirl"}}],[{k:{id:4,name:[24,1,0,1,4],gW:"liq/shrink"}}],[{k:{id:5,name:[24,1,0,1,5],gW:"liq/blow"}}],[{k:{id:6,name:[24,1,0,1,6],gW:"liq/pleft"}}],[{k:{id:7,name:"Hand",gW:"tools/hand"}}],[{k:{id:8,name:"Zoom In",gW:"zoomIn"}}],[{k:{id:9,name:"Zoom Out",gW:"zoomOut"}}]],keys:[]};
this.on=new hE(this.q,!1);this.on.NH(0);this.on.h(G.E.W,this.a63,this);this.hc=b6.mY();this.CB=null;
this.Km=[];this.QG=-1;this.P9=null;this.aqN=null;this.f5=null;this.zR=null;this.Lf=null;var e=K.L("div","flexrow");
this.wP=e;this.m.appendChild(e);e.appendChild(this.on.m);this.view=new hH(!0);this.view.Av(100,100);
this.view.h("mousedown",this.s8,this);this.view.h("mousemove",this.Mn,this);this.view.h("mouseup",this.fQ,this);
this.view.h("zoom",this.fC,this);e.appendChild(this.view.m);var Z=K.L("div","form");e.appendChild(Z);
this.nE=Z;Z.style.width="230px";this.rc=[new fZ([12,14,0],0,1e3,null,!1,!0),new fZ([12,74],0,100,null,!1,!1),new fZ([12,84],0,100,null,!1,!1),new c7([12,46]),new fZ([12,0],0,100,null,!1,!1),new c7([24,18,5])];
var F=this.hc.Brsh.v;F.Dmtr.v.val=100;var b=[100,50,100,!1,100,!0];for(var l=0;l<this.rc.length;l++){var _=this.rc[l];
_.f(b[l]);if(l==4)_.aK();_.h(G.E.p,this.anv,this);Z.appendChild(_.m)}var d=this.a8G=new cd([1,12,2],!0,null,!0);
d.h("click",this.XZ,this);Z.appendChild(d.m);this.atg=this.ib.bind(this);this.No=new h1;this.No.m=K.L("div","floatcont");
this.iA=new cd("Menu",!1,null,!0);this.iA.h("click",this.a3g,this);var S=this.iA.m;S.setAttribute("style","position:absolute; right:13px; top:47px")};
N.LqFy.prototype=new N;N.LqFy.prototype.Kw=function(){return!0};N.LqFy.prototype.gj=function(e){this.nE.appendChild(e)};
N.LqFy.prototype.a3g=function(e){var Z=this.iA.m.getBoundingClientRect();this.No.m.appendChild(this.nE);
var F=new j8(G.E.W,!0);F.data={d:G.B.f6,Gw:this.No,x:Z.right+Z.width-290,y:Z.top+Z.height};this.$(F)};
N.LqFy.prototype.b8=function(e){this.ND=e.j(ex.sW);var Z=i.Aj.Me(this.hc,e);if(Z!=null){this.hc=Z;this.fC();
this.rc[0].f(Z.Brsh.v.Dmtr.v.val)}else if(e.j(ex.Nh)&&e.j(ex.vO)){var F=this.Km;if(e.j(ex.Ng)){if(this.QG+1<F.length)this.QG++}else if(this.QG>0)this.QG--;
this.CB.map=F[this.QG].slice(0);this.qz(null)}else this.view.b8(e)};N.LqFy.prototype.a63=function(e){if(e.data.d==G.B.LN){var Z=this.k=e.data.k;
this.on.NH(this.k);this.view.b8(Z>6?hH.a6a(Z-7):new ex)}};N.LqFy.prototype.anv=function(e){var Z=e.currentTarget,l=this.rc.indexOf(Z),F=this.hc.Brsh.v;
if(l==0){F.Dmtr.v.val=Z.U();this.fC()}this.rc[4].c5(this.rc[3].U());if(l>2)this.qz(null)};N.LqFy.prototype.UT=function(){var e=this.Km;
this.QG++;e[this.QG]=this.CB.map.slice(0);while(e.length>this.QG+1)e.pop();while(e.length>50){e=e.slice(1);
this.QG--}};N.LqFy.prototype.s8=function(e){this.sz=this.view.SF();this.ait=new bI(0,0);this.CJ=!0;window.requestAnimationFrame(this.atg)};
N.LqFy.prototype.Mn=function(e){var Z=this.view.SF(),F=new bI(Z.x-this.sz.x,Z.y-this.sz.y);if(this.k==0||this.k==6)this.a0p(F);
this.sz=Z};N.LqFy.prototype.fQ=function(e){this.UT();this.CJ=!1};N.LqFy.prototype.ib=function(e){if(this.k!=0&&this.k!=6)this.a0p(new bI(0,0));
if(this.CJ)window.requestAnimationFrame(this.atg)};N.LqFy.prototype.a0p=function(e){var Z=this.CB,F=Z.bo/this.P9.w,b=this.sz,_=this.hc.Brsh.v,d=_.Dmtr.v.val,S=Date.now(),U=Z.bo,r=Z.zA,q=Math.sqrt(e.x*e.x+e.y*e.y),w=Math.max(1,Math.ceil(q/2)),X=e.x/w,Q=e.y/w,c=b.clone(),u=this.k,n=this.rc[1].U()/100,k=this.rc[2].U()/100,B=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],o=B[u*2],T=B[u*2+1],z=(1-n)*o+n*T,W=d*F/2;
for(var l=0;l<w;l++){var $=[];c.x+=X;c.y+=Q;V.xI.acx(Z.map,U,r,u,c.x*F,c.y*F,W,n,k,X*F,Q*F,$,this.ND);
V.xI.ahn(U,r,Z.map,$,2*z*k)}var R=new e3(0,0,U,r),P=new e3(b.x*F,b.y*F,0,0);P.qN(d*F*.5,d*F*.5);var H=P.clone();
H.offset(e.x*F,e.y*F);P=P.Us(H);var y=new e3(P.x/F,P.y/F,P.w/F,P._/F);y=V.H.Uu(y).QP(this.P9);this.rc[5].f(!0);
this.qz(y)};N.LqFy.prototype.fC=function(){var e=fR.Y8(this.hc,null,this.view.ox().e);this.view.ER(e)};
N.LqFy.prototype.f=function(e,Z,F,b,_){F=F.clone();if(Z==null)return;if(!b.Tn(F)){var d=F.Us(b),S=V.J(d.Z()*4);
V.Rf(Z,F,S,d);Z=S;F=d;var U=V.J(d.Z()*4);V.Rf(_,b,U,d);_=U}F.x=F.y=0;this.f5=Z;this.aqN=_;this.Lf=Z.slice(0);
this.zR=Z.slice(0);this.P9=F;this.CB=eS.qj(new Uint8Array(e.LqMe.v).buffer);var r=F.w,q=F._;if(this.CB.bo/r<.22){this.CB={bo:Math.floor(r/4),zA:Math.floor(q/4)};
this.CB.map=new Float32Array(this.CB.bo*this.CB.zA*2)}this.Km=[];this.QG=-1;this.UT();this.qz(null);
this.view.Rj();this.fC()};N.LqFy.prototype.U=function(){var e=ff.wy("LqFy"),Z=new Uint8Array(eS.Gf(this.CB)),F=[];
for(var l=0;l<Z.length;l++)F.push(Z[l]);e.LqMe.v=F;return e};N.LqFy.prototype.Av=function(e,Z){this.on.Av(e,Z);
var F=this.iA.m,b=this.nE;this.wP.appendChild(b);this.wP.appendChild(F);if(e>450&&e-Z>200){b.style.marginLeft="1em";
this.wP.removeChild(F);this.view.Av(e-238-45,Z)}else{b.style.marginLeft="";this.wP.removeChild(b);this.view.Av(e-40,Z)}};
N.LqFy.prototype.n=function(){this.on.n();this.a8G.n();for(var l=0;l<this.rc.length;l++)this.rc[l].n()};
N.LqFy.prototype.XZ=function(){this.CB.map.fill(0);this.UT();this.qz(null)};N.LqFy.prototype.qz=function(e){var Z=this.P9,F=this.f5,b=this.Lf,_=this.CB;
if(this.rc[5].U())V.xI.x_(F,this.zR,Z.w,Z._,e,_.map,_.bo,_.zA,0);else this.zR.set(F);if(this.rc[3].MK()){V.Rf(this.aqN,Z,b,Z,e?e:Z);
V.a.sB("norm",this.zR,Z,b,Z,e?e:Z,this.rc[4].U()/100)}else V.Fk(this.zR,b);this.view.f([{V4:Z,data:b.buffer}])};
N.GEfc=function(){N.call(this,"GEfc");this.Dn=0;this.BO=0;this.f5=null;this.Lf=null;this.P9=null;this.Pk=null;
this.L3=null;this.MC=0;var e=K.L("div","flexrow");this.wP=e;this.m.appendChild(e);this.view=new hH(null);
this.view.Av(100,100);e.appendChild(this.view.m);this.o6="";this.rT=270;var Z=this.jk=K.L("div","form scrollable");
e.appendChild(Z);Z.setAttribute("style","width:"+this.rT+"px;  margin-left:10px");var F=this.Ec=K.L("div","form");
e.appendChild(F);F.setAttribute("style","width:230px;  margin-left:1em");this.zj={};for(var b in bU.names){var _=new N.GEfc._p(b);
_.parent=this;this.zj[b]=_;_.h(G.E.p,this.abG,this)}this.Qq=!0;this.iA=new cd("Menu",null,null,!0);this.iA.h("click",this.a7B,this);
e.appendChild(this.iA.m);this.tQ=new cd(">>",null,null,!0);this.tQ.h("click",this.afR,this);F.appendChild(this.tQ.m);
this.mF=K.L("div");this.mF.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
F.appendChild(this.mF);this.V8=K.L("div");this.V8.style.minHeight="14em";this.V8.style.marginBottom="1em";
F.appendChild(this.V8);this.L$=K.L("div","lpbody scrollable");this.vW=K.L("div","lpfoot");F.appendChild(this.L$);
F.appendChild(this.vW);this.h("click",this.a2t,this);this.Uy=[];cm.tM([[5,3],[5,4]],this.Uy,this.vW,this.dB.bind(this))};
N.GEfc.prototype=new N;N.GEfc.prototype.Kw=function(){return!0};N.GEfc.prototype.gj=function(e){this.mF.appendChild(e)};
N.GEfc.prototype.ZP=function(e,Z){this.Pk=e};N.GEfc.prototype.afR=function(e){var Z=this.jk.style.display!="none";
this.jk.style.display=Z?"none":"";this.tQ.cc(Z?"<<":">>");this.Av()};N.GEfc.prototype.a7B=function(e){this.Qq=!this.Qq;
this.Av()};N.GEfc.prototype.Av=function(e,Z){var F=this.jk.style.display!="none";if(e!=null){this.Dn=e;
this.BO=Z;if(e<1e3&&F||e>=1e3&&!F){this.afR();F=!F}this.Qq=e>600}else{e=this.Dn;Z=this.BO}var b=this.Qq?240+(F?this.rT+10:0):0;
if(K.RY(this.Ec)&&!this.Qq){this.wP.removeChild(this.jk);this.wP.removeChild(this.Ec)}if(!K.RY(this.Ec)&&this.Qq){this.wP.appendChild(this.jk);
this.wP.appendChild(this.Ec)}this.jk.style.height=Z+"px";this.view.Av(e-b,Z);this.L$.style.height=Z-this.V8.getBoundingClientRect().height-96+"px";
this.iA.m.setAttribute("style","position:absolute; top:46px;  right:"+(b+16)+"px")};N.GEfc.prototype.ac5=function(){var e=fg.cK.get("img/beach",!0)[0],Z=e.V4,F=this.jk,b=Math.floor(K.F()*(this.rT-40)/3),_=~~(b*.7),d=new e3(0,0,b,_),S=V.J(b*_*4),U=S.slice(0),r=Math.round(10*K.F()),q=new ImageData(new Uint8ClampedArray(U.buffer),b,_);
V.Rf(new Uint8Array(e.data),Z,S,new e3(Math.round((Z.w-b)/2),Math.round((Z._-_)/2),b,_));var w=K.L("canvas"),X=w.getContext("2d");
w.width=b;w.height=_+Math.round(r*1.5);X.font=r+"px sans-serif";this.GV={};var Q=this.ast.bind(this);
for(var l=0;l<bU.xh.length;l++){var c=bU.xh[l],u=K.L("div");F.appendChild(u);u.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
u.textContent=gA.get(c);for(var n in bU.names){var k=bU.names[n];if(k[0]!=l)continue;bU.Gm(n,{rect:d,buffer:S},bU.wy(n),{o:0,z:0,S:0},{o:255,z:255,S:255},{rect:d,buffer:U},{});
X.fillStyle="black";X.fillRect(0,0,500,500);X.putImageData(q,0,0);var B=gA.get(k[1]);X.fillStyle="white";
X.fillText(B,(b-X.measureText(B).width)/2,_+Math.round(r*1.1));var o=K.L("div");F.appendChild(o);o.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
o.addEventListener("click",Q,!1);var u=K.L("img");o.appendChild(u);u.setAttribute("src",w.toDataURL());
u.setAttribute("style","width:"+b/K.F()+"px; margin-bottom:0px;");this.GV[n]=o}}};N.GEfc.prototype.ast=function(e){var Z;
for(var F in this.GV)if(this.GV[F]==e.currentTarget)this.o6=F;this.abG()};N.GEfc.prototype.dB=function(e){var Z=cm.Xy(this.Uy,e),F=this.L3.GEfs.v,b=F[this.MC].v;
if(Z==0){F.push(JSON.parse(JSON.stringify(F[this.MC])));this.MC=F.length-1}else if(F.length>1){F.splice(this.MC,1);
if(this.MC==F.length)this.MC--}this.c_();this.qz()};N.GEfc.prototype.abG=function(e){var Z=this.o6,F;
if(e==null)F=bU.wy(Z);else F=this.zj[Z].U();this.L3.GEfs.v[this.MC].v=F;this.c_();this.qz()};N.GEfc.prototype.f=function(e,Z,F,b,_){if(this.GV==null)this.ac5();
e=this.L3=JSON.parse(JSON.stringify(e));if(e.GEfs==null)e=this.L3={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:e}]}};
var d=e.GEfs.v;for(var l=0;l<d.length;l++)if(d[l].v.GELv==null)d[l].v.GELv={t:"bool",v:!0};this.MC=d.length-1;
this.c_();F=F.clone();if(Z==null)return;if(!b.Tn(F)&&bU.jC(e).x!=0){var S=F.Us(b),U=V.J(S.Z()*4);V.Rf(Z,F,U,S);
Z=U;F=S}F.x=F.y=0;this.f5=Z;this.Lf=Z.slice(0);this.P9=F;this.qz();this.view.Rj()};N.GEfc.prototype.a2t=function(e){var Z=e.data,l=Z.wD,F=this.L3.GEfs.v;
if(Z.ST){F[l].v.GELv.v=!F[l].v.GELv.v;this.qz()}else this.MC=l;this.c_()};N.GEfc.prototype.c_=function(){var e=this.L3.GEfs.v,Z=e[this.MC].v,F=Z.GEfk.v.GEft,b=this.V8;
if(bU.names[F]==null){alert("Unsupported gallery filter");K.WL(b)}else{this.o6=F;for(var _ in this.GV)K.vB(this.GV[_],"selected");
K.j_(this.GV[F],"selected");var d=this.zj[F];d.f(Z);if(b.firstChild!=d.m){K.WL(b);b.appendChild(d.m)}}var S=[];
for(var l=0;l<e.length;l++){var U=e[l].v,r=bU.names[U.GEfk.v.GEft],q=new iq(l,!0,!0,null,r?r[1]:"Filter",l==this.MC,U.GELv.v);
q.parent=this;S.push(q.m)}K.WL(this.L$);S.reverse();for(var l=0;l<S.length;l++)this.L$.appendChild(S[l]);
this.Av()};N.GEfc.prototype.U=function(){return JSON.parse(JSON.stringify(this.L3))};N.GEfc.prototype.qz=function(e){var Z=this.P9,F=this.f5,b=this.Lf,_=this.o6,d=this.L3,S=this.Pk;
function U(r){return{o:r>>>16,z:r>>>8&255,S:r&255}}ff.Gm("GEfc",{rect:this.P9,buffer:this.f5},d,U(S.Ly),U(S.ZE),{rect:this.P9,buffer:this.Lf},null);
this.view.f([{V4:Z,data:b.buffer}])};N.GEfc.prototype.n=function(){for(var e in this.zj)this.zj[e].n();
cm.NL(this.Uy,["lrs/newlayer","lrs/bin"])};N.GEfc._p=function(e){h1.call(this);this.BY=e;this.m=K.L("div");
this.Wl={};var Z=bU.wy(e);for(var F in Z){var b=null;if(F=="__name"||F=="classID"||F=="GEfk"||F=="GELv"||["FlRs"].indexOf(F)!=-1)continue;
else if(F=="EdgW")b=new fZ("Edge Width",1,14);else if(F=="EdgB")b=new fZ("Edge Brightness",0,e=="AccE"?50:20);
else if(F=="Smth")b=new fZ([19,3,3],1,e=="Stmp"?50:15);else if(F=="ClSz")b=new fZ([12,61],3,100);else if(F=="BrdT")b=new fZ([7,9],1,20);
else if(F=="HghS")b=new fZ([12,64],0,20);else if(F=="HlSz")b=new fZ([12,14,0],1,15);else if(F=="Cntr")b=new fZ([12,3,0],0,e=="WtrP"?100:50);
else if(F=="Shrp")b=new fZ("Sharpness",0,40);else if(F=="SprR")b=new fZ("Spray Radius",0,25);else if(F=="LgDr")b=new fZ("Light/Dark Balance",0,e=="Stmp"?50:100);
else if(F=="Drkn")b=new fZ("Darkness",1,50);else if(F=="Dstr")b=new fZ("Distortion",0,20);else if(F=="Scln")b=new fZ([12,38],50,200);
else if(F=="Rlf")b=new fZ("Relief",0,e=="Ptch"||e=="NtPr"?25:50);else if(F=="ChAm")b=new fZ("Thickness",1,7);
else if(F=="Pncl")b=new fZ([19,2,5],1,30);else if(F=="StrP")b=new fZ("Stroke Pressure",0,15);else if(F=="PprB")b=new fZ("Paper Brightness",0,50);
else if(F=="BrsS")b=new fZ("Brush Size",0,10);else if(F=="BrsD")b=new fZ("Brush Detail",0,10);else if(F=="Txtr")b=new fZ([12,67],1,3);
else if(F=="Grn")b=new fZ("Grain",0,20);else if(F=="HghA")b=new fZ("Highlight Area",0,20);else if(F=="Intn")b=new fZ("Intensity",0,10);
else if(F=="Brgh")b=new fZ("Glow Brightness",0,e=="WtrP"?100:50);else if(F=="StrS")b=new fZ("Stroke Size",1,50);
else if(F=="StDt")b=new fZ("Stroke Detail",1,3);else if(F=="Sftn")b=new fZ("Softness",0,10);else if(F=="EdgT")b=new fZ("Edge Thickness",0,10);
else if(F=="EdgI")b=new fZ("Edge Intensity",0,10);else if(F=="Pstr")b=new fZ("Posterization",0,6);else if(F=="Dfnt")b=new fZ("Definition",0,25);
else if(F=="TxtC")b=new fZ("Texture Coverage",0,50);else if(F=="ShdI")b=new fZ("Shadow Intensity",0,10);
else if(F=="DrcB")b=new fZ("Direction Balance",0,100);else if(F=="Strg")b=new fZ([12,64],1,3);else if(F=="Blnc")b=new fZ("Balance",0,10);
else if(F=="BlcI")b=new fZ("Black Intensity",0,10);else if(F=="WhtI")b=new fZ("White Intensity",0,10);
else if(F=="DrkI")b=new fZ("Dark Intensity",0,50);else if(F=="LghI")b=new fZ("Light Intensity",0,50);
else if(F=="StrW")b=new fZ("Stroke Width",3,15);else if(F=="Grns")b=new fZ("Graininess",0,e=="NtPr"?20:10);
else if(F=="GlwA")b=new fZ("Glow Amount",0,20);else if(F=="ClrA")b=new fZ("Clear Amount",0,20);else if(F=="ChrA")b=new fZ("Charcoal Area",0,20);
else if(F=="ChlA")b=new fZ("Chalk Area",0,20);else if(F=="FrgL")b=new fZ("Foreground Level",1,15);else if(F=="BckL")b=new fZ("Background Level",1,15);
else if(F=="WhtL")b=new fZ("Background Level",0,50);else if(F=="BlcL")b=new fZ("Foreground Level",0,50);
else if(F=="ImgB")b=new fZ("Image Balance",0,50);else if(F=="Dnst")b=new fZ([12,74],0,50);else if(F=="FbrL")b=new fZ("Fiber Length",3,50);
else if(F=="CrcS")b=new fZ("Crack Sapcing",2,100);else if(F=="CrcD")b=new fZ("Crack Depth",0,10);else if(F=="CrcB")b=new fZ("Crack Brightness",0,10);
else if(F=="TlSz")b=new fZ("Tile Size",2,100);else if(F=="GrtW")b=new fZ("Grout Width",1,15);else if(F=="LghG")b=new fZ("Lighten Grout",0,10);
else if(F=="SqrS")b=new fZ("Square Size",0,10);else if(F=="RplS")b=new fZ("Ripple Size",1,15);else if(F=="RplM")b=new fZ("Ripple Magnitude",0,20);
else if(F=="NmbL")b=new fZ("Number of Levels",2,8);else if(F=="EdgS")b=new fZ("Edge Simplicity",0,10);
else if(F=="EdgF")b=new fZ("Edge Fidelity",1,3);else if(F=="Sz")b=e=="NGlw"?new fZ("Glow Size",-24,24):new fZ("Brush Size",1,50);
else if(F=="Dtl")b=e=="Chrc"?new fZ("Detail",0,5):new fZ("Detail",1,15);else if(F=="StrL")b=e=="InkO"?new fZ("Stroke Length",1,50):new fZ("Stroke Length",0,20);
else if(F=="TxtT")b=new dE([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(F=="BrsT")b=new dE("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(F=="Grnt")b=new dE("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(F=="SDir")b=new dE([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(F=="ScrT")b=new dE([12,62],["Circle","Dot",[10,35]]);
else if(F=="LghD"||F=="LghP")b=new dE("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(F=="Clr")b=new jQ("Glow Color");else if(F=="InvT")b=new c7([4,11]);else console.log(F);b.h(G.E.p,this.oJ,this);
b.parent=this;this.Wl[F]=b;this.m.appendChild(b.m)}};N.GEfc._p.prototype=new h1;N.GEfc._p.prototype.oJ=function(e){this.$(new j8(G.E.p,!1))};
N.GEfc.am6="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
N.GEfc._p.prototype.f=function(e){for(var Z in this.Wl){var F;if(N.GEfc.am6.indexOf(Z)!=-1)F=e[Z].v;
else if(Z=="TxtT")F=bU.jU.indexOf(e[Z].v[Z]);else if(Z=="BrsT")F=bU._K.indexOf(e[Z].v[Z]);else if(Z=="LghD")F=bU.hS.indexOf(e[Z].v[Z]);
else if(Z=="LghP")F=bU.Qn.indexOf(e[Z].v[Z]);else if(Z=="Grnt")F=bU.Vm.indexOf(e[Z].v[Z]);else if(Z=="ScrT")F=bU.qM.indexOf(e[Z].v[Z]);
else if(Z=="SDir")F=bU.yM.indexOf(e[Z].v.StrD);this.Wl[Z].f(F)}};N.GEfc._p.prototype.U=function(){var e=bU.wy(this.BY);
for(var Z in this.Wl){var F=this.Wl[Z].U();if(N.GEfc.am6.indexOf(Z)!=-1)e[Z].v=F;else if(Z=="TxtT")e[Z].v[Z]=bU.jU[F];
else if(Z=="BrsT")e[Z].v[Z]=bU._K[F];else if(Z=="LghD")e[Z].v[Z]=bU.hS[F];else if(Z=="LghP")e[Z].v[Z]=bU.Qn[F];
else if(Z=="Grnt")e[Z].v[Z]=bU.Vm[F];else if(Z=="ScrT")e[Z].v[Z]=bU.qM[F];else if(Z=="SDir")e[Z].v.StrD=bU.yM[F]}return e};
N.GEfc._p.prototype.n=function(){for(var e in this.Wl)this.Wl[e].n()};N.blnc=function(){N.call(this);
var e=this.m;this.sm=null;this.$z=new dE([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.$z.h(G.E.p,this.qz,this);
e.appendChild(this.$z.m);this.U9=[];for(var l=0;l<3;l++){var Z=new fZ(hc.aD[l],-100,100);Z.h(G.E.p,this.r_,this);
this.U9.push(Z);e.appendChild(Z.m)}this.lf=new c7([13,4]);this.lf.h(G.E.p,this.r_,this);e.appendChild(this.lf.m)};
N.blnc.prototype=new N;N.blnc.prototype.n=function(){this.$z.n();for(var l=0;l<3;l++)this.U9[l].n();
this.lf.n()};N.blnc.prototype.f=function(e){this.sm=JSON.parse(JSON.stringify(e));this.qz()};N.blnc.prototype.U=function(e){var Z=["ShdL","MdtL","HghL"],F=this.sm[Z[this.$z.U()]].v;
for(var l=0;l<3;l++)F[l].v=this.U9[l].U();this.sm.PrsL.v=this.lf.U();return JSON.parse(JSON.stringify(this.sm))};
N.blnc.prototype.qz=function(e){var Z=["ShdL","MdtL","HghL"],F=this.sm[Z[this.$z.U()]].v;for(var l=0;
l<3;l++)this.U9[l].f(F[l].v);this.lf.f(this.sm.PrsL.v)};N.brit=function(){N.call(this,"brit");this.Cg.push(new fZ([12,2],-150,150,""));
this.Cg.push(new fZ([12,3,0],-100,100,""));this.Cg.push(new c7([12,3,1]));this.c8()};N.brit.prototype=new N;
N.brit.prototype.Yg=function(e,Z){Z[0]=e.Brgh?e.Brgh.v:0;Z[1]=e.Cntr?e.Cntr.v:0;Z[2]=e.useLegacy?e.useLegacy.v:!1};
N.brit.prototype.Ff=function(e,Z){e.Brgh.v=Z[0];e.Cntr.v=Z[1];e.useLegacy.v=Z[2]};N.curv=function(){N.call(this);
this.value=null;this.be=null;var e=this.m;this.EY=new dE([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.EY.h(G.E.p,this.Yl,this);e.appendChild(this.EY.m);this.dT=new dE(null,["Spline","Sketch"]);this.dT.h(G.E.p,this.arC,this);
e.appendChild(this.dT.m);K.MV(e);this.gO=new gF;this.gO.h(G.E.p,this.iB,this);e.appendChild(this.gO.m);
this.Cx=null;this.a3b=0;this.C3=0;K.MV(e);this.$h=new g_("Sample from image",jv.K4(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.$h.h(G.E.p,this.Q3,this);this.$h.m.style.marginRight="0";e.appendChild(this.$h.m)};N.curv.prototype=new N;
N.curv.prototype.Av=function(e,Z){this.gO.Av(e,Z)};N.curv.prototype.n=function(){this.EY.n()};N.curv.prototype.arC=function(e){var Z=hu.G4(this.value,0),F=Z.length==256?1:0,b=this.dT.U();
if(F==b)return;var _=ff.wy("curv");if(b==1){var d=[];for(var l=0;l<256;l++)d.push(l);hu.OB(_,0,d)}this.f(_);
this.r_()};N.curv.prototype.iB=function(){hu.OB(this.value,this.EY.U(),this.gO.U());this.r_()};N.curv.prototype.Yl=function(){var e=this.EY.U(),Z=hu.G4(this.value,e),F=Z.length==256?1:0;
this.dT.f(F);if(this.be)this.gO.Jv(this.be[e],this.be[4]*[1,.33,.33,.33][e],["#ccc","#fcc","#cfc","#ccf"][e]);
this.gO.f(Z)};N.curv.prototype.rm=function(){return!0};N.curv.prototype.NU=function(e,Z,F,b,_){var d=this.value;
this.value=ff.wy("curv");this.r_();var S=i.wB.TC(e,_,1),U=this.Cx=[S>>>16&255,S>>>8&255,S&255];this.a3b=_.y;
var r=this.$h.U().indexOf(!0);if(r==0){var q=(U[0]+U[1]+U[2])/3,w=this.EY.U(),X=hu.G4(d,w),Q=w==0?q:U[w-1],c=-1;
for(var l=0;l<X.length;l++)if(X[l].v.Hrzn.v==Q)c=l;if(c==-1){var u=JSON.parse(JSON.stringify(X[0]));
u.v.Hrzn.v=Q;u.v.Vrtc.v=Q;X.push(u);X.sort(function(n,k){return n.v.Hrzn.v-k.v.Hrzn.v});hu.OB(d,w,X);
this.C3=X.indexOf(u)}else this.C3=c}this.f(d);this.r_()};N.curv.prototype.SE=function(e,Z,F,b,_){if(this.Cx==null)return;
if(this.$h.U().indexOf(!0)==0){var d=this.value,S=this.EY.U(),U=hu.G4(d,S),r=U[this.C3];r.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(r.v.Hrzn.v+(this.a3b-_.y))));
hu.OB(d,S,U);this.f(d);this.r_()}};N.curv.prototype.UD=function(e,Z,F,b,_){var d=this.value,S=this.Cx,U=(S[0]+S[1]+S[2])/3,r=this.$h.U().indexOf(!0)-1;
if(r<=-1){}else for(var l=0;l<3;l++){var q=hu.G4(d,1+l);if(r==0)q[0].v.Hrzn.v=S[l];if(r==1){var w=Math.log(S[l]/255)/Math.log(U/255),X=Math.min(999,Math.max(10,Math.round(100*w)));
if(q.length==2)q.splice(1,0,JSON.parse(JSON.stringify(q[0])));q[1].v.Hrzn.v=127-Math.log(X/100)*127;
q[1].v.Vrtc.v=127}if(r==2)q[q.length-1].v.Hrzn.v=S[l];hu.OB(d,1+l,q)}this.f(d);this.r_();this.Cx=null};
N.curv.prototype.f=function(e){this.value=e;this.Yl()};N.curv.prototype.Jv=function(e){this.be=e;this.Yl()};
N.curv.prototype.U=function(e){return JSON.parse(JSON.stringify(this.value))};N.expA=function(){N.call(this,"expA");
this.Cg.push(new fZ([12,5],-20,20,null,3));this.Cg.push(new fZ([12,6],-.5,.5,null,3));this.Cg.push(new fZ([12,7],.01,6.99,null,3));
this.c8()};N.expA.prototype=new N;N.expA.prototype.Yg=function(e,Z){Z[0]=e.Exps.v;Z[1]=e.Ofst?e.Ofst.v:0;
Z[2]=e.gammaCorrection?e.gammaCorrection.v:1};N.expA.prototype.Ff=function(e,Z){e.Exps={t:"doub",v:Z[0]};
e.Ofst={t:"doub",v:Z[1]};e.gammaCorrection={t:"doub",v:Z[2]}};N.grdm=function(){N.call(this,"grdm");
this.Cg.push(new j0(!0,null,!0));this.Cg.push(new c7([12,23,0]));this.c8()};N.grdm.prototype=new N;N.grdm.prototype.Yg=function(e,Z){Z[0]=e.Grad.v;
Z[1]=e.Rvrs?e.Rvrs.v:!1};N.grdm.prototype.Ff=function(e,Z){e.Grad.v=Z[0];e.Rvrs={t:"bool",v:Z[1]}};N.grdm.prototype.ZP=function(e,Z){this.Cg[0].cz(e.Ly,e.ZE);
if(Z==c6.vy||Z==c6.kp||Z==c6.kv)this.Cg[0].z6(e.Cb)};N.selc=function(){N.call(this);var e=this.m;this.tI=[];
this.BG=null;this.$z=new dE([12,82],hc.bT.concat([[13,1,8],[13,1,13],[13,1,10]]));this.$z.h(G.E.p,this.oJ,this);
e.appendChild(this.$z.m);K.MV(e);for(var l=0;l<4;l++){var Z=new fZ(hc.aqp[l],-100,100,"%");Z.h(G.E.p,this.oJ,this);
this.tI.push(Z);e.appendChild(Z.m)}this.XO=new c7([13,3]);e.appendChild(this.XO.m);this.XO.h(G.E.p,this.oJ,this)};
N.selc.prototype=new N;N.selc.prototype.n=function(){this.$z.n();this.XO.n();for(var l=0;l<4;l++)this.tI[l].n()};
N.selc.prototype.f=function(e){this.BG=JSON.parse(JSON.stringify(e));this.qz()};N.selc.prototype.U=function(e){return JSON.parse(JSON.stringify(this.BG))};
N.selc.prototype.oJ=function(e){if(e.target!=this.$z){var Z=this.BG,F=[];for(var l=0;l<4;l++)F[l]=this.tI[l].U();
ci.OB(Z,this.$z.U(),F);Z.Mthd={t:"enum",v:{CrcM:this.XO.U()?"Absl":"Rltv"}}}this.qz();this.r_()};N.selc.prototype.qz=function(){var e=this.BG,Z=ci.G4(e,this.$z.U());
for(var l=0;l<4;l++)this.tI[l].f(Z[l]);this.XO.f(e.Mthd?e.Mthd.v.CrcM=="Absl":!1)};N.blwh=function(){N.call(this,"blwh");
this.Cg.push(new c7([12,11]));this.Cg.push(new jQ(!0));for(var l=0;l<6;l++)this.Cg.push(new fZ(hc.bT[l],-200,300));
this.c8()};N.blwh.prototype=new N;N.blwh.prototype.Yg=function(e,Z){Z[0]=e.useTint.v;Z[1]=e.tintColor.v;
var F="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)Z[2+l]=e[F[l]].v};N.blwh.prototype.Ff=function(e,Z){e.useTint.v=Z[0];
e.tintColor.v=Z[1];var F="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)e[F[l]].v=Z[2+l]};
N.hue2=function(){N.call(this);this.value=null;this.Rs=null;this.aeX=null;this.q7=[[0,0,0],[0,50,0]];
var e=this.m;this.$h=new g_(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.$h.h(G.E.p,this.au6,this);this.$h.h(G.E.p,this.Q3,this);e.appendChild(this.$h.m);this.$z=new dE([12,12],["Master"].concat(hc.bT));
this.$z.h(G.E.p,this.Yl,this);e.appendChild(this.$z.m);this.p0=new fZ([12,8],-180,180);this.p0.h(G.E.p,this.TM,this);
e.appendChild(this.p0.m);this.IW=new fZ([12,9],-100,100);this.IW.h(G.E.p,this.TM,this);e.appendChild(this.IW.m);
this.lU=new fZ([12,10],-100,100);this.lU.h(G.E.p,this.TM,this);e.appendChild(this.lU.m);this.lX=new c7([12,11]);
this.lX.h(G.E.p,this.TM,this);e.appendChild(this.lX.m);this.iV=new g_("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.iV.h(G.E.p,this.au6,this);this.iV.h(G.E.p,this.Q3,this);this.iV.m.style.marginLeft="20px";e.appendChild(this.iV.m);
this.kG=K.L("div");e.appendChild(this.kG);this.wb=this.xH.bind(this);this.R1=this.CM.bind(this);this.O=K.L("canvas");
this.Gl=this.O.getContext("2d");this.Ar=null;K.GU(this.O);K.kd(this.O,282,18);e.appendChild(this.O);
K.x7(this.O,this.WN.bind(this))};N.hue2.prototype=new N;N.hue2.prototype.Av=function(e,Z){K.kd(this.O,Math.round(e),18);
if(this.value)this.Yl()};N.hue2.prototype.au6=function(e){var Z=e.target.U().indexOf(!0);if(Z==-1)return;
if(e.target==this.$h)this.iV.f([!1,!1,!1]);else this.$h.f([!1,!1,!1])};N.hue2.prototype.WN=function(e){if(this.$z.U()==0||this.lX.U())return;
var Z=K.DK(e,this.O).x/(this.O.width/K.F()),d=1e6;function F(X,Q,c){return X<Q&&Q<c||c<X&&(X<Q||Q<c)}var b=this.k0(),_=-1;
for(var l=0;l<4;l++){var S=Math.abs(Z-(b[l]+l*1e-5));if(S<d){d=S;_=l}}if(d>.025){_=-1;var U=b[0],r=b[1],q=b[2],w=b[3];
if(F(U,Z,r))_=4;if(F(r,Z,q))_=5;if(F(q,Z,w))_=6}if(_==-1)return;this.Ar=_;K.gQ(document.body,this.wb);
K.z1(document.body,this.R1)};N.hue2.prototype.xH=function(e){var Z=K.DK(e,this.O).x/(this.O.width/K.F()),F=this.k0(),b=this.Ar;
for(var l=1;l<4;l++)if(F[l]<F[l-1]){F[l]+=1}if(b<4){var _=1e6,d=0;for(var l=-20;l<20;l++){var S=Math.abs(F[b]-(Z+l));
if(S<_){_=S;d=l}}Z+=d;F[b]=Z;for(var l=b+1;l<4;l++)if(F[l]<F[l-1]){F[l]=F[l-1]}for(var l=b-1;l>=0;l--)if(F[l]>F[l+1]){F[l]=F[l+1]}}else{var U=Z-(F[b-4]+F[b-3])/2;
if(U<-.5)U+=1;if(b==4){F[0]+=U;F[1]+=U;F[2]=Math.max(F[1],F[2]);F[3]=Math.max(F[1],F[3])}if(b==5)for(var l=0;
l<4;l++)F[l]+=U;if(b==6){F[2]+=U;F[3]+=U;F[0]=Math.min(F[0],F[2]);F[1]=Math.min(F[1],F[2])}}for(var l=1;
l<4;l++)if(F[l]<F[l-1])throw"e";this.agf(F);this.Yl();this.r_()};N.hue2.prototype.CM=function(e){K.J3(document.body,this.wb);
K.UP(document.body,this.R1)};N.hue2.prototype.n=function(){this.p0.n();this.IW.n();this.lU.n();this.lX.n();
this.$z.n()};N.hue2.prototype.TM=function(e){var Z=this.value.Clrz.v=this.lX.U();if(Z)this.$z.f(0);if(e&&e.target==this.lX){var F=Z?1:0;
this.q7[1-F]=jb.G4(this.value,0);var b=this.q7[F];jb.OB(this.value,0,b);if(this.$z.U()==0){this.p0.f(b[0]);
this.IW.f(b[1]);this.lU.f(b[2])}}var _=this.$z.U(),d=jb.G4(this.value,_),b=_==0?d:d.U9;b[0]=this.p0.U();
var S=this.IW.U();b[1]=Z?Math.max(0,S):S;b[2]=this.lU.U();jb.OB(this.value,_,d);this.Yl();this.r_()};
N.hue2.prototype.Yl=function(){var e=this.$z.U(),Z=this.value.Clrz?this.value.Clrz.v:!1;this.lX.f(Z);
this.$z.c5(!Z);this.iV.c5(!Z&&e!=0);var F=jb.G4(this.value,e),b=e==0?F:F.U9;this.p0.f(b[0]);this.IW.f(b[1]);
this.lU.f(b[2]);var _=this.O.width,d=this.O.height,S=this.Gl;S.clearRect(0,0,_,d);if(Z||e==0){this.kG.innerHTML="";
return}var U=F._O;this.kG.innerHTML=U[0]+"\xB0 / "+U[1]+"\xB0<span style=\"float:right\">"+U[2]+"\xB0 \\ "+U[3]+"\xB0</span>";
var r=V.J(_*4);iN.a2c(r,1,_,-1,.5);var q=new ImageData(new Uint8ClampedArray(r.buffer),_,1),w=Math.round(d/4);
for(var l=0;l<w;l++)S.putImageData(q,0,l);function X(B,o,T){S.fillStyle=T;var z=w*2;if(B<=o)S.fillRect(B*_,z,(o-B)*_,w);
else{S.fillRect(0,z,o*_,w);S.fillRect(B*_,z,(1-B)*_,w)}}var Q=this.k0();X(Q[0],Q[1],"#888888");X(Q[1],Q[2],"#cccccc");
X(Q[2],Q[3],"#888888");S.fillStyle="#ffffff";S.lineWidth=1;S.beginPath();var c=w+.5,u=4*w+.5;for(var l=0;
l<4;l++){var n=Math.floor(_*Q[l])+.5,k=(l<2?-1:1)*w*(l==1||l==2?1:2);S.moveTo(n,c);S.lineTo(n,u);S.lineTo(n+k,u);
S.lineTo(n+k,w+w+.5);S.closePath()}S.fill();S.stroke()};N.hue2.prototype.k0=function(){var e=this.$z.U(),Z=jb.G4(this.value,e)._O;
for(var l=0;l<4;l++)Z[l]=(1000.5+Z[l]/360)%1;return Z};N.hue2.prototype.agf=function(e){var Z=this.$z.U(),F=jb.G4(this.value,Z);
for(var l=0;l<4;l++)F._O[l]=Math.round(36e3+(e[l]-.5)*360)%360;jb.OB(this.value,Z,F)};N.hue2.prototype.rm=function(){return!0};
N.hue2.prototype.a1F=function(){var e=this.$h.U().indexOf(!0),Z=this.iV.U().indexOf(!0);return e!=-1?e:Z!=-1?Z+1:-1};
N.hue2.prototype.NU=function(e,Z,F,b,_){var d=this.a1F();if(d==-1)return;var S=this.value;this.value=ff.wy("hue2");
this.r_();var U=i.wB.TC(e,_,1);this.f(S);var r=[U>>>16&255,U>>>8&255,U&255],q=V.Sq(r[0]/255,r[1]/255,r[2]/255);
if(d==0){this.$z.f(1+Math.round(q.zA*6)%6)}else{var w=this.k0(),X=.5+q.zA,Q=1/12,c=w[1],u=w[2];if(u<c){u++;
if(X<c&&X+1-u<c-X)X++}var n=c<=X&&X<=u;if(d==1){c=X-Q/2;u=X+Q/2}else if(d==2&&!n){c=Math.min(X,c);u=Math.max(X,u)}else if(d==3&&n){if(X-c<u-X)c=X;
else u=X}w=[c-Q,c,u,u+Q];this.agf(w)}this.r_();this.Rs=_.x;this.aeX=this.IW.U()};N.hue2.prototype.SE=function(e,Z,F,b,_){var d=this.a1F();
if(d==-1)return;if(d==0){if(this.Rs!=null){var S=_.x-this.Rs;S=Math.max(-100,Math.min(100,this.aeX+.5*S));
this.IW.f(S);this.TM()}}};N.hue2.prototype.UD=function(e,Z,F,b,_){this.Rs=null};N.hue2.prototype.f=function(e){this.value=JSON.parse(JSON.stringify(e));
var Z=this.value.Clrz?this.value.Clrz.v:!1;this.q7[Z?1:0]=jb.G4(this.value,0);this.Yl()};N.hue2.prototype.U=function(e){return JSON.parse(JSON.stringify(this.value))};
N.levl=function(){function e(){N.call(this);this.value=null;this.be=null;this.lI=[new bI(0,0),new bI(0,0),new bI(0,0),new bI(0,0),new bI(0,0)];
this.hI=-1;this.wb=this.xH.bind(this);this.R1=this.CM.bind(this);var Z=this.m;this.EY=new dE([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.EY.h(G.E.p,this.Yl,this);Z.appendChild(this.EY.m);var F=K.L("div","");Z.appendChild(F);var b=K.L("div","");
Z.appendChild(b);this.O=K.L("canvas");F.appendChild(this.O);this.Gl=this.O.getContext("2d");this.k7=new bI(256,120);
this.O.setAttribute("style","display:block");K.kd(this.O,this.k7.x,this.k7.y,this.Gl);K.GU(this.O);K.x7(this.O,this.WN.bind(this));
this.uY=K.L("canvas","");b.appendChild(this.uY);this.r7=this.uY.getContext("2d");this.hz=new bI(this.k7.x,40);
this.uY.setAttribute("style","display:block");K.kd(this.uY,this.hz.x,this.hz.y,this.r7);K.GU(this.uY);
K.x7(this.uY,this.a8J.bind(this));var _=this.atw=[];for(var l=0;l<5;l++){var d=new cY(null,null,3);_.push(d);
d.h(G.E.p,this.aqV,this);(l<2||l==4?F:b).appendChild(d.m)}F.appendChild(_[1].m);_[4].m.setAttribute("style","margin: 0 4.7em");
_[3].m.setAttribute("style","margin:0 0 0 13em");this.$h=new g_("Sample from image",jv.K4(["#000000","#888888","#ffffff"]),!0,null,!0);
this.$h.h(G.E.p,this.Q3,this);Z.appendChild(this.$h.m)}e.prototype=new N;e.prototype.n=function(){this.EY.n()};
e.prototype.aqV=function(Z){var F=[];for(var l=0;l<5;l++){var b=255,_=1;if(l==4){b=999;_=100}var d=parseFloat(this.atw[l].U());
F[l]=Math.max(0,Math.min(b,d*_))}go.OB(this.value,this.EY.U(),F);this.Yl();this.r_()};e.prototype.Yl=function(Z){var F=this.k7.x,b=this.k7.y,_=this.EY.U(),d=this.Gl;
d.clearRect(0,0,F,b);d.fillStyle="#cccccc";d.fillRect(8,8,F-16,b-16-8);if(this.be){if(_==0){this.be[0].fill(0);
var S=JSON.parse(JSON.stringify(this.value));go.OB(S,0,[0,255,0,255,100]);var U=hc.WW("levl",S),r=[U.wF,U.NA,U.tg];
for(var q=0;q<3;q++){var w=this.be[1+q],X=r[q];for(var l=0;l<256;l++)this.be[0][X[l]]+=w[l]}}var Q=this.be[_],c=0;
for(var l=0;l<Q.length;l++)c+=Q[l];d.fillStyle="#333333";d.beginPath();d.moveTo(8,b-16);for(var l=0;
l<256;l++){var u=55*Q[l]/c;d.lineTo(8+l/256*(F-16),Math.max(8,b-16-b*u))}d.lineTo(F-8,b-16);d.closePath();
d.fill()}var n=go.G4(this.value,_);for(var l=0;l<5;l++)this.atw[l].f(n[l]/(l==4?100:1));this.lI[0].zU(8+n[0]/255*(F-16),b-14);
this.lI[1].zU(8+n[1]/255*(F-16),b-14);var k=Math.log(n[4]/100)/Math.log(9.99);k=.5-k/2;this.lI[4].zU(this.lI[0].x+k*(this.lI[1].x-this.lI[0].x),b-14);
this.aL(d,this.lI[0],"#000000");this.aL(d,this.lI[1],"#ffffff");this.aL(d,this.lI[4],"#777777");var F=this.hz.x,b=this.hz.y;
d=this.r7;d.clearRect(0,0,F,b);var B=d.createLinearGradient(0,0,F-16,0);B.addColorStop(0,"black");B.addColorStop(1,"white");
d.fillStyle=B;d.fillRect(8,8,F-16,16);this.lI[2].zU(8+n[2]/255*(F-16),b-14);this.lI[3].zU(8+n[3]/255*(F-16),b-14);
this.aL(d,this.lI[2],"#000000");this.aL(d,this.lI[3],"#ffffff")};e.prototype.aL=function(Z,F,b){Z.fillStyle=b;
Z.fillRect(F.x-5,F.y,10,10)};e.prototype.WN=function(Z){var F=K.DK(Z,this.O),b=this.ad0([0,1,4],F);if(b!=-1)this.hI=b;
this.af8()};e.prototype.a8J=function(Z){var F=K.DK(Z,this.uY),b=this.ad0([2,3],F);if(b!=-1)this.hI=b;
this.af8()};e.prototype.ad0=function(Z,F){var b=-1,_=1e9;for(var l=0;l<Z.length;l++){var d=Math.abs(this.lI[Z[l]].x-F.x);
if(d<_){_=d;b=Z[l]}}return _<16?b:-1};e.prototype.af8=function(Z){if(this.hI==-1)return;K.gQ(document.body,this.wb);
K.z1(document.body,this.R1)};e.prototype.xH=function(Z){var F=go.G4(this.value,this.EY.U()),b=K.DK(Z,this.hI==2&&this.hI==3?this.uY:this.O),_=255*(b.x-8)/(this.k7.x-16);
_=Math.max(0,Math.min(255,_));if(this.hI==0)_=Math.min(_,F[1]-2);if(this.hI==1)_=Math.max(_,F[0]+2);
if(this.hI!=4)F[this.hI]=Math.round(_);else{var d=(_-F[0])/(F[1]-F[0]);d=1-2*d;d=Math.pow(9.99,d);F[4]=Math.min(999,Math.max(10,Math.round(d*100)))}go.OB(this.value,this.EY.U(),F);
this.Yl();this.r_()};e.prototype.CM=function(Z){K.J3(document.body,this.wb);K.UP(document.body,this.R1);
this.hI=-1};e.prototype.rm=function(){return!0};e.prototype.UD=function(Z,F,b,_,d){var S=this.value,U=this.$h.U().indexOf(!0);
if(U==-1)return;this.value=ff.wy("levl");this.r_();var r=i.wB.TC(Z,d,1),q=[r>>>16&255,r>>>8&255,r&255];
for(var l=0;l<3;l++){var w=go.G4(S,1+l);if(U==0)w[0]=q[l];if(U==1){var X=Math.log(q[l]/255)/Math.log((q[0]+q[1]+q[2])*.333/255);
w[4]=Math.min(999,Math.max(10,Math.round(100*X)))}if(U==2)w[1]=q[l];go.OB(S,1+l,w)}this.f(S);this.r_()};
e.prototype.f=function(Z){this.value=Z;this.Yl()};e.prototype.Jv=function(Z){this.be=Z;this.Yl()};e.prototype.U=function(Z){return JSON.parse(JSON.stringify(this.value))};
return e}();N.phfl=function(){N.call(this,"phfl");this.Cg.push(new jQ);this.Cg.push(new fZ([12,74],0,100,"%"));
this.Cg.push(new c7([13,4]));this.c8()};N.phfl.prototype=new N;N.phfl.prototype.Yg=function(e,Z){Z[0]=e.Clr.v;
Z[1]=e.Dnst.v;Z[2]=e.PrsL.v};N.phfl.prototype.Ff=function(e,Z){var F=V.X.Gb(Z[0]),b=e.Clr.v,_=V.gc(F.o,F.z,F.S);
b.Lmnc.v=_.qv;b.A.v=_.Y0;b.B.v=_.S;e.Dnst.v=Z[1];e.PrsL.v=Z[2]};N.vibA=function(){N.call(this,"vibA");
this.Cg.push(new fZ([12,13],-100,100,null));this.Cg.push(new fZ([12,9],-100,100,null));this.c8()};N.vibA.prototype=new N;
N.vibA.prototype.Yg=function(e,Z){Z[0]=e.vibrance?e.vibrance.v:0;Z[1]=e.Strt?e.Strt.v:0};N.vibA.prototype.Ff=function(e,Z){e.vibrance.v=Z[0];
e.Strt.v=Z[1]};N.thrs=function(){N.call(this,"thrs");this.Cg.push(new fZ([4,13],1,255,null));this.c8()};
N.thrs.prototype=new N;N.thrs.prototype.Yg=function(e,Z){Z[0]=e.Lvl.v};N.thrs.prototype.Ff=function(e,Z){e.Lvl.v=Z[0]};
N.mixr=function(){N.call(this);var e=this.m;this.tI=[];this.BG=null;this.$z=new dE([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.$z.h(G.E.p,this.oJ,this);e.appendChild(this.$z.m);K.MV(e);this.Uo=new c7([12,60]);e.appendChild(this.Uo.m);
this.Uo.h(G.E.p,this.oJ,this);for(var l=0;l<4;l++){var Z=new fZ([[13,1,1],[13,1,4],[13,1,5],[13,2]][l],-200,200,"%");
Z.h(G.E.p,this.oJ,this);this.tI.push(Z);e.appendChild(Z.m)}};N.mixr.prototype=new N;N.mixr.prototype.n=function(){this.$z.n();
this.Uo.n();for(var l=0;l<4;l++)this.tI[l].n()};N.mixr.prototype.f=function(e){this.BG=JSON.parse(JSON.stringify(e));
this.qz()};N.mixr.prototype.U=function(e){return JSON.parse(JSON.stringify(this.BG))};N.mixr.prototype.oJ=function(e){if(e.target!=this.$z){var Z=hc.l8(this.BG);
if(e.target==this.Uo){Z.Uo=this.Uo.U();if(Z.Uo)Z.I=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else Z.I=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var F=(Z.Uo?0:this.$z.U())*5,l=this.tI.indexOf(e.target);
Z.I[F+(l<3?l:4)]=e.target.U()}this.BG=hc.pb(Z)}this.qz();this.r_()};N.mixr.prototype.qz=function(){var e=hc.l8(this.BG);
this.Uo.f(e.Uo);var Z=(e.Uo?0:this.$z.U())*5;for(var l=0;l<4;l++)this.tI[l].f(e.I[Z+(l<3?l:4)])};N.post=function(){N.call(this,"post");
this.Cg.push(new fZ([4,1],2,255,null));this.c8()};N.post.prototype=new N;N.post.prototype.Yg=function(e,Z){Z[0]=e.Lvls.v};
N.post.prototype.Ff=function(e,Z){e.Lvls.v=Z[0]};N.clrL=function(){N.call(this,"clrL");this.Cg.push(new ih("LUTs"));
this.c8()};N.clrL.prototype=new N;N.clrL.prototype.Yg=function(e,Z){Z[0]=e};N.clrL.prototype.Ff=function(e,Z){var F=Z[0];
for(var b in F)e[b]=F[b]};N.clrL.prototype.ZP=function(e,Z){if(Z==c6.vy||Z==c6.CU)this.Cg[0].z6(e.a4f)};
N.rplc=function(){N.call(this,"rplc");this.Cg.push(new fZ([12,92],0,200));this.Cg.push(new jQ);this.Cg.push(new fZ([12,8],-180,180));
this.Cg.push(new fZ([12,9],-100,100));this.Cg.push(new fZ([12,10],-100,100));this.c8()};N.rplc.prototype=new N;
N.rplc.prototype.Yg=function(e,Z){Z[0]=e.Fzns.v;Z[1]=e.Mxm.v;Z[2]=e.H.v;Z[3]=e.Strt.v;Z[4]=e.Lght.v};
N.rplc.prototype.Ff=function(e,Z){function F(_,d){d.Lmnc.v=_.qv;d.A.v=_.Y0;d.B.v=_.S}e.Fzns.v=Z[0];e.H.v=Z[2];
e.Strt.v=Z[3];e.Lght.v=Z[4];var b=V.X.Gb(Z[1]),_=V.gc(b.o,b.z,b.S);F(_,e.Mnm.v);F(_,e.Mxm.v)};N.fade=function(){N.call(this,"fade");
this.Cg.push(new fZ([12,0],0,100,"%"));this.Cg.push(new dE([12,19,0],ae.Bj,!1,ae.aH));this.c8()};N.fade.prototype=new N;
N.fade.prototype.Yg=function(e,Z){Z[0]=e.Opct.v.val;Z[1]=ae.KU.indexOf(e.Md.v.BlnM)};N.fade.prototype.Ff=function(e,Z){e.Opct.v.val=Z[0];
e.Md.v.BlnM=ae.KU[Z[1]]};N.aply=function(){var e=ae.KU.concat(["Add","Sbtr"]);e.splice(21,1);var Z=ae.Bj.concat(["Add",[15,10,21]]);
Z.splice(21,1);var F=ae.aH.slice(0);F[4]--;function b(){N.call(this,"aply");this.Cg.push(new dE([0,3],[]));
this.Cg.push(new dE([12,4],["RGB"].concat(hc.aD).concat(["Transparency"])));this.Cg.push(new c7([4,11]));
this.Cg.push(new dE([12,19,0],Z,!1,F));this.Cg.push(new fZ([12,0],0,100,"%"));this.Cg.push(new en([12,38],1,2,null,2));
this.Cg.push(new en([12,6],-255,255));this.Cg.push(new c7("Preserve Transparency"));this.c8([2]);this.Rl=null}b.prototype=new N;
b.prototype.Yg=function(_,d,S){if(S){var U=S[2].g,r=this.Rl=[];for(var l=0;l<U.length;l++)r.push(U[l].getName());
r.reverse();this.Cg[0].mj([[5,7]].concat(r),[1,r.length])}else var r=this.Rl;_=_.With.v;var q=_.T.v;
d[0]=q[1].t=="name"?1+r.indexOf(q[1].v.val):0;d[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(q[0].v.enum);
d[2]=_.Invr.v;var w=_.Clcl.v.Clcn;d[3]=e.indexOf(w);d[4]=_.Opct.v.val;d[5]=_.Scl.v;d[6]=_.Ofst.v;d[7]=_.PrsT.v};
b.prototype.Ff=function(_,d){_=_.With.v;var S=_.T.v;if(d[0]==0)S[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else S[1]={t:"name",v:{classID:"Lyr",val:this.Rl[this.Rl.length-d[0]]}};S[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][d[1]];
_.Invr.v=d[2];var U=_.Clcl.v.Clcn=e[d[3]];_.Opct.v.val=d[4];_.Scl.v=d[5];_.Ofst.v=d[6];_.PrsT.v=d[7];
var r=U=="Add"||U=="Sbtr";this.Cg[5].c5(r);this.Cg[6].c5(r)};return b}();function jM(e,Z){h1.call(this);
if(e==null)return;this.id=Z;this.Qu=e;this.ES=null;this.m=K.L("div","window "+Z);this.arA=null;this.Lj=K.L("div","whead");
this.aoL=K.L("span","wname");this.Lj.appendChild(this.aoL);this.m.appendChild(this.Lj);this.a_=this.asP.bind(this);
this.YQ=this.aoR.bind(this);this.YK=this.apH.bind(this);K.GU(this.Lj);K.x7(this.Lj,this.a_);this.pP=K.L("span","cross");
this.Lj.appendChild(this.pP);jM.prototype.n.call(this);K.z1(this.pP,this.a6E.bind(this));this.body=K.L("div","body");
this.m.appendChild(this.body)}jM.prototype=new h1;jM.prototype.dS=function(){return!1};jM.prototype.rm=function(){return!1};
jM.prototype.n=function(){if(this.Qu==null)return;this.aoL.textContent=gA.get(this.Qu);var e=PIMG.__cross==null?"filter:invert(1);":"";
this.pP.setAttribute("style","background-image:url("+PIMG.cross+");"+e)};jM.prototype.NU=function(e,Z,F,b,_){};
jM.prototype.ym=function(e,Z,F,b,_){};jM.prototype.SE=function(e,Z,F,b,_){};jM.prototype.UD=function(e,Z,F,b,_){};
jM.prototype.og=function(e,Z,F,b,_){};jM.prototype.b8=function(e,Z,F,b){if(b.j(ex.Dr)&&this.bM)this.bM();
if(b.j(ex.Nh)){var _=new j8(G.E.u);_.ma=!0;i.Jt.zu(b,_);if(_.data)Z.$(_)}};jM.prototype.TD=function(e){return!1};
jM.prototype.ro=function(e,Z){return!0};jM.prototype.jQ=function(e,Z,F,b){};jM.prototype.ZP=function(e,Z){};
jM.prototype.$b=function(e,Z){return null};jM.prototype.a2g=function(e){return this.arA};jM.prototype.Av=function(){};
jM.prototype.close=function(){this.$(new j8(G.E.KW))};jM.prototype.asP=function(e){this.ES=K.DK(e,this.m);
K.gQ(window,this.YQ);K.z1(window,this.YK)};jM.prototype.aoR=function(e){var Z=this.m.parentNode,F=K.DK(e,Z),b=Math.round(F.x-this.ES.x),_=Z.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(F.y-this.ES.y)));
this.arA=new bI(b,_);this.m.style.left=b+"px";this.m.style.top=_+"px"};jM.prototype.apH=function(e){K.J3(window,this.YQ);
K.UP(window,this.YK)};jM.prototype.a6E=function(e){this.$(new j8("closebtn"));this.close()};function dy(){jM.call(this,"About Photopea","aboutpp");
var e=K.L("div","flexrow");this.body.appendChild(e);var Z=this.atc=K.L("img");e.appendChild(Z);this.body.setAttribute("style","margin:0; padding:0");
var F=this.aoJ=K.L("div");F.innerHTML=dy.EH;e.appendChild(F);var b=this.Wt=K.L("span");b.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(b)}dy.prototype=new jM;dy.prototype.$b=function(e,Z){return new bI(0,0)};dy.prototype.Av=function(e,Z){var F=this.atc,b=this.aoJ,_=this.Wt,d=(e+Z-42-42)/110;
d=Math.sqrt((e-42)*(Z-42))/50;F.setAttribute("style","width:"+e/2+"px; height:"+Z+"px; display:block; object-fit:cover;");
b.setAttribute("style","width:"+(e/2-42)+"px; height:"+(Z-42)+"px; padding:20px; font-size:"+d+"px;");
_.setAttribute("style","position:absolute;  bottom:10px; right:"+(e/2+10)+"px")};dy.prototype.n=function(){};
dy.prototype.jQ=function(e,Z,F,b){this.atc.setAttribute("src","promo/ivan_pp.webp")};dy.EH="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function fU(){jM.call(this,[0,13,0],"account");this.Qh=K.L("div","form scrollable");this.body.appendChild(this.Qh);
this.body.style.padding="0";this.X9=[new fU.VM,new fU.Xe("::privacy.html"),new fU.Xe(fU.aks)];for(var l=0;
l<this.X9.length;l++)this.X9[l].parent=this;this.h("showpage",this.aoQ,this)}fU.prototype=new jM;fU.prototype.Av=function(e,Z){this.Qh.setAttribute("style","width:"+Math.min(e-40,600)+"px;  height:"+(Z-38)+"px;  padding:1.5em;");
this.X9[0].Av(e,Z)};fU.prototype.$b=function(e,Z){return new bI(Math.max(0,Math.min(150,(e-600)/2)),Math.max(0,Math.min(100,(Z-500)/2)))};
fU.prototype.aoQ=function(e){K.WL(this.Qh);this.Qh.scrollTop=0;this.Qh.appendChild(this.X9[e.data.wD].m)};
fU.prototype.n=function(){jM.prototype.n.call(this);for(var l=0;l<this.X9.length;l++)this.X9[l].n()};
fU.prototype.jQ=function(e,Z,F){K.WL(this.Qh);var b=this.X9[0];this.Qh.appendChild(b.m);b.jQ();this.n()};
fU.prototype.ZP=function(e,Z){this.jQ(null,null,null)};fU.VM=function(){h1.call(this);this.m=K.L("div");
var e=this.m,Z,F,b="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.e_=K.L("div");e.appendChild(this.e_);this.Pb=new cd([0,11],!1,null,!0);this.Pb.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Pb.h("click",this.Lq,this);e.appendChild(this.Pb.m);this.XK=new cd([0,13,1],!1,null,!0);this.XK.h("click",this.a3e,this);
e.appendChild(this.XK.m);this.CY=new cd("Business Terms",!1,null,!0);this.CY.h("click",this.amK,this);
e.appendChild(this.CY.m);Z=K.L("h2");Z.innerHTML="Account types";e.appendChild(Z);F=K.L("table");F.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">All Features</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
e.appendChild(F);var _=this.ajD=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.b4=[];for(var l=0;l<_.length;l++)this.b4.push(new cd("Buy: $"+_[l][0],!1,null,!0));for(var l=0;
l<this.b4.length;l++){this.b4[l].m.setAttribute("style",b);this.b4[l].h("click",this.aai,this)}Z=K.L("h2");
Z.innerHTML="Go Premium";e.appendChild(Z);this.wf=new cd("...",!0);this.wf.m.setAttribute("style",b);
e.appendChild(this.wf.m);F=this.a3R(3,["Single user",this.b4[0],this.b4[1],this.b4[2],"Team of 5",this.b4[3],this.b4[4],this.b4[5],"Team of 20",this.b4[6],this.b4[7],this.b4[8]]);
e.appendChild(F);this.agu=new c7("I accept",!0,"");e.appendChild(this.agu.m);this.bw=new cd([0,13,1],!1,null,!0);
this.bw.h("click",this.a3e,this);e.appendChild(this.bw.m);this.ba=new cd("I have a key",!1,null,!0);
this.ba.m.setAttribute("style",b+" float:right;");this.ba.h("click",this.aai,this);e.appendChild(this.ba.m);
Z=K.L("h2");Z.textContent="Team Settings";e.appendChild(Z);this.dz=new c7("Join a team");e.appendChild(this.dz.m);
this.dz.h(G.E.p,this.aae,this);this.Rz=new cY("Email of a leader",null,14);e.appendChild(this.Rz.m);
K.MV(e);this.za=new c7("Start a team");e.appendChild(this.za.m);this.za.h(G.E.p,this.aae,this);var d=new dB("Emails of other members:");
e.appendChild(d.m);K.MV(e);this.$A=K.L("textarea");K.lN(this.$A);this.$A.setAttribute("rows",3);this.$A.setAttribute("style","display:block;tab-size:4; width:100%");
e.appendChild(this.$A);var S=new cd("Save Team Settings",!1,null,!0);e.appendChild(S.m);S.h("click",this.anM,this);
var U=this.a6c=new cd("More about Teams",!1,null,!0);e.appendChild(U.m);U.h("click",this.ah2,this);Z=K.L("h2");
Z.innerHTML="Distributor Account";e.appendChild(Z);this.Vs=new cd("...",!0);this.Vs.m.setAttribute("style",b);
e.appendChild(this.Vs.m);F=this.a3R(3,["1000 views/ month",this.b4[9],this.b4[10],this.b4[11],"5000 views/ month",this.b4[12],this.b4[13],this.b4[14],"20000 views/ month",this.b4[15],this.b4[16],this.b4[17]]);
e.appendChild(F);this.Bs=new cY("Domain name (e.g. domain.com)",null,14);e.appendChild(this.Bs.m);K.MV(e);
var S=new cd("Save Domain Settings",!1,null,!0);S.SB();e.appendChild(S.m);S.h("click",this.alX,this);
var U=new cd("More about Distributors",!1,null,!0);e.appendChild(U.m);U.h("click",this.ah2,this)};fU.VM.prototype=new h1;
fU.VM.prototype.Av=function(e,Z){var F=e<500?"$":"Buy: $",b=this.ajD;for(var l=0;l<b.length;l++)this.b4[l].cc(F+b[l][0])};
fU.VM.prototype.a3e=function(e){var Z=new j8("showpage",!0);Z.data={wD:1};this.$(Z)};fU.VM.prototype.amK=function(e){var Z=new j8("showpage",!0);
Z.data={wD:2};this.$(Z)};fU.VM.prototype.n=function(){this.Pb.cc(hx.QC()?gA.get([0,11]):gA.get([0,10]));
this.bw.n();this.XK.n();this.CY.n()};fU.VM.prototype.ah2=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.i8,link:"https://www.photopea.com/api/accounts#"+(e.target==this.a6c?"teams":"distributors")};
this.$(Z)};fU.VM.prototype.aae=function(e){var Z=e.currentTarget==this.dz;this.dz.f(Z);this.za.f(!Z)};
fU.VM.prototype.anM=function(e){var Z=this.dz.U(),F=this.Rz.U().trim(),b=this.$A.value.trim();if(F.length>60){alert("Too long email address");
return}if(b.length>600){alert("Too many team members");return}b=b.split(",").join(" ").trim();b=b.replace(/\s+/g," ");
if(b=="")b=[];else b=b.split(" ");var _=hx.W4();if(_==null)_={};if(_.acc==null)_.acc={};_.acc.team={jin:Z,ldr:F,mmb:b};
hx.Bf(_,this.Fc.bind(this));alert("Saved!");this.jQ()};fU.VM.prototype.alX=function(e){var Z=this.Bs.U().trim();
if(!hx.QC()){alert("You have to log in first.");return}if(hx.OO().distrib=="0"){alert("Order a distributor account first.");
return}var F=hx.W4();if(F==null)F={};if(F.acc==null)F.acc={};if(Z=="")delete F.acc.dname;else F.acc.dname=Z;
hx.Bf(F,this.Fc.bind(this));alert("Saved!");this.jQ()};fU.VM.prototype.jQ=function(){if(hx.QC()){var e=hx.OO();
if(e==null)return;this.e_.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+e.name+"</span> "+e.email+" <br/>"}else{}var Z=hx.QC()&&hx.RL();
this.wf.m.style.display=Z?"block":"none";if(Z){var F=parseInt(e[K.eL("_^NSLUJ")])-Date.now()*(1/1e3),b=parseInt(e.ptype),_;
if(b==-1)_="member of a team";else if(b==1)_="Single user";else _="Team of "+b;this.wf.cc("Premium active for "+Math.round(F/(60*60*24))+" more days! ("+_+")")}var d=hx.QC()&&e.distrib*1e3>Date.now();
this.Vs.m.style.display=d?"block":"none";if(d){var F=parseInt(e.distrib)-Date.now()/1e3,b=parseInt(e.ptype);
this.Vs.cc("Distributor active for "+Math.round(F/(60*60*24))+" more days! ("+b+" visitos)")}var S=hx.W4();
if(S&&S.acc&&S.acc.team){var U=S.acc.team;this.dz.f(U.jin);this.za.f(!U.jin);this.Rz.f(U.ldr);this.$A.value=U.mmb.join(", ")}else{this.dz.f(!0);
this.za.f(!1);this.Rz.f("");this.$A.value=""}if(S&&S.acc&&S.acc.dname)this.Bs.f(S.acc.dname);else this.Bs.f("")};
fU.VM.prototype.a3R=function(e,Z){var F=K.L("table");F.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(e==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var l=0;l<Z.length;l+=e+1){var b=K.L("tr"),_;F.appendChild(b);_=K.L("td","left");b.appendChild(_);
_.innerHTML="<b>"+Z[l]+"</b>";for(var d=0;d<e;d++){_=K.L("td");b.appendChild(_);_.appendChild(Z[l+1+d].m)}}return F};
fU.VM.prototype.aai=function(e){var Z=this.b4.indexOf(e.currentTarget),b=30,_=1;if(!hx.QC()){alert("You must log in before buying Premium");
return}if(this.agu.U()==!1&&Z<9){alert("You must accept Terms of Service");return}var F=hx.QC()&&hx.RL();
if(Z!=-1){var d=this.ajD[Z];b=d[1];_=d[2]}if(F&&_<1e3){alert("You already have premium.");return}if(Z==-1){var S=prompt("Please enter your key");
if(S!=null){hx.acO(S,this.Fc.bind(this));this.Nm()}return}if(b==30&&_==1){var U=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!U)return}hx.order(b,_,this.Fc.bind(this));this.Nm()};fU.VM.prototype.Fc=function(e){if(hx.QC()&&hx.OO().msg)alert(hx.OO().msg);
this.jQ();this.Nm()};fU.VM.prototype.Lq=function(e){if(hx.QC()){hx.sd();this.Nm();this.jQ(null,null,null)}else hx.Lq(this.a2r.bind(this))};
fU.VM.prototype.a2r=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.atG};this.$(e)};fU.VM.prototype.Nm=function(){var e=new j8(G.E.W,!0);
e.data={d:G.B.aeA};this.$(e)};fU.Xe=function(e){h1.call(this);this.m=K.L("div");var Z=this.m,F=this.aph=new cd([0,13,2],!1,null,!0),b;
F.h("click",this.adW,this);Z.appendChild(F.m);if(e.startsWith("::")){b=K.L("iframe");b.setAttribute("style","width:100%;height:1700px; background-color:white;");
b.setAttribute("src",e.slice(2))}else{b=K.L("div");b.innerHTML=e}Z.appendChild(b)};fU.Xe.prototype=new h1;
fU.Xe.prototype.adW=function(e){var Z=new j8("showpage",!0);Z.data={wD:0};this.$(Z)};fU.Xe.prototype.n=function(){this.aph.n()};
fU.aks="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
function gJ(){jM.call(this,[11,14],"addguides");this.Yf;this.Pk={I9:{_b:0}};this.dN=null;var e=K.L("div","form");
this.body.appendChild(e);this.fr=new cY([22,4,0],null,16);this.fr.h(G.E.p,this.xa,this);this.z$=new cY([22,4,1],null,16);
this.z$.h(G.E.p,this.xa,this);this.Sv=new dE(null,V.PR.$c);this.Sv.h(G.E.p,this.xa,this);e.appendChild(this.fr.m);
e.appendChild(this.Sv.m);K.MV(e);e.appendChild(this.z$.m);this.wv=K.ny(this,e);this.h("closebtn",this.a57,this)}gJ.prototype=new jM;
gJ.prototype.ro=function(e,Z){return e!=null};gJ.prototype.dS=function(){return!0};gJ.prototype.n=function(){jM.prototype.n.call(this);
this.fr.n();this.z$.n();this.Sv.n();this.wv.n()};gJ.prototype.ZP=function(e,Z){var F=e.I9._b;this.Pk.I9._b=F;
this.Sv.f(F)};gJ.prototype.jQ=function(e,Z){this.Yf=e;this.dN=JSON.stringify(e.$j());this.ci()};gJ.prototype.ci=function(){var e=this.Yf,Z=e.P3,F=function(b,_,e,d,S){var U=[];
for(var l=0;l<b.length;l++)if(b[l][0]==_)U.push(V.PR.Ix(b[l][1],e.Cr,d,S));U.sort(function(r,q){return r-q});
return U.join(", ")};this.fr.f(F(Z,0,e,this.Pk,e.w));this.z$.f(F(Z,1,e,this.Pk,e._))};gJ.prototype.xa=function(e){if(e&&e.currentTarget==this.Sv)this.Pk.I9._b=this.Sv.U();
else{var Z=this.ajb(),F=this.Yf;F.p$(Z);F.sp=!0}this.ci()};gJ.prototype.ajb=function(){var e=[],Z=[];
for(var F=0;F<2;F++){var b=F==0?this.fr:this.z$,_=F==0?this.Yf.w:this.Yf._,d=b.U().replace(/,/g," ").replace(/  +/g," ").trim(),S=d==""?[]:d.split(" ");
for(var l=0;l<S.length;l++){e.push([F,V.PR.ah8(S[l],this.Yf.Cr,this.Pk,_)]);Z.push(-1)}}return[e,Z]};
gJ.prototype.a57=function(e){var Z=this.Yf;Z.p$(JSON.parse(this.dN));Z.sp=!0;this.Yf=null};gJ.prototype.bM=function(e){this.xa(e);
var Z=new j8(G.E.u,!0);Z.k=i.l$;Z.data={d:"gids",un:JSON.parse(this.dN),d$:this.Yf.$j()};this.Yf=null;
this.close();this.$(Z)};function jt(e){var Z=ff.names[e];if(Z==null)Z=hc.names[e];if(e=="aply")Z=[2,12];
if(e=="fade")Z=[2,11];if(e=="blendOptions")Z=[14,10];jM.call(this,Z,"afw_"+e);this.Nw=e;this.PY=null;
this.z2=null;this.gO=new N[e];this.gO.h(G.E.p,this.r_,this);this.gO.parent=this;this.body.appendChild(this.gO.m);
this.HI=new c7([24,18,5]);this.HI.f(!0);this.HI.h(G.E.p,this.r_,this);this.xg=new cd([1,12,2],!0,null,!0);
this.xg.h("click",this.XZ,this);this.wv=K.ny(this);if(this.lK())this.gO.gj(this.wv.m);else{K.j_(this.gO.m,"form");
K.j_(this.body,"flexrow");this.gO.m.setAttribute("style","width:312px");var F=K.L("div");this.body.appendChild(F);
F.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");F.appendChild(this.wv.m);F.appendChild(this.xg.m);
F.appendChild(this.HI.m)}this.h("closebtn",this.Ql,this)}jt.prototype=new jM;jt.prototype.dS=function(){return!0};
jt.prototype.lK=function(){return this.gO!=null&&this.gO.Kw()};jt.prototype.$b=function(){return this.lK()?new bI(0,0):jM.prototype.$b()};
jt.prototype.rm=function(){return this.gO.rm()};jt.prototype.NU=function(e,Z,F,b,_){this.gO.NU(e,Z,F,b,_)};
jt.prototype.SE=function(e,Z,F,b,_){this.gO.SE(e,Z,F,b,_)};jt.prototype.UD=function(e,Z,F,b,_){this.gO.UD(e,Z,F,b,_)};
jt.prototype.ro=function(e,Z){if(this.Nw=="fade")return jt.a1M(e);return!0};jt.prototype.XZ=function(e){this.gO.f(ff.wy(this.Nw));
this.r_()};jt.prototype.r_=function(e){this.M8({d:"edit",Bi:this.gO.U(),qU:!this.HI.U()})};jt.prototype.Ql=function(e){this.M8({d:"cancel"})};
jt.prototype.bM=function(e){if(!this.HI.U()){this.HI.f(!0);this.r_()}this.z2=this.gO.U();if(this.lK())this.r_();
this.M8({d:"confirm"});this.close()};jt.prototype.n=function(){jM.prototype.n.call(this);this.HI.n();
if(this.gO)this.gO.n();this.wv.n()};jt.prototype.ZP=function(e,Z){if(this.gO)this.gO.ZP(e,Z)};jt.prototype.b8=function(e,Z,F,b){if(this.lK())this.gO.b8(b);
else jM.prototype.b8.call(this,e,Z,F,b)};jt.prototype.jQ=function(e,Z,F,b){this.PY=Z.PY;var _=e.add.lnk2?e.add.lnk2:[],d,S,U=new e3(0,0,e.w,e._),r=e.g[e.V[0]],q=null;
d=r.buffer;S=r.rect;if(this.lK())q=e.zB(e.V[0]-1);var w=ff.wy(this.Nw),X=[_,e.LE,e];if(Z.PY==null){this.gO.f(w,d,S,U,q,X);
if(hc.names[this.Nw]){if(b.j(ex.sW)&&this.z2)this.gO.f(this.z2);var Q=i.j4.getData(e),c=V.aB(Q[0].dq);
this.gO.Jv(c)}}else{var u=!1,r=e.g[this.PY.i];if(r.bR()){var n=r.EB(e);d=n.buffer;S=n.rect;var k=r.add.SoLd.filterFX.v.filterFXList.v;
if(k[this.PY.index]){var B=k[this.PY.index].v;this.gO.f(this.Nw=="blendOptions"?B.blendOptions.v:B.Fltr.v,d,S,U,q,X);
this.gO.Jv(V.aB(d));u=!0}}if(!u){this.gO.f(w,d,S,U,q,X);this.gO.Jv(V.aB(d))}}if(!this.lK())this.r_()};
jt.prototype.M8=function(e){var Z=new j8(G.E.u,!0);e.Nw=this.Nw;e.PY=this.PY;Z.data=e;Z.k=ff.names[this.Nw]||this.PY?i.Db:i.v$;
Z.ma=!0;this.$(Z)};jt.prototype.Av=function(e,Z){if(!this.gO.Kw()){}else{this.body.style.padding="0";
this.gO.Av(e,Z)}};jt.a1M=function(e){if(e==null)return!1;var Z=e.Yj();if(Z==null||!(Z.data instanceof Array)||Z.data.length!=e.V.length)return!1;
for(var l=0;l<Z.data.length;l++){var F=Z.data[l];if(F.i<0&&e.LE[-1-F.i])return!0;if(F.i==null||e.g[F.i]==null||e.g[F.i].WA!=F.JT)return!1;
if(e.V.indexOf(F.i)==-1)return!1}return!0};function jL(){jM.call(this,[11,0],"camera");this.data=null;
this._z=new bI(1,1);this.a1U=[];var e=K.L("div","form hbar");this.body.appendChild(e);this.a2j=new dE(null,[]);
this.ve=new dE([21,0],[[21,2],[21,1]]);e.appendChild(this.ve.m);this.uJ=new dE(null,[]);this.uJ.h(G.E.p,this.aqn,this);
e.appendChild(this.uJ.m);this.Yc=new cd([11,0],!1,null,!0);this.Yc.h("click",this.a7y,this);e.appendChild(this.Yc.m);
this.l5=new dB("");e.appendChild(this.l5.m);this.stream=null;this.HB=K.L("video","");this.HB.setAttribute("autoplay","true");
this.body.appendChild(this.HB);this.a0_=this.anF.bind(this);this.adV=this.a51.bind(this);this.ac8=this.adr.bind(this);
this.h("closebtn",this.alG,this)}jL.prototype=new jM;jL.prototype.n=function(){jM.prototype.n.call(this);
this.ve.n();this.Yc.n();this.Av(this.bo,this.zA)};jL.prototype.zB=function(){var e=this.HB.videoWidth,Z=this.HB.videoHeight,F=K.L("canvas","");
F.width=e;F.height=Z;var b=F.getContext("2d");b.drawImage(this.HB,0,0,e,Z);var _=b.getImageData(0,0,e,Z);
return{V4:new e3(0,0,e,Z),data:_.data.buffer}};jL.prototype.a7y=function(e){if(this.ve.U()==0)this.adA();
else this.a34()};jL.prototype.a34=function(){var e=this.zB(),Z={buffer:new Uint8Array(e.data),rect:e.V4},F=new j8(G.E.u,!0);
F.ma=!0;F.k=i.__;F.data={d:g.ZG,Uf:Z};this.$(F);alert(gA.get([21,4]))};jL.prototype.adA=function(){var e=this.zB(),Z=fg.vr("camera",[e]),F=new j8(G.E.W,!0);
F.data={d:G.B.I8,Bm:Z};this.$(F);alert(gA.get([21,5]))};jL.prototype.jQ=function(e,Z,F){navigator.mediaDevices.enumerateDevices().then(this.aj9.bind(this))};
jL.prototype.aj9=function(e){var Z=this.a1U=[],F=[];for(var l=0;l<e.length;l++)if(e[l].kind=="videoinput"){Z.push(e[l]);
F.push("Camera "+Z.length)}this.uJ.mj(F);this.uJ.f(0);this.aqn()};jL.prototype.aqn=function(e){this.alG();
var Z={video:{deviceId:this.a1U[this.uJ.U()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(Z).then(this.a0_).catch(this.adV);
else navigator.webkitGetUserMedia(Z,this.a0_,this.adV)};jL.prototype.anF=function(e){this.stream=e;this.HB.srcObject=e;
this.HB.addEventListener("loadedmetadata",this.ac8,!1)};jL.prototype.adr=function(e){this.HB.play();
this.Av(this.bo,this.zA)};jL.prototype.$b=function(e,Z){return new bI(0,0)};jL.prototype.Av=function(e,Z){var F=this.HB.videoWidth,b=this.HB.videoHeight;
this.l5.f(F+" x "+b+" px");this.l5.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this._z.zU(F,b);this.bo=e;this.zA=Z;var _=e-28,d=Z-28-30,S=this._z.x/this._z.y;if(_/d>S)_=d*S;else d=_/S;
this.HB.setAttribute("style","display: block; width: "+Math.round(_)+"px; height:"+Math.round(d)+"px;")};
jL.prototype.a51=function(e){console.log("error",e);alert(gA.get([21,6]));this.close()};jL.prototype.alG=function(e){if(this.stream!=null){var Z=this.stream.getTracks();
for(var l=0;l<Z.length;l++)Z[l].stop();this.stream=null}};function gZ(){jM.call(this,[7,8],"crange");
this.Yf=null;this.wI={qv:73,Y0:4.45,S:4};this.sR={qv:73,Y0:4.45,S:4};this.body.style.width="20em";this._n=new dE([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this._n.h(G.E.p,this.at9,this);this.body.appendChild(this._n.m);this.EH=K.L("div","form");this.body.appendChild(this.EH);
var e=this.anR=2,Z=this.hy=[new fZ([12,92],0,200),new jv([12,36],[[18,0],"\uFF0B","\u2014"]),new fZ([12,92],0,100,"%"),new en("Min",0,255),new en("Max",0,255)];
Z[0].f(40);Z[e].f(40);for(var l=0;l<Z.length;l++){Z[l].h(G.E.p,this.qz,this);Z[l].parent=this}this.O=K.L("canvas");
this.body.appendChild(this.O);this.wv=K.ny(this,this.body)}gZ.prototype=new jM;gZ.prototype.ro=function(e,Z){return e!=null};
gZ.prototype.rm=function(){return!0};gZ.prototype.dS=function(){return!0};gZ.prototype.at9=function(e){var Z=this._n.U(),F=this.hy,b=this.EH,_=0,d=F.length,S=this.anR;
if(Z==0)d=S;else{_=S;F[_+1].f([0,100,190][Z-1]);F[_+1].c5(Z!=1);F[_+2].f([60,150,255][Z-1]);F[_+2].c5(Z!=3)}K.WL(b);
for(var l=_;l<d;l++){b.appendChild(F[l].m)}this.qz()};gZ.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this._n.n();for(var l=0;l<this.hy.length;l++)this.hy[l].n()};gZ.prototype.NU=function(e,Z,F,b,_){var d=e.t.mG(_.x,_.y);
this.abw(d.x,d.y)};gZ.prototype.abw=function(e,Z){var F=Math.min,b=Math.max,_=this.Yf,d=b(0,F(_.w-1,Math.floor(e))),S=b(0,F(_._-1,Math.floor(Z))),U=_.zB(),r=(S*_.w+d)*4,q=U[r],w=U[r+1],X=U[r+2],Q=V.gc(q,w,X),c=this.hy[1].U(),u=this.wI,n=this.sR;
if(c==0){this.wI=JSON.parse(JSON.stringify(Q));this.sR=Q}else if(c==1){u.qv=F(u.qv,Q.qv);u.Y0=F(u.Y0,Q.Y0);
u.S=F(u.S,Q.S);n.qv=b(n.qv,Q.qv);n.Y0=b(n.Y0,Q.Y0);n.S=b(n.S,Q.S)}else if(c==2){var k=(u.qv+n.qv)/2,B=(u.Y0+n.Y0)/2,o=(u.S+n.S)/2;
if(Q.qv<k)u.qv=b(u.qv,Q.qv+10);else n.qv=F(n.qv,Q.qv-10);if(Q.Y0<B)u.Y0=b(u.Y0,Q.Y0+1);else n.Y0=F(n.Y0,Q.Y0-1);
if(Q.S<o)u.S=b(u.S,Q.S+1);else n.S=F(n.S,Q.S-1)}this.qz()};gZ.prototype.bM=function(e){var Z=this._n.U(),F=this.hy,b={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(Z==0){var _=this.wI,d=this.sR;b.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:_.qv},A:{t:"doub",v:_.Y0},B:{t:"doub",v:_.S}}};
b.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:d.qv},A:{t:"doub",v:d.Y0},B:{t:"doub",v:d.S}}};b.Fzns={t:"long",v:F[0].U()}}else{Z--;
var S=["shadows","midtones","highlights"][Z];b.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][Z]}};if(0<Z)b[S+"LowerLimit"]={t:"long",v:F[3].U()};
if(Z<2)b[S+"UpperLimit"]={t:"long",v:F[4].U()};b[S+"Fuzziness"]={t:"long",v:F[2].U()}}this.close();var U=new j8(G.E.GT,!0);
U.data={qg:"colorRange",ni:b};this.$(U)};gZ.prototype.jQ=function(e,Z){this.Yf=e;this.abw(0,0);this.at9()};
gZ.prototype.qz=function(){var e=this.Yf,Z=this._n.U(),F=this.wI,b=this.sR,_=this.hy,d=_[0].U()/200,S=!1;
if(Z>0){F=_[3].U();b=_[4].U();if(F>=b)F=b-1;S=!0;d=_[2].U()/100}var U=i.wL.yK(e,F,b,d,S),r=U.rect,q=U.channel,w=this.O,X=w.getContext("2d"),Q=Math.floor(230*K.F()),c=Math.floor(Q*(r._/r.w));
w.width=Q;w.height=c;K.rB(w,Q,c);var u=V.J(q.length*4);V.oi(u,4294967295);for(var l=0;l<3;l++)V.s$(q,u,l);
var n=i.Q.or([u,r],new jg(Q/r.w,0,0,c/r._,0,0)),k=n.rect,B=new ImageData(new Uint8ClampedArray(n.buffer.buffer),k.w,k._);
X.putImageData(B,0,0)};function iy(){jM.call(this,[12,76,1],"createshape");this.Cd=null;var e=K.L("div","form");
e.setAttribute("style","width:20em");this.body.appendChild(e);this.ha=new en([12,41],0,0,null,0,!1,!0);
e.appendChild(this.ha.m);K.MV(e);this.fr=new en([12,42],0,0,null,0,!1,!0);e.appendChild(this.fr.m);K.MV(e);
this.kr=new c7([19,5,3]);e.appendChild(this.kr.m);this.ha.f(100);this.fr.f(100);this.wv=K.ny(this,e)}iy.prototype=new jM;
iy.prototype.bM=function(e){this.Cd.a8u(this.Cd.a1D,this.ha.U(),this.fr.U(),this.kr.U());this.close()};
iy.prototype.n=function(){if(this.Cd)this.Qu=gA.get([5,3])+": "+gA.get(this.Cd.arP);jM.prototype.n.call(this);
this.wv.n();this.ha.n();this.fr.n();this.kr.n()};iy.prototype.jQ=function(e,Z){this.Cd=Z;this.n()};function eW(){jM.call(this,[11,1],"colorpicker");
this.MO=null;this.VP=null;this.Q4=null;this.gD=!1;this.bl=!1;var e=K.L("div","flexrow"),d,S;this.body.appendChild(e);
this.K8=new iN(256);this.K8.h(G.E.p,this.R9,this);e.appendChild(this.K8.m);var Z=K.L("div","form");Z.setAttribute("style","width:14.5em; margin-left:1em;");
e.appendChild(Z);this.aji=K.L("div","full");Z.appendChild(this.aji);this.a4r=K.L("div","full");Z.appendChild(this.a4r);
var F=K.L("div","flexrow");Z.appendChild(F);var b=K.L("div"),_=K.L("div");F.appendChild(b);F.appendChild(_);
d=["R","G","B"];S=b;this.rR=[];for(var l=0;l<3;l++){var U=new en(d[l]+":",0,255,null,0,!1,!0);this.rR.push(U);
U.h(G.E.p,this.a7L,this);S.appendChild(U.m)}d=["H","S","B"];S=_;this.RK=[];for(var l=0;l<3;l++){var r=0,q=360,w="\xB0";
if(l!=0){q=100;w="%"}var U=new en(d[l]+":",r,q,w,0,!1,!0);this.RK.push(U);U.h(G.E.p,this.asR,this);S.appendChild(U.m)}this.fr=new cY("Hex",null,6);
this.fr.h(G.E.p,this.Ol,this);Z.appendChild(this.fr.m);this.hU=K.L("input","fitem");this.hU.setAttribute("type","color");
this.hU.setAttribute("style","width:50px");this.hU.addEventListener("change",this.Ol.bind(this),!1);
Z.appendChild(this.hU);this.Pr=new dY(9);this.Pr.h(G.E.p,this.Ol,this);Z.appendChild(this.Pr.m);this.wv=K.ny(this,Z);
this.h("closebtn",this.Ql,this);this.e5=!1}eW.prototype=new jM;eW.prototype.rm=function(){return!0};
eW.prototype.$b=function(e,Z){return new bI(Math.max(0,Math.min(150,(e-484)/2)),Math.max(0,Math.min(150,(Z-316)/2)))};
eW.prototype.Av=function(e,Z){this.K8.Av(Math.min(256,e-226),Z)};eW.prototype.n=function(e,Z){jM.prototype.n.call(this);
this.wv.n()};eW.prototype.R9=function(e){this.VP=this.K8.U();this.update()};eW.prototype.NU=function(e,Z,F,b,_){this.e5=!0;
this.aej(e,_)};eW.prototype.SE=function(e,Z,F,b,_){if(!this.e5)return;this.aej(e,_)};eW.prototype.UD=function(e,Z,F,b,_){this.e5=!1};
eW.prototype.aej=function(e,Z){var F=i.wB.TC(e,Z,1),b=F&255,_=F>>8&255,d=F>>16&255;this.VP={o:d/255,z:_/255,S:b/255};
this.update()};eW.prototype.a7L=function(e){var Z=this.rR,F=this.AB(parseInt(Z[0].U())),b=this.AB(parseInt(Z[1].U())),_=this.AB(parseInt(Z[2].U()));
this.VP={o:F/255,z:b/255,S:_/255};this.update()};eW.prototype.asR=function(e){var Z=this.RK,F=this.$r(parseInt(Z[0].U())/360),b=this.$r(parseInt(Z[1].U())/100),_=this.$r(parseInt(Z[2].U())/100);
this.VP=V.Mq(F,b,_);this.update()};eW.prototype.Ol=function(e){var Z;if(e.currentTarget==this.Pr)Z=this.Pr.U();
else{Z=e.currentTarget==this.fr?this.fr.U():this.hU.value;if(Z.charAt(0)=="#")Z=Z.slice(1);if(Z.length==3)Z=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2];
Z=V.T2(Z)}this.VP={o:(Z>>16&255)/255,z:(Z>>8&255)/255,S:(Z&255)/255};this.update()};eW.prototype.e9=function(e){var Z=e.o,F=e.z,b=e.S;
return Math.round(Z*255)<<16|Math.round(F*255)<<8|Math.round(b*255)};eW.prototype.bM=function(e){this.alw();
var Z=this.e9(this.VP);this.Q4(Z);this.close();this.bl=!1;this.VP=null};eW.prototype.Ql=function(e){this.alw();
if(this.gD)this.Q4(this.e9(this.MO));this.bl=!1;this.VP=null};eW.prototype.alw=function(e){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.ahp};this.$(Z)};eW.prototype.ZP=function(e,Z){if(Z!=c6.kp)return;var F=e.Ly;this.Pr.f(F);
if(this.VP!=null){this.VP={o:(F>>16&255)/255,z:(F>>8&255)/255,S:(F>>0&255)/255};this.update()}};eW.prototype.jQ=function(e,Z){var F=Z.RW,b={o:(F>>16&255)/255,z:(F>>8&255)/255,S:(F>>0&255)/255};
if(this.VP==null){var _=new j8(G.E.W,!0);_.data={d:G.B.MQ,$P:"crosshair",push:!0};this.$(_);this.e5=!1;
this.Q4=Z.E3;this.gD=!1;this.bl=Z.FE;this.MO=JSON.parse(JSON.stringify(b));this.a4r.setAttribute("style","height:3em;background-color:#"+V.Z0(F)+";")}this.VP=b;
this.update()};eW.prototype.update=function(){var e=this.VP,Z=this.e9(e),F=this.rR;F[0].f(Math.round(e.o*255));
F[1].f(Math.round(e.z*255));F[2].f(Math.round(e.S*255));this.fr.f(V.Z0(Z));this.hU.value="#"+V.Z0(Z);
this.aji.setAttribute("style","height:3em;background-color:#"+V.Z0(Z)+";");var b=V.Sq(e.o,e.z,e.S);F=this.RK;
F[0].f(Math.round(b.zA*360));F[1].f(Math.round(b.ME*100));F[2].f(Math.round(b.Bi*100));this.K8.f(e);
if(this.bl){this.Q4(this.e9(this.VP));this.gD=!0}};eW.prototype.AB=function(e){return Math.max(0,Math.min(255,e))};
eW.prototype.$r=function(e){return Math.max(0,Math.min(1,e))};function cK(){jM.call(this,[11,2],"contoureditor");
this.aoa=null;this.Ns=null;this.response=null;this.S4=K.L("div","cell");this.body.appendChild(this.S4);
this.lL=K.L("div","cell padded");this.body.appendChild(this.lL);var e=K.L("div","bordered padded vmargin");
this.S4.appendChild(e);this.gO=new gF;this.gO.h(G.E.p,this.iB,this);e.appendChild(this.gO.m);this.wv=K.ny(this,this.lL);
this.coords=K.L("div","");this.coords.setAttribute("style","width:250px");this.S4.appendChild(this.coords);
this.Hl=new cY("X (in)","%",4);this.ei=new cY("Y (out)","%",4);this.b5=new c7([19,3,0]);this.Hl.h(G.E.p,this.d2,this);
this.ei.h(G.E.p,this.d2,this);this.b5.h(G.E.p,this.d2,this);this.coords.appendChild(this.Hl.m);this.coords.appendChild(this.b5.m);
this.coords.appendChild(this.ei.m);this.h("closebtn",this.Zn,this)}cK.prototype=new jM;cK.prototype.bM=function(){this.close()};
cK.prototype.n=function(){jM.prototype.n.call(this);this.wv.n();this.b5.n()};cK.prototype.iB=function(e){this.Ns.Crv.v=this.gO.U();
this.response(this.Ns);this.Pz()};cK.prototype.Zn=function(e){this.response(this.aoa)};cK.prototype.jQ=function(e,Z){this.aoa=JSON.parse(JSON.stringify(Z.JS));
this.Ns=Z.JS;this.response=Z.response;this.gO.f(this.Ns.Crv.v);this.Pz()};cK.prototype.Pz=function(){var l=this.gO.a6k();
this.coords.setAttribute("class",l==-1?"disabled":"");if(l==-1)return;var e=this.Ns.Crv.v[l].v;this.Hl.f(Math.round(e.Hrzn.v*(100/255)));
this.ei.f(Math.round(e.Vrtc.v*(100/255)));this.b5.f(e.Cnty.v)};cK.prototype.d2=function(e){var l=this.gO.a6k(),Z=this.Ns.Crv.v[l];
Z.v.Hrzn.v=parseFloat(this.Hl.U())*(255/100);Z.v.Vrtc.v=parseFloat(this.ei.U())*(255/100);Z.v.Cnty.v=this.b5.U();
this.Ns.Crv.v.sort(function(F,b){return F.v.Hrzn.v-b.v.Hrzn.v});this.gO.f(this.Ns.Crv.v,this.Ns.Crv.v.indexOf(Z));
this.Pz();this.response(this.Ns)};function hK(){jM.call(this,[11,3],"csize");this.oD=0;this.Qh=K.L("div","form");
this.Qh.setAttribute("style","width:22em");this.body.appendChild(this.Qh);this.cQ=new ew(!0,!0,!0,!0,!0);
this.cQ.asT(!1);this.Qh.appendChild(this.cQ.m);this.kx=new jv("Align with",[[8,7],[12,6]]);this.kx.h(G.E.p,this.acq,this);
this.HZ=new bq([12,23,2],41);this.Qh.appendChild(this.HZ.m);this.HZ.f(4);this.Sp=new eZ(!1);this.Sp.a7f(new bI(0,0));
this.wv=K.ny(this,this.body)}hK.prototype=new jM;hK.prototype.ro=function(e,Z){return e!=null};hK.prototype.dS=function(){return!0};
hK.prototype.TD=function(e){return[ex.g1,ex.sl,ex.kg,ex.ZF].indexOf(e)!=-1};hK.prototype.b8=function(e,Z,F,b){this.HZ.ai2(b.qY())};
hK.prototype.acq=function(){var e=[this.HZ.m,this.Sp.m];this.Qh.removeChild(e[this.oD]);this.oD=this.kx.U();
this.Qh.appendChild(e[this.oD])};hK.prototype.n=function(){jM.prototype.n.call(this);this.cQ.n();this.kx.n();
this.HZ.n();this.Sp.n();this.wv.n()};hK.prototype.bM=function(e){var Z=this.cQ.U(),F=Z.x,b=Z.y,_=new j8(G.E.GT,!0);
_.data=i.Za.L1(F,b,this.HZ.U());this.close();this.$(_)};hK.prototype.jQ=function(e,Z){this.cQ.f(new bI(e.w,e._),e.Cr);
this.cQ.TP()};function dH(){jM.call(this,[11,4],"duplinto");this.Zd=null;this.LK=null;this.XR=null;var e=K.L("div","form");
e.setAttribute("style","max-width:26em");this.body.appendChild(e);this.y7=new dE([12,43],["abc","def"]);
this.y7.h(G.E.p,this.oJ,this);e.appendChild(this.y7.m);K.MV(e);this.pa=new dE("Artboard",["abc","def"]);
this.pa.h(G.E.p,this.oJ,this);e.appendChild(this.pa.m);K.MV(e);this.Fl=new cY([12,48],null,14);e.appendChild(this.Fl.m);
this.wv=K.ny(this,e)}dH.prototype=new jM;dH.prototype.dS=function(){return!0};dH.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this.y7.n();this.Fl.n()};dH.prototype.oJ=function(e){if(e&&e.target==this.pa)return;var Z=this.y7.U(),F=this.LK[Z],b=this.Zd,_=F!=null&&F.add.artd!=null;
for(var l=0;l<b.V.length;l++)if(b.g[b.V[l]].add.artb)_=!1;this.Fl.c5(Z==this.LK.length);this.pa.c5(_);
if(_){var d=F.root.children,S=[],U=this.XR=[];for(var l=0;l<d.length;l++){var r=d[l].i;if(r.add.artb)S.push(r.getName());
U.push(d[l].index)}this.pa.mj(S);this.pa.f(0)}else this.XR=null};dH.prototype.jQ=function(e,Z,F){this.Zd=e;
this.LK=F;this.Fl.f(e.V.length==0?"Layer":e.g[e.V[0]].getName());var b=[];for(var l=0;l<F.length;l++)b.push(F[l].name);
b.push([11,7]);this.y7.mj(b);this.y7.f(F.indexOf(e));this.oJ(null)};dH.prototype.bM=function(e){var Z=this.y7.U();
if(Z==this.LK.length){var F=new aH(this.Fl.U()+".psd"),b=this.Zd.w,_=this.Zd._,d=this.Zd.eZ();if(d!=-1){var S=this.Zd.g[d].iU();
b=S.w;_=S._}F.w=b;F._=_;F.buffer=V.J(F.w*F._*4);var U=F.yG();U.Hr("Background");F.ed([U]);var r=new j8(G.E.W,!0);
r.ma=!0;r.data={d:G.B.I8,Bm:F};this.$(r)}var q=this.Zd.fb(null,this.Zd!=this.LK[Z]),r=new j8(G.E.u,!0);
r.data={d:g.sr,g:q,C0:this.Zd,w3:this.LK[Z]};if(this.XR)r.data.yl=this.XR[this.pa.U()];r.k=i.__;r.ma=!0;
this.$(r);this.close()};function jB(){jM.call(this,[1,9],"eassets");this.Pk=null;this.pL=null;var e=K.L("div","form");
e.setAttribute("style","width:32em");this.body.appendChild(e);this.rQ=K.L("span");e.appendChild(this.rQ);
K.MV(e);this.f3=[new c7("Only layers / folders, whose name starts with \"-e-\""),new c7("Remove parts outside the canvas"),new c7("Trim transparent parts")];
for(var l=0;l<3;l++){var Z=this.f3[l];Z.f(!0);Z.h(G.E.p,this.ci,this);e.appendChild(Z.m);K.MV(e)}this.uG=new g_([12,14,0],["1x","2x","3x","4x"]);
this.uG.f([!0,!1,!1,!1]);e.appendChild(this.uG.m);K.pj(e);this.J6=["PNG","JPG","SVG"];this.ki=new dE([12,50],this.J6);
this.ki.h(G.E.p,this.ag2,this);e.appendChild(this.ki.m);this.hC=new gG;e.appendChild(this.hC.m);this.wv=new cd([1,9],!0,null,!0);
this.wv.h("click",this.bM,this);e.appendChild(this.wv.m);this.h("closebtn",this.z5,this)}jB.prototype=new jM;
jB.prototype.ag2=function(e){this.hC.afG(this.J6[this.ki.U()])};jB.prototype.z5=function(e){this.pL=null};
jB.prototype.n=function(){jM.prototype.n.call(this);this.ki.n();this.uG.n();this.wv.n();this.hC.n()};
jB.prototype.jQ=function(e,Z,F){this.pL=e;this.ci()};jB.prototype.ci=function(e){var Z=this.a5g(),F="- - - "+Z.length+" exportable layers";
this.rQ.textContent=F;this.ag2(null)};jB.prototype.a5g=function(){var e=this.f3[0].U(),Z=[],F=this.pL;
for(var l=0;l<F.g.length;l++){var b=F.g[l],_=b.getName();if(!e&&!b.yx()&&!b.rect.BJ()||_.startsWith("-e"))Z.push(l)}return Z};
jB.prototype.ZP=function(e,Z){this.Pk=e};jB.prototype.bM=function(e){var Z=this.pL,F=[this.J6[this.ki.U()]],b=[this.hC.U()],_=this.uG.U(),d={},S={},U=this.a5g();
if(U.length==0){alert("No layers to export.");return}var r=[this.f3[1].U(),this.f3[2].U()];for(var l=0;
l<U.length;l++){var q=U[l],w=Z.g[q],X=w.getName();if(S[X]!=null){S[X]++;X+=" "+S[X]}else S[X]=1;var Q=w.ir();
w.cm(!0);for(var c=0;c<_.length;c++){if(!_[c])continue;var u=c+1,n=i.rX.Hi(Z,F,u,this.Pk,q,b,r);for(var k=0;
k<F.length;k++){var B=F[k],o=X.slice(X.startsWith("-e-")?3:0)+(u==1?"":"-"+u+"x")+"."+B.toLowerCase();
if(n[k])d[o]=new Uint8Array(n[k])}}w.cm(Q)}var T=UZIP.encode(d),z=new j8(G.E.W,!0);z.data={d:G.B.Ax,data:T,name:"assets.zip"};
this.$(z)};function bT(){jM.call(this,"Export Color Lookup Tables","exlut");this.Pk=null;this.pL=null;
var e=K.L("div","form");e.setAttribute("style","width:20em");this.body.appendChild(e);this.f3=[new en("Grid Points",1,256),new jv([12,50],[".CUBE"])];
var Z=[16,0];for(var l=0;l<this.f3.length;l++){var F=this.f3[l];F.f(Z[l]);F.parent=this;F.h(G.E.p,this.ci,this);
e.appendChild(F.m);K.MV(e)}this.wv=K.ny(this,e);this.h("closebtn",this.z5,this)}bT.prototype=new jM;
bT.prototype.ro=function(e,Z){if(Math.min(e.w,e._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(e.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};bT.prototype.z5=function(e){this.pL=null};bT.prototype.ZP=function(e,Z){this.Pk=e};
bT.prototype.jQ=function(e,Z,F){this.pL=e};bT.prototype.bM=function(){var e=this.pL,Z=this.f3[0].U(),F=[],b=new e3(0,0,e.w,e._),_=V.J(Z*Z*4),d=_.slice(0),S=new e3(e.w-Z>>>1,e._-Z>>>1,Z,Z),U=e.g[0],r=U.buffer,q=U.rect;
U.rect=S;U.buffer=_;for(var w=0;w<Z;w++){this.acy(Z,w,_);U.G(S);e.G(S);var X=e.zB();V.Rf(X,b,d,S);for(var Q=0;
Q<Z;Q++)for(var c=0;c<Z;c++){var u=Q*Z+c<<2;F.push(d[u]/255,d[u+1]/255,d[u+2]/255)}}var n=ic.a64(F,Z,e.name);
h5.save(n,e.name.split(".")[0]+".CUBE");U.buffer=r;U.rect=q;U.G();e.G()};bT.prototype.acy=function(e,Z,F){var b=255/(e-1),_=Math.round(Z*b);
for(var d=0;d<e;d++)for(var S=0;S<e;S++){var U=d*e+S<<2;F[U]=Math.round(S*b);F[U+1]=Math.round(d*b);
F[U+2]=_;F[U+3]=255}};bT.prototype.n=function(){jM.prototype.n.call(this);for(var l=0;l<this.f3.length;
l++)this.f3[l].n();this.wv.n()};function aN(){jM.call(this,[1,14],"finfo");this.X1=null;this.CB=null;
this.qW=null;this.Qh=K.L("div","form scrollable label12");this.Qh.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.Qh);var e=K.L("div","form");this.body.appendChild(e);this.fR=new dE(null,["Hello"]);
e.appendChild(this.fR.m);this.a3d=new cd("Add Parameter",!1,null,!0);e.appendChild(this.a3d.m);this.a3d.h("click",this.d1,this);
this.bO=new cd("=== S A V E ===",!1,null,!0);e.appendChild(this.bO.m);this.bO.h("click",this.RN,this);
this.aqt=""}aN.prototype=new jM;aN.prototype.$b=function(e,Z){return e<450||Z<450?new bI(0,0):new bI(150,100)};
aN.prototype.d1=function(e){if(this.qW.length==0)return;var Z=this.qW[this.fR.U()],F=this.y1();F[Z]=bW.ph[Z][0];
this.PU(F);this.CB[Z].m.scrollIntoView();this.CB[Z].TP()};aN.prototype.q_=function(e){var Z=this.y1();
delete Z[e.currentTarget.amO];this.PU(Z)};aN.prototype.RN=function(e){var Z=this.y1(),F=this.X1,b=!0;
for(var _ in F)if(JSON.stringify(F[_])!=JSON.stringify(Z[_]))b=!1;for(var _ in Z)if(JSON.stringify(F[_])!=JSON.stringify(Z[_]))b=!1;
if(b)return;var d=new j8(G.E.u,!0);d.k=i.__;d.data={d:g.vL,Co:Z};this.$(d);this.X1=Z;this.PU(Z)};aN.aq2=function(e){function Z(_){var d=_.toLowerCase();
return _==d}var F=e.split(":").pop();for(var b=1;b<F.length-1;b++){if(F[b]==F[b].toUpperCase()&&(Z(F[b+1])||Z(F[b-1]))){F=F.slice(0,b)+" "+F.slice(b);
b++}}return F};aN.prototype.jQ=function(e,Z){this.X1=e.iT;this.PU(e.iT)};aN.prototype.PU=function(e){var Z=this.Qh,_=0;
K.WL(Z);var F=this.CB={},b=["tiff","exif","exif:GPS"],d=this.qW=[],S=[];for(var U in bW.ph){var r=aN.aq2(U),q=0,w=15,X=null;
if(e[U]==null){if(bW.ph[U][1]!=null){d.push(U);S.push(r)}continue}for(var l=0;l<b.length;l++)if(U.startsWith(b[l]))q=l;
if(q!=_){K.pj(Z);_=q}if(U=="tiff:ImageDescription"||U=="dc:Keywords"){w=18.5;X=3}var Q=new cY(r,null,w,X);
F[U]=Q;var c=e[U];if(c instanceof Array)c=c[1]==0?"---":c[0]+"/"+c[1];var u=new cd("\u2716",null,gA.get([5,4]));
Z.appendChild(u.m);u.h("click",this.q_,this);u.amO=U;Q.f(c);Z.appendChild(Q.m);K.MV(Z);if(U=="exif:GPSLongitude"&&e["exif:GPSLatitude"]){this.aqt=aN.aiE(e["exif:GPSLatitude"])+","+aN.aiE(e["exif:GPSLongitude"]);
var n=new cd("Show on map",!1,null,!0);Z.appendChild(n.m);K.MV(Z);n.h("click",this.ai7,this)}}this.fR.mj(S);
this.fR.f(0)};aN.prototype.y1=function(){var e=this.CB,Z=bW.ph,F={};for(var b in Z){var _=Z[b][0],d=typeof _;
if(_==null||e[b]==null)continue;var S=e[b].U(),U="The value of \""+aN.aq2(b)+"\" must ";if(d=="number"){S=parseFloat(S);
if(isNaN(S)){alert(U+"be a number.");S=_}}else if(_ instanceof Array&&_.length==2){if(S.indexOf("/")==-1){alert(U+"be a fraction.");
S=_.slice(0)}else{S=S.split("/").map(parseFloat);if(isNaN(S[0])||isNaN(S[1])){S=_.slice(0)}}}F[b]=S}return F};
aN.aiE=function(e){var Z=e.length,F=e.slice(0,Z-1).split(",").map(parseFloat),b=e.slice(Z-1),_=F[0]+F[1]/60+F[2]/3600;
if(b!="N"&&b!="E")_=-_;return _};aN.prototype.ai7=function(e){window.open("https://maps.google.com?q="+this.aqt,"Map")};
function aP(){jM.call(this,[11,5],"gradienteditor");this.MO=null;this.VP=null;this.gq=null;this.Q4=null;
this.gD=!1;this.bl=!1;this.l1=null;this.um=null;this.$S=-1;this.cZ=-1;this.kQ=0;this.wb=this.xH.bind(this);
this.R1=this.CM.bind(this);this.O=K.L("canvas");this.Gl=this.O.getContext("2d");this.O.setAttribute("style","display:block");
this.x4=null;K.GU(this.O);K.x7(this.O,this.WN.bind(this));this.VC=K.L("div","form");this.a3c=K.L("div");
this.BK=K.L("div","form");this.a9o=K.L("div");this.I5=new dE([12,44],[[15,10,0],[24,6]]);this.I5.h(G.E.p,this.ul,this);
this.body.appendChild(this.I5.m);K.pj(this.body);var e=this.VC;this.$Z=new en([19,3,3],0,100,"%");this.$Z.h(G.E.p,this.ul,this);
this.$Z.parent=this;e.appendChild(this.$Z.m);K.MV(e);this.j5=new dB([12,0]);e.appendChild(this.j5.m);
this.lT=K.L("div","bordered padded noalign");e.appendChild(this.lT);this.Pv=new en([12,0],0,100,"%");
this.Pv.parent=this;this.Pv.h(G.E.p,this.ul,this);this.lT.appendChild(this.Pv.m);this.d0=new en([12,40],0,100,"%");
this.d0.parent=this;this.d0.h(G.E.p,this.ul,this);this.lT.appendChild(this.d0.m);this.CS=new cd([5,4],!1,null,!0);
this.CS.h("click",this.ajm,this);this.lT.appendChild(this.CS.m);e.appendChild(this.a3c);this.alg=new dB([13,0]);
e.appendChild(this.alg.m);this.xv=K.L("div","bordered padded noalign");e.appendChild(this.xv);this.SQ=new dE([12,44],[[12,45],[12,46],[12,47]]);
this.SQ.h(G.E.p,this.ul,this);this.xv.appendChild(this.SQ.m);this.Eh=new jQ(!0);this.Eh.parent=this;
this.Eh.h(G.E.p,this.ul,this);this.xv.appendChild(this.Eh.m);this.La=new en([12,40],0,100,"%");this.La.parent=this;
this.La.h(G.E.p,this.ul,this);this.xv.appendChild(this.La.m);this.hl=new cd([5,4],!1,null,!0);this.hl.h("click",this.a2E,this);
this.xv.appendChild(this.hl.m);var e=this.BK;this.z4=new en("Roughness",0,100,"%");this.z4.h(G.E.p,this.ul,this);
this.z4.parent=this;e.appendChild(this.z4.m);e.appendChild(this.a9o);this.f2=new cd([25,1,2],!1,null,!0);
this.f2.h("click",this.ul,this);e.appendChild(this.f2.m);this.wv=K.ny(this);this.h("closebtn",this.Ql,this)}aP.prototype=new jM;
aP.prototype.Ql=function(e){if(this.gD)this.Q4(this.MO)};aP.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this.$Z.n();this.j5.n();this.alg.n();this.CS.n();this.hl.n();this.Pv.n();this.d0.n();this.SQ.n();
this.La.n();this.f2.n()};aP.prototype.ZP=function(e,Z){this.gq=e};aP.prototype.jQ=function(e,Z){this.VP=JSON.parse(JSON.stringify(Z.X));
this.MO=JSON.parse(JSON.stringify(Z.X));this.l1=this.um=null;this.Q4=Z.E3;this.gD=!1;this.bl=Z.FE;this.Yl();
this.Ab()};aP.prototype.bM=function(e){var Z=this.VP;this.Q4(Z);this.close()};aP.prototype.TD=function(e){return e==ex.Fp||e==ex.yr};
aP.prototype.b8=function(e,Z,F,b){if(b.j(ex.Fp)||b.j(ex.yr)){if(this.um)this.ajm();if(this.l1)this.a2E()}};
aP.prototype.ajm=function(e){var Z=this.VP.Trns.v;if(this.um==null||Z.length==1)return;Z.splice(Z.indexOf(this.um),1);
this.um=null;this.Yl();this.Ab()};aP.prototype.a2E=function(e){var Z=this.VP.Clrs.v;if(this.l1==null||Z.length==1)return;
Z.splice(Z.indexOf(this.l1),1);this.l1=null;this.Yl();this.Ab()};aP.prototype.Yl=function(){var e=this.O,Z=this.Gl,F=K.F();
e.width=Math.floor(410*F);e.height=Math.floor(70*F);K.rB(e,e.width,e.height);e.style.marginTop="8px";
this.x4=new e3(0,0,Math.floor(380*F),Math.floor(32*F));this.x4.x=Math.floor((e.width-this.x4.w)/2);this.x4.y=Math.floor((e.height-this.x4._)/2);
var b=this.x4,_=b.w,d=b._,S=b.x,U=b.y,r=new e3(0,0,_,d),q=Z.getImageData(0,0,_,d),w=new Uint8Array(q.data.buffer);
V.Ag(w,_,d,8);var X=V.J(_*d*4);V.X.v_(this.VP,X,r,[1/_,0,0,1/d],_/2,d/2,!1,0,this.gq.Ly,this.gq.ZE);
V.a.sB("norm",X,b,w,b,b,1);Z.clearRect(0,0,e.width,e.height);Z.putImageData(q,S,U);var Q=this.VP;if(Q.Clrs){var c=Q.Trns.v,u=Q.Clrs.v,n=V.X.cd(u,this.gq.Ly,this.gq.ZE),k=Math.round(6*K.F()),B=Math.round(14*K.F()),o=this.um?this.um.v:null,T=this.l1?this.l1.v:null;
for(var l=0;l<c.length;l++){var z=c[l].v,W=Math.round(255-255*z.Opct.v.val/100);if((z==o||c[l-1]&&c[l-1].v==o||l==this.cZ)&&l!=0){Z.fillStyle="#000000";
Z.fillRect(S-3+_*(c[l-1].v.Lctn.v+(z.Lctn.v-c[l-1].v.Lctn.v)*z.Mdpn.v/100)/4096,U-6-2,6,6)}if(z==o){Z.fillStyle="#ffffff";
Z.fillRect(S-k+_*(z.Lctn.v/4096)-2,U-2-B-2,2*k+4,B+4)}Z.fillStyle="rgb("+W+","+W+","+W+")";Z.fillRect(S-k+_*(z.Lctn.v/4096),U-2-B,2*k,B)}for(var l=0;
l<u.length;l++){var $=u[l].v,R=n[l];if(($==T||u[l-1]&&u[l-1].v==T||l==this.$S)&&l!=0){Z.fillStyle="#000000";
Z.fillRect(S-3+_*(u[l-1].v.Lctn.v+($.Lctn.v-u[l-1].v.Lctn.v)*$.Mdpn.v/100)/4096,U+d+2,6,6)}if($==T){Z.fillStyle="#ffffff";
Z.fillRect(S-k+_*($.Lctn.v/4096)-2,U+d+2-2,2*k+4,B+4)}Z.fillStyle="rgb("+Math.round(R.o)+", "+Math.round(R.z)+","+Math.round(R.S)+")";
Z.fillRect(S-k+_*($.Lctn.v/4096),U+d+2,2*k,B)}}if(this.bl){this.Q4(this.VP);this.gD=!0}};aP.prototype.Ab=function(){var e=this.VP,Z=e.Clrs?0:1;
this.I5.f(Z);if(K.RY(this.VC))this.body.removeChild(this.VC);if(K.RY(this.BK))this.body.removeChild(this.BK);
(Z==0?this.a3c:this.a9o).appendChild(this.O);if(Z==0){this.body.appendChild(this.VC);this.$Z.f(Math.round(100*e.Intr.v/4096));
var F=e.Trns.v,b=e.Clrs.v,_=this.um!=null,d=this.cZ!=-1;this.Pv.c5(_);this.d0.c5(_||d);this.CS.c5(_);
if(_){this.lT.setAttribute("style","");var S=this.um.v;this.d0.f(Math.round(100*S.Lctn.v/4096));this.Pv.f(S.Opct.v.val)}if(d)this.d0.f(F[this.cZ].v.Mdpn.v);
var _=this.l1!=null,d=this.$S!=-1;this.SQ.c5(_);this.Eh.c5(_);this.La.c5(_||d);this.hl.c5(_);if(_){this.xv.setAttribute("style","");
var U=this.l1.v;this.La.f(Math.round(100*U.Lctn.v/4096));var r=U.Type.v.Clry;this.SQ.f(["FrgC","BckC","UsrS"].indexOf(r));
if(r=="FrgC")this.Eh.jH(this.gq.Ly);if(r=="BckC")this.Eh.jH(this.gq.ZE);if(r=="UsrS")this.Eh.f(U.Clr.v)}if(d)this.La.f(b[this.$S].v.Mdpn.v)}else{this.body.appendChild(this.BK);
this.z4.f(Math.round(100*e.Smth.v/4096))}this.body.appendChild(this.wv.m)};aP.prototype.ul=function(e){var Z=this.VP,F=Z.Clrs?0:1;
if(e.target==this.I5){var b=F==0?JSON.parse(fu.Jr.xn).v:ff.wy("grdm").Grad.v;this.VP=b;this.Ab();this.Yl();
return}if(F==0){Z.Intr.v=Math.round(4096*this.$Z.U()/100);var _=Z.Trns.v,d=Z.Clrs.v;if(this.um!=null){var S=this.um.v;
S.Lctn.v=Math.round(4096*(this.d0.U()/100));S.Opct.v.val=this.Pv.U()}if(this.l1!=null){var U=this.l1.v;
U.Lctn.v=Math.round(4096*(this.La.U()/100));if(e.target==this.Eh)this.SQ.f(2);var r=this.SQ.U();U.Type.v.Clry=["FrgC","BckC","UsrS"][r];
if(r==2)U.Clr={t:"Objc",v:this.Eh.U()};else if(U.Clr)delete U.Clr}if(this.cZ!=-1)_[this.cZ].v.Mdpn.v=this.d0.U();
if(this.$S!=-1)d[this.$S].v.Mdpn.v=this.La.U()}else{Z.Smth.v=Math.round(4096*this.z4.U()/100);if(e.target==this.f2)Z.RndS.v=Math.floor(Math.random()*4294967295)}this.Yl()};
aP.prototype.WN=function(e){var Z=K.DK(e,this.O),F=this.x4,b=(Z.x*K.F()-F.x)/F.w,_=(Z.y*K.F()-F.y)/F._,d=this.VP.Trns.v,S=this.VP.Clrs.v,U=null,r=null,q=-1,w=-1;
if(_<1)for(var l=0;l<d.length;l++){var X=d[l].v;if(Math.abs(X.Lctn.v/4096-b)<.02)U=d[l];if(l>0)if(Math.abs((d[l-1].v.Lctn.v+(X.Lctn.v-d[l-1].v.Lctn.v)*X.Mdpn.v/100)/4096-b)<.01)q=l}if(_>0)for(var l=0;
l<S.length;l++){var Q=S[l].v;if(Math.abs(Q.Lctn.v/4096-b)<.02)r=S[l];if(l>0)if(Math.abs((S[l-1].v.Lctn.v+(Q.Lctn.v-S[l-1].v.Lctn.v)*Q.Mdpn.v/100)/4096-b)<.01)w=l}if(r==null&&U==null&&q==-1&&w==-1){if(_<0){var X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
X.v.Lctn.v=Math.round(b*4096);d.push(X);d.sort(this.rV);U=X}if(_>1){var S=this.VP.Clrs.v,c=V.X.cd(S,this.gq.Ly,this.gq.ZE),u=V.X.Zr(this.VP,c,b),Q={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:V.X.Q9({o:u&255,z:u>>8&255,S:u>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Q.v.Lctn.v=Math.round(b*4096);S.push(Q);S.sort(this.rV);r=Q}}if(r!=null)w=-1;if(U!=null)q=-1;if(r!=null||U!=null||q>-1||w>-1){this.um=U;
this.l1=r;this.cZ=q;this.$S=w;this.Ab();this.Yl();K.gQ(window,this.wb);K.z1(window,this.R1)}};aP.prototype.xH=function(e){var Z=K.DK(e,this.O),F=this.x4,b=(Z.x*K.F()-F.x)/F.w,_=(Z.y*K.F()-F.y)/F._;
b=Math.max(0,Math.min(1,b));var d=this.VP.Trns.v,S=this.VP.Clrs.v;if(this.um!=null){var U=this.um.v;
U.Lctn.v=Math.round(4096*b);var r=d.indexOf(this.um);if(r!=-1&&_<-1&&d.length>1)d.splice(r,1);if(r==-1&&_>-1)d.push(this.um);
d.sort(this.rV)}if(this.l1!=null){var q=this.l1.v;q.Lctn.v=Math.round(4096*b);var w=S.indexOf(this.l1);
if(w!=-1&&_>2&&S.length>1)S.splice(w,1);if(w==-1&&_<2)S.push(this.l1);S.sort(this.rV)}if(this.cZ>-1){var U=d[this.cZ].v;
U.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-d[this.cZ-1].v.Lctn.v)/(U.Lctn.v-d[this.cZ-1].v.Lctn.v))))}if(this.$S>-1){var q=S[this.$S].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-S[this.$S-1].v.Lctn.v)/(q.Lctn.v-S[this.$S-1].v.Lctn.v))))}if(this.um!=null||this.l1!=null||this.cZ>-1||this.$S>-1){this.Ab();
this.Yl()}};aP.prototype.CM=function(e){K.J3(window,this.wb);K.UP(window,this.R1);if(Date.now()-this.kQ<300){if(this.$S!=-1||this.cZ!=-1){var Z=(this.$S!=-1?this.VP.Clrs.v[this.$S]:this.VP.Trns.v[this.cZ]).v;
Z.Mdpn.v=50;this.Ab();this.Yl()}else if(this.l1!=null)this.Eh.ahe()}this.kQ=Date.now()};aP.prototype.rV=function(e,Z){return e.v.Lctn.v-Z.v.Lctn.v};
function dT(){jM.call(this,[11,10],"isize");this.Qh=K.L("div","form");this.Qh.setAttribute("style","width:20em");
this.body.appendChild(this.Qh);this.cQ=new ew(!0,!0,null,null,!0);this.Qh.appendChild(this.cQ.m);this.vC=new c7("Resample");
this.vC.f(!0);this.Qh.appendChild(this.vC.m);this.vC.h(G.E.p,this.apl,this);this.dT=new dE([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.dT.f(1);this.Qh.appendChild(this.dT.m);this.wv=K.ny(this,this.body)}dT.prototype=new jM;dT.prototype.ro=function(e,Z){return e!=null};
dT.prototype.dS=function(){return!0};dT.prototype.apl=function(e){var Z=this.vC.U(),F=this.cQ,b=this.dT;
if(Z)b.N_();else b.aK();if(Z)F.as0();else F.an5()};dT.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this.dT.n();this.cQ.n()};dT.prototype.bM=function(e){this.close();var Z=this.cQ.U(),F=Z.x,b=Z.y,_=this.dT.U();
if(!this.vC.U())_=null;var d=new j8(G.E.GT,!0);d.data=i.Za.ZA(F,b,this.cQ.B7(),_);this.$(d)};dT.prototype.jQ=function(e,Z){this.cQ.f(new bI(e.w,e._),e.Cr);
this.cQ.TP()};function i_(){jM.call(this,"Import RAW","importraw");var e=K.L("div","flexrow"),Z=K.L("div");
Z.setAttribute("style","margin-bottom: 1em");this.body.appendChild(e);this.body.appendChild(Z);var F=K.L("div","form");
F.setAttribute("style","width:18em");e.appendChild(F);var b=K.L("div","form");b.setAttribute("style","width:15em");
e.appendChild(b);this.Cd=null;this.ask=null;this.KG=null;this.II=null;this.ag$=[];var _=[];for(var l=0;
l<i_.ji.length;l++)_.push(i_.ji[l]+" Bits");var d=this.Y_=[new ew(!0,null,null,!0),new en([12,72],1,8),new c7("Last one is Transparency"),new jv([12,34],_),new jv("Byte Order",["12-34","34-12"]),new dE("Guesses",[])];
for(var l=0;l<d.length;l++){var S=d[l];S.parent=this;S.h(G.E.p,l==5?this.a9h:this.oJ,this);var U=l==0?F:l==5?Z:b;
U.appendChild(S.m)}this.O=K.L("canvas");this.Gl=this.O.getContext("2d");this.body.appendChild(this.O);
this.wv=K.ny(this,this.body)}i_.prototype=new jM;i_.prototype.n=function(){jM.prototype.n.call(this);
var e=this.Y_;this.wv.n();for(var l=0;l<e.length;l++)e[l].n()};i_.prototype.bM=function(e){this.close();
var Z=this.Y_[0].U(),F=fg.vr(this.ask,[{data:this.KG,V4:new e3(0,0,Z.x,Z.y)}]);if(this.II)F.LE=this.II;
var b=new j8(G.E.W,!0);b.data={d:!0?G.B.I8:G.B.pr,Bm:F};this.$(b)};i_.ji=[8,16];i_.prototype.jQ=function(e,Z){this.Cd=new Uint8Array(Z.Ca);
this.ask=Z.Iv;var F=this.Cd.length,b=[1,3,4],_=0,d=0,S=1,U=1,r=this.ag$=[];for(var q=0;q<3;q++){for(var w=0;
w<2;w++){var X=i_.ji[w],Q=b[q],c=Q*X,u=Math.round(F*8/c);if(u!=F*8/c)continue;for(var n=0;n<=4e3;n++)for(var k=0;
k<=4e3;k++)if(n*k==u){var B=0;if(n==k)B+=64;if(Math.round(n/100)==n/100&&Math.round(k/100)==k/100)B+=32;
if(Math.round(n/10)==n/10&&Math.round(k/10)==k/10)B+=16;if(Math.round(n/2)==n/2&&Math.round(k/2)==k/2)B+=8;
r.push([n,k,Q,X,B])}}}var o=function($,R){if(R[4]!=$[4])return R[4]-$[4];var P=Math.max($[0],$[1])/Math.min($[0],$[1]),H=Math.max(R[0],R[1])/Math.min(R[0],R[1]);
if(P!=H)return P-H;return R[0]-$[0]};r.sort(o);var T=this.Y_,z=[];for(var l=0;l<r.length;l++){var W=r[l];
z.push(W[0]+" x "+W[1]+", "+W[2]+"ch, "+W[3]+"-bit")}T[5].mj(z);T[5].f(0);this.a9h(null)};i_.prototype.a9h=function(e){var Z=this.Y_,F=this.ag$[this.Y_[5].U()];
Z[0].f(new bI(F[0],F[1]),72);Z[1].f(F[2]);Z[3].f(i_.ji.indexOf(F[3]));this.oJ()};i_.prototype.oJ=function(e){var Z=this.Y_,F=Z[0].U(),b=F.x,_=F.y,d=i_.ji[Z[3].U()],S=this.Cd;
if(d==16&&Z[4].U()==1){S=S.slice(0);for(var l=0;l<S.length;l+=2){var U=S[l];S[l]=S[l+1];S[l+1]=U}}var r=this.KG=this.Fx(S,b,_,Z[1].U(),d,Z[2].U()),q=this.O,w=this.Gl,X=[r,new e3(0,0,b,_)];
V.nP(X);for(var l=0;l<X.length;l+=2)if(X[l+1]._<300){r=X[l];b=X[l+1].w;_=X[l+1]._;break}q.width=b;q.height=_;
K.rB(q,b,_);var Q=new ImageData(new Uint8ClampedArray(r.buffer),b,_);w.putImageData(Q,0,0)};i_.prototype.Fx=function(e,Z,F,b,_,d){this.II=null;
var S=[],U=Z*F;for(var r=0;r<b;r++){var q=V.J(U);S.push(q);if(_==8)for(var l=0;l<U;l++)q[l]=e[l*b+r];
else if(_==16)for(var l=0;l<U;l++)q[l]=Math.round((e[(l*b+r)*2]<<8|e[(l*b+r)*2+1])*(255/65535))}var w=V.J(U*4);
new Uint32Array(w.buffer).fill(4278190080);if(d){V.s$(S.pop(),w,3);b--}if(b==0){}else if(b==1)V.jh(S[0],w);
else{V.s$(S[0],w,0);V.s$(S[1],w,1);if(b>2){V.s$(S[2],w,2);if(b>3){this.II=[];for(var l=3;l<b;l++){var X=new g.hW;
X.name="Alpha "+(l-2);X.rect=new e3(0,0,Z,F);X.channel=S[l];this.II.push(X)}}}}return w};function ev(e,Z,F){h1.call(this);
this.m=K.L("div","");this.KU=e;this.yE=null;this.uR=Z==null?!1:Z;this._H=null;this.hv=F;this.LA=[];this.vT=[];
this.wk=[];this.VO=[];this.UE=0;this.yE=this.ag_(ev.VO[e]);this.c8();this.YL=null;this.a9I;this.a4O}ev.prototype=new h1;
ev.prototype.NU=function(e,Z,F,b,_){this.YL=_;this.a9I=JSON.parse(JSON.stringify(this._H));if(this.yE.lagl)this.a4O=this.yE.lagl.U()[0]};
ev.prototype.SE=function(e,Z,F,b,_){var d=this.YL,S=this.KU,U=this.a9I;if(d==null)return;var r=(_.x-d.x)/e.t.e,q=(_.y-d.y)/e.t.e;
if(S=="GrFl"){var w=JSON.parse(JSON.stringify(U.Ofst.v));w.Hrzn.v.val+=r*.5;w.Vrtc.v.val+=q*.5;this.yE.Ofst.f(w,!0)}if(S=="patternFill"){var w=JSON.parse(JSON.stringify(U.phase.v));
w.Hrzn.v+=r;w.Vrtc.v+=q;this.yE.phase.f(w,!0)}if(S=="DrSh"||S=="IrSh"||S=="ChFX"){var X=U.Dstn.v.val,Q=this.a4O*Math.PI/180,c=-Math.cos(Q)*X+r,u=Math.sin(Q)*X+q;
this.yE.Dstn.f(Math.sqrt(c*c+u*u),!0);this.yE.lagl.f([Math.atan2(u,-c)*180/Math.PI],!0)}};ev.prototype.UD=function(e,Z,F,b,_){this.YL=null};
ev.prototype.a8v=function(){for(var l=0;l<this.VO.length;l++){K.vB(this.VO[l],"selected");if(this.wk[l]instanceof c7)this.wk[l].f(!1)}};
ev.prototype.ajN=function(e){var Z=this.arJ.bind(this);for(var l=0;l<this.wk.length;l++){var F=K.L("div","listitem");
this.VO.push(F);if(l>0)F.textContent="\u2003";F.appendChild(this.wk[l].m);if(fu.Ph.indexOf(this.KU)!=-1){var b=new cd("+");
b.SB();b.m.style.float="right";F.appendChild(b.m);var _=new cd("\u2B0D");_.SB();_.m.style.float="right";
_.m.style["margin-right"]="2px";F.appendChild(_.m)}F.addEventListener("click",Z,!1);e.appendChild(F)}};
ev.qB=function(e,Z){var F=Z.getBoundingClientRect();return(e.clientY-F.top)/F.height};ev.prototype.arJ=function(e){var Z=e.target.tagName.toLowerCase();
if(Z=="input"){return}if(Z=="button"){var F=new j8(G.E.u,!0),b=e.target.textContent=="+",_=b?0:ev.qB(e,e.target)<.5?-1:1;
if(b)F.data={d:"st_dupsingle",i:this.parent.data.i,dY:this.hv};else F.data={d:"st_movsingle",i:this.parent.data.i,dY:this.hv,aqB:_};
F.k=i.D7;F.ma=!0;this.$(F);F=new j8("redrawall",!0);F.data={aqB:_};this.$(F);return}K.Zn(e);this.iE();
this.UE=this.VO.indexOf(e.currentTarget);this.$(new j8("showme"))};ev.prototype.iE=function(){if(this.yE.enab&&this.yE.enab.U()==!1)this.M8({oQ:"enab",I:!0})};
ev.prototype.a92=function(){var e=this.VO[this.UE];if(e)K.j_(e,"selected");return this.vT[this.UE]};
ev.prototype.ag_=function(e){var Z={};for(var l=0;l<e.length;l++){var F=e[l],b=null;if(F=="----")b={m:K.L("hr")};
if(F=="\n")b={m:K.L("br")};if(F=="blOptions")b=new dB([14,10]);if(F=="brst")b=new g_([12,72],["R","G","B"]);
if(F=="knko")b=new dE("Knockout",[[13,1,0],"Shallow","Deep"]);if(F=="enab")b=new c7(fu.names[fu.order.indexOf(this.KU)]);
if(F=="lrMd"||F=="Md")b=new dE([12,19,0],ae.Bj,!1,ae.aH);if(F=="Opct")b=new e_([12,0],0,100,"%");if(F=="iOpa")b=new e_([12,26],0,100,"%");
if(F=="blIf")b=new jq;if(F=="ShdN")b=new e_([12,68],0,100,"%");if(F=="lagl"||F=="Angl")b=new hD([12,15],this.KU=="ebbl");
if(F=="uglg")b=new c7([12,27]);if(F=="Dstn")b=new e_([12,28],0,200,"px");if(F=="Ckmt")b=new e_([12,29],0,100,"%");
if(F=="blur")b=new e_([12,14,0],0,200,"px");if(F=="TrnS"||F=="MpgS")b=new eb([12,21]);if(F=="Nose")b=new e_([12,30],0,100,"%");
if(F=="layerConceals")b=new c7([12,31]);if(F=="AntA"||F=="antialiasGloss")b=new c7([12,25,1]);if(F=="GlwT")b=new dE([12,32],fu.Mh.names);
if(F=="glwS")b=new dE([12,70],fu.Mh.arD);if(F=="Inpr")b=new e_([12,12],1,100,"%");if(F=="bvlS")b=new dE([12,22],fu.M$.style);
if(F=="bvlT")b=new dE([12,32],fu.M$.a5i);if(F=="bvlD")b=new dE(null,fu.M$.dir);if(F=="srgR")b=new e_([12,34],0,1e3,"%");
if(F=="Sftn")b=new e_([12,35],0,20,"px");if(F=="Lald")b=Z.lagl;if(F=="hglM"||F=="sdwM")b=new dE([12,36],ae.Bj,!1,ae.aH);
if(F=="hglC"||F=="sdwC")b=new jQ;if(F=="hglO"||F=="sdwO")b=new e_([12,0],0,100,"%");if(F=="Invr"||F=="InvT")b=new c7([4,11]);
if(F=="Sz")b=new e_([12,14,0],1,200,"px");if(F=="Styl")b=new dE([12,40],fu.stroke.names);if(F=="PntT")b=new dE([12,66],fu.stroke.a4S);
if(F=="Clr")b=new jQ(!0);if(F=="Grad"){b=new j0(!0,[12,37],!0);b.f(JSON.parse(fu.Jr.mz).v)}if(F=="Rvrs")b=new c7([12,23,0]);
if(F=="Dthr")b=new c7([12,23,3]);if(F=="Type")b=new dE([12,22],fu.X.names.slice(0,this.KU=="FrFX"?6:5));
if(F=="Ptrn")b=new fV([12,62]);if(F=="Scl")b=new e_([12,38],10,500,"%",0,!0);if(F=="Algn")b=new c7([12,39]);
if(F=="Ofst")b=new eZ(!0);if(F=="phase")b=new eZ(!1);if(F=="useShape")b=new c7([12,21]);if(F=="useTexture")b=new c7([12,67]);
if(F=="textureDepth")b=new e_([12,34],-300,300,"%");var _=F=="----"||F=="\n"?F+l:F;if(b!=null)Z[_]=b}return Z};
ev.prototype.aq8=function(e){var Z=this.vT[this.UE];for(var l=0;l<e.length;l++){var F=this.yE[e[l]];
if(F&&Z.contains(F.m))Z.removeChild(F.m)}};ev.prototype.as4=function(e){var Z=this.vT[this.UE];for(var l=0;
l<e.length;l++){var F=this.yE[e[l]];if(F&&!Z.contains(F.m))Z.appendChild(F.m)}};ev.prototype.ZP=function(e,Z){if(this.yE==null)return;
var F=Z==c6.vy;if(this.yE.Grad){this.yE.Grad.cz(e.Ly,e.ZE);if(F||Z==c6.kp||Z==c6.kv)this.yE.Grad.z6(e.Cb)}if(this.yE.Ptrn){if(F||Z==c6.hs)this.yE.Ptrn.z6(e.NY)}if(this.yE.TrnS){if(F||Z==c6.Hy)this.yE.TrnS.z6(e.Ui)}if(this.yE.MpgS){if(F||Z==c6.Hy)this.yE.MpgS.z6(e.Ui)}};
ev.prototype.n=function(){for(var l=0;l<this.LA.length;l++)this.LA[l].n();for(var e in this.yE)if(this.yE[e]instanceof h1)this.yE[e].n()};
ev.prototype.c8=function(){for(var e in this.yE){var Z=this.yE[e];Z.parent=this;if(Z instanceof h1)Z.h(G.E.p,this.a74,this);
if(this.vT.length==0||e=="useShape"||e=="useTexture"){var F=new dB(Z.agL()),b=K.L("div","bordered padded");
if(this.uR==!1){b.appendChild(F.m);b.appendChild(K.L("hr",""))}this.LA.push(F);this.vT.push(b);this.wk.push(Z)}else this.vT[this.vT.length-1].appendChild(Z.m)}};
ev.prototype.update=function(e,Z){if(this.yE==null)return;this._H=JSON.parse(JSON.stringify(Z));for(var F in Z){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(F)!=-1)this.yE[F].f(Z[F].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(F)!=-1){this.yE[F].f(Z[F].v,e)}if(["Md","hglM","sdwM"].indexOf(F)!=-1)this.yE[F].f(ae.KU.indexOf(Z[F].v.BlnM));
if(F=="lrMd"){var b=(Z.yx?[[15,10,27]]:[]).concat(ae.Bj),_=(Z.yx?[1]:[]).concat(ae.aH);this.yE[F].mj(b,_);
this.yE[F].f(Z[F].v)}if(F=="Angl")this.yE[F].f([Z[F].v.val]);if(F=="lagl"){var d=Z.uglg&&Z.uglg.v?e.Kv():Z.lagl.v.val;
this.yE[F].f([d])}if(F=="Lald"){var d=Z.uglg&&Z.uglg.v?e.Bt():Z.Lald.v.val;this.yE[F].f([null,d])}if(F=="Type")this.yE[F].f(fu.X.types.indexOf(Z.Type.v.GrdT));
if(F=="Styl")this.yE[F].f(fu.stroke.types.indexOf(Z.Styl.v.FStl));if(F=="PntT"){var S=fu.stroke.MG.indexOf(Z.PntT.v.FrFl);
this.yE[F].f(S);if(!this.uR){this.aq8(fu.On.concat(fu.So.concat(fu.p6)));this.as4([fu.On,fu.So,fu.p6][S])}}if(F=="GlwT")this.yE[F].f(fu.Mh.types.indexOf(Z.GlwT.v.BETE));
if(F=="glwS")this.yE[F].f(fu.Mh.CK.indexOf(Z.glwS.v.IGSr));if(F=="bvlS")this.yE[F].f(fu.M$.types.indexOf(Z.bvlS.v.BESl));
if(F=="bvlT")this.yE[F].f(fu.M$.qs.indexOf(Z.bvlT.v.bvlT));if(F=="bvlD")this.yE[F].f(["In","Out"].indexOf(Z.bvlD.v.BESs))}};
ev.prototype.a74=function(e){for(var Z in this.yE){if(this.yE[Z]!=e.target)continue;var F=null,b=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(Z)!=-1)F={type:"#Prc",val:e.target.U()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(Z)!=-1)F={type:"#Pxl",val:e.target.U()};if(["Angl","lagl"].indexOf(Z)!=-1)F={type:"#Ang",val:e.target.U()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(Z)!=-1)F=e.target.U();
if(["Md","hglM","sdwM"].indexOf(Z)!=-1)F={BlnM:ae.KU[e.target.U()]};if(Z=="uglg"){F=e.target.U();b=!0}if(Z=="PntT"){F={FrFl:fu.stroke.MG[e.target.U()]};
b=!0}if(Z=="Lald")F={type:"#Ang",val:e.target.U()[1]};if(Z=="Type")F={GrdT:fu.X.types[e.target.U()]};
if(Z=="Styl")F={FStl:fu.stroke.types[e.target.U()]};if(Z=="GlwT")F={BETE:fu.Mh.types[e.target.U()]};
if(Z=="glwS")F={IGSr:fu.Mh.CK[e.target.U()]};if(Z=="bvlS")F={BESl:fu.M$.types[e.target.U()]};if(Z=="bvlT")F={bvlT:fu.M$.qs[e.target.U()]};
if(Z=="bvlD")F={BESs:["In","Out"][e.target.U()]};this.M8({oQ:Z,I:F});if(b){if(this.uR)this.update(null,this._H);
else{var _=this.parent,d=_.Bm,S=this.hv,U=d.g[_.data.i].add.lmfx[fu.VX[S[0]]].v[S[1]].v;this.update(d,U)}}}};
ev.prototype.M8=function(e){if(this._H&&this._H[e.oQ])this._H[e.oQ].v=e.I;if(this.uR){this.$(new j8(G.E.p))}else{e.d="changeprop";
e.i=this.parent.data.i;e.wD=this.hv;var Z=new j8(G.E.u,!0);Z.data=e;Z.k=i.D7;Z.ma=!0;this.$(Z);this.$(new j8("afterchange",!0))}};
ev.prototype.U=function(){return JSON.parse(JSON.stringify(this._H))};ev.VO={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(fu.On),GrFl:["enab","Md","Opct"].concat(fu.So),patternFill:["enab","Md","Opct"].concat(fu.p6),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(fu.On.concat(fu.So.concat(fu.p6)))};
function ay(){jM.call(this,[11,6],"layerstyle");this.a61=-1;this.data={};this.Bm=null;this.Pk=null;this.$o=[];
this._r=[];K.j_(this.body,"flexrow");this.S4=K.L("div","bordered");this.S4.setAttribute("style","min-width:13em;");
this.body.appendChild(this.S4);this.Xu=K.L("div","");this.Xu.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Xu);this.lL=K.L("div","form");this.lL.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.lL);this.wv=K.ny(this,this.lL);this.Nu=new cd([12,87],!0,null,!0);this.Nu.h("click",this.a35,this);
this.lL.appendChild(this.Nu.m);this.ii=new hh;this.ii.parent=this;this.ii.h(G.E.p,this.ann,this);this.lL.appendChild(this.ii.m);
this.h("closebtn",this.Ql,this);this.h("redrawall",this.aqu,this)}ay.prototype=new jM;ay.prototype.dS=function(){return!0};
ay.prototype.rm=function(){return!0};ay.prototype.NU=function(e,Z,F,b,_){var d=this.BN();if(d)d.NU(e,Z,F,b,_)};
ay.prototype.SE=function(e,Z,F,b,_){var d=this.BN();if(d)d.SE(e,Z,F,b,_)};ay.prototype.UD=function(e,Z,F,b,_){var d=this.BN();
if(d)d.UD(e,Z,F,b,_)};ay.prototype.BN=function(e){if(e==null)e=this.data.index;return e==null?null:e==0?this.$o[0]:this._r[e[0]][e[1]]};
ay.prototype.ann=function(e){var Z=this.ii.U();this.M8({d:"setstl",I:Z.J_});this.aqu(null)};ay.prototype.a35=function(e){var Z=this.Bm,F=this.data.i;
if(F==null)F=Z.V[0];var b=this.Bm.g[F],_=d4.ail(b),d=new j8(G.E.W,!0);d.data={d:G.B.aE,iH:"add",NG:c6.y9,va:[JSON.parse(JSON.stringify(_))]};
this.$(d)};ay.prototype.at2=function(e){this.data.index=e.currentTarget.hv;this.eH(e.currentTarget.hv)};
ay.prototype.aqu=function(e){this.jQ(this.Bm,this.data)};ay.prototype.eH=function(e,Z){K.WL(this.Xu);
for(var l=0;l<this.$o.length;l++)this.$o[l].a8v();var F=this.BN(e);this.Xu.appendChild(F.a92());if(Z)F.iE();
var b=this.Bm;if(b){var _=b.g[this.data.i];this.$o[0].update(b,i.ev.mO(b,_));var d=_.add.lmfx;if(d==null)return;
for(var l=0;l<fu.order.length;l++){var S=d[fu.VX[l]].v;for(var U=0;U<S.length;U++)this._r[l][U].update(b,S[U].v)}}if(Z)F.iE()};
ay.prototype.n=function(){jM.prototype.n.call(this);this.Nu.n();this.ii.n();this.wv.n();for(var l=0;
l<this.$o.length;l++)this.$o[l].n()};ay.prototype.jQ=function(e,Z){var F=Z.i==null;this.data.i=Z.i;this.data.index=Z.index;
Z=this.data;this.Bm=e;if(F)Z.i=e.V.length==0?e.g.length-1:e.V[0];K.WL(this.S4);var b=e.g[Z.i].add.lmfx;
this.Vr();this.$o=[new ev("bops",!1,0)];this._r=[];for(var l=0;l<fu.order.length;l++){this._r.push([]);
var _=b==null?[]:b[fu.VX[l]].v;for(var d=0;d<_.length;d++){var S=new ev(fu.order[l],!1,[l,d]);this.$o.push(S);
this._r[l].push(S)}if(_.length==0){var S=new ev(fu.order[l],!1,[l,0]);this.$o.push(S);this._r[l].push(S)}}this.n();
this.a6m(this.Pk,c6.vy);for(var l=0;l<this.$o.length;l++){this.$o[l].parent=this;this.$o[l].ajN(this.S4);
this.$o[l].h("showme",this.at2,this)}if(Z.index==null||Z.index==0||!F&&b[fu.VX[Z.index[0]]].v.length==0){this.eH(0)}else this.eH(Z.index,F);
this.h("afterchange",this.Vr,this)};ay.prototype.Vr=function(e){var Z=this.Bm,F=this.data.i;if(F==null)F=Z.V[0];
var b=this.Bm.g[F],_=d4.ail(b);this.ii.f(_,Z.add.Patt?Z.add.Patt:[],Z.Kv(),Z.Bt())};ay.prototype.ZP=function(e,Z){this.Pk=e;
this.a6m(e,Z);if(Z==c6.y9||Z==c6.vy){this.ii.z6([e.Ei,e.NY])}if(Z==c6.Fj){}};ay.prototype.a6m=function(e,Z){for(var l=0;
l<this.$o.length;l++)this.$o[l].ZP(e,Z)};ay.prototype.Ql=function(e){this.M8({d:"cancel"})};ay.prototype.bM=function(e){this.M8({d:"confirm"});
this.close()};ay.prototype.M8=function(e){e.i=this.data.i;var Z=new j8(G.E.u,!0);Z.data=e;Z.k=i.D7;Z.ma=!0;
this.$(Z);this.Vr()};ay.qA=function(e){var Z=[{name:[14,10],jr:!0}];for(var l=0;l<fu.names.length;l++)Z.push({name:fu.names[l]});
if(e){Z[Z.length-1].jr=!0;Z.push({name:"Scale Effects",P:function(F){return{P:F!=null&&F.V.length!=0&&F.g[F.V[0]].cq()}}});
Z.push({name:["VAR0 VAR1",[12,49],[9,1]],P:function(F){return{P:F!=null&&F.V.length!=0&&F.g[F.V[0]].add.lmfx!=null}}})}return Z};
ay.LV=function(e){var Z=[{Y:G.E.W,R:{d:G.B.tJ,ZB:"layerstyle"}}];for(var l=0;l<fu.names.length;l++)Z.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"layerstyle",index:[l,0]}});
if(e){Z.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"scaleeffects",Xd:100,kD:{Y:G.E.u,k:i.D7,R:{d:"scaleeffects"}}}});
var F={classID:"Mk",null:dz.vz("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
Z.push({Y:G.E.GT,R:{qg:"make",ni:F}})}return Z};ay.amv=function(e){var Z=[];if(e)Z.push({name:[6,48,0,0],vD:!0},{name:[6,48,0,1],vD:!0},{name:[6,48,0,2],vD:!0,jr:!0});
for(var F in hc.names)Z.push({name:hc.names[F],jr:hc.ZW.indexOf(F)!=-1,vD:N[F]!=null});return Z};ay.R4=function(e){var Z=[];
if(e){Z.push({Y:G.E.u,k:i.Z2,R:{d:"newfill",K$:0}});for(var l=1;l<3;l++)Z.push({Y:G.E.GT,R:i.Dd.eX(l)})}for(var F in hc.names){var b=ff.wy(F);
if(b==null)b={};for(var _ in hc.Kd)if(hc.Kd[_]==F)b.classID=_;var d={qg:"make",ni:{classID:"Mk",null:dz.vz("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:b}}}}};
Z.push({Y:G.E.GT,R:d})}return Z};function aw(){jM.call(this,"Merge Channels","mergechannels");this.Fa=null;
var e=K.L("div","form");this.body.appendChild(e);this.Y_=[];for(var l=0;l<3;l++){var Z=new dE(hc.aD[l],[]);
this.Y_.push(Z);e.appendChild(Z.m);K.MV(e)}this.wv=K.ny(this,e)}aw.prototype=new jM;aw.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();for(var l=0;l<3;l++)this.Y_[l].n()};aw.prototype.jQ=function(e,Z,F,b){this.Fa=F;var _=[];
for(var l=0;l<F.length;l++)_.push(F[l].name);for(var l=0;l<3;l++){var d=this.Y_[l];d.mj(_);d.f(Math.min(l,F.length-1))}};
aw.prototype.bM=function(e){var Z=this.Fa,F=Z[0],b=new j8(G.E.GT,!0);b.data=aH.yQ(F.w,F._,F.Cr,"Merged Document","Wht",!1);
this.$(b);var _=[];for(var l=0;l<3;l++)_.push(Z[this.Y_[l].U()].zB());var F=Z[Z.length-1],d=F.g[0],S=d.buffer;
for(var l=0;l<S.length;l+=4){S[l]=_[0][l];S[l+1]=_[1][l];S[l+2]=_[2][l]}d.G();F.G();this.close()};function j3(){jM.call(this,[1,10],"script");
var e=K.L("div","form");e.setAttribute("style","width:44em");this.body.appendChild(e);this.Pk=null;this._7=[];
this.mZ=[];this.ahc;var Z=this.bO=new cd([1,2],!1,null,!0);Z.h("click",this.RN,this);e.appendChild(Z.m);
var F=new cd("JS Reference",!1,null,!0);F.h("click",this.aht,this);e.appendChild(F.m);e.appendChild(new dB("Demos:").m);
this.atX=[];var b=j3.$E;for(var l=0;l<b.length;l++){var _=new cd(b[l].gL,!1,null,!0);this.atX.push(_);
e.appendChild(_.m);_.h("click",this.a4c,this)}this.$A=K.L("textarea");K.lN(this.$A);this.$A.setAttribute("rows",16);
this.$A.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");e.appendChild(this.$A);
var d=new cd("Run",!0,null,!0);d.h("click",this.bM,this);e.appendChild(d.m);this.ana=K.L("div");e.appendChild(this.ana)}j3.prototype=new jM;
j3.prototype.n=function(){this.bO.n()};j3.prototype.RN=function(){var e=this.ahc;if(e==null)e="script.jsx";
var Z=new j8(G.E.W,!0);Z.data={d:G.B.tJ,ZB:"namewindow",Xd:e.slice(0,e.length-4),c4:this.acG.bind(this)};
this.$(Z)};j3.prototype.acG=function(e){var Z=this.$A.value,F=s.nw(Z),b=new j8(G.E.W,!0);b.data={d:G.B.LU,Ca:F.buffer,if:e+".jsx",abo:!0};
this.$(b)};j3.prototype.a3M=function(e){var l=this._7.indexOf(e.target),Z=this.ahc=this.mZ[l],F=this.Pk.la.JN[Z],b=new Uint8Array(F),_=s.CI(b,0,b.length);
this.$A.value=_};j3.prototype.jQ=function(e,Z,F){this.$A.value=j3.$E[0].r1;this.a6A()};j3.prototype.a6A=function(){var e=this.Pk.la,Z=this.ana;
K.WL(Z);this._7=[];this.mZ=[];Z.textContent="Saved scripts: ";for(var F in e.JN){if(F.endsWith(".jsx")){var b=new cd(F,!1,null,!0);
this._7.push(b);this.mZ.push(F);b.h("click",this.a3M,this);Z.appendChild(b.m)}}};j3.prototype.ZP=function(e,Z){this.Pk=e;
if(Z==c6.Pq)this.a6A()};j3.prototype.aht=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.i8,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.$(Z)};j3.prototype.bM=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.PW,nF:this.$A.value};this.$(Z)};
j3.prototype.a4c=function(e){var Z=this.atX.indexOf(e.currentTarget);this.$A.value=j3.$E[Z].r1};j3.$E=[{gL:"Hello",r1:"\nalert(\"Hello Photopea!\");\n"},{gL:"Process Layers",r1:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{gL:"Clone Layers",r1:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cu(){jM.call(this,[11,7],"newproject");this.data=null;this.Fa=null;var e=K.L("div","flexrow");
this.EH=e;this.body.appendChild(e);var Z=K.L("div","form");this.Qh=Z;e.appendChild(Z);this.Fl=new cY([12,48],null,10);
Z.appendChild(this.Fl.m);K.MV(Z);this.cQ=new ew(!0,null,null,null,!0);this.cQ.f(new bI(1280,720),72);
this.cQ.h(G.E.p,this.uK,this);Z.appendChild(this.cQ.m);this.G0=new dn;this.G0.parent=this;Z.appendChild(this.G0.m);
this.x2=new c7("Artboards");Z.appendChild(this.x2.m);this.wv=new cd([12,49],!0,null,!0);this.wv.h("click",this.bM,this);
Z.appendChild(this.wv.m);var F=cu.Cd,b=[];for(var l=0;l<F.length;l++)b.push(F[l].name);this.Y9=new jv(null,b);
this.Y9.h(G.E.p,this.afi,this);Z.appendChild(this.Y9.m);this.Y9.m.style["margin-top"]="1em";this.Wf=new b7(!0);
this.Wf.h(G.E.p,this.abS,this);Z.appendChild(this.Wf.m);this.afi();this.uo=new di;this.uo.parent=this;
this.uo.m.setAttribute("style","margin-left:1em");this.uo.h("tempready",this.a1L,this)}cu.prototype=new jM;
cu.prototype.ZP=function(e,Z){this.uo.ZP(e)};cu.prototype.$b=function(e,Z){return new bI(Math.max(0,Math.min(70,(e-690)/2)),e>Z?Math.max(0,Math.min(50,(Z-400)/2)):0)};
cu.prototype.Av=function(e,Z){this.Qh.setAttribute("style","width:"+Math.min(e-24,338)+"px");this.Wf.m.style.height=Z-248+"px";
var F=this.uo.m,b=F.parentNode;if(e<500){if(b!=null)this.EH.removeChild(F)}else{if(b==null)this.EH.appendChild(F);
this.uo.Av(e-378,Z-28)}};cu.prototype.uK=function(){this.uo.f(this.cQ.U())};cu.prototype.abS=function(e){var Z=this.Wf.U()[0],F=cu.Cd[this.Y9.U()].U9[Z],b=F[4];
if(b==0)b=72;var _=F[1],d=F[2],S=["px","%","mm","in"].indexOf(F[3]),U=[1,1,25.4/b,1/b][S];_/=U;d/=U;
this.cQ.f(new bI(Math.round(_),Math.round(d)),b);this.cQ.aiG(S);this.uK()};cu.prototype.afi=function(e){var Z=cu.Cd[this.Y9.U()].U9,F=[],b=[],_=Math.round(106*K.F()),d=Math.round(106*K.F()),S=0;
for(var l=0;l<Z.length;l++)S=Math.max(S,Z[l][1],Z[l][2]);for(var l=0;l<Z.length;l++){var U=Z[l],r=U[1]+" x "+U[2]+" "+U[3];
if(U[3]=="in")r=(U[1]*25.4).toFixed(0)+" x "+(U[2]*25.4).toFixed(0)+" mm";if(U[3]=="mm")r=(U[1]/25.4).toFixed(1)+" x "+(U[2]/25.4).toFixed(1)+" in";
if(U[4])r=r+" @ "+U[4]+" ppi";b.push(r);F.push(cu.Bk(U,_,d,S))}this.Wf.Ra(F,b,_,d)};cu.Bk=function(e,Z,F,b){var _=K.L("canvas",""),d=_.getContext("2d");
_.width=Z;_.height=F;var S=Math.round(Z/8),U=Math.floor(11*K.F()),r=e[1],q=e[2];d.fillStyle="#000000";
d.font=Math.round(U*.9)+"px \"Open Sans\", Sans-Serif";var w=r+" x "+q+" "+e[3],X=d.measureText(w);d.fillText(w,Math.round((Z-X.width)/2),F-Math.round(S/2));
if(e[0]!=null){d.font="bold "+U+"px \"Open Sans\", Sans-Serif";var w=e[0],X=d.measureText(w);d.fillText(w,Math.round((Z-X.width)/2),F-Math.round(S/2)-Math.round(U*1.3))}F-=Math.round(2.5*U);
var Q=Math.min((Z-S)/r,(F-S)/q);Q*=.5+.5*(Math.max(r,q)/b);var c=(Z-r*Q)/2,u=(F-q*Q)/2;d.strokeRect(Math.round(c)+.5,Math.round(u)+.5,Math.round(r*Q),Math.round(q*Q));
return _.toDataURL()};cu.prototype.n=function(){jM.prototype.n.call(this);this.cQ.n();this.Fl.n();this.G0.n();
this.wv.n();this.Fl.f(gA.get([11,7]));this.Y9.n();this.x2.n();this.uo.n()};cu.prototype.bM=function(e){var Z=this.cQ.U(),F=Z.x,b=Z.y;
this.close();var _=this.G0.U(),d=new j8(G.E.GT,!0);d.data=aH.yQ(F,b,this.cQ.B7(),this.Fl.U(),["Wht","Blck","Trns","Clr"][_[0]],this.x2.U(),_[1]);
this.$(d);this.a8H()};cu.prototype.a1L=function(e){var Z=e.data.Bm;Z.Cr=this.cQ.B7();var F=new j8(G.E.W,!0);
F.data={d:G.B.I8,Bm:Z};this.$(F);this.close();this.a8H()};cu.prototype.a8H=function(){var e=this.Fa[this.Fa.length-1],Z=this.data.a2s;
if(Z)gR.nb(function(){var F=new XMLHttpRequest,b="https://www.googleapis.com/drive/v3/files?"+gR.l4();
F.open("POST",b,!0);F.setRequestHeader("Content-Type","application/json");F.addEventListener("load",function(_){var d=JSON.parse(_.target.response);
e.DI={file:d,$Q:"psd"};alert(e.name+" created in Google Drive")});F.send(JSON.stringify({name:e.name,afs:[Z]}))})};
cu.prototype.jQ=function(e,Z,F,b){this.Fa=F;if(e!=null&&e.K!=null){var _=new e3(0,0,e.w,e._).QP(e.K.rect);
this.cQ.f(new bI(_.w,_._))}this.data=Z;this.uK();if(K.ZO())h5.a5x(this.a7$.bind(this))};cu.prototype.a7$=function(e){if(e=="granted")h5.ee(this,this.a1E.bind(this))};
cu.prototype.a1E=function(e,Z){this.cQ.f(new bI(Z.w,Z._))};cu.Cd=[{name:"Social",U9:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],U9:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],U9:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],U9:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],U9:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],U9:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",U9:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function hF(e,Z,F){jM.call(this,Z,"sel_"+e);this.d=e;var b=K.L("div","form");this.body.appendChild(b);
this.Fl=new en(Z,0,255,null,0,!1,!0);b.appendChild(this.Fl.m);this.Fl.f(1);var _=K.L("span");_.textContent=F;
b.appendChild(_);K.MV(b);this.afY=new c7("Apply at canvas bounds");if(e!="border")b.appendChild(this.afY.m);
this.wv=K.ny(this,b)}hF.prototype=new jM;hF.prototype.ro=function(e,Z){if(e==null)return;if(e.K==null)alert("No selection!");
return e.K!=null};hF.prototype.bM=function(e){var Z=new j8(G.E.GT,!0);Z.data=i.wL.aav(this.d,this.Fl.U(),this.afY.U());
Z.ma=!0;this.$(Z);this.close()};hF.prototype.n=function(){jM.prototype.n.call(this);this.wv.n();if(this.Fl)this.Fl.n()};
hF.prototype.jQ=function(e,Z){};function a0(e,Z,F,b,_,d){jM.call(this,F,Z);this.akg=d;this.bl=_;this.Cd=null;
this.Qh=K.L("div","form");this.body.appendChild(this.Qh);this.Fl=e==0?new cY(F,null,10):new e_(F,0,500,b,1);
this.Fl.h(G.E.p,this.An,this);this.Qh.appendChild(this.Fl.m);this.wv=K.ny(this,this.Qh);this.h("closebtn",this.Ql,this)}a0.prototype=new jM;
a0.prototype.dS=function(){return this.akg};a0.prototype.An=function(e){var Z=this.Fl.U();if(this.bl)this.U6(Z)};
a0.prototype.Ql=function(e){if(this.bl)this.U6("cancel")};a0.prototype.bM=function(e){if(this.bl)this.U6("confirm");
else this.U6(this.Fl.U());this.close()};a0.prototype.U6=function(e){if(this.Cd.c4)this.Cd.c4(e);else if(this.Cd.kD){var Z=this.Cd.kD,F=new j8(Z.Y,!0);
F.k=Z.k;F.data=Z.R;F.data.I=e;F.ma=!0;this.$(F)}};a0.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();if(this.Fl)this.Fl.n()};a0.prototype.jQ=function(e,Z){this.Cd=Z;this.Fl.f(Z.Xd);this.Fl.TP();
this.An(null)};function d7(){jM.call(this,[1,5],"open_from_url");this.tY=null;var e=K.L("div","form");
this.body.appendChild(e);this.km=new cY("URL",null,22);e.appendChild(this.km.m);K.MV(e);this.IX=new jv([21,0],[[21,2],[21,1]]);
e.appendChild(this.IX.m);this.wv=K.ny(this,e)}d7.prototype=new jM;d7.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this.IX.n()};d7.prototype.jQ=function(e,Z,F){this.km.TP();this.tY=null;if(e&&F.indexOf(e)!=-1)this.tY=F.indexOf(e)};
d7.prototype.bM=function(e){var Z=new j8(G.E.W,!0),F=this.km.U();Z.data={d:G.B.l0,NG:{url:F,hf:!0,tY:this.IX.U()==1?this.tY:null}};
this.$(Z);this.close()};function fs(){jM.call(this,[12,79],"preferences");this.Pk=null;var e=K.L("div","form");
this.body.appendChild(e);this.VO=[new c7([8,2]),new c7([8,4]),new dE([12,80,3],[[12,93,3],[12,80,4]]),new e_([12,80,5],1,100,null,2),new dE(null,V.PR.$c),new dE([12,80,6],V.PR.$c)];
for(var l=0;l<this.VO.length;l++){var Z=this.VO[l];e.appendChild(Z.m);if(l!=3)K.MV(e);Z.h(G.E.p,this.xa,this)}}fs.prototype=new jM;
fs.prototype.n=function(){jM.prototype.n.call(this);for(var l=0;l<this.VO.length;l++)this.VO[l].n()};
fs.prototype.jQ=function(e,Z,F){};fs.prototype.ZP=function(e,Z){this.Pk=e;this.VO[0].f(e.I9.P3);this.VO[1].f(e.I9.B5);
this.VO[2].f(e.I9.zI);this.VO[3].f(e.I9.av);this.VO[4].f(e.I9.iK);this.VO[5].f(e.I9._b)};fs.prototype.xa=function(e){var Z=this.VO,F=JSON.parse(JSON.stringify(this.Pk.I9));
F.P3=Z[0].U();F.B5=Z[1].U();F.zI=Z[2].U();F.av=Z[3].U();F.iK=Z[4].U();F._b=Z[5].U();if(F.iK!=4)F.av=Math.round(F.av);
var b=new j8(G.E.W,!0);b.data={d:G.B.aE,NG:c6.Ga,mQ:F};this.$(b)};function hd(){jM.call(this,[11,8],"saveforweb");
this.ak1="";this.h("closebtn",function(){this.V_.G2()},this);this.s6=new bI(512,512);this.Bm=null;this.Ha=null;
this.ag0=null;this.Pk=null;K.j_(this.body,"flexrow");var e=K.L("div"),Z=K.L("div");this.body.appendChild(e);
this.body.appendChild(Z);this.xv=K.L("div","imgcont");e.appendChild(this.xv);this.V_=new hH;this.V_.Av(this.s6.x,this.s6.y);
this.tf=K.L("span");e.appendChild(this.tf);this.Qh=K.L("div","form cell");this.Qh.setAttribute("style","width:15em; padding-left:1em;");
Z.appendChild(this.Qh);this.HM=new dE([12,50],fg.ql());this.Qh.appendChild(this.HM.m);this.HM.h(G.E.p,this.ci,this);
this.cQ=new ew(!0,!0,!1,!0);this.cQ.h(G.E.p,this.ci,this);this.Qh.appendChild(this.cQ.m);this.hC=new gG;
this.hC.h(G.E.p,this.ci,this);this.Qh.appendChild(this.hC.m);this.RP=new cd([1,2],!0,null,!0);this.RP.h("click",this.bM,this);
this.Qh.appendChild(this.RP.m)}hd.prototype=new jM;hd.prototype.ro=function(e,Z){return e!=null};hd.prototype.n=function(){jM.prototype.n.call(this);
this.cQ.n();this.HM.n();this.hC.n();this.RP.n()};hd.prototype.bM=function(e){var Z=this.Bm.name,F=Z.lastIndexOf("."),Z=F==-1?Z:Z.slice(0,F),b=fg.ql()[this.HM.U()],_=b=="JPG"||b=="PNG"||b=="GIF",d=fg.H_(b),S="."+b.toLowerCase(),U=this.Ha,r=Z+S,q=this.Bm,w=q.sP;
if(w.length!=0&&_&&this.hC.U().pop()){var X="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",Q=[],c={},u=new e3(0,0,q.w,q._),n=q.zB();
for(var l=0;l<w.length;l++)Q.push(i.re.SO(w,l));Q.reverse();var k=V.rect.ns([0,0,q.w,q._],Q);for(var l=0;
l<k.length;l++){var B=k[l],o=new e3(B[0],B[1],B[2]-B[0],B[3]-B[1]),T=B.length==5?w[B[4]].v:null,z=V.J(o.Z()*4);
V.Rf(n,u,z,o);var W="img/img"+(l+1)+S;c[W]=new Uint8Array(d.ng([[z.buffer,0]],o.w,o._,this.hC.U()));
X+="<div style=\"background-image:url('"+W+"'); left:"+o.x+"px; top:"+o.y+"px; width:"+o.w+"px; height:"+o._+"px\">";
if(T&&T.url.v!="")X+="\n\t<a href=\""+T.url.v+"\" target=\""+T.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
X+="</div>\n"}X+="</body>\n</html>\n";var $=V.J(Math.round(X.length*1.5)),R=s.bB(X,$,0);c["index.html"]=$.slice(0,R);
U=UZIP.encode(c);r=Z+".zip"}else if(q.add.artd&&q.add.artd.Cnt.v>1&&_&&this.hC.U().pop()){var c={},u=new e3(0,0,q.w,q._),n=q.zB(),P=q.root.children;
for(var l=0;l<P.length;l++){var H=P[l].i;if(H.add.artb==null||!H.ir())continue;var y=H.iU(),h=V.J(y.Z()*4);
V.Rf(n,u,h,y);c[H.getName()+S]=new Uint8Array(d.ng([[h.buffer,0]],y.w,y._,this.hC.U()))}U=UZIP.encode(c);
r=Z+".zip"}if(q.ZR){var m=new XMLHttpRequest;m.open("GET","/papi/img/update.php?act=1&id="+q.ZR+"&rnd="+Math.random());
m.send()}var t=new j8(G.E.W,!0);t.data={d:G.B.Ax,data:U,name:r};this.$(t);this.V_.G2();this.close()};
hd.prototype.jQ=function(e,Z){if(Z.ix!=null)this.HM.f(Z.ix);this.Bm=e;var F=e.w+","+e._;if(F!=this.ak1){this.ak1=F;
this.cQ.f(new bI(e.w,e._),e.Cr)}this.hC.amn();if(Z.adO){this.cQ.aiG(3);this.hC.gP.PDF[2].W$.f(!0)}this.ci(null,!0)};
hd.prototype.$b=function(e,Z){return new bI(Math.max(0,Math.min(150,(e-770)/2)),Math.max(0,Math.min(150,(Z-590)/2)))};
hd.prototype.Av=function(e,Z){this.bo=e;this.zA=Z;this.s6.x=Math.min(512,e-26-214);this.s6.y=Math.min(512,Z-45);
if(this.Bm==null)return;var F=this.cQ.U(),e=F.x,Z=F.y,b=fg.ql()[this.HM.U()],_=fg.H_(b),X="<span style=\"width:",Q="display:inline-block; text-align:right;\">";
if(_.dH){var d=e,S=Z,U;if(b=="PDF"||_.qU){d=this.s6.x;S=this.s6.y}else{d=Math.min(e+20,this.s6.x);S=Math.min(Z+20,this.s6.y)}this.xv.firstChild.setAttribute("style","display:block; width:"+d+"px; height:"+S+"px;")}else{if(_.qU){d=this.s6.x;
S=this.s6.y}else{var r=this.ag0,q=r[0].V4,d=q.w,S=q._;this.V_.Av(Math.max(50,Math.min(d/K.F(),this.s6.x)),Math.max(50,Math.min(S/K.F(),this.s6.y)))}}var w=this.Ha.byteLength,c=b+":"+X+64+"px;"+Q+hd.nR(w)+"</span>";
if(this.s6.x>200)c+=X+90+"px; opacity:"+.5+";"+Q+w.toLocaleString()+" B</span>";this.tf.innerHTML=c};
hd.nR=function(e){var Z=e.toString(2),F=0;while(F+10<Z.length)F+=10;var b=(e/Math.pow(2,F)).toFixed(1),_="B KB MB GB TB PB".split(" ")[Math.floor(F/10)];
return b+" "+_};hd.prototype.ZP=function(e,Z){this.Pk=e};hd.prototype.ci=function(e,Z){var F=this.Bm,b=this.cQ.U(),_=b.x,d=b.y,S=this.HM.U(),U=fg.ql()[S],r=fg.K1(F)[0].length,q=["GIF","PNG","WEBP"].indexOf(U)!=-1&&r>1,n="";
if(q&&Z&&(r>4&&_*d>1024*1024||_*d*r>800*800*50)){var w=1;while(Math.max(_>>>w,d>>>w)>800)w++;var X=window.confirm("Your animation is large ("+_+" x "+d+" px). Press \"OK\" to scale it to "+(100>>>w)+"%. Press \"Cancel\" to keep the size.");
if(X){this.cQ.f(new bI(_>>>w,d>>>w),null,!0);_=_>>>w;d=d>>>w}}var Q=F.add.artd,c=Q!=null&&Q.Cnt.v>1;
this.hC.afG(U,q,F.sP.length!=0,c);var u=this.hC.U();this.Ha=fg.T4(F,U,_,d,u,this.Pk);if(this.Ha==null){this.Bm=null;
return}K.WL(this.xv);this.V_.G2();var k=fg.H_(U);if(k.qU){this.xv.innerHTML="<div></div>";n+="width:0px"}else if(k.dH){var B=_,o=d,T;
if(U=="PDF"){T=URL.createObjectURL(new Blob([this.Ha],{type:"application/pdf"}))}else{T=URL.createObjectURL(new Blob([this.Ha],{type:"image/svg+xml"}))}this.xv.innerHTML="<iframe src=\""+T+"\"></iframe>"}else{var z=this.ag0=k.Fx(this.Ha),W=z[0].V4,B=W.w,o=W._;
this.V_.f(z,z.length>1?u[u.length-3]:0);this.xv.appendChild(this.V_.m);n="background: rgba(0,0,0,0);"}this.xv.setAttribute("style","display:block; background-size:"+16/K.F()+"px;"+n);
this.Av(this.bo,this.zA)};function hs(){jM.call(this,[11,13],"shortcuts");var e=this.EH=K.L("div","scrollable");
e.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(e);
this.a4n()}hs.prototype=new jM;hs.prototype.n=function(){jM.prototype.n.call(this);this.a4n()};hs.prototype.a4n=function(){var e="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",Z="",F=ex,b=F.Nh,_=F.Ng,d=F.sW;
Z+="<h2 style=\"margin-top:0;\">Main Menu</h2>";Z+=e;Z+=this.wY([[0,0],"---",[1,0],[b,F.AD],[1,2],[b,F.pX],[1,3],[_,b,F.pX],[1,8],[d,_,b,F.pX],[0,1],"---",[2,0],[_,b,F.vO],[2,1],[b,F.vO],[5,0],[b,F.jy],[5,1],[b,F.Id],[5,2],[b,F.Sf],[2,2],"Delete",[2,3],[d,F.yr],[10,16],[d,b,F.xP],[12,79],[b,F.KP],[3],"---",[4,1],[b,F.qv],[4,2],[b,F.uP],[4,5],[b,F.Lb],[4,11],[b,F.vm],[0,3],"---",[6,0],[b,F.Ht],[6,6,0],[d,b,F.Ds],[6,9],[b,F.Ds],[6,10],[b,F.E],[0,5],"---",[7,0],[b,F.B],[7,1],[b,F.T7],[7,2],[_,b,F.vm],[0,7],"---",[8,0],[b,F.yv],[8,1],[b,F.Z9],[8,3],[b,F.Z8],[8,2],[b,F._5],[8,4],[b,F.Go],[11,13],"?"]);
Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";Z+=e;Z+=this.wY(["Vertical scroll","Wheel","Horizontal scroll",[b,"Wheel"],"Zooming",[d,"Wheel"]]);
Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
Z+=e;Z+=this.wY([[10,11],[b],[10,7],"Space",[10,17],[b,F.gT]]);Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
Z+=e;var S=hs.q,U=[];for(var l=0;l<S.length;l+=3)if(S[l+1])U.push(S[l],S[l+1]);U=U.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
Z+=this.wY(U);Z+="</div>";this.EH.innerHTML=Z};hs.prototype.wY=function(e){var Z="",F=!0;for(var l=0;
l<e.length;l+=2){var b=e[l],_=ex.Qf(e[l+1]);if(_==null){F=!1;continue}var d=K.eB(gA.get(b));if(_=="---"){if(!F)Z+="<br/>";
Z+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+d+"</div>"}else Z+="<div>"+d+" <span style=\"float:right; font-weight:bold;\">"+_+"</span> </div>";
F=!1}return Z};hs.q=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function ie(){jM.call(this,[8,11,1],"soptions");this.L3=null;var e=K.L("div","form");e.style.width="20em";
this.body.appendChild(e);this.D1={Nm:[12,48],url:"URL",null:[12,71]};this.VO={};for(var Z in this.D1){var F=new cY(this.D1[Z],null,15);
this.VO[Z]=F;e.appendChild(F.m)}this.wv=K.ny(this,e)}ie.prototype=new jM;ie.prototype.jQ=function(e,Z,F){var b=Z.I;
this.L3=JSON.stringify(b);for(var _ in this.D1){if(b[_])this.VO[_].f(b[_].v)}};ie.prototype.bM=function(e){var Z=JSON.parse(this.L3);
for(var F in this.D1){var b=this.VO[F].U();Z[F]={t:"TEXT",v:b}}var _=new j8(G.E.u,!0);_.k=i.IN;_.data=Z;
_.ma=!0;this.$(_);this.close()};ie.prototype.n=function(){jM.prototype.n.call(this);this.wv.n()};function gU(){jM.call(this,[2,3],"fill");
this.Pk=null;this.Yf=null;var e=K.L("div","form padded");e.style.width="22em";this.body.appendChild(e);
this.Tq="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.aV=new dE([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.aV.h(G.E.p,this.and,this);e.appendChild(this.aV.m);this.xv=K.L("span");e.appendChild(this.xv);this.t8=new jQ;
this.t8.parent=this;this.t8.jH(0);this.Jj=new fV;this.Jj.parent=this;this.Cw=new dE([12,19,0],ae.Bj,!1,ae.aH);
e.appendChild(this.Cw.m);this.lG=new e_([12,0],0,100,"%",0,!1);this.lG.f(100);e.appendChild(this.lG.m);
this.w_=new c7("Preserve Transparency");this.w_.f(!1);e.appendChild(this.w_.m);this.wv=K.ny(this,this.body)}gU.prototype=new jM;
gU.prototype.ro=function(e,Z){return e!=null};gU.prototype.dS=function(){return!0};gU.prototype.and=function(){var e=this.aV.U(),Z=this.t8.m,F=this.Jj.m,b=this.xv;
if(e==2)b.appendChild(Z);else if(b.contains(Z))b.removeChild(Z);if(e==7)b.appendChild(F);else if(b.contains(F))b.removeChild(F)};
gU.prototype.n=function(){jM.prototype.n.call(this);this.aV.n();this.Cw.n();this.lG.n();this.wv.n()};
gU.prototype.bM=function(e){if(!this.Yf.gy())return;var Z=new j8(G.E.GT,!0),F=this.aV.U();Z.data=i.Aj.eX(this.Tq[F],ae.Qd[this.Cw.U()],this.lG.U()/100,this.t8.U(),this.w_.U(),this.Jj.U());
this.close();this.$(Z)};gU.prototype.jQ=function(e,Z){this.Yf=e};gU.prototype.ZP=function(e,Z){this.Pk=e;
if(Z==c6.vy||Z==c6.hs){this.Jj.z6(e.NY);this.Jj.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function bO(){jM.call(this,[14,9],"stroke");this.Pk=null;this.Qh=K.L("div","form");this.Qh.setAttribute("style","width:24em");
this.body.appendChild(this.Qh);this.ao=new ev("FrFX",!0);this.ao.parent=this;var e=["Sz","Styl","Md","Opct"].concat(fu.On);
for(var l=0;l<e.length;l++){var Z=this.ao.yE[e[l]].m;this.Qh.appendChild(Z)}this.gS=!1;this.wv=K.ny(this,this.body)}bO.prototype=new jM;
bO.prototype.ro=function(e,Z){return e!=null};bO.prototype.dS=function(){return!0};bO.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();this.ao.n()};bO.prototype.bM=function(e){var Z=new j8(G.E.u,!0);Z.k=i.hF;Z.data={d:"stroke",a99:this.ao.U()};
this.close();this.$(Z)};bO.prototype.jQ=function(e,Z){if(!this.gS){var F=fu.qx[fu.order.indexOf("FrFX")];
F=JSON.parse(F);this.ao.update(e,F);this.gS=!0}var F=this.ao.U(),b=this.Pk.Ly;F.Clr.v=V.X.Q9({o:b>>16&255,z:b>>8&255,S:b&255});
this.ao.update(e,F)};bO.prototype.ZP=function(e,Z){this.Pk=e};function h4(){jM.call(this,[11,9],"textwarp");
this.VO=new aS;this.VO.h(G.E.p,this.r_,this);this.VO.parent=this;this.Qh=K.L("div","form");this.Qh.setAttribute("style","width:20em");
this.body.appendChild(this.Qh);this.Qh.appendChild(this.VO.sy.m);this.Qh.appendChild(this.VO.Hs.m);this.Qh.appendChild(this.VO.Gr.m);
this.Qh.appendChild(this.VO.KE.m);this.Qh.appendChild(this.VO.IQ.m);this.wv=K.ny(this,this.Qh);this.h("closebtn",this.Ql,this)}h4.prototype=new jM;
h4.prototype.dS=function(){return!0};h4.prototype.n=function(){jM.prototype.n.call(this);this.wv.n();
this.VO.n()};h4.prototype.r_=function(e){var Z=this.VO.U();this.U6({d:"warp",YY:Z})};h4.prototype.U6=function(e){var Z=new j8(G.E.u,!0);
Z.k=i.Xk;Z.data=e;Z.ma=!0;this.$(Z)};h4.prototype.Ql=function(e){this.U6({d:"warpCancel"})};h4.prototype.bM=function(e){this.U6({d:"warpConfirm"});
this.close()};h4.prototype.jQ=function(e,Z){var F=e.g[e.V[0]];this.VO.f(F.add.TySh.mw)};function fo(){jM.call(this,[11,12,0],"trim");
var e=this.Qh=K.L("div","form");this.Qh.setAttribute("style","width:22em");this.body.appendChild(this.Qh);
var Z=new dB("Color To Trim:");e.appendChild(Z.m);this._n=new g_(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this._n.f([!0]);this.Qh.appendChild(this._n.m);var Z=new dB("Sides:");e.appendChild(Z.m);this._Y=new g_(null,["Top","Left","Bottom","Right"]);
this._Y.f([!0,!0,!0,!0]);this.Qh.appendChild(this._Y.m);this.wv=K.ny(this,this.body)}fo.prototype=new jM;
fo.prototype.ro=function(e,Z){return e!=null};fo.prototype.dS=function(){return!0};fo.prototype.n=function(){jM.prototype.n.call(this);
this._n.n();this._Y.n();this.wv.n()};fo.prototype.bM=function(e){var Z=this._n.U().indexOf(!0),F=this._Y.U(),b=new j8(G.E.GT,!0);
b.data=i.Za.hR(Z,F);this.close();this.$(b)};function gN(){jM.call(this,"Raw Photopea","rawpea");this.KG=null;
this.xs=null;this.Yo=null;this.VG=0;this.LY=null;this.Kj=null;this.aez=500;this.afX=500;this.af0=0;this.h("closebtn",this.hO,this);
K.j_(this.body,"flexrow");var e=K.L("div"),Z=K.L("div"),b="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
Z.setAttribute("style","padding-left: 1em");this.body.appendChild(e);this.body.appendChild(Z);this.O=K.L("canvas");
e.appendChild(this.O);this.Be=new hq(225);this.Be.pk(4);Z.appendChild(this.Be.m);this.Qh=K.L("div");
this.Qh.setAttribute("style","width:18em;");Z.appendChild(this.Qh);this.ac0=new dB("Hi",!0);this.Qh.appendChild(this.ac0.m);
this.Wl=[new fZ("Temperature",2e3,13e3),new fZ("Tint",-150,150),new fZ([4,3],-4,4,null,!0),new fZ([12,3,0],-100,100)];
for(var l=0;l<this.Wl.length;l++){var F=this.Wl[l];F.f(0);F.h(G.E.p,this.qz,this);this.Qh.appendChild(F.m);
if(l==1)this.Qh.appendChild(K.L("hr"))}this.wv=new cd([1,0],!0,null,!0);this.wv.h("click",this.bM,this);
this.Qh.appendChild(this.wv.m);this.am=new cd(b+" JPG",!0,null,!0);this.am.h("click",this.ajP,this);
this.Qh.appendChild(this.am.m);this.am.m.style.marginTop="6px"}gN.prototype=new jM;gN.prototype.$b=function(){return new bI(0,0)};
gN.prototype.Av=function(e,Z){this.aez=e-274;this.afX=Z-32;if(this.KG)this.apg()};gN.prototype.n=function(){jM.prototype.n.call(this);
this.wv.n();for(var l=0;l<this.Wl.length;l++)this.Wl[l].n()};gN.prototype.ajP=function(e){var Z=this.KG,F=this.xs,b=V.J(Z.width*Z.height*4);
V.oi(b,4294967295);V.raw.bG(F,b,Z,this.R5());var _=fg.H_("JPG").ng([[b.buffer]],F.i2,F.fZ,[85]),d=new j8(G.E.W,!0);
d.data={d:G.B.Ax,data:_,name:"photo.jpg"};this.$(d)};gN.prototype.bM=function(e){var Z=this.KG,F=this.xs,b=V.J(Z.width*Z.height*4);
V.oi(b,4294967295);V.raw.bG(F,b,Z,this.R5());var _=bW.nU(Z),Z={V4:new e3(0,0,F.i2,F.fZ),data:b.buffer,iT:_},d=fg.vr("Raw Photo",[Z]),S=new j8(G.E.W,!0);
S.data={d:G.B.I8,Bm:d};this.$(S);this.hO();this.close()};gN.prototype.hO=function(){this.KG=null;this.xs=null;
this.LY=null;this.Kj=null};gN.prototype.jQ=function(e,Z,F,b){this.KG=Z._j;this.xs=V.raw.a48(this.KG);
var _=this.xs;this.ac0.f(_.i2+" x "+_.fZ+", "+(_.i2*_.fZ/1e6).toFixed(1)+" MPx");var d=V.raw.amW(Z._j);
this.Yo=ji.nC(d);this.Wl[0].f(this.Yo.pf);this.Wl[1].f(this.Yo.Fb);for(var l=2;l<this.Wl.length;l++)this.Wl[l].f(0);
this.apg()};gN.prototype.ZP=function(e,Z){this.Be.jH(aQ.x3[e.WT]["--text-color"])};gN.prototype.apg=function(){var e=this.xs,Z=e.i2,F=e.fZ,b=1;
while(Z/b>this.aez*K.F()||F/b>this.afX*K.F())b++;if(this.af0==b&&this.LY)return;this.af0=b;var _=Math.floor(Z/b),d=Math.floor(F/b);
this.LY={XT:new Float32Array(_*d*3),i2:_,fZ:d};var S=this.O.getContext("2d");this.Kj=V.J(_*d*4);V.oi(this.Kj,4294967295);
var U=1/(b*b);for(var r=0;r<d;r++)for(var q=0;q<_;q++){var w=0,X=0,Q=0,c=(q+1)*b,u=(r+1)*b;for(var n=r*b;
n<u;n++)for(var k=q*b;k<c;k++){var B=(n*Z+k)*3;w+=this.xs.XT[B];X+=this.xs.XT[B+1];Q+=this.xs.XT[B+2]}var o=(r*_+q)*3;
this.LY.XT[o]=w*U;this.LY.XT[o+1]=X*U;this.LY.XT[o+2]=Q*U}this.qz()};gN.prototype.qz=function(){var e=this.KG,Z=this.LY.i2,F=this.LY.fZ,b=Z*F,_=this.O,d=_.getContext("2d");
_.width=Z;_.height=F;K.rB(_,Z,F);V.raw.bG(this.LY,this.Kj,e,this.R5());d.putImageData(new ImageData(new Uint8ClampedArray(this.Kj.buffer),Z,F),0,0);
var S=V.aB(this.Kj);for(var l=0;l<4;l++)for(var U=1;U<256;U++)if(S[l][U]==0)S[l][U]=S[l][U-1];for(var l=0;
l<4;l++)for(var U=1;U<256;U++)if(S[l][U]==0)S[l][U]=S[l][U-1];this.Be.f(S)};gN.prototype.R5=function(){var e=[];
for(var l=0;l<this.Wl.length;l++)e.push(this.Wl[l].U());return e};function aO(e){jM.call(this,e?[11,11]:"Reduce Colors",e?"vbitmap":"rcolors");
this.Cd=null;this.Ma=null;this.zT=null;this.Tv=null;this.X3=null;this.a4F=null;this.pL=null;this.Y_="";
this.oM=e;this.Ii=this.Yl.bind(this);this.body.style.padding="0";this.Qh=K.L("div","form hbar padded");
this.body.appendChild(this.Qh);var Z=this.Er={cnum:new en([12,82],2,50,null),nois:new c7([12,81]),mode:new dE(null,["Cartoon","Photo"]),segm:new c7("Segmentize"),poly:new c7("Polygon"),polE:new en("Roughness",2,30,null),ok:K.ny(this,null,!1)},d=16;
for(var F in Z){var b=Z[F];b.parent=this;if(F!="ok")b.h(G.E.p,this.Yl,this)}var _=this.U7=K.L("div","flexrow");
this.body.appendChild(_);this.g0=new hH;this.g0.h("viewchange",this.po,this);this.Qz=new hH;this.O=K.L("canvas");
this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.Gl=this.O.getContext("2d");
var S=V.J(16*16*4);V.Ag(S,d,d,8);this.b_=V.scale.sG(S,d,d);this.g0.a0F(this.O);this.g0.QD(this.Qz);this.Qz.QD(this.g0);
_.appendChild(this.g0.m);if(e)_.appendChild(this.O);else _.appendChild(this.Qz.m)}aO.prototype=new jM;
aO.prototype.$b=function(){return new bI(0,0)};aO.prototype.dS=function(){return!0};aO.prototype.Av=function(e,Z){this.bo=e;
this.zA=Z;Z=Z-44;if(e<600)Z-=29;if(this.Cd==null)return;var F=this.Cd.V4,b=dv.a5h(e,Z,F.w,F._);if(b==1)Z-=3;
if(b==0){e=Math.floor(e/2);K.j_(this.U7,"flexrow")}else{Z=Math.floor(Z/2);K.vB(this.U7,"flexrow")}K.kd(this.O,e,Z);
this.g0.Av(e,Z);if(this.oM)this.po();else this.Qz.Av(e,Z)};aO.prototype.b8=function(e,Z,F,b){this.g0.b8(b)};
aO.prototype.n=function(){jM.prototype.n.call(this);for(var e in this.Er)this.Er[e].n()};aO.prototype.jQ=function(e,Z){this.pL=e;
this.X3=null;var F=e.g[e.V[0]],b=V.aA.Pw(F.buffer.buffer,F.rect.w,F.rect._).ai_,_=b/((F.rect.w-2)*(F.rect._-2)),d=this.Er;
d.cnum.f(20);d.nois.f(_<.75);d.mode.f(_<.75?1:0);d.segm.f(!1);d.poly.f(!1);d.polE.f(1);var S=F.rect.clone();
S.x=S.y=0;this.Cd={V4:S,data:F.buffer.buffer.slice(0)};this.Ma=null;this.Av(this.bo,this.zA);this.g0.f([this.Cd]);
this.g0.Rj();setTimeout(this.Ii,20)};aO.prototype.Yl=function(){var e=!0,Z=Date.now(),F=this.Cd,b=this.Er,_=b.cnum.U(),d=b.nois.U(),S=b.mode.U(),U=b.segm.U(),r=b.poly.U(),q=b.polE.U(),R=null;
if(S==0)U=r=!1;var w=["cnum","nois","mode"];if(S==1){w.push("segm");if(this.oM){w.push("poly");if(r)w.push("polE")}}w.push("ok");
K.WL(this.Qh);for(var l=0;l<w.length;l++)this.Qh.appendChild(b[w[l]].m);if(e)console.log("---------------------------------------");
var X=d||U,Q=d+","+U;if(X&&(this.Ma==null||this.Y_!=Q)){this.Y_=Q;var c=new Uint8Array(F.data),u=F.V4.w,n=F.V4._;
if(d){if(this.X3==null){this.X3=c.slice(0);V.ga.wW(this.X3,this.X3,u,n,15,V.ga.pQ,[35]);if(e){console.log("denoise",Date.now()-Z);
Z=Date.now()}}c=this.X3.slice(0)}else c=c.slice(0);if(U){var k=V.aA.B3(c,u,n,40,10),B=k.KP,o=new Uint8Array(B*4);
for(var l=0;l<B;l++){var T=l*4,z=l*6,W=1/k.nW[z+5];o[T]=k.nW[z]*W;o[T+1]=k.nW[z+1]*W;o[T+2]=k.nW[z+2]*W}for(var l=0;
l<c.length;l+=4){var $=k.jR[l>>>2]*4;c[l]=o[$];c[l+1]=o[$+1];c[l+2]=o[$+2]}if(e){console.log("segm",Date.now()-Z);
Z=Date.now()}}this.Ma={V4:F.V4.clone(),data:c.buffer}}if(X)F=this.Ma;var c=new Uint8Array(F.data),u=F.V4.w,n=F.V4._;
for(var l=0;l<c.length;l+=4){if(c[l+3]<10)c[l]=c[l+1]=c[l+2]=c[l+3]=0}if(S==0){R=V.aA.ahT(c,u,n,_,X?.1:2e-4);
if(e){console.log("quantize",Date.now()-Z);Z=Date.now()}}else{R=bU.pD(c.buffer,_,u,n)}if(this.oM){var P=R.jR.slice(0);
for(var l=0;l<P.length;l++)P[l]++;var H=new Uint8Array((u+2)*(n+2));V.l2(P,new e3(1,1,u,n),H,new e3(0,0,u+2,n+2));
if(!r){var y=Math.round((u+2)*(n+2)/1e4),h=aE.Zf(H.slice(0),u+2,n+2,Math.min(12,y)),m=aE.GJ(h);if(e){console.log("trace smooth",Date.now()-Z);
Z=Date.now()}}else{var m=V.H.qq(H,u+2,n+2,q,e)}var t=m.length,j=new jg(1,0,0,1,-1,-1);for(var l=0;l<t;
l++)V.H.A(m[l].path.s,j,m[l].path.s);this.Tv=m;this.zT=R;for(var l=0;l<t;l++){var x=m[l];for(var C=l+1;
C<t;C++){var L=m[C];if(L.parent==l&&R.z_[L.color-1].est.q[3]<.05){var f=L.path.C.slice(1);f.reverse();
f=["M"].concat(f);var D=[],h=L.path.s.length;for(var v=0;v<h;v+=2){D[v]=L.path.s[h-2-v];D[v+1]=L.path.s[h-2-v+1]}V.H.concat(x.path,{s:D,C:f})}}}if(e){console.log("finding holes",Date.now()-Z);
Z=Date.now()}for(var l=0;l<m.length;l++){var x=m[l],A=R.z_[x.color-1].est.q;if(A[3]<=.05){m.splice(l,1);
l--;continue}}for(var l=1;l<m.length;l++){var M=m[l-1],x=m[l];if(M.color==x.color){V.H.concat(M.path,x.path);
m.splice(l,1);l--;continue}}this.po()}else{var Y=new Uint32Array(u*n),J=u*n;for(var l=0;l<J;l++){var I=R.z_[R.jR[l]];
Y[l]=I.est.rgba}this.a4F=new Uint8Array(Y.buffer);this.Qz.f([{V4:F.V4,data:Y.buffer}])}};aO.prototype.po=function(e){if(this.Tv==null)return;
var Z=this.Cd.V4.w,F=this.Cd.V4._,b=this.Tv,_=this.zT.z_,d=this.O,S=this.Gl,U=this.g0.ox();S.setTransform(1,0,0,1,0,0);
S.clearRect(0,0,d.width,d.height);S.translate(d.width/2,d.height/2);S.scale(U.e,U.e);S.translate(U.r.x/U.e-Z/2,U.r.y/U.e-F/2);
S.scale(1/U.e,1/U.e);S.fillStyle=this.b_;S.fillRect(0,0,Z*U.e,F*U.e);S.scale(U.e,U.e);var r=[];for(var l=0;
l<_.length;l++){var q=_[l].est.q;r.push({o:Math.round(255*q[0]),z:Math.round(255*q[1]),S:Math.round(255*q[2]),Y0:Math.round(255*q[3])})}for(var l=0;
l<b.length;l++){var w=b[l],q=r[w.color-1];if(q.Y0==0)continue;S.fillStyle="rgba("+q.o+","+q.z+","+q.S+","+q.Y0/255+")";
S.beginPath();Typr.U.pathToContext({crds:w.path.s,cmds:w.path.C},S);S.fill()}};aO.prototype.bM=function(e){var Z=this.pL,F=Z.V[0],b=Z.g[F],_=new j8(G.E.u,!0);
_.ma=!0;_.k=i.__;if(this.oM){var d=this.Tv,S=d.length==1,U=Z.g.slice(0,F);if(!S)U.push(Z.vs());for(var l=0;
l<d.length;l++){var r=d[l],q=this.zT.z_[r.color-1].est.q;V.H.A(r.path.s,new jg(1,0,0,1,b.rect.x,b.rect.y),r.path.s);
var w=Z.yG();w.Hr("Path "+l);U.push(w);w.opacity=Math.round(q[3]*255);w.jj|=16;w.add.SoCo={classID:"null",Clr:{t:"Objc",v:V.X.Q9({o:255*q[0],z:255*q[1],S:255*q[2]})}};
w.add.vmsk=new g.NX;w.add.vstk=JSON.parse(JSON.stringify(fu.jA.default));w.add.vmsk.T=V.H.t6(r.path,!1);
w.add.vogk=[];w.ov();w.kJ(Z)}var X=U[U.length-1];if(!S){var w=Z.yG();w.Hr(b.getName());w.add.lsct=jj.$R;
w.Du="pass";w.jj=24;U.push(w);X=w}var Q=b.add.lmfx;if(Q)X.add.lmfx=JSON.parse(JSON.stringify(Q));for(var l=F+1;
l<Z.g.length;l++)U.push(Z.g[l]);_.data={d:g.mM,Op:U,rn:[F+d.length+(S?-1:1)],Pj:[11,11]}}else{var U=Z.g.slice(0),w=Z.yG();
w.Hr(b.getName());U.splice(Z.V[0]+1,0,w);w.rect=b.rect.clone();w.buffer=this.a4F;w.G();_.data={d:g.mM,Op:U,rn:[Z.V[0]+1],Pj:"Reduce Colors"}}this.$(_);
this.close()};function dv(e){jM.call(this,[[7,11],[7,13]][e],["redge","magiccut"][e]);this._n=e;this.Cd={};
this.pl=null;this.J8=null;this.pL=null;this.ZX=null;this.SH=null;this.body.style.padding="0";this.Km=[];
this.QG=-1;this.Qh=K.L("div","form hbar padded");this.body.appendChild(this.Qh);this.VS=new gD;this.VS.parent=this;
this.VS.h(G.E.p,this.fC,this);this.Qh.appendChild(this.VS.m);var Z=e==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
Z=Z.concat("tools/hand","zoomIn","zoomOut");var F=e==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.IV=new eg(null,Z,F,28);this.IV.h(G.E.p,this.b8,this);this.Qh.appendChild(this.IV.m);this.yu=new en([7,9],0,50,null);
this.yu.parent=this;this.yu.h(G.E.p,[this.ael,this.Yl][e],this);this.Qh.appendChild(this.yu.m);var b=this.aca=new cd([2,2],!1,null,!0);
b.h("click",this.hO,this);this.Qh.appendChild(b.m);var _=this.afz=K.L("span","form");this.Qh.appendChild(_);
var d=this.ar5=new cd([12,90],!1,null,!0);d.h("click",function(r){alert(e==0?gA.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
_.appendChild(d.m);var S=new cd("Tutorial",!1,null,!0);S.h("click",this.atS,this);_.appendChild(S.m);
this.gA=new eg([12,46],["checker","#ffffff","#000000"]);this.gA.h(G.E.p,this.ag9,this);_.appendChild(this.gA.m);
this.UF=new dE(null,[[6,13],[6,2],[17,2]]);_.appendChild(this.UF.m);this.wv=K.ny(this,_,!1);var U=this.U7=K.L("div","flexrow");
this.body.appendChild(U);this.gl=new hH(!0);this.Uc=new hH;this.gl.QD(this.Uc);this.Uc.QD(this.gl);this.gl.h("mousedown",this.s8,this);
this.gl.h("mousemove",this.Mn,this);this.gl.h("mouseup",this.fQ,this);this.gl.h("zoom",this.fC,this);
this.Uc.h("zoom",this.fC,this);U.appendChild(this.gl.m);U.appendChild(this.Uc.m)}dv.prototype=new jM;
dv.prototype.ro=function(e,Z){var F=e!=null&&!e.g[e.V[0]].rect.BJ();if(!F)alert("The layer is empty.");
return F};dv.prototype.$b=function(){return new bI(0,0)};dv.prototype.dS=function(){return!0};dv.prototype.Av=function(e,Z){this.bo=e;
this.zA=Z;Z=Z-12-33;if(e<900){this.afz.setAttribute("style","display:block;  text-align:right;");Z-=29}else{this.afz.setAttribute("style","position:absolute;  right:0px")}var F=this.Cd.rect;
if(F){var b=dv.a5h(e,Z,F.w,F._);if(b==0){e=Math.floor(e/2);K.j_(this.U7,"flexrow")}else{Z=Math.floor(Z/2);
K.vB(this.U7,"flexrow")}this.gl.Av(e,Z);this.Uc.Av(e,Z)}};dv.a5h=function(e,Z,F,b){var _=e/2,d=Z/2,S=Math.min(_/F,Z/b),U=Math.min(e/F,d/b);
return S>U?0:1};dv.prototype.n=function(){jM.prototype.n.call(this);this.VS.n();this.yu.n();this.wv.n();
this.gA.n();this.UF.n();this.aca.n();this.ar5.n()};dv.prototype.atS=function(e){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this._n],"_blank")};
dv.prototype.ZP=function(e,Z){this.J8=e;if(Z==c6.f_||Z==c6.vy){this.VS.z6(e.en);this.VS.f(b6.mY(),e.en.my,e.en.Jj)}};
dv.prototype.b8=function(e,Z,F,b){var _=this.IV.U();if(b==null){this.gl.b8(hH.a6a(_-3));return}this.ZX=b;
var d=i.Aj.Me(this.VS.U(),b);if(d!=null){this.VS.f(d);this.fC()}else if(b.j(ex.Nh)&&b.j(ex.vO)){var S=this.Km,U=0;
if(b.j(ex.Ng)){if(this.QG+1<S.length)U=1}else if(this.QG>0)U=-1;if(U!=0){this.QG+=U;var r=this.QG,q=this.Cd;
if(U==1)V.Rf(S[r][2],S[r][0],q.TS,q.rect);else V.Rf(S[r+1][1],S[r+1][0],q.TS,q.rect);q.X2=q.rect;this.Yl()}}else if(_<3)this.gl.b8(b)};
dv.prototype.UT=function(e){var Z=this.Cd,F=this.Km,b=V.J(e.Z()*4);V.Rf(Z.U1,Z.rect,b,e);Z.U1=null;var _=V.J(e.Z()*4);
V.Rf(Z.TS,Z.rect,_,e);this.QG++;F[this.QG]=[e.clone(),b,_];while(F.length>this.QG+1)F.pop();while(F.length>50){F=F.slice(1);
this.QG--}};dv.prototype.fC=function(){var e=this.J8,Z=fR.Y8(this.VS.U(),e.en.my,this.gl.ox().e);this.gl.ER(Z)};
dv.prototype.s8=function(e){var Z=this.J8,F=this.Cd,b=this.ZX,_=this.VS.U(),d=this.gl.SF(),S=[16777215,8421504,0][this.IV.U()];
this.pl=new fR(_,Z.en.my,Z.en.Jj,{Pv:1,Ew:!0},S,Z.ZE,F.rect);F.U1=F.TS.slice(0);if(b!=null&&b.j(ex.Ng)&&this.SH){this.pl.moveTo(this.SH.x,this.SH.y);
this.pl.lineTo(d.x,d.y)}else this.pl.moveTo(d.x,d.y);this.aqT()};dv.prototype.Mn=function(e){var Z=this.Cd,F=this.gl.SF();
this.pl.lineTo(F.x,F.y);this.aqT()};dv.prototype.fQ=function(e){this.SH=this.gl.SF();this.UT(this.pl.zx());
this.Yl()};dv.prototype.aqT=function(){var e=this.Cd,Z=this.pl,F=Z.hh();if(F.BJ())return;e.X2=F;V.a.sB("norm",Z.n$(),Z.jK(),e.TS,e.rect,F,1);
this.a2P()};dv.prototype.hO=function(e){var Z=this.Cd;Z.U1=Z.TS.slice(0);Z.X2=Z.rect;V.oi(Z.TS,[4278190080,4292730333][this._n]);
this.UT(Z.rect);this.Yl()};dv.prototype.jQ=function(e,Z){this.pL=e;var F=e.g[e.V[0]],b=F.rect.clone(),_=b.w,d=b._;
this.yu.f(this._n==0?3:_*d<3e6?3:0);this.IV.f(e.K==null?0:1);this.yu.aK();if(this._n==0&&e.K!=null||this._n==1)this.yu.N_();
var S=this._n,U=V.J(b.Z()),r=new Float32Array(b.Z());if(S==0&&e.K){V.l2(e.K.channel,e.K.rect,U,b);var q=V.J(b.Z());
for(var w=0;w<d;w++)for(var X=0;X<_;X++){var l=w*_+X,Q=U[l];if(X>0&&U[l-1]!=Q||X<_-1&&U[l+1]!=Q||w>0&&U[l-_]!=Q||w<d-1&&U[l+_]!=Q)q[l]=255}V.style.zo(q,r,_,d)}else r.fill(1e9);
b.x=b.y=0;this.Cd={rect:b,XT:F.buffer,Vf:U,yp:r,Ne:V.J(b.Z()*4),Oz:V.J(b.Z()*4),TS:V.J(b.Z()*4),U1:null,dP:null,X2:b,ala:{}};
if(S==0)this.ael();else{this.Cd.ala=i.vk.b3(e);var c=this.Cd.TS;V.oi(c,4287137928);var u=V.qd.getSelection(F.buffer,_,d),n=Math.round(_/60),k=Math.round(.7*d);
for(var w=0;w<d;w++)for(var X=0;X<_;X++){var B=(w*_+X)*4,o=u[B>>>2];o=o>128?255:128;if(w<n||w<k&&(X<n||X>_-1-n))o=0;
c[B]=c[B+1]=c[B+2]=o}this.Yl()}this.Km=[1];this.QG=0;var T=this.VS.U();T.Brsh.v.Dmtr.v.val=Math.round(b.w/(S==0?10:20));
this.VS.f(T);this.fC();this.Av(this.bo,this.zA);this.gl.Rj()};dv.prototype.ael=function(){var e=this.Cd,Z=e.rect.Z(),F=this.yu.U(),b=e.Vf.slice(0);
for(var l=0;l<Z;l++)if(e.yp[l]<F)b[l]=128;V.oi(e.TS,4294967295);V.s$(b,e.TS,0);V.s$(b,e.TS,1);V.s$(b,e.TS,2);
e.X2=e.rect;this.Yl()};dv.prototype.Yl=function(){var e=this.Cd,_,U,r=0,q=0,w=0;this.a2P();var Z=e.rect,F=Z.w,b=Z._,d=V.J(Z.Z()),S=e.XT;
V.yC(e.TS,d,0);for(var l=0;l<d.length;l++){if(S[(l<<2)+3]!=255)continue;var X=d[l];if(X==0)r++;else if(X==255)q++;
else w++}if(r*q*w!=0){if(this._n==0)U=V.EJ.EJ(Z,S,d);else{var Q=this.IV.U();for(var c=1;c<b;c++)for(var u=1;
u<F;u++){var l=c*F+u,n=d[l],k=d[l-1];if(n==0&&k==255||n==255&&k==0){_="The Red and Green should never touch! Erase it with Grey.";
break}}var B=Date.now(),o=this.Cd.ala;V.Fk(d,o.JJ);i.vk.E0(o,!0);var T=Math.ceil(this.yu.U()/2);if(T==0){U=S.slice(0);
V.s$(o.K,U,3)}else{var z=o.K.slice(0),W=o.K.slice(0);for(var $=0;$<T;$++){for(var c=1;c<b-1;c++)for(var u=1;
u<F-1;u++){var l=c*Z.w+u,R=z[l];if(z[l-F]!=R||z[l-1]!=R||z[l+1]!=R||z[l+F]!=R)W[l]=128;else W[l]=R}var P=z;
z=W;W=P}U=V.EJ.EJ(Z,S,z,20,!1)}}}else{U=S.slice(0);V.s$(d,U,3)}for(var l=3;l<U.length;l+=4)if(U[l]>S[l])U[l]=S[l];
if(Z.Tn(e.rect))e.dP=U;else V.Rf(U,Z,e.dP,e.rect);this.ag9();if(_)alert(_,4e3)};dv.prototype.a2P=function(e){var Z=this.Cd,F=Z.X2;
V.Rf(Z.XT,Z.rect,Z.Ne,Z.rect,F,!0);var b=Z.TS;if(this._n==1){var _=new Uint32Array(256);_[0]=4278190335;
_[255]=4278255360;var d=Z.rect.Z();b=b.slice(0);var S=new Uint32Array(b.buffer);for(var l=0;l<d;l+=2){S[l]=_[S[l]&255];
S[l+1]=_[S[l+1]&255]}}V.a.sB("norm",b,Z.rect,Z.Ne,Z.rect,F,.3);this.gl.f([{V4:Z.rect,data:Z.Ne.buffer}])};
dv.prototype.ag9=function(e){var Z=this.Cd;V.oi(Z.Oz,[0,4294967295,4278190080][this.gA.U()]);V.a.sB("norm",Z.dP,Z.rect,Z.Oz,Z.rect,Z.rect,1);
this.Uc.f([{V4:Z.rect,data:Z.Oz.buffer}])};dv.prototype.bM=function(e){var Z=this.pL,F=this.Cd,b=this.UF.U(),_=Z.g[Z.V[0]],d=new j8(G.E.u,!0);
d.ma=!0;var S=_.rect.clone();if(b==0&&_.ir()||b!=0&&!_.ir()){d.k=i.__;d.data={d:g.fk,i:Z.V[0]};this.$(d)}if(Z.K!=null){d.k=i._6;
d.data={d:"fromAction",wO:i.wL.JG()};this.$(d)}if(b==0){var U=Z.g.slice(0),r=Z.yG();r.Hr(_.getName());
U.splice(Z.V[0]+1,0,r);r.rect=S;r.buffer=F.dP;r.G();d.k=i.__;d.data={d:g.mM,Op:U,rn:[Z.V[0]+1],Pj:[7,11]};
this.$(d)}if(b==1){var q=_.Vj();d.k=i.__;d.data={d:g.TA,arb:!0};this.$(d);var w=_.Vj();w.channel=V.J(S.Z());
w.rect=S;w.color=0;w.oy=!0;V.yC(F.dP,w.channel,3);if(q){var X=w.vp(q);w.rect=X.rect;w.channel=X.channel;
w.color=X.color}w.M5();_.kJ()}if(b==2){var Q={rect:S,channel:V.J(S.Z())};V.yC(F.dP,Q.channel,3);d.k=i._6;
d.data={d:"setsel",K:Q,Pj:this.Qu};this.$(d)}this.close()};function aD(){jM.call(this,[1,13],"locstor");
this.Pk=null;this.bP=[];var e=this.body,Z=K.L("p");Z.textContent="These files are loaded every time you start Photopea.";
e.appendChild(Z);this.agk=0;this.Pu=K.L("span");e.appendChild(this.Pu);this.Pu.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var F=K.L("span","form");e.appendChild(F);this.q_=new cd([5,4],!1,null,!0);this.q_.h("click",this.arK,this);
F.appendChild(this.q_.m);this.a8p=new cd("Get all as ZIP",!1,null,!0);this.a8p.h("click",this.RN,this);
F.appendChild(this.a8p.m);this.p2=new b7(!0);this.p2.parent=this;this.p2.pk(1);e.appendChild(this.p2.m);
this.p2.m.setAttribute("style","width: 40em; height: 25em")}aD.prototype=new jM;aD.prototype.n=function(){jM.prototype.n.call(this);
this.Pu.textContent=gA.get([13,2])+": "+hd.nR(this.agk);this.q_.n()};aD.prototype.ZP=function(e,Z){this.Pk=e;
if(Z==c6.Pq)this.jQ()};aD.prototype.jQ=function(e,Z){var F=this.Pk.la.JN,r=0;this.bP=[];for(var b in F)this.bP.push(b);
this.bP.sort(function(w,X){w=w.split(".");X=X.split(".");return w[1]==X[1]?w[0]<X[0]?-1:1:w[1]<X[1]?-1:1});
var _=Math.floor(100*K.F()),d=Math.floor(16*K.F()),S=[],U=[];for(var l=0;l<this.bP.length;l++){var b=this.bP[l],q=aD.Bk(b,F[b],_,d);
S.push(q);U.push(b);r+=F[b].byteLength}this.p2.Ra(S,U,_,d);this.agk=r;this.n()};aD.prototype.arK=function(e){var Z=this.p2.U();
if(Z.length==0){alert("Select a file first.");return}this.p2.f([]);var F=this.Pk.la.JN;for(var l=0;l<Z.length;
l++)delete F[this.bP[Z[l]]];var b=new j8(G.E.W,!0);b.data={d:G.B.aE,NG:c6.Pq};this.$(b)};aD.prototype.RN=function(e){var Z=this.Pk.la.JN,F={};
for(var b in Z)F[b]=new Uint8Array(Z[b]);var _=UZIP.encode(F);h5.save(_,"resources.zip")};aD.Bk=function(e,Z,F,b){var _=K.L("canvas"),U=0;
_.width=F;_.height=b;var d=_.getContext("2d"),S=e.split(".").pop().toLowerCase();for(var l=0;l<S.length;
l++)U+=S.charCodeAt(l)*613<<8*l;d.fillStyle="#"+V.Z0(U&16777215);d.fillRect(0,0,20,b);var r=Math.floor(14*K.F());
d.fillStyle="#000000";d.font="bold "+r+"px sans-serif";var q=(b-r)/2,w=hd.nR(Z.byteLength),X=d.measureText(w);
d.fillText(w,F-12-X.width,b-q);return _.toDataURL()};function iU(){jM.call(this,"Preset Manager","pmanager");
this.Pk=null;this.jx=new dE([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.jx.h(G.E.p,this.jQ,this);
this.body.appendChild(this.jx.m);var e=K.L("div","flexrow");this.body.appendChild(e);var Z=this.alW=K.L("div");
e.appendChild(Z);var F=K.L("div","form");e.appendChild(F);F.setAttribute("style","width:140px; margin-left:12px");
this.as6=[c6.f_,c6.kv,c6.hs,c6.y9,c6.Fj,c6.Hy];this._7=[new gD,new j0,new fV,new hh,new hC,new eb];for(var l=0;
l<this._7.length;l++)this._7[l].parent=this;this.G8=[];for(var l=0;l<4;l++){var b=new cd("Hello",!0,null,!0);
b.h("click",this.IE,this);this.G8.push(b);F.appendChild(b.m)}this.jQ()}iU.prototype=new jM;iU.prototype.TD=function(e){return e==ex.Fp||e==ex.yr};
iU.prototype.IE=function(e){var l=this.G8.indexOf(e.target);this._7[this.jx.U()].at(l)};iU.prototype.n=function(){jM.prototype.n.call(this);
this.jx.n();for(var l=0;l<this._7.length;l++)this._7[l].n();var e=this.G8,Z=this.jx.U(),F=c6.zf[this.as6[Z]],b=F[0].toUpperCase();
e[0].cc([[23,6],"."+b]);e[1].cc(["VAR0 ."+b,[1,8]]);e[2].cc([6,37]);e[3].cc([5,4])};iU.prototype.ZP=function(e,Z){this.Pk=e;
this.jQ()};iU.prototype.jQ=function(e,Z){if(!K.RY(this.m))return;this.n();K.WL(this.alW);this.alW.appendChild(this._7[this.jx.U()].gM);
var F=this._7,b=this.Pk;if(b==null)return;F[0].z6(b.en);F[1].cz(b.Ly,b.ZE);F[1].z6(b.Cb);F[2].z6(b.NY);
F[3].z6([b.Ei,b.NY]);F[4].z6(b.Ez);F[5].z6(b.Ui)};function aI(e,Z,F){jM.call(this,Z,"cwindow");this.a81=new bI(F[0],F[1]-33);
this.Qh=K.L("div","form");this.Qh.setAttribute("style","width:"+(F[2]-F[0])+"px; height:"+(F[3]-F[1])+"px");
this.body.appendChild(this.Qh)}aI.prototype=new jM;aI.prototype.$b=function(e,Z){return this.a81.clone()};
function ed(){jM.call(this,["PSD VAR0",[25,0]],"templates");this.a5a=null;this.uL=null;this.Gy=0;this.le=null;
this.body.setAttribute("style","padding:0");this.y3=new cd("Add Templates",null,null,!0);this.body.appendChild(this.y3.m);
this.y3.h("click",this.a1o,this);this.y3.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.adl=new cd("New Template",null,null,!0);this.adl.h("click",this.a6q,this);this.a9S=new cd("Upload Current Document as a Template",null,null,!0);
this.a9S.h("click",this.adc,this);this.ay=K.L("iframe","scrollable");this.ay.setAttribute("style","border:none; margin:0; padding:0;");
this.s5=K.L("div","form scrollable padded");this.gO=K.L("div","form scrollable padded label12");var e=[],Z=ed.xh;
this.aS=[];for(var F in Z){var b=parseInt(F.slice(1)),_=b%10==0?"":"\u2800\u2800- ";e.push(_+Z[F]);this.aS.push(b)}this.gK=[new cY("Name",null,30),new cY("Description",null,30,4),new cY("File"," www.Photopea.com#i...",17),new cY("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17),new dE("Category",e),new cd("<< Back",null,null,!0),new cd("Save",null,null,!0),new dB("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new dB("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var l=0;l<this.gK.length;l++){var d=this.gK[l];this.gO.appendChild(d.m);d.parent=this;if(l!=5)K.MV(this.gO);
if(d instanceof cd)d.h("click",this.ahR,this)}this.body.appendChild(this.ay)}ed.prototype=new jM;ed.prototype.$b=function(e,Z){return new bI(0,0)};
ed.prototype.Av=function(e,Z){this.bo=e;this.zA=Z;this.Yf=null;Z=Z-4;e=e;var F=this.s5;F.style.width=e-12+"px";
F.style.height=Z-12+"px";var F=this.gO;F.style.width=e-12+"px";F.style.height=Z-12+"px";var F=this.ay;
F.style.width=e+"px";F.style.height=Z+"px";this.nj()};ed.prototype.n=function(){jM.prototype.n.call(this)};
ed.prototype.jQ=function(e,Z,F,b){this.Yf=e;this.a1o(null,!1)};ed.prototype.a1o=function(e,Z){var F=Z!=null?Z:K.RY(this.ay);
if(F){if(!hx.QC()){alert("You need to log in first!");return}var b=hx.W4();this.uL=b.tpl?b.tpl.list:[];
this.nj()}else{this.ay.setAttribute("src","");this.ay.setAttribute("src","plugins/tpls")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(F?this.s5:this.ay);this.y3.cc(F?"All Templates":"Add Templates")};ed.prototype.nj=function(){var e=this.uL,_=450;
if(e==null)return;var Z=this.s5;K.WL(Z);var F=K.L("h1");F.textContent="Share your PSD templates with the world!";
var b=K.L("h3");b.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
Z.appendChild(F);Z.appendChild(b);Z.appendChild(this.adl.m);Z.appendChild(this.a9S.m);K.MV(Z);_=(this.bo-20)/Math.max(1,Math.floor(this.bo/_))-42;
var d="display:inline-block; width:"+_+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var l=e.length-1;l>=0;l--){var S=e[l],U=K.L("div");Z.appendChild(U);U.setAttribute("style",d);var r=K.L("img");
U.appendChild(r);r.setAttribute("src",S.thmb);r.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var q=K.L("h3");U.appendChild(q);q.textContent=S.name;q.setAttribute("style","margin:0 0 10px 0");var w=K.L("p");
U.appendChild(w);w.textContent=S.desc;w.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var X=0;X<2;X++){var Q=new cd(X==0?"Edit":"Delete",null,null,!0);Q.a54=l;Q.U4=X==0;Q.h("click",this.a8Q,this);
U.appendChild(Q.m)}}};ed.prototype.adc=function(e){if(this.Yf==null){alert("No document opened.");return}var Z=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!Z)return;var F=new j8(G.E.W,!0);F.data={d:G.B.Js,ix:"psd",PB:this.ab2.bind(this)};this.$(F)};ed.prototype.ab2=function(e){this.a5a=e;
var Z=new j8(G.E.W,!0);Z.data={d:G.B.Js,ix:"jpg",PB:this.adC.bind(this)};this.$(Z)};ed.prototype.adC=function(e){this.le={catg:0,desc:"",file:this.a5a.split("#i").pop(),name:this.Yf.name.split(".")[0],thmb:e,utme:""};
this.U4()};ed.prototype.a6q=function(e){this.le={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.U4()};
ed.prototype.a8Q=function(e){this.Gy=e.target.a54;if(!e.target.U4){this.uL.splice(this.Gy,1);this.RN();
this.nj();return}this.U4()};ed.prototype.U4=function(){this.body.removeChild(this.s5);this.body.appendChild(this.gO);
var e=["name","desc","file","thmb"],Z=this.le?this.le:this.uL[this.Gy];for(var l=0;l<4;l++){var F=Z[e[l]];
if(F!=""&&l==2)F="https://photopea.com#i"+F;this.gK[l].f(F)}this.gK[4].f(this.aS.indexOf(Z.catg))};ed.prototype.ahR=function(e){if(this.gK.indexOf(e.target)==6){var Z=this.gK[3].U().trim(),F=Z.startsWith("http")&&(Z.endsWith(".jpeg")||Z.endsWith(".jpg")||Z.endsWith(".png"));
if(!F){alert("Thumbnail URL is incorrect.");return}var b=new XMLHttpRequest,_="mirror.php?url="+encodeURIComponent(Z);
b.open("GET",_);b.responseType="arraybuffer";b.onload=this.a9r.bind(this);b.send()}else this.hO()};ed.prototype.a9r=function(e){var Z=e.target.response,F=Z.byteLength;
if(F>2e5){alert("Thumbnail is too large ("+hd.nR(F)+"). Make it under 200 kB.");return}var b=["name","desc","file","thmb"],_=this.le?this.le:this.uL[this.Gy];
for(var l=0;l<4;l++){var d=this.gK[l].U().trim();if(d.length==0){alert("One of values is empty.");return}if(l==2){var S=d.split("#i");
if(S.length!=2||S[1].length!=8){alert("File ID is incorrect.");return}d=S.pop()}_[b[l]]=d}_.catg=this.aS[this.gK[4].U()];
if(_.utme.length==0)_.utme=""+Math.round(Date.now()/1e3);if(this.le)this.uL.push(this.le);this.RN();
this.hO()};ed.prototype.hO=function(){this.le=null;this.body.removeChild(this.gO);this.body.appendChild(this.s5);
this.nj()};ed.prototype.RN=function(){var e=hx.W4();if(this.uL.length==0)delete e.tpl;else e.tpl={list:JSON.parse(JSON.stringify(this.uL))};
hx.Bf(e,function(){alert("Saved.")})};ed.xh={c0:"Mockups",c1:"Mobile & Web",c2:"Print",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function bf(){jM.call(this,"Make Selection","makesel");this.Pk=null;var e=K.L("div","form");this.body.appendChild(e);
this.jv=new c7([12,25,1]);this.jv.f(!0);e.appendChild(this.jv.m);K.MV(e);this.J1=new aZ(!0);e.appendChild(this.J1.m);
this.wv=K.ny(this,this.body)}bf.prototype=new jM;bf.prototype.n=function(){jM.prototype.n.call(this);
this.J1.n();this.jv.n();this.wv.n()};bf.prototype.bM=function(e){var Z=new j8(G.E.u,!0);Z.k=i._6;Z.data={d:"frompath",wg:[null,0,this.J1.U(),!this.jv.U()]};
this.close();this.$(Z)};function a7(){jM.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Yf=null;this.Jr=null;
this.L8=null;var e=this.abI=K.L("div","form");e.setAttribute("style","width:20em");this.body.appendChild(e);
this.ig=new jv([12,50],["PSD","PSB"]);this.ig.h(G.E.p,this.ci,this);e.appendChild(this.ig.m);K.pj(e);
var Z=new dB("Minify the file");e.appendChild(Z.m);K.MV(e);var F=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Cs=[];for(var l=0;l<F.length;l++){var b=new c7(F[l]);this.Cs.push(b);e.appendChild(b.m);b.h(G.E.p,this.ci,this)}K.pj(e);
this.CZ=new dB("aa.psd");this.g3=new dB("10 kB");e.appendChild(this.g3.m);this.a2U=new dB("1000 B");
e.appendChild(this.a2U.m);this.wv=new cd([1,2],!0,null,!0);this.wv.h("click",this.bM,this);e.appendChild(this.wv.m);
this.qO=new cd(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.qO.h("click",this.bM,this);e.appendChild(this.qO.m);
this.h("closebtn",this.Ql,this)}a7.prototype=new jM;a7.prototype.jQ=function(e,Z,F,b){var _=K.RY(this.qO.m),d=e.DI!=null&&e.DI.$Q=="psd";
if(d&&!_)this.abI.appendChild(this.qO.m);if(!d&&_)this.abI.removeChild(this.qO.m);for(var l=0;l<this.Cs.length;
l++)this.Cs[l].f(!1);this.Yf=e;this.ci()};a7.prototype.bM=function(e){if(e.target==this.wv)h5.save(this.Jr,this.L8);
else{if(this.Cs[3].U()){alert("You should not save a ZIP as a PSD to Google Drive.");return}cM.atK(this.Yf,this.Jr)}};
a7.prototype.Ql=function(){this.Yf=null;this.Jr=null};a7.prototype.ci=function(){var e=this.Yf,Z=[!1,!1,!1,!1];
for(var l=0;l<3;l++)Z[l]=this.Cs[l].U();var F=this.Cs[3].U(),b=Z[3]=this.ig.U()==1,_=e.name.slice(0,e.name.length-3),d=this.Jr=fg.H_("PSD").ng(e,0,0,Z),gi=this.L8=_+"ps"+(b?"b":"d");
if(F){var S={};S[gi]=new Uint8Array(d);d=this.Jr=UZIP.encode(S);gi=this.L8=_+"zip"}this.CZ.f(gi);this.g3.f(hd.nR(d.byteLength));
this.g3.m.style["font-size"]="2em";this.a2U.f(" \u2001 "+d.byteLength+" B");this.wv.cc(gA.get([1,2])+" \""+gi+"\"")};
a7.prototype.n=function(){jM.prototype.n.call(this);this.wv.n();this.qO.n()};function d1(e,Z,F,b){h1.call(this);
this.name=e;this.a87=F;this.I3=b;this.VJ=K.L("div","");this.VJ.setAttribute("draggable","true");this.dQ=K.L("div","pbody");
this.Xr=new cd("",!1,"");this.Xr.parent=this;this.a7A=K.L("span","cross");this.Ae=K.L("span","label");
var _=this.aqG.bind(this);this.VJ.addEventListener("mousedown",this.a1H.bind(this),!1);this.VJ.addEventListener("contextmenu",_,!1);
this.Xr.m.addEventListener("contextmenu",_,!1);this.a7A.addEventListener("mousedown",this.z5.bind(this),!1);
this.VJ.appendChild(this.Ae);if(Z)this.VJ.appendChild(this.a7A);this.VU=!1;this.EO=new gx([{name:[1,12,0]}]);
this.EO.h("select",this.z5,this);this.Ae.textContent=e}d1.prototype=new h1;d1.prototype.Bu=function(){return null};
d1.prototype.n=function(){var e=gA.get(this.name),Z=this.bo==0?22:Math.round(2+this.bo/50),F=e.length>Z;
this.Ae.textContent=F?e.slice(0,Z-2):e;if(F)for(var b=0;b<2;b++){var _=K.L("span");_.textContent=e.charAt(Z-2+b);
_.setAttribute("style","opacity:"+(.6-b*.4));this.Ae.appendChild(_)}var d=e.split(" "),S=d.length==2?d[0].substring(0,2)+d[1][0]:e.substring(0,3);
if(S.charCodeAt(0)>=11776)S=S.substring(0,1);var U=this.a87;if(U==null)this.Xr.cc(S,e);else{var r;if(U.startsWith("---"))r="<img src=\""+PIMG[U.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(U.indexOf("\"")==-1)r="<img src=\""+U+"\" alt=\""+e+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Xr.cc(r,e)}};d1.prototype.enable=function(){this.dQ.setAttribute("class","pbody")};d1.prototype.disable=function(){this.dQ.setAttribute("class","pbody disabled")};
d1.prototype.ZP=function(e,Z){};d1.prototype.jQ=function(e,Z,F){};d1.prototype.Qe=function(e){};d1.prototype.Av=function(e,Z){};
d1.prototype.Br=function(e){this.name=e;this.n()};d1.prototype.wR=function(){};d1.prototype.a1H=function(e){if(e.button==0)this.$(new j8("select",!1))};
d1.prototype.aqG=function(e){K.Zn(e);if(this.I3!=null&&isNaN(this.I3))return;var Z=K.DK(e,document.body),F=this.EO;
F.update(null);F.n();F.parent=this;var b=new j8(G.E.W,!0);b.data={d:G.B.f6,Gw:F,x:Z.x+1,y:Z.y+1};this.$(b)};
d1.prototype.rM=function(){this.z5({})};d1.prototype.z5=function(e){if(e.stopPropagation)e.stopPropagation();
if(this.I3!=null&&!isNaN(this.I3)){var Z=new j8(G.E.W,!0);Z.data={d:G.B.vM,Gw:this.EO};this.$(Z);Z.data={d:G.B.aE,NG:c6.ZJ,I:parseFloat(this.I3),iH:"del"};
this.$(Z)}else if(this.a6s())this.$(new j8(G.E.KW,!1))};d1.prototype.a6s=function(e){return!0};d1.prototype.NU=function(e,Z,F,b,_){};
d1.prototype.SE=function(e,Z,F,b,_){};d1.prototype.UD=function(e,Z,F,b,_){};d1.Uw=function(e,Z){if(e.childElementCount!=0)return;
var F=e.textContent;this.j0=this.atE.bind(this);this.am_=this.a4Z.bind(this);this.TX=Z;this.Li=e;this.ajg=F;
var b=K.L("input","");b.setAttribute("type","text");b.setAttribute("size","10");b.setAttribute("value",F);
K.WL(e);e.appendChild(b);b.select();b.focus();K.lN(e);e.addEventListener("keyup",this.j0,!1);document.body.addEventListener("mousedown",this.am_,!1)};
d1.Uw.prototype.atE=function(e){var Z=ex.Ww,F=Z(e.code,ex.Dr);if(Z(e.code,ex.ea)||F)this.a1C(F)};d1.Uw.prototype.a4Z=function(e){var Z=e.target;
if(Z.tagName&&Z.tagName.toLowerCase()=="input")return;this.a1C(!0)};d1.Uw.prototype.a1C=function(e){var Z=this.Li,F=Z.firstChild.value;
Z.removeEventListener("keyup",this.j0);document.body.removeEventListener("mousedown",this.am_);if(e&&F!=""){this.TX(F)}else{K.WL(Z);
Z.textContent=this.ajg}};d1.Z8={Pi:"0",a7R:"1",__:"2",ahA:"3",anw:"4",fK:"5",CSS:"6",f_:"7",al1:"8",a6V:"9",a3x:"10",arh:"11",akq:"12",kp:"13",Ki:"14",a17:"15",a82:"16",ys:"17",apa:"18",aqk:"19",apz:"20",y9:"21"};
function h6(){d1.call(this,[9,9],!1,"---panels/actions",d1.Z8.arh);this.Pk=null;this.zY=[0,0];this.O6=K.L("div","padded scrollable");
this.O6.setAttribute("style","width:260px;  height:260px");this.dQ.appendChild(this.O6);this.h(G.E.p,this.An,this);
this.vW=K.L("div","lpfoot");this.dQ.appendChild(this.vW);this._7=[];var e="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",Z="</svg>",F=e+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+Z,b=e+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+Z;
this.a9m=e+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+Z;this.a6o=e+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+Z;
var _=[this.a9m,b,"lrs/folder","lrs/newlayer","lrs/bin",F],d=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var l=0;l<_.length;l++){var S=_[l];if(1<l&&l!=_.length-1)S="<img src=\""+PIMG[_[l]]+"\" class=\"gsicon\" />";
var U=new cd(S,!1,d[l]);U.h("click",this.a8F,this);this.vW.appendChild(U.m);this._7.push(U)}}h6.prototype=new d1("");
h6.prototype.n=function(){d1.prototype.n.call(this);for(var l=0;l<this._7.length;l++)this._7[l].n()};
h6.prototype.a8F=function(e){var l=this._7.indexOf(e.currentTarget),Z=this.zY,F=this.Pk,b=F.et;if(l==0){var _,d=F.yc;
if(b.length==0){alert("Create an Action Set first.");return}if(Z.length<2){alert("Select a target action first.");
return}if(d==null){_=this.a6o;d=this.zY}else{_=this.a9m;d=null}this._7[0].cc(_);F.yc=d}else if(l==1)this.a4J();
else if(l==2||l==3){var S={Pj:"Action Set "+b.length,JS:[],exp:!0};if(l==2||b.length==0){Z=[b.length];
b.push(S)}if(l==3){var U=b[Z[0]].JS;Z=[Z[0],U.length];U.push({Pj:"Action "+U.length,color:0,JS:[],ato:!1,shift:!1,exp:!0,wD:U.length})}this.zY=Z;
this.qz()}else if(l==4){var r;if(Z.length==1)r=b;else if(Z.length==2)r=b[Z[0]].JS;else r=b[Z[0]].JS[Z[1]].JS;
var q=Z.length-1;r.splice(Z[q],1);if(r.length==0)Z.pop();else while(Z[q]>=r.length)Z[q]--;if(Z.length==0)Z.push(0);
this.qz()}else if(l==5){if(b.length==0){alert("No Actions Present.");return}var w=new j8(G.E.W,!0);w.data={d:G.B.SI,a7w:c6.u,dY:Z[0]};
this.$(w)}};h6.prototype.An=function(e){var Z=this.Pk.et,F=e.data.d,b=e.data.D2;if(F=="sel")this.zY=b;
if(F=="fold"){if(b.length==1)Z[b[0]].exp=!Z[b[0]].exp;else Z[b[0]].JS[b[1]].exp=!Z[b[0]].JS[b[1]].exp}if(F=="enab"){var _=Z[b[0]].JS[b[1]].JS[b[2]];
_.P=!_.P}if(F=="nchange"){if(b.length==1)Z[b[0]].Pj=e.data.vn;else Z[b[0]].JS[b[1]].Pj=e.data.vn}this.qz()};
h6.prototype.ZP=function(e,Z){this.Pk=e;if(Z==c6.u||Z==c6.vy)this.qz()};h6.prototype.qz=function(){if(this.Pk==null)return;
K.WL(this.O6);var e=this.Pk.et;if(e.length==0)return;var Z=JSON.stringify(this.zY);for(var l=0;l<e.length;
l++){var F=e[l],b=new h6.Mb([l],Z,F.exp,F.Pj.split("=").pop());b.parent=this;this.O6.appendChild(b.m);
if(!F.exp)continue;for(var _=0;_<F.JS.length;_++){var d=F.JS[_],b=new h6.Mb([l,_],Z,d.exp,d.Pj.split("=").pop());
b.parent=this;this.O6.appendChild(b.m);if(!d.exp)continue;for(var S=0;S<d.JS.length;S++){var U=d.JS[S],b=new h6.Mb([l,_,S],Z,null,gA.get(dz.ai5(U)),U.P);
b.parent=this;this.O6.appendChild(b.m)}}}};h6.prototype.a4J=function(){var e=this.Pk.et,Z=this.zY;if(e.length==0){alert("No Actions Present");
return}if(Z.length==1){alert("Select an Action first");return}if(this.Pk.yc!=null){alert("You can not apply actions while recording actions");
return}if(Z.length==1)Z.push(0);var F=e[Z[0]],b=F.JS[Z[1]],_=new j8(G.E.W,!0);_.data={d:G.B.wa,wg:[b.Pj,F.Pj]};
this.$(_)};h6.Mb=function(e,Z,F,b,_){h1.call(this);this.D2=e;var d=this.D2.length-1;this.m=K.L("div","layeritem"+(JSON.stringify(e)==Z?" selected":""));
this.Lj=K.L("div","head");this.m.appendChild(this.Lj);this.Lj.setAttribute("style","height:24px");this.fw=K.L("div","headL");
this.Lj.appendChild(this.fw);if(d!=0){var S=K.L("div");S.style.width=d*20+"px";this.fw.appendChild(S)}if(F!=null){var U=this.aek=K.L("div",F?"open":"closed");
this.fw.appendChild(U)}else{var r=this.a93=K.L("div","cmark");r.setAttribute("style","background-size:12px 12px; opacity:"+(_?1:.3));
this.fw.appendChild(r)}if(d==0){var q=K.L("div","folder");this.fw.appendChild(q)}var w=this.Ae=K.L("div","label");
w.textContent=b;this.fw.appendChild(w);this.m.addEventListener("mouseup",this.Lr.bind(this),!1)};h6.Mb.prototype=new h1;
h6.Mb.prototype.Lr=function(e){if(e.detail==1&&e.target.tagName.toLowerCase()!="input"){var Z="sel";
if(e.target==this.aek)Z="fold";if(e.target==this.a93)Z="enab";var F=new j8(G.E.p,!0);F.data={d:Z,D2:this.D2};
this.$(F)}else if(this.D2.length<3)var b=new d1.Uw(this.Ae,this.TX.bind(this))};h6.Mb.prototype.TX=function(e){var Z=new j8(G.E.p,!0);
Z.data={d:"nchange",vn:e,D2:this.D2};this.$(Z)};function fJ(){d1.call(this,[3],!1,"---lrs/adj",d1.Z8.apa);
this.dQ.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this._7=[];var l=0;
for(var e in hc.names){var Z=new cd("<img src=\""+PIMG["adj/"+e]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,hc.names[e]);
Z.h("click",this.at8,this);this._7.push(Z);this.dQ.appendChild(Z.m);if(l==4||l==10)K.MV(this.dQ);l++}}fJ.prototype=new d1("");
fJ.prototype.n=function(){d1.prototype.n.call(this);for(var l=0;l<this._7.length;l++)this._7[l].n()};
fJ.prototype.at8=function(e){var Z=this._7.indexOf(e.target),F=ay.R4()[Z],b=new j8(F.Y,!0);b.data=F.R;
this.$(b)};function f$(){d1.call(this,[12,22],!1,null,d1.Z8.y9);this.O6=K.L("div","padded");this.dQ.appendChild(this.O6);
this.ii=new hh(null,17.7,10);this.ii.parent=this;this.ii.h(G.E.p,this.j6,this);this.O6.appendChild(this.ii.gM)}f$.prototype=new d1("");
f$.prototype.j6=function(e){var Z=this.ii.U(),F=new j8(G.E.u,!0);F.data={d:"setstl",I:Z.J_};F.k=i.D7;
this.$(F);F.data={d:"confirm"};this.$(F)};f$.prototype.ZP=function(e,Z){if(Z==c6.y9||Z==c6.vy){this.ii.z6([e.Ei,e.NY])}};
var bz=function(){function e(){d1.call(this,[9,3],!1,"---panels/brush",d1.Z8.f_);this.Gc=null;this.LL=null;
this.Pk=null}e.prototype=new d1("");e.prototype.qb=function(){var S=K.L("div","");this.dQ.appendChild(S);
this.S4=K.L("div","bordered cell");this.S4.setAttribute("style","width:10em; height:28.5em;");S.appendChild(this.S4);
this.VO=[];this.Yi=null;this.n_=[];var U=this.acV.bind(this);this.$o=[new F,new b,new _,new d];for(var l=0;
l<this.$o.length;l++){var r=K.L("div","listitem"),q=this.$o[l].td,w=null;if(l==0){this.Yi=new dB(q);
r.appendChild(this.Yi.m)}else{w=new c7(q,!1);w.h(G.E.p,this.a8B,this);r.appendChild(w.m)}this.n_.push(w);
this.S4.appendChild(r);this.VO.push(r);r.addEventListener("click",U,!1)}this.Xu=K.L("div","cell padded");
S.appendChild(this.Xu);for(var l=0;l<this.$o.length;l++)this.$o[l].h("brushchange",this.ahL,this);this.setItem(0);
this.O=K.L("canvas");this.O.height=10;S.appendChild(this.O);this.Gl=this.O.getContext("2d");this.Yl()};
e.prototype.Av=function(S,U){if(this.bo==S)return;this.bo=S;this.zA=U;this.Yl()};e.prototype.wR=function(){if(!K.RY(this.dQ))return;
if(this.S4){this.Yl();return}this.qb();this.n();this.ZP(this.Pk,c6.vy)};e.prototype.n=function(){d1.prototype.n.call(this);
if(this.S4==null)return;this.Yi.n();for(var l=1;l<this.n_.length;l++)this.n_[l].n();for(var l=0;l<this.$o.length;
l++)this.$o[l].n()};e.prototype.ahL=function(S){var U=this.$o.indexOf(S.currentTarget),r=JSON.parse(JSON.stringify(this.$o[U].LL)),q=new j8(G.E.W,!0);
q.data={d:G.B.aE,NG:c6.Iu,LL:r};this.$(q)};e.prototype.a8B=function(S){this.a43(this.n_.indexOf(S.currentTarget),S.currentTarget.MK())};
e.prototype.acV=function(S){var l=this.VO.indexOf(S.currentTarget);if(S.target.tagName.toLowerCase()=="input")return;
if(this.n_[l]&&!this.n_[l].MK()){this.n_[l].SB();this.a43(l,!0)}this.setItem(l)};e.prototype.a43=function(S,U){this.$o[S].Oi(U)};
e.prototype.setItem=function(S){for(var l=0;l<this.$o.length;l++)this.VO[l].setAttribute("class","listitem");
if(this.Xu.firstChild)this.Xu.removeChild(this.Xu.firstChild);this.VO[S].setAttribute("class","listitem selected");
this.Xu.appendChild(this.$o[S].m)};e.prototype.ZP=function(S,U){this.Pk=S;if(this.S4==null)return;if(U==c6.f_||U==c6.vy){this.Gc=S.en;
for(var l=0;l<this.$o.length;l++)this.$o[l].z6(this.Gc)}if(U==c6.Iu||U==c6.vy){this.LL=S.en.yA;this.Yl()}if(U==c6.kp)this.Yl()};
e.prototype.Yl=function(){if(this.LL)this.enable();else{this.disable();return}if(!K.RY(this.dQ))return;
var S=this.Pk;for(var l=0;l<this.$o.length;l++){this.$o[l].f(this.LL);if(this.n_[l])this.n_[l].f(this.$o[l].MK())}var U=JSON.parse(JSON.stringify(this.LL));
U.Brsh.v.Dmtr.v.val=Math.min(U.Brsh.v.Dmtr.v.val,50);K.kd(this.O,this.bo,80);var r=new e3(0,0,this.O.width,this.O.height),q=new fR(U,this.Gc?this.Gc.my:null,this.Gc?this.Gc.Jj:null,{Pv:1},S.Ly,S.ZE,r,null,0),w=r._/2,X=r.w-w*2;
q.moveTo(w,w);for(var l=0;l<=X;l+=10)q.lineTo(w+l,w+20*Math.sin(2*Math.PI*l/X));q.finish();var Q=this.Gl.createImageData(r.w,r._);
V.Rf(q.n$(),q.jK(),Q.data,r);this.Gl.putImageData(Q,0,0)};function Z(S){h1.call(this);this.td=S;this.m=K.L("div","");
this.LL=null}Z.prototype=new h1;Z.prototype.z6=function(S){};Z.prototype.f=function(S){this.LL=JSON.parse(JSON.stringify(S));
this.m.setAttribute("class",this.MK()?"":"disabled");this.Yl()};Z.prototype.Oi=function(S){};Z.prototype.MK=function(){return!1};
Z.prototype.n=function(){};Z.prototype.Yl=function(){};Z.prototype._o=function(){this.$(new j8("brushchange"))};
function F(){Z.call(this,[15,0]);this.Gc=null;this.apO=null;this.z7=new b7(!0);this.m.appendChild(this.z7.m);
this.z7.h(G.E.p,this.afQ,this);this.z7.m.style.height="10.7em";this.Rx=new fZ([12,14,0],1,1e3," px",0,!0);
this.Rx.h(G.E.p,this.abd,this);this.WY=new fZ([12,15],0,359," \xB0");this.WY.h(G.E.p,this.adT,this);
this.Y5=new fZ([12,16],0,100," %");this.Y5.h(G.E.p,this.akp,this);this.h1=new fZ([12,17],0,100," %");
this.h1.h(G.E.p,this.aeY,this);this.ja=new fZ([12,18],1,300," %");this.ja.h(G.E.p,this.a6n,this);this.VO=[this.Rx,this.WY,this.Y5,this.h1,this.ja]}F.prototype=new Z;
F.prototype.n=function(){this.Rx.n();this.WY.n();this.Y5.n();this.h1.n();this.ja.n()};F.prototype.MK=function(){return!0};
F.prototype.z6=function(S){this.Gc=S;var U=[],r=Math.floor(30*K.F()),q=Math.floor(40*K.F());for(var l=0;
l<S.list.length;l++){var w=S.list[l].v,X=fR.Bk(w,S.my,S.Jj,r,q);U.push(X)}this.z7.Ra(U,null,r,q)};F.prototype.Yl=function(){var S=this.LL.Brsh.v,U=S.classID!=this.apO;
this.apO=S.classID;if(U)for(var l=0;l<this.VO.length;l++)if(this.m.contains(this.VO[l].m))this.m.removeChild(this.VO[l].m);
this.Rx.f(S.Dmtr.v.val);if(U)this.m.appendChild(this.Rx.m);this.WY.f(S.Angl.v.val);if(U)this.m.appendChild(this.WY.m);
if(S.classID=="computedBrush"||S.classID=="sampledBrush"){this.Y5.f(S.Rndn.v.val);if(U)this.m.appendChild(this.Y5.m)}if(S.classID=="computedBrush"){this.h1.f(S.Hrdn.v.val);
if(U)this.m.appendChild(this.h1.m)}this.ja.f(S.Spcn.v.val);if(U)this.m.appendChild(this.ja.m)};F.prototype.afQ=function(S){this.LL=this.Gc.list[this.z7.U()[0]].v;
this._o()};F.prototype.abd=function(S){this.LL.Brsh.v.Dmtr.v.val=S.target.U();this._o()};F.prototype.adT=function(S){this.LL.Brsh.v.Angl.v.val=S.target.U();
this._o()};F.prototype.akp=function(S){this.LL.Brsh.v.Rndn.v.val=S.target.U();this._o()};F.prototype.aeY=function(S){this.LL.Brsh.v.Hrdn.v.val=S.target.U();
this._o()};F.prototype.a6n=function(S){this.LL.Brsh.v.Spcn.v.val=S.target.U();this._o()};function b(){Z.call(this,[15,1]);
this.$N=new fZ([15,4,0],0,100,"%");this.$N.h(G.E.p,this.apI,this);this.m.appendChild(this.$N.m);this.bK=new fZ([15,4,1],0,100,"%");
this.bK.h(G.E.p,this.anZ,this);this.m.appendChild(this.bK.m);this.KI=new fZ([15,4,2],0,100,"%");this.KI.h(G.E.p,this.afg,this);
this.m.appendChild(this.KI.m);this.Zu=new dE("Control",["Off","Direction"]);this.Zu.h(G.E.p,this.a9N,this);
this.m.appendChild(this.Zu.m);this.pJ=new fZ([15,4,3],0,100,"%");this.pJ.h(G.E.p,this.a3V,this);this.m.appendChild(this.pJ.m);
this.MD=new fZ([15,4,4],1,100,"%");this.MD.h(G.E.p,this.a80,this);this.m.appendChild(this.MD.m)}b.prototype=new Z;
b.prototype.n=function(){this.$N.n();this.bK.n();this.KI.n();this.pJ.n();this.MD.n()};b.prototype.MK=function(){return this.LL.useTipDynamics.v};
b.prototype.Oi=function(S){this.LL.useTipDynamics.v=S;b6.AB.Tj(this.LL);this._o()};b.prototype.Yl=function(){var S=this.LL;
if(S.useTipDynamics.v==!1)return;this.$N.f(S.szVr.v.jitter.v.val);this.bK.f(S.minimumDiameter.v.val);
this.KI.f(S.angleDynamics.v.jitter.v.val);this.Zu.f(S.angleDynamics.v.bVTy.v==0?0:1);this.pJ.f(S.roundnessDynamics.v.jitter.v.val);
this.MD.f(S.minimumRoundness.v.val)};b.prototype.apI=function(S){this.LL.szVr.v.jitter.v.val=S.target.U();
this._o()};b.prototype.anZ=function(S){this.LL.minimumDiameter.v.val=S.target.U();this._o()};b.prototype.afg=function(S){this.LL.angleDynamics.v.jitter.v.val=S.target.U();
this._o()};b.prototype.a9N=function(S){this.LL.angleDynamics.v.bVTy.v=S.target.U()==0?0:6;this._o()};
b.prototype.a3V=function(S){this.LL.roundnessDynamics.v.jitter.v.val=S.target.U();this._o()};b.prototype.a80=function(S){this.LL.minimumRoundness.v.val=S.target.U();
this._o()};function _(){Z.call(this,[15,2]);this.uu=new fZ([15,5,0],0,1e3," %");this.uu.h(G.E.p,this.alb,this);
this.m.appendChild(this.uu.m);this.Da=new fZ([15,5,1],1,20);this.Da.h(G.E.p,this.a6g,this);this.m.appendChild(this.Da.m);
this.Ud=new fZ([15,5,2],0,100," %");this.Ud.h(G.E.p,this.am9,this);this.m.appendChild(this.Ud.m)}_.prototype=new Z;
_.prototype.n=function(){this.uu.n();this.Da.n();this.Ud.n()};_.prototype.MK=function(){return this.LL.useScatter.v};
_.prototype.Oi=function(S){this.LL.useScatter.v=S;b6.AB.Tj(this.LL);this._o()};_.prototype.Yl=function(){var S=this.LL;
if(S.useScatter.v==!1)return;this.uu.f(S.scatterDynamics.v.jitter.v.val);this.Da.f(S.Cnt.v);this.Ud.f(S.countDynamics.v.jitter.v.val)};
_.prototype.alb=function(S){this.LL.scatterDynamics.v.jitter.v.val=S.target.U();this._o()};_.prototype.a6g=function(S){this.LL.Cnt.v=S.target.U();
this._o()};_.prototype.am9=function(S){this.LL.countDynamics.v.jitter.v.val=S.target.U();this._o()};
function d(){Z.call(this,[15,3]);this.F$=new fZ([15,6,0],0,100," %");this.F$.h(G.E.p,this.agb,this);
this.m.appendChild(this.F$.m);this.p0=new fZ([15,6,1],0,100," %");this.p0.h(G.E.p,this.a7p,this);this.m.appendChild(this.p0.m);
this.iC=new fZ([15,6,2],0,100," %");this.iC.h(G.E.p,this.anA,this);this.m.appendChild(this.iC.m);this.DP=new fZ([15,6,3],0,100," %");
this.DP.h(G.E.p,this.asM,this);this.m.appendChild(this.DP.m)}d.prototype=new Z;d.prototype.n=function(){this.F$.n();
this.p0.n();this.iC.n();this.DP.n()};d.prototype.MK=function(){return this.LL.useColorDynamics.v};d.prototype.Oi=function(S){this.LL.useColorDynamics.v=S;
b6.AB.Tj(this.LL);this._o()};d.prototype.Yl=function(){var S=this.LL;if(S.useColorDynamics.v==!1)return;
this.F$.f(S.clVr.v.jitter.v.val);this.p0.f(S.H.v.val);this.iC.f(S.Strt.v.val);this.DP.f(S.Brgh.v.val)};
d.prototype.agb=function(S){this.LL.clVr.v.jitter.v.val=S.target.U();this._o()};d.prototype.a7p=function(S){this.LL.H.v.val=S.target.U();
this._o()};d.prototype.anA=function(S){this.LL.Strt.v.val=S.target.U();this._o()};d.prototype.asM=function(S){this.LL.Brgh.v.val=S.target.U();
this._o()};return e}();function cz(){d1.call(this,[9,0],!1,null,d1.Z8.Pi);this.dQ.setAttribute("style","min-width:200px;");
this.wP=K.L("div","hpbody scrollable");this.wP.style.height="160px";this.dQ.appendChild(this.wP);this.asz=-1;
this.oq=[];this.QO=""}cz.prototype=new d1("");cz.prototype.jQ=function(e){if(e==null){K.WL(this.wP);
this.QO="";return}K.WL(this.wP);var Z=0;for(var l=0;l<e.history.length;l++)if(l<=e.Ti&&!e.history[l].bg)Z=l;
for(var l=0;l<e.history.length;l++){var F=e.history[l];if(F.bg)continue;var b=new cD(F,l,Z);b.parent=this;
this.wP.appendChild(b.m);this.oq.push(b)}if(e.Ti==e.history.length-1)this.wR()};cz.prototype.wR=function(){this.wP.scrollTop=this.wP.scrollHeight};
cz.prototype.n=function(){d1.prototype.n.call(this);for(var l=0;l<this.oq.length;l++)this.oq[l].n()};
function cD(e,l,Z){h1.call(this);this.index=l;this.m=K.L("div",l==Z?"listitem selected":"listitem");
this.G5=e.name;this.n();if(l>Z)this.m.style.opacity=.4;this.m.addEventListener("click",this.NU.bind(this),!1)}cD.prototype=new h1;
cD.prototype.n=function(){this.m.textContent=gA.get(this.G5)};cD.prototype.NU=function(e){if(this.index==this.parent.asz)return;
this.M8({d:"h_itemchange",index:this.index})};cD.prototype.M8=function(e){var Z=new j8(G.E.u,!0);Z.data=e;
Z.k=i.Pi;this.$(Z)};function eQ(){d1.call(this,[9,10],!1,"---panels/histogram",d1.Z8.anw);var e=K.L("div","padded");
this.dQ.appendChild(e);this.Be=new hq(256,!0);e.appendChild(this.Be.m);this.Yf=null}eQ.prototype=new d1("");
eQ.prototype.jQ=function(e){this.Yf=e;this.qz()};eQ.prototype.qz=function(){var e=this.Yf;if(!K.RY(this.dQ))return;
if(e==null||e.V.length==0){this.Be.f(V.aB(V.J(4)));return}var Z=e.zB(),F=new e3(0,0,e.w,e._),b=F.Z();
if(e.K){var _=e.K.rect,d=V.J(_.Z()*4);V.Rf(Z,F,d,_);V.ne(e.K.channel,d);Z=d;F=_;var S=e.K.channel;b=0;
for(var l=0;l<S.length;l++)b+=S[l];b=Math.round(b/255)}var U=V.aB(Z);U[0][255]+=3*(b-U[5]);for(var l=1;
l<4;l++)U[l][255]+=b-U[5];this.Be.f(U,b)};eQ.prototype.ZP=function(e,Z){this.Be.jH(aQ.x3[e.WT]["--text-color"])};
eQ.prototype.n=function(){d1.prototype.n.call(this);this.Be.n()};eQ.prototype.wR=function(){this.qz()};
function b1(){d1.call(this,[9,8],!1,null,d1.Z8.a7R);this.O6=K.L("div","padded");this.dQ.appendChild(this.O6);
this.A7=new dY(10);this.O6.appendChild(this.A7.m);this.O6.appendChild(K.L("hr"));this.aN=new aX;this.aN.parent=this;
this.O6.appendChild(this.aN.gM);this.A7.h(G.E.p,this.ae9,this);this.aN.h(G.E.p,this.ae9,this)}b1.prototype=new d1("");
b1.prototype.ae9=function(e){var Z;if(e.target==this.A7)Z=this.A7.U();else{var F=this.aN.U();Z=Math.round(F.o)<<16|Math.round(F.z)<<8|Math.round(F.S)}var b=new j8(G.E.W,!0);
b.data={d:G.B.aE,NG:c6.kp,Yu:0,I:Z};this.$(b)};b1.prototype.ZP=function(e,Z){var F=e.Ly,b=Z==c6.vy;if(Z==c6.kp||b){this.A7.f(F);
this.aN.f({o:F>>>16&255,z:F>>>8&255,S:F>>>0&255,A9:"Color #"+V.Z0(F)})}if(Z==c6.qZ||b){var _=e.a8j;this.aN.z6(_)}};
function cm(){d1.call(this,[12,72],!1,"---adj/mixr",d1.Z8.a82);this.cy=null;this.Ao=null;this.wP=K.L("div","lpbody scrollable");
this.vW=K.L("div","lpfoot");this.dQ.appendChild(this.wP);this.dQ.appendChild(this.vW);this.cN=[];this.h("click",this.L5,this);
this.Uy=[];cm.tM([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Uy,this.vW,this.dB.bind(this),this.iM.bind(this));
this.cs=new gx([{name:"Merge Channels",vD:!0}]);this.cs.h("select",this.lW,this)}cm.prototype=new d1("");
cm.prototype.lW=function(e){if(this.Ao==null)return;var Z=new j8(G.E.W,!0);Z.data={d:G.B.tJ,ZB:"mergechannels"};
this.$(Z)};cm.prototype.Bu=function(){return this.cs};cm.tM=function(e,Z,F,b,_){for(var l=0;l<e.length;
l++){var d=new cd("W",!1,e[l]);Z.push(d);K.x7(d.m,b);F.appendChild(d.m);var S=d.m;S.addEventListener("drop",_,!1);
S.addEventListener("dragover",function(U){U.preventDefault()},!1);S.addEventListener("dragenter",K.Zn,!1)}};
cm.Xy=function(e,Z){for(var l=0;l<e.length;l++)if(e[l].m==Z.currentTarget)return l};cm.prototype.dB=function(e){var Z=cm.Xy(this.Uy,e);
if(Z==0)this.$(iq.IS(!0,null,e));else{Z--;var F=new j8(G.E.GT,!0),b={classID:"null"};if(Z==0)b.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(Z==1)b.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else b.null=dz.vz("Chnl",!0);F.data={qg:["duplicate","make","delete"][Z],ni:b};this.$(F)}};cm.prototype.iM=function(e){var Z=cm.Xy(this.Uy,e);
if(Z==2){var F=new j8(G.E.GT,!0),b={classID:"null"};b.null=dz.vz("Chnl",!0);F.data={qg:"duplicate",ni:b};
this.$(F)}else this.dB(e)};cm.prototype.m9=function(l){var e=this.cN,Z=e[l];if(Z==null){var F=K.L("canvas");
Z=F.getContext("2d");e.push(Z)}return Z};cm.prototype.L5=function(e){var Z=this.cy.slice(0),F=e.data.wD,b=Z[0]+Z[1]+Z[2],_=this.Ao;
if(-5<F&&F<0){var d=-F-1;if(e.data.ST){if(d==0)Z=b==3?[0,0,0]:[1,1,1];else{if(Z[d-1]==0)Z[d-1]=1;else if(!0)Z[d-1]=0}}else{if(d==0)Z=[1,1,1];
else{Z=[0,0,0];Z[d-1]=1}_.kl=[]}var S=new j8(G.E.u,!0);S.k=i.mq;S.data={d:"setcls",$v:Z};this.$(S);return}if(-1<F){var U=_.g[F],r=U.WA==1?U.Vj():U.EB(_).v;
if(e.data.ST)r.oB=!r.oB;else{for(var l=0;l<_.LE.length;l++)_.LE[l].oB=!1;_.kl=[]}}else{var q=-F-5,r=_.LE[q];
if(e.data.ST)r.oB=!r.oB;else{for(var l=0;l<_.LE.length;l++)_.LE[l].oB=!1;r.oB=!0;_.kl=[q]}}_.sp=_.Zc=!0};
cm.prototype.wR=function(){this.ci()};cm.prototype.jQ=function(e){this.Ao=e;this.ci()};cm.prototype.ci=function(){var e=this.Ao,Z=this.wP,U=34,r=34,c=4;
K.WL(Z);if(e==null||!K.RY(Z))return;var F=e.w,b=e._,_=new e3(0,0,F,b),d=this.cy=e.t.$v.slice(0),S=d[0]+d[1]+d[2];
if(F>b)r=Math.round(r*b/F);else U=Math.round(U*F/b);var q=["RGB"].concat(hc.aD);for(var l=0;l<4;l++){var w=this.m9(l);
V.QK.i4(w,U,r,_,e.zB(),_,!1,l==0?null:l-1);var X=l==0?S==3:d[l-1]==1,Q=new iq(-1-l,!0,!0,w,q[l],X,X);
Q.parent=this;Z.appendChild(Q.m)}for(var l=0;l<e.V.length;l++){var u=e.g[e.V[l]],n=u.WA;if(n!=1&&n!=3)continue;
var k=n==1?u.Vj():u.EB(e).v,w=this.m9(c+l);c++;V.QK.Cn(w,U,r,_,k);var Q=new iq(e.V[l],!0,!0,w,u.getName()+(n==1?"":" Filter")+" Mask",!0,k.oB);
Q.parent=this;Z.appendChild(Q.m)}for(var l=0;l<e.LE.length;l++){var k=e.LE[l],w=this.m9(c+l);V.QK.Cn(w,U,r,_,k);
var Q=new iq(-5-l,!0,k.name=="Quick Mask",w,k.name,e.kl.indexOf(l)!=-1,k.oB,i.__,{d:g.B6,Yu:"rnm",wD:l});
Q.parent=this;Z.appendChild(Q.m)}};cm.prototype.Av=function(e,Z){this.wP.style.height=Z-9-26+"px";this.wP.style.width=e+"px"};
cm.prototype.n=function(){d1.prototype.n.call(this);this.ci();cm.NL(this.Uy,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
cm.NL=function(e,Z){var Z=jv.K4(Z);for(var l=0;l<e.length;l++)e[l].cc(Z[l])};function iq(e,Z,F,b,_,d,S,U,r){h1.call(this);
this.m=K.L("div","layeritem");this.aaA=e;this.a7e=Z;this.Gl=b;this.a0D=U;this.agt=r;this.Lj=K.L("div",d?"head selected":"head");
this.Lj.setAttribute("style","height: "+40+"px");var q=K.L("div","headL"),w=K.L("div","headR"),X=15;
this.m.appendChild(this.Lj);this.Lj.appendChild(q);this.Lj.appendChild(w);this.NK=K.L("div","eye");if(1<K.F()&&K.F()<1.5)X=X/K.F();
this.NK.setAttribute("style","background-size: "+X+"px "+X+"px;");this.NK.style.opacity=S?1:.2;if(Z)q.appendChild(this.NK);
this.Jg=K.L("div","thumb");if(b)this.Jg.appendChild(b.canvas);q.appendChild(this.Jg);this.hp=K.L("div","label");
if(F)this.hp.style.fontStyle="italic";this.hp.textContent=gA.get(_);q.appendChild(this.hp);var Q=this.Lj;
Q.setAttribute("draggable","true");this.Lj.addEventListener("mousedown",this.abp.bind(this),!1);if(!F)this.Lj.addEventListener("mouseup",this.aap.bind(this),!1)}iq.prototype=new h1;
iq.prototype.TX=function(e){var Z=new j8(G.E.u,!0);Z.k=this.a0D;Z.data=this.agt;Z.data.name=e;this.$(Z)};
iq.prototype.abp=function(e){var Z=e.ctrlKey||e.metaKey,F=this.aaA;if(Z&&e.target==this.Gl.canvas){this.$(iq.IS(this.a7e,F,e))}else{var b=new j8("click",!0);
b.data={wD:F,ST:e.target==this.NK,ob:Z};this.$(b)}};iq.prototype.aap=function(e){if(e.detail==2&&e.target==this.hp){var Z=new d1.Uw(this.hp,this.TX.bind(this))}};
iq.IS=function(e,Z,F){var b=0;if(F.shiftKey)b++;if(F.altKey)b+=2;var _=new j8(G.E.u,!0);_.k=i._6;if(e){if(-5<Z&&Z<0){_=new j8(G.E.GT,!0);
_.data=i.wL.g9(b,["RGB","Rd","Grn","Bl"][-1-Z])}else _.data={d:"fromchannel",wg:[Z,0,b]}}else _.data={d:"frompath",wg:[Z,0,b]};
return _};function jc(){d1.call(this,[8,9],!1,"---panels/paths",d1.Z8.ys);this.cy=null;this.Ao=null;
this.wP=K.L("div","lpbody scrollable");this.vW=K.L("div","lpfoot");this.dQ.appendChild(this.wP);this.dQ.appendChild(this.vW);
this.dQ.addEventListener("click",this.a2W.bind(this),!1);this.cN=[];this.h("click",this.L5,this);this.Uy=[];
cm.tM(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Uy,this.vW,this.dB.bind(this),this.iM.bind(this))}jc.prototype=new d1("");
jc.prototype.dB=function(e,Z){var F=cm.Xy(this.Uy,e),b;if(F<2){var _={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},d=F==0?{classID:"null",null:_,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:_,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
b=new j8(G.E.GT,!0);b.data={qg:F==0?"fill":"stroke",ni:d}}else if(F==2)b=iq.IS(!1,null,e);else if(F==3){b=new j8(G.E.GT,!0);
b.data={qg:"make",ni:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(F>3){var b=new j8(G.E.u,!0);
b.k=i.qy;b.data={d:"pathedit",Yu:["new","del"][F-4],ag5:Z}}this.$(b)};jc.prototype.iM=function(e){this.dB(e,!0)};
jc.prototype.m9=function(l){var e=this.cN,Z=e[l];if(Z==null){var F=K.L("canvas");Z=F.getContext("2d");
e.push(Z)}return Z};jc.prototype.a2W=function(e){if(e.target==this.wP){var Z=this.Ao;Z.YN=[];Z.sQ=[];
Z.Zc=!0;Z.sp=!0}};jc.prototype.L5=function(e){var Z=e.data.wD,F=this.Ao,b=e.data.ob,_=0,d,S;if(Z<0){_=-1-Z;
d=F.YN;S=F.sQ}else{var U=F.GJ()[0];for(var l=0;l<U.length;l++){var r=U[l].wD;if(r==Z)break;if(r>=0)_++}d=F.sQ;
S=F.YN}if(b){var q=d.indexOf(_);if(q==-1)d.push(_);else d.splice(q,1)}else{while(d.length!=0)d.pop();
while(S.length!=0)S.pop();d.push(_)}F.Zc=!0;F.sp=!0};jc.prototype.wR=function(){this.ci()};jc.prototype.jQ=function(e){this.Ao=e;
this.ci()};jc.prototype.ci=function(){var e=this.Ao,Z=this.wP,U=34,r=34;K.WL(Z);if(e==null||!K.RY(Z))return;
var F=e.w,b=e._,_=new e3(0,0,F,b),d=this.cy=e.t.$v.slice(0),S=d[0]+d[1]+d[2];if(F>b)r=Math.round(r*b/F);
else U=Math.round(U*F/b);var q=e.GJ(),w=q[0];for(var l=0;l<w.length;l++){var X=w[l],Q=this.m9(l);V.QK.aoq(Q,U,r,_,X.add.vmsk);
var c=new iq(X.wD,!1,X.wD>=0,Q,X.name,q[1].indexOf(l)!=-1,!1,i.qy,{d:"pathedit",Yu:"rnm",wD:X.wD});c.parent=this;
Z.appendChild(c.m)}};jc.prototype.Av=function(e,Z){this.wP.style.height=Z-9-26+"px";this.wP.style.width=e+"px"};
jc.prototype.n=function(){d1.prototype.n.call(this);this.ci();cm.NL(this.Uy,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function dR(e){d1.call(this,[9,e?4:5],!1,"---panels/"+(e?"character":"paragraph"),e?d1.Z8.a6V:d1.Z8.a3x);
this.dQ.setAttribute("style","min-width:240px;");this.aam=e;this.sN=null;this.Pk=null}dR.prototype=new d1("");
dR.prototype.qb=function(){this.sN=new fW;var e=this.sN,Z=this.dQ;e.parent=this;if(this.aam){var F=K.L("div","marged");
Z.appendChild(F);F.appendChild(e._c.m);Z.appendChild(K.L("hr"));var b=K.L("div","marged");Z.appendChild(b);
b.appendChild(e.Ry.m);b.appendChild(e.JV.m);var _=K.L("div","marged");Z.appendChild(_);_.appendChild(e.L9.m);
_.appendChild(e.K0.m);Z.appendChild(K.L("hr"));var d=K.L("div","marged");Z.appendChild(d);d.appendChild(e.Xq.m);
d.appendChild(e.e3.m);var S=K.L("div","marged");Z.appendChild(S);S.appendChild(e.oI.m);S.appendChild(e.U_.m);
S.appendChild(e.pT.m);Z.appendChild(K.L("hr"));var U=K.L("div","marged");Z.appendChild(U);U.appendChild(e.xM.m);
U.appendChild(e.pm.m);U.appendChild(e.IZ.m);U.appendChild(e.N5.m);U.appendChild(e.GZ.m);U.appendChild(e.hT.m);
U.appendChild(e.v4.m);U.appendChild(e.yY.m)}else{var F=K.L("div","marged");Z.appendChild(F);F.appendChild(e.O4.m);
F.appendChild(e.$u.m);F.appendChild(e.Ci.m);F.appendChild(e.ai4.m);F.appendChild(e.acY.m);F.appendChild(e.aaZ.m);
F.appendChild(e.a1R.m);Z.appendChild(K.L("hr"));var b=K.L("div","marged");Z.appendChild(b);b.appendChild(e.SC.m);
b.appendChild(e.t5.m);b.appendChild(e.Ig.m);Z.appendChild(K.L("hr"));var _=K.L("div","marged");Z.appendChild(_);
_.appendChild(e.Hm.m);_.appendChild(e.eO.m);_.appendChild(e.O$.m)}};dR.prototype.wR=function(){if(!K.RY(this.dQ))return;
if(this.sN==null){this.qb();var e=this.Pk;if(e)this.sN.f(e.Cv,e.W5,e.tu);this.sN.n()}};dR.prototype.n=function(){d1.prototype.n.call(this);
if(this.sN)this.sN.n()};dR.prototype.ZP=function(e,Z){this.Pk=e;if(Z!=c6.vy&&Z!=c6.fU&&Z!=c6.jZ&&Z!=c6.Ub)return;
if(this.sN)this.sN.f(e.Cv,e.W5,e.tu)};function eC(){d1.call(this,[9,13],!1,"---panels/glyphs",d1.Z8.aqk);
this.sN=new fW;this.sN.parent=this;this.Pk=null;this.afT=null;this.a8V=null;this.aC=null;this.atd=null;
this.Wx=Math.round(290*K.F());this.IH=45;this.akQ=4;this.ats=this.qz.bind(this);this.ahi=0;this.R7=new dE(null,["Hi","Hello"]);
this.R7.h(G.E.p,this.qz,this);var e=this.uv=new cd("-",null,null,!0);e.h("click",this.a84,this);var Z=this.aga=new cd("+",null,null,!0);
Z.h("click",this.a84,this);this.ik=new b7(!1);this.ik.h(G.E.p,this.zi,this);this.ik.m.style.height=250+"px";
var F=this.o0=K.L("div","form padded");this.dQ.appendChild(F);F.appendChild(this.sN._c.m);K.MV(F);F.appendChild(this.R7.m);
F.appendChild(e.m);F.appendChild(Z.m);this.dQ.appendChild(this.ik.m)}eC.prototype=new d1("");eC.prototype.Av=function(e,Z){if(this.bo==e)return;
this.bo=e;this.Wx=Math.floor((e-13)*K.F());this.o0.setAttribute("style","width:"+this.Wx/K.F()+"px;");
this.ik.m.style.height=Z-73+"px";this.qz()};eC.prototype.zi=function(e){var Z=this.ar_(),F=Math.round(this.Wx/Z);
Z/=K.F();var b=this.ik.U()[0]*F*this.akQ,_=this.ik.a0W();b+=Math.floor(_.y/Z)*F;b+=Math.floor(_.x/Z);
var d=this.aC[this.R7.U()];if(b>=d.length)return;var S=d[b],U=this.atd[S],r=new j8(G.E.u,!0);r.k=i.Xk;
if(U.x$.length==0)r.data={d:"insertGlyph",I:b+1};else r.data={d:"insertText",I:String.fromCodePoint(U.x$[0])};
this.$(r)};eC.prototype.a84=function(e){var Z=1.2;if(e.target==this.uv){if(this.IH>20)this.IH/=Z}else{if(this.IH<100)this.IH*=Z}this.qz()};
eC.prototype.wR=function(){this.ZP(this.Pk)};eC.prototype.ZP=function(e,Z){this.Pk=e;if(!K.RY(this.dQ))return;
this.sN.f(e.Cv,e.W5,e.tu);var F=e.Cv,b=F.sn.Font,r=0;if(b==null)return;var _=F.j3[b].Name;if(this.afT==_)return;
var b=e.W5.J7(_);if(b==null)return;var d=b.maxp.numGlyphs,S=this.atd=new Array(d);for(var l=0;l<d;l++)S[l]={x$:[]};
var U=Date.now(),q=new Uint8Array(1048575);for(var l=0;l<1048575;l++){var w=Typr.U.codeToGlyph(b,l);
if(w!=0&&w<d){q[l]=1;if(S[w].x$.length==0)r++;S[w].x$.push(l)}}var X=eC.xh,Q=[];for(var l=0;l<X.length;
l++)Q.push([]);for(var w=1;w<d;w++){Q[0].push(w);var c=S[w].x$[0];if(c==null){continue}for(var u=1;u<X.length;
u++){var n=X[u].T3;for(var l=0;l<n.length;l+=2)if(n[l]<=c&&c<=n[l+1]){Q[u].push(w);break}}}this.aC=Q;
var k=[];for(var l=0;l<X.length;l++)k.push(X[l].gL+" ("+Q[l].length+")");var B=this.R7.U();this.R7.mj(k);
this.R7.f(B);this.afT=_;this.a8V=b;this.qz()};eC.prototype.ar_=function(e){var Z=Math.floor(this.Wx/this.IH);
return Math.floor(this.Wx/Z)};eC.prototype.qz=function(e){if(!K.RY(this.dQ)||this.aC==null)return;var Z=this.aC[this.R7.U()],F=Z.length,b=this.a8V,_=Typr.U,d=this.ar_(),S=d,U=S*.8,r=S*.8/b.head.unitsPerEm,q=[],w=Math.floor(this.Wx/d),X=Math.ceil(F/w),Q=this.akQ,c=Date.now();
for(var u=0;u<X;u+=Q){var n=K.L("canvas"),k=n.getContext("2d");n.width=d*w;n.height=S*Q;k.strokeStyle="rgba(0,0,0,0.3)";
k.fillStyle="white";k.fillRect(0,0,w*d,S*Q);for(var B=0;B<Q;B++){for(var o=0;o<w;o++){var l=Z[(u+B)*w+o];
if(l==null)break;var T=_.glyphToPath(b,l),z=V.H.HA(T.crds);if(!z.BJ()){k.fillStyle="#252525";k.beginPath();
var W=o*d+(d-z.w*r)*.5-z.x*r,$=B*S+U;k.translate(W,$);k.scale(r,-r);_.pathToContext(T,k);k.scale(1/r,-1/r);
k.translate(-W,-$);k.fill()}}}k.beginPath();for(var o=0;o<w;o++){var R=o*d+d+.5;k.moveTo(R,0);k.lineTo(R,S*Q)}for(var B=0;
B<Q;B++){var P=B*S+S+.5;k.moveTo(0,P);k.lineTo(w*d,P)}k.stroke();q.push(n)}this.ik.Ra(q,null,d*w,S*Q)};
eC.xh=[{gL:"All Glyphs"},{gL:"Basic Latin, Latin 1",T3:[0,127,128,143]},{gL:"Latin Extended-A",T3:[256,383]},{gL:"Latin Extended-B",T3:[384,591]},{gL:"Punctuations",T3:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{gL:"Greek",T3:[880,1023]},{gL:"Cyrillic",T3:[1024,1279]},{gL:"Hebrew",T3:[1424,1535]},{gL:"Arabic",T3:[1536,1791]},{gL:"Emoji",T3:[9728,10095,127744,129535]}];
function ds(){d1.call(this,[13,0],!1,null,d1.Z8.kp);this.fE=0;this.akH=0;this.Pk=null;var e=K.L("div","flexrow padded");
this.dQ.appendChild(e);var Z=K.L("div");e.appendChild(Z);this.lJ=[];for(var l=0;l<2;l++){var F=new jQ;
this.lJ.push(F);F.h("click",this.a2n,this);Z.appendChild(F.m)}this.K8=new iN(192);this.K8.h(G.E.p,this.R9,this);
e.appendChild(this.K8.m)}ds.prototype=new d1("");ds.prototype.a2n=function(e){this.fE=this.lJ.indexOf(e.currentTarget);
this.qz()};ds.prototype.R9=function(e){var Z=this.K8.U();this.K8.f(Z);var F=Math.round(Z.o*255)<<16|Math.round(Z.z*255)<<8|Math.round(Z.S*255),b=new j8(G.E.W,!0);
b.data={d:G.B.aE,NG:c6.kp,Yu:this.fE,I:F};this.$(b);this.akH=Date.now()};ds.prototype.qz=function(){var e=this.Pk,Z=this.fE,F=[e.Ly,e.ZE];
for(var l=0;l<2;l++){var b=this.lJ[l],_=b.m.style;b.jH(F[l]);if(l==Z)_.filter="drop-shadow(0 0 1px #000000)"}var d=F[Z];
if(Date.now()-this.akH>100)this.K8.f({o:(d>>>16)/255,z:(d>>>8&255)/255,S:(d&255)/255})};ds.prototype.ZP=function(e,Z){this.Pk=e;
if(Z==c6.vy||Z==c6.kp)this.qz()};ds.prototype.wR=function(){this.qz()};function aU(){d1.call(this,"CSS",!1,"---panels/css",d1.Z8.CSS);
this.Yf=null;var e=K.L("div","padded");this.dQ.appendChild(e);this.$A=K.L("textarea");K.lN(this.$A);
e.appendChild(this.$A)}aU.prototype=new d1("");aU.prototype.Av=function(e,Z){if(this.bo==e)return;this.bo=e;
this.$A.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(e-10)+"px; height:"+(Z-10)+"px")};
aU.prototype.jQ=function(e){this.Yf=e;this.qz()};aU.prototype.ZP=function(e,Z){if(Z==c6.jZ)this.qz()};
aU.prototype.qz=function(){var e=this.Yf;if(e==null||e.V.length==0)return;if(!K.RY(this.dQ))return;var Z=e.g[e.V[0]],F=CSS.arx(Z,e);
if(F.length!=0)this.$A.value=F.join(";\n")+";";else this.$A.value=""};aU.prototype.wR=function(){this.qz()};
function f7(){d1.call(this,[9,6],!1,"---panels/info",d1.Z8.ahA);this.dQ.setAttribute("style","min-width:240px;");
this.Yf=null;this.Pk=null;var e=K.L("div","marged row");this.dQ.appendChild(e);var Z=K.L("div","cell");
Z.setAttribute("style","width:10em");e.appendChild(Z);var F=K.L("div","cell");F.setAttribute("style","width:10em");
e.appendChild(F);this.am0=[];for(var l=0;l<4;l++){var b=new dB("");this.am0.push(b);Z.appendChild(b.m);
K.MV(Z)}this.dQ.appendChild(K.L("hr",""));var _=K.L("div","marged row");this.dQ.appendChild(_);var Z=K.L("div","cell");
Z.setAttribute("style","width:10em");var F=K.L("div","cell");F.setAttribute("style","width:10em");_.appendChild(Z);
_.appendChild(F);this.Hl=new dB("");Z.appendChild(this.Hl.m);K.MV(Z);this.ei=new dB("");Z.appendChild(this.ei.m);
this.ha=new dB("");F.appendChild(this.ha.m);K.MV(F);this.fr=new dB("");F.appendChild(this.fr.m);this.Hl.f("X: 100 px");
this.ei.f("Y: 100 px");this.ha.f("W: 0");this.fr.f("H: 0")}f7.prototype=new d1("");f7.prototype.SE=function(e,Z,F,b,_){if(!K.RY(this.dQ)||e==null)return;
var d=e.t.mG(_.x,_.y),S=new bI(Math.floor(d.x),Math.floor(d.y));if(!_.jP){var U=0,r=0,q=0,w=0,X=this.am0;
if(!_.jP&&!e.aie()&&new e3(0,0,e.w-1,e._-1).rI(S)){var Q=e.zB(),l=e.w*S.y+S.x<<2;U=Q[l+0];r=Q[l+1];q=Q[l+2];
w=Q[l+3]}X[0].f("R: "+U);X[1].f("G: "+r);X[2].f("B: "+q);X[3].f("A: "+w)}this.Hl.f("X: "+V.PR.Ix(S.x,e.Cr,F,e.w));
this.ei.f("Y: "+V.PR.Ix(S.y,e.Cr,F,e._));this.uO()};f7.prototype.uO=function(){var e=this.Yf,Z=this.Pk,F=0,b=0;
if(e&&Z){if(e.t.M1){F=e.t.M1.w;b=e.t.M1._}else if(e.K){F=e.K.rect.w;b=e.K.rect._}F=V.PR.Ix(Math.abs(F),e.Cr,Z,e.w);
b=V.PR.Ix(Math.abs(b),e.Cr,Z,e._)}this.ha.f(gA.get([12,41]).charAt(0)+": "+F);this.fr.f(gA.get([12,42]).charAt(0)+": "+b)};
f7.prototype.n=function(){d1.prototype.n.call(this);this.uO()};f7.prototype.jQ=function(e,Z,F){this.Yf=e;
this.Pk=F;this.uO()};function gW(){d1.call(this,[9,1],!1,"---panels/layers",d1.Z8.__);this.UU=null;this.Bm=null;
this.LK=null;this.Lj=K.L("div","lphead");this.wP=K.L("div","lpbody scrollable");this.vW=K.L("div","lpfoot");
this.Ru=new dE(null,ae.Bj,!1,ae.aH);this.Ru.h(G.E.p,this.adG,this);this.Lj.appendChild(this.Ru.m);this.m2=new en([12,0],0,100,"%",0);
this.m2.h(G.E.p,this.a7u,this);this.m2.parent=this;this.Lj.appendChild(this.m2.m);this.Ef=new g_([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Ef.h(G.E.p,this.a7O,this);this.Lj.appendChild(this.Ef.m);this.kh=new en([12,26],0,100,"%",0);this.kh.h(G.E.p,this.a6U,this);
this.kh.parent=this;this.Lj.appendChild(this.kh.m);this.Uy=[];this.tM();this.dQ.appendChild(this.Lj);
this.dQ.appendChild(this.wP);this.wP.addEventListener("dragover",function(F){F.preventDefault()},!1);
this.wP.addEventListener("dragenter",K.Zn,!1);this.wP.addEventListener("drop",this.aeF.bind(this),!1);
this.dQ.appendChild(this.vW);this.dQ.addEventListener("contextmenu",K.Zn,!1);var e=ay.qA(!0),Z=ay.LV(!0);
this.auj=new gx(e,Z);var e=[{name:[14,10]},{name:[14,11],jr:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],jr:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",P:function(F){return{P:F.g[F.V[0]].add.SoLd!=null}},jr:!0},{name:[6,8],P:gW.aiY},{name:[6,34],P:function(F){var b=F.g[F.V[0]];
return{P:b.add.lmfx!=null&&!b.yx()}}},{name:[6,40],jr:!0,P:function(F){var b=F.g[F.V[0]];return{P:b.add.TySh!=null}}},{name:"",jr:!0,P:function(F){var b=F.g[F.V[0]],_=b.add.TySh,d=_?_.HV:null;
return{P:_!=null&&d.Curve==null,cw:gA.get(_&&fN.ms(d)==0?[16,3,1]:[16,3,0])}}},gW.a3_(!1),{name:[11,6],jr:!0,sub:[{name:[5,1],P:function(F){var b=F.g[F.V[0]];
return{P:b.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],P:function(F){var b=F.g[F.V[0]];return{P:b.add.lmfx!=null}}}]},{name:[6,10],P:function(F){return{P:F.V.length==1&&F.V[0]!=0&&!F.g[F.V[0]].yx()}}},{name:[6,12,0],P:function(F){return{P:F.V.length>1||F.g[F.V[0]].yx()}}},{name:[6,12,1],jr:!0},{name:[13,0],sub:function(){var F=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],b=[];
for(var l=0;l<F.length;l++)b.push({name:F[l]});return b}()}],Z=[{Y:G.E.W,R:{d:G.B.tJ,ZB:"layerstyle"}},{Y:G.E.u,k:i._6,R:{d:"fromlayer",wg:[null,0,0]}},{Y:G.E.u,k:i.__,R:{d:g.YB}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"duplinto"}},{Y:G.E.u,k:i.__,R:{d:g.BD}},{Y:G.E.GT,R:{qg:"newPlacedLayer"}},{Y:G.E.u,k:i.__,R:{d:g.bX}},{Y:G.E.GT,R:{qg:"rasterizeLayer",ni:{classID:"rasterizeLayer",null:dz.vz("Lyr",!0)}}},{Y:G.E.u,k:i.__,R:{d:g.TZ}},{Y:G.E.u,k:i.__,R:{d:g.tj}},{Y:G.E.u,k:i.Xk,R:{d:"switchPntPrgr"}},{Y:G.E.u,k:i.__,R:{d:g.jp}},{sub:[{Y:G.E.u,k:i.D7,R:{d:"st_copy"}},{Y:G.E.u,k:i.D7,R:{d:"st_paste"}},{Y:G.E.u,k:i.D7,R:{d:"st_clear"}}]},{Y:G.E.u,k:i.__,R:{d:g.J$}},{Y:G.E.u,k:i.__,R:{d:g.eR}},{Y:G.E.u,k:i.__,R:{d:g.XU}},{sub:function(){var F=[];
for(var l=0;l<8;l++)F.push({Y:G.E.u,k:i.__,R:{d:g.dh,amP:l}});return F}()}];this.Xu=new gx(e,Z);var e=[{name:[6,45],P:function(F){var b=F.g[F.V[0]];
return{P:b.EB(F).v==null}}},{name:[6,47]}],Z=[{Y:G.E.u,k:i.__,R:{d:g.m4}},{Y:G.E.u,k:i.__,R:{d:g.N0}}];
this.ama=new gx(e,Z);var e=[{name:"enab/disab",P:function(F){return{cw:gA.get(F.g[F.V[0]].Vj().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],P:function(F){return{P:F.gy(!1,!0)}}}],Z=[{Y:G.E.u,k:i.__,R:{d:g.IF}},{Y:G.E.u,k:i.__,R:{d:g.WU}},{Y:G.E.u,k:i.__,R:{d:g.LI}}];
this.a8t=new gx(e,Z);var e=[{name:"enab/disab",P:function(F){return{cw:gA.get(F.g[F.V[0]].EB(F).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],Z=[{Y:G.E.u,k:i.__,R:{d:g.gG}},{Y:G.E.u,k:i.__,R:{d:g.G3}}];
this.a6Q=new gx(e,Z);var e=[{name:"enab/disab",P:function(F){return{cw:gA.get(F.g[F.V[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],Z=[{Y:G.E.u,k:i.__,R:{d:g.je}},{Y:G.E.u,k:i.__,R:{d:g.xY}},{Y:G.E.u,k:i.__,R:{d:g.y5}}];
this.ap3=new gx(e,Z);this.a0S=new gx(ay.amv(!0),ay.R4(!0));this.a85=new gx(ay.qA(),ay.LV());this.h("rclick",this.a6K,this)}gW.prototype=new d1("");
gW.a3_=function(e){var Z=function(b){var _=b!=null&&b.V.length!=0&&b.g[b.V[0]].bN;return{b2:_,P:b!=null&&b.YF(b.V[0]),R:{Y:G.E.GT,R:{qg:_?"ungroup":"groupEvent",ni:{classID:_?"Ungr":"GrpL",null:dz.vz("Lyr",!0)}}}}},F={name:[6,6,0],jr:!0,P:Z};
if(e)F.Nr=[ex.sW,ex.Nh,ex.Ds];return F};gW.aiY=function(e,Z){if(e)for(var l=0;l<e.V.length;l++){var F=e.g[e.V[l]];
if(F.add.TySh||F.add.SoLd||F.add.SoCo||F.add.GdFl||F.add.PtFl)return{P:!0}}return{P:!1}};gW.prototype.aeF=function(e){K.Zn(e);
var Z=e.dataTransfer.getData("Text"),F=1,b=0;if(Z==""){K.Rk(e,this,this.LK.indexOf(this.Bm),b+(F>.5?0:1))}else if(Z!="--panel"){var Z=JSON.parse(Z),_=Z.K$;
if(_=="l")this.M8({d:g.zH,source:Z.dY,target:b,s0:F})}};gW.prototype.a6K=function(e){var Z=this.Bm,F=e.data,_;
if(Z.V.indexOf(F.i)==-1){var b={d:g.cI,i:e.target.Li.index,nH:F.WA};this.M8(b)}if(Z.V.indexOf(F.i)==-1)return;
if(F.WA==1){_=this.a8t}else if(F.WA==2){_=this.ap3}else if(F.WA==3){_=this.a6Q}else if(F.WA==4){_=this.ama}else if(F.WA==5){_=this.auj}else{_=this.Xu}_.n();
_.update(Z);_.parent=this;var d=new j8(G.E.W,!0);d.data={d:G.B.f6,Gw:_,x:F.bj.x+1,y:F.bj.y+1};this.$(d)};
gW.prototype.n=function(){d1.prototype.n.call(this);this.Ru.n();this.m2.n();this.Ef.n();this.kh.n();
if(this.Bm)this.jQ(this.Bm);var e="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var l=0;l<this.Uy.length;l++){var Z=this.Uy[l];Z.cc(K.kO(e[l]))}};gW.prototype.jQ=function(e,Z){if(e&&!e.oW)return;
if(e==null)K.j_(this.dQ,"disabled");else K.vB(this.dQ,"disabled");this.Bm=e;this.LK=Z;if(this.UU!=null){this.wP.removeChild(this.UU.wP);
this.UU=null}if(e==null)return;var F=!1;for(var l=0;l<e.LE.length;l++)if(e.LE[l].oB)F=!0;this.UU=new hn(e.root,this,e,{RW:0},{arV:F});
this.wP.appendChild(this.UU.wP);if(e.V.length==0||e.g[e.V[0]]==null)K.j_(this.Lj,"disabled");else{K.vB(this.Lj,"disabled");
if(e.V.length==1&&e.BV)this.UU.amA(e.V);var b=e.g[e.V[0]];if(b.yx()){this.Ru.mj([[15,10,27]].concat(ae.Bj),[1].concat(ae.aH));
var _=ae.Qd.indexOf(b.Du);this.Ru.f(_+1)}else{this.Ru.mj(ae.Bj,ae.aH);var _=ae.Qd.indexOf(b.Du);this.Ru.f(_)}this.m2.f(Math.round(100*b.opacity/255));
this.Ef.f([b.oT(0),b.oT(1),b.oT(2),b.oT(31)]);this.kh.f(Math.round(100*(b.add.iOpa!=null?b.add.iOpa/255:1)))}};
gW.prototype.Av=function(e,Z){var F=this.Lj.getBoundingClientRect().height,b=59;if(F>70)b=84;if(F>100)b=108;
var _=Z-(b+37);this.wP.style.height=_+"px";this.wP.style.width=e+"px"};gW.prototype.adG=function(e){this.M8({d:g.tx,mQ:this.Ru.U()})};
gW.prototype.a7u=function(e){this.M8({d:g.H4,mQ:Math.round(255*this.m2.U()/100)})};gW.prototype.a7O=function(e){this.M8({d:g.TR,mQ:[this.Ef.U(),[0,1,2,31]]})};
gW.prototype.a6U=function(e){this.M8({d:g.K3,mQ:Math.round(255*this.kh.U()/100)})};gW.prototype.acP=function(e){this.aau(e,this.a0S)};
gW.prototype.ajc=function(e){this.aau(e,this.a85)};gW.prototype.aau=function(e,Z){var F=e.currentTarget;
if(K.RY(Z.m))return;e.stopPropagation();var b=F.getBoundingClientRect();Z.n();Z.update(this.Bm);Z.parent=this;
var _=new j8(G.E.W,!0);_.data={d:G.B.f6,Gw:Z,x:b.left,y:b.top,ahj:!0};this.$(_)};gW.prototype.an2=function(e){this.M8({d:g.gX})};
gW.prototype.ac7=function(e){this.M8({d:this.Bm.V.length>1?g.Bo:g.UM})};gW.prototype.ago=function(e){this.M8({d:g.ls})};
gW.prototype.apQ=function(e){var Z=this.Bm;if(Z.V.length==0)return;var F=Z.g[Z.V[0]],b=F.WA;this.M8({d:b<=0?F.c7?g.xY:g.BD:b==3?g.G3:g.WU})};
gW.prototype.arR=function(e){this.M8({d:g.QA})};gW.prototype.M8=function(e){var Z=new j8(G.E.u,!0);Z.data=e;
Z.k=i.__;this.$(Z)};gW.prototype.tM=function(){var e=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],Z=[this.arR,this.ajc,this.acP,this.an2,this.ac7,this.ago,this.apQ],F=this.anB.bind(this);
for(var l=0;l<e.length;l++){var b=new cd("W",!1,e[l]);this.Uy.push(b);K.x7(b.m,Z[l].bind(this));this.vW.appendChild(b.m);
if(l>=e.length-3){var _=b.m;_.addEventListener("drop",F,!1);_.addEventListener("dragover",function(d){d.preventDefault()},!1);
_.addEventListener("dragenter",K.Zn,!1)}}};gW.prototype.anB=function(e){K.Zn(e);var Z=0,F=this.Uy;while(F[Z].m!=e.currentTarget)Z++;
F[Z].sS();var b=e.dataTransfer.getData("Text");if(b=="")return;var b=JSON.parse(b);if(b.K$=="l"){var _={d:[g.Bo,g.YB,g.BD][Z-4]};
if(this.Bm.V.indexOf(b.dY)==-1)_.i=b.dY;this.M8(_)}if(Z!=6)return;if(b.K$=="sm"||b.K$=="s"){var d=new j8(G.E.u,!0);
d.k=i.D7;d.data={d:b.K$=="sm"?"st_clear":"st_delsingle",i:b.dY,dY:b.el};this.$(d)}if(b.K$=="fm"||b.K$=="f"){this.M8({d:b.K$=="fm"?g.N0:g.ta,src:b.dY,el:b.el})}if(b.K$=="m"||b.K$=="vm"){this.M8({d:b.K$=="m"?g.WU:g.xY,i:b.dY})}};
function hn(e,Z,F,b,_){h1.call(this);this.parent=Z;this.Li=e;this.IR=[];this.m=K.L("div","layeritem");
var d=e.i,S=F.V.indexOf(e.index)!=-1,W=15,p=!1;this.Lj=K.L("div",S?"head selected":"head");if(e.i.add.artb!=null)K.j_(this.Lj,"artb");
var U="height: "+(d.yx()?26:Math.floor(10+d.aqf/K.F()))+"px;";if(S&&_.arV)U+="background-color:rgba(255,50,50,0.4);";
this.Lj.setAttribute("style",U);var r=K.L("div","headL"),q=K.L("div","headR"),w=K.L("div","lpineck");
this.wP=K.L("div","lpibody");this.m.appendChild(this.Lj);this.Lj.appendChild(r);this.Lj.appendChild(q);
if(d.cq()||d.bR())if(d.UB())this.m.appendChild(w);var X=this.Lj;X.setAttribute("draggable","true");X.addEventListener("dragstart",this.so.bind(this),!1);
X.addEventListener("drop",this.OA.bind(this),!1);X.addEventListener("dragover",this.MZ.bind(this),!1);
X.addEventListener("dragenter",K.Zn,!1);X.addEventListener("dragleave",this.r4.bind(this),!1);var Q=[],c=[null,null,null,null],u=K.L("div");
this.NK=K.L("div","eye");u.appendChild(this.NK);var n=K.L("div","space");this.hp=K.L("div","label");
this.hp.setAttribute("style","max-width:calc(100% - "+(96+e.depth*20)+"px)");this.hp.textContent=d.getName();
this._x=K.L("div","lock");this.a8o=K.L("div","lrfx");this.DG=K.L("div","arfx");var k=this.aub.bind(this),B=this.a9G.bind(this);
this.Lj.addEventListener("click",B,!1);this.Lj.addEventListener("contextmenu",k,!1);var o=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],T=d.add.lclr==null?0:o[d.add.lclr];
if(T==0)T=b.RW;var z=[T>>16,T>>8&255,T&255];for(var l=0;l<3;l++){z[l]=Math.round(.5*z[l]+.5*220)}if(1<K.F()&&K.F()<1.5)W=W/K.F();
u.setAttribute("style","background-color:rgba("+z.join(",")+","+(T==0?0:1)+");");this.NK.setAttribute("style","background-size: "+W+"px "+W+"px;");
var $=this.aq0.bind(this);u.addEventListener("mousedown",$,!1);u.addEventListener("mouseover",$,!1);
this.hp.addEventListener("pointerup",this.acg.bind(this),!1);this.DG.addEventListener("click",this.aqC.bind(this),!1);
Q[0]=u;Q[1]=n;Q[10]=this.hp;function R(O,dF,X){var gl=dF.canvas;K.aj7(gl);if(X)O.setAttribute("draggable","true");
O.appendChild(gl);gl.setAttribute("style",gl.getAttribute("style")+"; pointer-events:none")}if(d.yx()){var P=K.L("div","arrow"),H=K.L("div","folder");
P.addEventListener("click",this.asZ.bind(this),!1);Q[2]=P;Q[3]=H;if(d.add.lsct==jj.$R){for(var l=e.children.length-1;
l>=0;l--){var y=new hn(e.children[l],Z,F,{RW:T},_);this.IR.push(y);this.wP.appendChild(y.m)}this.m.appendChild(this.wP)}P.setAttribute("class",d.add.lsct==jj.$R?"open":"closed")}else{this.Jg=K.L("div","thumb");
Q[5]=this.Jg;R(this.Jg,d.xu);if(hc.get(d.add))K.j_(d.xu.canvas,"gsicon")}var h=d.Vj();if(h){this.lx=K.L("div","chain");
this.x8=K.L("div","thumb");R(this.x8,e.i.acM,!0);this.lx.style.opacity=h.wJ?1:0;this.lx.addEventListener("click",this.asf.bind(this),!1)}var m=d._l()&&d.add.vmsk;
if(d.add.vmsk&&!m){this.r8=K.L("div","chain");this.iY=K.L("div","thumb");R(this.iY,e.i.abP,!0);this.r8.style.opacity=d.add.vmsk.wJ?1:0;
this.r8.addEventListener("click",this.aqX.bind(this),!1)}if(d.bR()&&d.EB(F).v){this.lE=K.L("div","thumb");
R(this.lE,e.i.a9D,!1);this.lE.addEventListener("click",B,!1);this.lE.addEventListener("contextmenu",k,!1)}if(d.cq()){this.apE=w;
w.addEventListener("contextmenu",k,!1);var t=new gW.oY(gA.get([12,1]),"sm","layerstyle",e.depth,0,null);
t.parent=this;w.appendChild(t.m);var j=d.add.lmfx,x=j.masterFXSwitch.v;t.cm(x);for(var l=0;l<fu.order.length;
l++){var C=j[fu.VX[l]].v;if(C.length==0)continue;for(var L=0;L<C.length;L++){var t=new gW.oY(gA.get(fu.names[l]),"s","layerstyle",e.depth,1,[l,L]);
t.cm(x&&C[L].v.enab.v);t.parent=this;w.appendChild(t.m)}}}if(d.bR()){var t=new gW.oY(gA.get([12,55]),"fm",null,e.depth,0,-1,d.EB(F).v?this.lE:null);
t.parent=this;w.appendChild(t.m);this.aeP=t.m;this.aeP.addEventListener("contextmenu",k,!1);var j=d.add.SoLd.filterFX.v,f=j.filterFXList.v,x=j.enab.v;
t.cm(x);for(var l=f.length-1;l>=0;l--){var D=f[l].v,v=ff._m(D);if(hc.gz[v])v=hc.gz[v];var A=D.Nm.v;if(ff.names[v])A=gA.get(ff.names[v]);
if(hc.names[v])A=gA.get(hc.names[v]);var M="afw_"+v,t=new gW.oY(A,"f",M,e.depth,1,l);t.cm(x&&D.enab.v);
t.parent=this;w.appendChild(t.m)}}if(e.index==F.V[0]){var Y=d.WA,J;if(Y<=0)J=this.Jg;else if(Y==1)J=this.x8;
else if(Y==3)J=this.lE;if(J)J.setAttribute("class","thumb active");if(d.c7&&this.iY)this.iY.setAttribute("class","thumb active")}u.style.opacity=d.ir()?1:.25;
n.setAttribute("style","width:"+Math.max(0,e.depth-1)*18+"px");var I=d.add.lspf!=null&&d.add.lspf!=0;
this._x.style.opacity=d.oT(31)?1:.5;Q[4]=d.bN?K.L("div","clipp"):null;Q[6]=h?this.lx:null;Q[7]=h?this.x8:null;
Q[8]=d.add.vmsk&&!m?this.r8:null;Q[9]=d.add.vmsk&&!m?this.iY:null;var a=d.YJ,er=F.V;if(a!=0)for(var l=0;
l<er.length;l++)if(F.g[er[l]].YJ==a){p=!0;break}if(p){c[0]=K.L("div",d.rP?"link":"linkX");c[0].addEventListener("click",this.a0U.bind(this),!1)}c[1]=I?this._x:null;
c[2]=d.cq()?this.a8o:null;c[3]=d.cq()||d.bR()?this.DG:null;this.DG.setAttribute("class",d.UB()?"arfx open  gsicon":"arfx closed  gsicon");
var c8=Q;for(var l=0;l<c8.length;l++)if(c8[l])r.appendChild(c8[l]);c8=c;for(var l=0;l<c8.length;l++)if(c8[l])q.appendChild(c8[l])}hn.prototype=new h1;
hn.prototype.amA=function(e){var Z=this.Li.index;if(e.indexOf(Z)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var l=0;
l<this.IR.length;l++)this.IR[l].amA(e)};hn.qB=function(e,Z){var F=Z.getBoundingClientRect();return(e.clientY-F.top)/F.height};
hn.prototype.so=function(e){e.stopPropagation();var Z=e.target==this.x8?"m":e.target==this.iY?"vm":"l";
e.dataTransfer.setData("Text",JSON.stringify({K$:Z,dY:this.Li.index}))};hn.prototype.r4=function(e){K.Zn(e);
this.eU()};hn.prototype.OA=function(e){K.Zn(e);this.eU();var Z=e.dataTransfer.getData("Text"),F=this.parent.Bm,b=hn.qB(e,this.Lj),_=this.Li.index;
if(b>.8){var d=!0,S=F.root.OV(_);while(S.parent!=null){var U=S.parent,r=U.children;if(r.indexOf(S)!=0)d=!1;
S=S.parent}if(d){_=0;b=1}}if(Z==""){K.Rk(e,this,this.parent.LK.indexOf(F),_+(b>.5?0:1))}else if(Z!="--panel"){var Z=JSON.parse(Z),q=Z.K$;
if(q=="l")this.M8({d:g.zH,source:Z.dY,target:_,s0:b});else if(q=="m"||q=="vm")this.M8({d:q=="m"?g.I2:g.v1,src:Z.dY,oz:_});
else hn.abZ(e,Z,this)}};hn.abZ=function(e,Z,F,b){var _=Z.K$,d=F.Li.index,S=Z.dY;if(_=="s"||_=="sm")F.M8({d:g.O7,src:S,oz:d,el:Z.el});
if(_=="f"||_=="fm")F.M8({d:g.tz,src:S,oz:d,el:Z.el,zs:b==null?0:b})};hn.prototype.MZ=function(e){K.Zn(e);
var Z=hn.qB(e,this.Lj),F=this.Li.i.yx()&&.5<Z&&Z<.8;this.eU();var b="inset 0 "+(F?0:Z>.5?-3:3)+"px "+(F?"5px black":"0 rgba(0,0,0,0.5)");
this.Lj.style.boxShadow=b};hn.prototype.eU=function(e){this.Lj.style.boxShadow=""};hn.aih=-1;hn.Dy=!1;
hn.a20=function(e){hn.Dy=!1;document.body.removeEventListener("mouseup",hn.a20)};hn.prototype.aq0=function(e){if(e.button!=0)return;
if(e.type=="mousedown"){hn.Dy=!0;document.body.addEventListener("mouseup",hn.a20,!1)}if(e.type=="mouseover"&&(!hn.Dy||hn.aih==this.Li.index))return;
K.Zn(e);this.M8({d:g.fk,i:this.Li.index});hn.aih=this.Li.index};hn.prototype.asZ=function(e){K.Zn(e);
this.M8({d:g.sZ,i:this.Li.index})};hn.prototype.asf=function(e){this.M8({d:g.n2,i:this.Li.index})};hn.prototype.aqX=function(e){this.M8({d:g.fP,i:this.Li.index})};
hn.y2=0;hn.prototype.acg=function(e){var Z=hn.y2;hn.y2=Date.now();if(Date.now()-Z>300)return;e.preventDefault();
e.stopPropagation();this.Lj.setAttribute("draggable","false");var F=new d1.Uw(this.hp,this.TX.bind(this))};
hn.prototype.TX=function(e){this.M8({d:g.hK,i:this.Li.index,name:e})};hn.prototype.aqC=function(e){this.M8({d:g.yZ,i:this.Li.index})};
hn.prototype.a0U=function(e){this.M8({d:g.DN,i:this.Li.index})};hn.prototype.aub=function(e){var Z=e.sourceCapabilities;
if(Z)Z=Z.firesTouchEvents;if(e.button!=2&&Z!=!0)return;var F=this.WA(e);if(F!=3&&e.currentTarget==this.aeP)F=4;
if(e.target==this.a8o||e.currentTarget==this.apE)F=5;var b=new j8("rclick",!0);b.data={i:this.Li.index,WA:F,bj:K.DK(e,document.body)};
this.$(b)};hn.prototype.WA=function(e){var Z=e.target,F=Z;return F==this.iY?2:F==this.x8?1:F==this.Jg?0:F==this.lE?3:-1};
hn.prototype.a9G=function(e){var Z=e.target,w;if(Z==this.NK||Z==this.DG||Z==this.lx||Z==this.r8||Z.tagName&&Z.tagName.toLowerCase()=="input")return;
var F=this.WA(e),b=this.parent.Bm,_=this.Li.index,d=b.g[_];if(Z==this._x){this.M8({d:g.TR,i:_,mQ:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(e.button==0&&e.detail==2){if(Z==this.hp)return;var S=new j8(G.E.u,!0),U=new j8(G.E.W,!0),r=new j8(G.E.GT,!0);
if(F==0&&d.add.SoCo){var q=V.X.Gb(d.add.SoCo.Clr.v);U.data={d:G.B.tJ,ZB:"colorpicker",RW:q.o<<16|q.z<<8|q.S,E3:function(c){var u=V.X.Q9({S:c&255,z:c>>>8&255,o:c>>16&255});
u={classID:"null",Clr:{t:"Objc",v:u}};var n=new j8(G.E.u,!0);n.k=i.__;n.data={d:g.VL,X$:[_],sY:!0,I:{QL:1,n8:u}};
this.$(n)}.bind(this),FE:!0}}else if(F==0&&(hc.get(d.add)||d.add.SoCo||d.add.GdFl||d.add.PtFl))U.data={d:G.B.mu,ZB:d1.Z8.fK};
else if(F!=0&&F!=-1)U.data={d:G.B.mu,ZB:d1.Z8.fK};else if(F==0&&d.add.SoLd)r.data={qg:"placedLayerEditContents",ni:{classID:"placedLayerEditContents"}};
else if(F==0&&d.add.TySh){S.k=i.Xk;S.data={d:"editCurr",xo:_}}else U.data={d:G.B.tJ,ZB:"layerstyle",i:_};
this.$(r.data?r:U.data?U:S);return}if(e.button!=0)return;if(F==1||F==3){var X=F==3?d.EB(b).v:d.Vj();
w=X.oB?b.t.$v.join("")=="111"?1:2:0}var Q={d:g.cI,i:_,nH:F,an8:w,a1w:!0};this.M8(Q)};hn.prototype.M8=function(e){var Z=new j8(G.E.u,!0);
Z.data=e;Z.k=i.__;this.$(Z)};gW.oY=function(e,Z,F,b,_,d,S){h1.call(this);this.akk=Z;this.W7=F;this.index=d;
this.m=K.L("div","styleitem");this.Lj=K.L("div","head");this.a2X=null;if(Z=="f"){var U=this.a2X=K.L("div","headR");
U.textContent="\u2699";this.Lj.appendChild(U)}this.g8=K.L("div","eye gsicon");this.hp=K.L("div","label");
this.m.appendChild(this.Lj);this.Lj.appendChild(this.g8);if(S){this.x8=S;this.Lj.appendChild(this.x8);
this.Lj.setAttribute("style","height: "+(S.firstChild.height/K.F()+10)+"px")}this.hp.innerHTML=e;this.m.setAttribute("style","margin-left: "+(24+b*16+_*22)+"px");
this.Lj.appendChild(this.hp);this.g8.addEventListener("click",this.afI.bind(this),!1);var r=this.m;r.setAttribute("draggable","true");
r.addEventListener("dragstart",this.so.bind(this),!1);if(!0){r.addEventListener("drop",this.OA.bind(this),!1);
r.addEventListener("dragover",this.MZ.bind(this),!1);r.addEventListener("dragenter",K.Zn,!1);r.addEventListener("dragleave",this.r4.bind(this),!1)}this.m.addEventListener("click",this.UD.bind(this),!1)};
gW.oY.prototype=new h1;gW.oY.prototype.so=function(e){e.stopPropagation();e.dataTransfer.setData("Text",JSON.stringify({K$:this.akk,dY:this.parent.Li.index,el:this.index}))};
gW.oY.prototype.r4=function(e){K.Zn(e);this.eU()};gW.oY.prototype.OA=function(e){K.Zn(e);this.eU();var Z=e.dataTransfer.getData("Text");
if(Z=="")return;var Z=JSON.parse(Z);hn.abZ(e,Z,this.parent,this.index+(hn.qB(e,this.Lj)>.5?0:1))};gW.oY.prototype.MZ=function(e){K.Zn(e);
var Z=hn.qB(e,this.Lj)>.5;this.eU();var F="border-"+(Z?"bottom":"top");this.Lj.style[F]="0.2em solid rgba(0,0,0,0.5)"};
gW.oY.prototype.eU=function(e){this.Lj.style.border="none"};gW.oY.prototype.cm=function(e){var Z=15;
if(1<K.F()&&K.F()<1.5)Z=Z/K.F();this.g8.setAttribute("style","background-size: "+Z+"px "+Z+"px;");this.g8.style.opacity=e?1:.2};
gW.oY.prototype.UD=function(e){if(e.target==this.g8)return;var Z=this.parent.Li.index;if(e.detail!=1&&this.W7!=null){var Z=this.parent.Li.index,F=new j8(G.E.W,!0);
if(this.W7.indexOf("afw_")==0){var b=this.W7.slice(4),_=N[b]||ff.q[b],d=e.target==this.a2X;if(!d&&!_)return;
F.data=i.O1.iJ(d?"blendOptions":b,{i:Z,index:this.index})}else F.data={d:G.B.tJ,ZB:this.W7,i:Z,index:this.index};
this.$(F)}else{if(e.target.getAttribute("class")!="thumb")this.parent.M8({d:g.cI,i:Z,nH:0})}};gW.oY.prototype.afI=function(e){var Z={fm:g.SN,f:g.X4,sm:g._L,s:g.wG}[this.akk];
this.parent.M8({d:Z,i:this.parent.Li.index,index:this.index})};function iG(){d1.call(this,"Guide Guy",!1,"---panels/guideguy",d1.Z8.a17);
this.Yf=null;this.rc=[];var e=K.L("div","form padded");this.dQ.appendChild(e);e.setAttribute("style","width:200px");
this.dQ.appendChild(e);var Z=K.L("canvas"),F=Z.getContext("2d");Z.width=Z.height=160;var b=[32,0,16,160,0,32,160,16,0,112,160,16],_="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),d=[0,0,0,0,0,0,0,0,0,0];
for(var l=0;l<10;l++){F.clearRect(0,0,160,160);F.setTransform(1,0,0,1,80,80);F.rotate((l&3)*Math.PI/2);
F.translate(-80,-80);F.fillStyle="rgba(0,0,0,0.3)";if(l<4){for(var S=0;S<12;S+=4){F.fillStyle=S==0?"#000000":"rgba(0,0,0,0.3)";
F.fillRect(b[S],b[S+1],b[S+2],b[S+3])}}else if(l<6){var U=8*6;F.fillRect(0,0,U,160);F.fillRect(8*7,0,U,160);
F.fillStyle="#000000";F.fillRect(8*14,0,U,160)}else if(l<8){F.fillRect(0,0,16,160);F.fillRect(160-16,0,16,160);
F.fillRect(32,0,160-64,160);F.fillStyle="#000000";F.fillRect(32,80-8,160-64,8*1)}else{F.fillRect(0,0,8*7,160);
F.fillRect(8*13,0,160,160);F.fillStyle="#000000";F.fillRect(8*7,80-8,8*6,8*1)}var r="<img src=\""+Z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",q=new en(r,0,200,l==4||l==5?null:"px",null,null,null,4,_[l]);
q.parent=this;q.h(G.E.p,this.aaM,this);q.f(d[l]);q.n();this.rc.push(q);e.appendChild(q.m)}var w=[[11,14],[11,15,0]];
this._7=[];for(var l=0;l<w.length;l++){var X=new cd(w[l],!0,null,!0);this._7.push(X);X.h("click",this.IE,this);
e.appendChild(X.m)}for(var l=0;l<6;l++){F.setTransform(1,0,0,1,80,80);F.rotate(Math.floor(l/3)*Math.PI/2);
F.translate(-80,-80);F.clearRect(0,0,160,160);F.fillStyle="rgba(0,0,0,0.3)";F.fillRect(0,0,160,160);
F.clearRect(16,16,128,128);F.fillStyle="#000000";var Q=l%3;F.fillRect([0,9,18][Q]*8,0,16,160);var r="<img src=\""+Z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",X=new cd(r,!1,null,!1);
this._7.push(X);X.h("click",this.IE,this);e.appendChild(X.m)}}iG.prototype=new d1("");iG.prototype.n=function(){d1.prototype.n.call(this);
for(var l=0;l<this._7.length;l++)this._7[l].n()};iG.prototype.aaM=function(e){var Z=this.rc,F=Z.indexOf(e.target),b=Math.floor(F/2),_=F&1,d=[];
for(var l=0;l<4;l++)d.push(Z[2*l+_].U());var S=-1;if(b==2&&d[2]!=0&&d[3]!=0&&d[4]!=0)S=4;if(b==3&&d[3]!=0&&d[2]!=0&&d[4]!=0)S=4;
if(b==4&&d[4]!=0&&d[2]!=0&&d[3]!=0)S=3;if(S!=-1)Z[2*S+_].f(0)};iG.prototype.IE=function(e){var Z=this.Yf,F=this._7.indexOf(e.target),b=[[],[]];
if(Z==null)return;var _=Z.K?Z.K.rect:new e3(0,0,Z.w,Z._),d=_.w,S=_._;if(F==0){var U=[[],[]];for(var l=0;
l<this.rc.length;l++)U[l&1].push(this.rc[l].U());var r=[iG.atp(U[0],_.x,_.x+d),iG.atp(U[1],_.y,_.y+S)];
b=iG.atj(r);i.rX.PH(b,Z.$j())}else if(F==1){}else{F-=2;var q=Math.floor(F/3),r=[[],[]];r[q].push([_.x,_.x+d/2,_.x+d,_.y,_.y+S/2,_.y+S][F]);
b=iG.atj(r);i.rX.PH(b,Z.$j())}this.a1y(b)};iG.atj=function(e){var Z=[],F=[];for(var b=0;b<2;b++)for(var l=0;
l<e[b].length;l++){Z.push([b,e[b][l]]);F.push(-1)}return[Z,F]};iG.prototype.acB=function(e){var Z=this.anN.indexOf(e.target)};
iG.prototype.a1y=function(e){var Z=new j8(G.E.u,!0);Z.k=i.l$;Z.data={d:"gids",d$:e};this.$(Z)};iG.atp=function(e,Z,F){var b=[],_=e[2],d=e[3],S=e[4],U=0;
if(_==0)U++;if(d==0)U++;if(S==0)U++;if(U>1&&_==0&&d==0){if(e[0]!=0)b.push(Z+e[0]);if(e[1]!=0)b.push(F-e[1]);
return b}var r=F-Z-e[0]-e[1];if(_==0){if(S==0){_=Math.floor(r/d);S=(r-_*d)/(_-1)}else{_=1;while(d*_+S*(_-1)+d+S<=r)_++}}else if(_!=0&&d!=0){if(_*d>r)_=Math.floor(r/d);
S=(r-_*d)/(_-1)}b.push(Z+e[0],F-e[1]);var d=(r-S*(_-1))/_;for(var l=1;l<_;l++){if(S==0)b.push(Z+e[0]+l*d);
else b.push(Z+e[0]+l*d+(l-1)*S,Z+e[0]+l*d+l*S)}return b};iG.prototype.jQ=function(e){this.Yf=e};function bw(){d1.call(this,[9,2],!1,"---panels/properties",d1.Z8.fK);
this.apP=null;this.pL=null;this.Pk=null;this.a7J=-1;this.O6=null}bw.prototype=new d1("");bw.prototype.Av=function(e,Z){this.bo=e;
this.zA=Z;e=e-16;Z=Z-12;var F=this.O6;if(F){F.style.width=e+"px";F.style.height=Z+"px";for(var l=0;l<3;
l++)this.od[l].Av(e-12,Z)}};bw.prototype.qb=function(){this.O6=K.L("div","padded scrollable");this.dQ.appendChild(this.O6);
var e=K.L("span");this.O6.appendChild(e);this.RB=[new cd([0,3]),new cd([12,73]),new cd([12,91,0])];for(var l=0;
l<this.RB.length;l++){var Z=this.RB[l];Z.h("click",this.a6d,this);e.appendChild(Z.m);if(l==2)Z.m.style.marginRight="0"}this.O6.appendChild(K.L("hr"));
this.Sx=new bw.Nz;this.Sx.parent=this;this.eN=new bw.xp;this.eN.parent=this;this.Y7=new bw.hq;this.Y7.parent=this;
this.od=[this.Sx,this.eN,this.Y7];this.O6.appendChild(this.Sx.m);this.Av(this.bo,this.zA)};bw.prototype.a6d=function(e){var l=this.RB.indexOf(e.currentTarget);
this.ek(l);this.at_(l==1?this.eN.ra:-1)};bw.prototype.ek=function(e){for(var l=0;l<3;l++){this.RB[l].sS();
var Z=this.od[l].m;if(Z.parentNode==this.O6&&l!=e)this.O6.removeChild(Z);if(Z.parentNode!=this.O6&&l==e)this.O6.appendChild(Z)}this.RB[e].SB()};
bw.prototype.at_=function(e){var Z=this.pL.V[0],F=this.pL.g[Z],b=e+1;if(e==1&&F.c7)return;var _=new j8(G.E.u,!0);
_.k=i.__;if(e!=1&&F.c7){_.data={d:g.cI,i:Z,nH:2};this.$(_)}_.data={d:g.cI,i:Z,nH:b};this.$(_)};bw.prototype.n=function(){d1.prototype.n.call(this);
if(this.O6==null)return;this.jQ(this.pL);for(var l=0;l<3;l++){this.RB[l].n();this.od[l].n()}};bw.prototype.wR=function(){if(!K.RY(this.dQ))return;
if(this.O6==null){this.qb();this.ZP(this.Pk,c6.vy);this.jQ(this.apP);this.n()}};bw.prototype.jQ=function(e){this.apP=e;
if(this.O6==null)return;this.Sx.jQ(e);this.eN.jQ(e);this.Y7.jQ(e);if(e==null||e.V.length==0||e.g[e.V[0]]==null){K.j_(this.dQ,"disabled");
this.pL=null;return}else K.vB(this.dQ,"disabled");var Z=e.V[0],F=e.g[Z],b=e.GJ(),_=b[0],d=b[1];if(d.length!=0){var S=_[d[0]],U=S.add.vogk,r=!1;
if(U)for(var l=0;l<U.length;l++){var q=U[l].v;if(!V.$F.G1(q))continue;r=!0;Z=S.wD}}Z+=","+r;if(e!=this.pL||this.a7J!=Z){this.pL=e;
this.a7J=Z;if(r)this.ek(2);else if(F.WA<1&&!F.c7)this.ek(0);else this.ek(1)}this.RB[1].c5(this.eN.ra!=-1);
this.RB[2].c5(r)};bw.prototype.ZP=function(e,Z){this.Pk=e;if(this.Sx)this.Sx.ZP(e,Z);if(this.Y7)this.Y7.ZP(e,Z)};
bw.Nz=function(){h1.call(this);this.m=K.L("div","form");this.aqs=new dB("Hello");this.xg=new cd([1,12,2],null,null,!0);
this.xg.m.style.a7_="right";this.xg.h("click",this.XZ,this);this.m.appendChild(this.aqs.m);this.m.appendChild(this.xg.m);
this.dK=null;this.h8=null;this.pL=null;this.Pk=null;this.akF=-1;this.a0o=null;this.ID=new jQ(!0);this.ID.parent=this;
this.ID.h(G.E.p,this.abY,this);this.x1=K.L("div","marged hiline");this.x1.appendChild(this.ID.m);this.KR=new ev("GrFl",!0);
this.KR.parent=this;this.KR.h(G.E.p,this.akv,this);this._A=K.L("div","marged hiline");var e="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var l=0;l<e.length;l++){var Z=this.KR.yE[e[l]].m;this._A.appendChild(Z)}this.gi=new ev("patternFill",!0);
this.gi.parent=this;this.gi.h(G.E.p,this.afF,this);this.qL=K.L("div","marged hiline");var e=["Ptrn","Angl","Scl","Algn","phase"];
for(var l=0;l<e.length;l++){var Z=this.gi.yE[e[l]].m;this.qL.appendChild(Z)}this.Gq={};for(var F in hc.names){if(N[F]==null)continue;
this.Gq[F]=new N[F];this.Gq[F].h(G.E.p,this.aof,this);this.Gq[F].parent=this}var b=this.a25=K.L("div","marged hiline");
this.Ek=new cb(0,!0);b.appendChild(this.Ek.m);this.Ek.h(G.E.p,this.K5,this);this.amV=null;this.jW=new dn;
this.jW.parent=this;this.jW.h(G.E.p,this.K5,this);b.appendChild(this.jW.m)};bw.Nz.prototype=new h1;bw.Nz.prototype.Av=function(e,Z){var F=this.Gq;
for(var b in F)F[b].Av(e,Z)};bw.Nz.prototype.XZ=function(e){var Z=this.pL,F=Z.g[Z.V[0]],b=hc.get(F.add);
this.h8.f(ff.wy(b));this.aof()};bw.Nz.prototype.n=function(){for(var e in this.Gq)this.Gq[e].n();this.KR.n();
this.gi.n();this.jW.n();this.Ek.n();this.xg.n()};bw.Nz.prototype.K5=function(e){var Z=new j8(G.E.u,!0),F=this.Ek.U(),b=this.amV;
if(e.target==this.Ek&&F[2]==b[2]&&F[3]==b[3]){Z.k=i.l$;Z.data={d:"trsl",vZ:F[0]-b[0],D3:F[1]-b[1]}}else{var _=g.rx(new e3(F[0],F[1],F[2],F[3])),d=this.jW.ao9();
d.artboardRect={t:"Objc",v:_};Z.k=i.__;Z.data={d:g.vl,WI:d}}this.$(Z)};bw.Nz.prototype.abY=function(e){var Z=this.pL,F=Z.V[0];
if(Z.g[F].add.SoCo==null)return;var b=JSON.parse(JSON.stringify(Z.g[F].add.SoCo));b.Clr.v=this.ID.U();
this.Ia({QL:1,n8:b})};bw.Nz.prototype.akv=function(e){var Z=this.pL,F=Z.V[0];if(Z.g[F].add.GdFl==null)return;
this.Ia({QL:2,n8:this.KR.U()})};bw.Nz.prototype.afF=function(e){this.Ia({QL:3,n8:this.gi.U()})};bw.Nz.prototype.Ia=function(e){this.a95(i.__,{d:g.VL,X$:[this.pL.V[0]],sY:!0,I:e})};
bw.Nz.prototype.aof=function(e){this.a95(i.v$,{d:"edit_layer",I:this.h8.U()})};bw.Nz.prototype.a95=function(e,Z){var F=new j8(G.E.u,!0);
F.k=e;F.data=Z;this.$(F)};bw.Nz.prototype.jQ=function(e,Z){var F=gA.get([0,3]),b=!1,_=null;this.pL=e;
if(e&&e.g.length>0&&e.V.length!=0&&e.g[e.V[0]]){var d=e.g[e.V[0]],S=hc.get(d.add);if(S!=null&&this.Gq[S]!=null){_=this.Gq[S].m;
this.h8=this.Gq[S];this.Gq[S].f(JSON.parse(JSON.stringify(d.add[S])));if(e.V[0]!=this.akF){var U=e.zB(e.V[0]-1);
this.a0o=V.aB(U)}this.Gq[S].Jv(this.a0o);F=gA.get(hc.names[S]);b=!0}if(d.add.SoCo){_=this.x1;this.ID.f(d.add.SoCo.Clr.v);
F=gA.get([6,48,0,0])}if(d.add.GdFl){_=this._A;this.KR.update(e,d.add.GdFl);F=gA.get([6,48,0,1])}if(d.add.PtFl){_=this.qL;
this.gi.update(e,d.add.PtFl);F=gA.get([6,48,0,2])}if(d.add.artb){var r=d.add.artb,q=d.iU();_=this.a25;
this.jW.a1Q(r);var w=this.amV=[q.x,q.y,q.w,q._];this.Ek.f(w,[e.Cr,e.w,this.Pk.I9._b]);F="Artboard"}this.akF=e.V[0]}if(_!=this.dK){if(this.dK)this.m.removeChild(this.dK);
if(_!=null)this.m.appendChild(_);this.dK=_}this.aqs.f(F);this.xg.m.style.display=b?"":"none"};bw.Nz.prototype.ZP=function(e,Z){this.Pk=e;
this.KR.ZP(e,Z);this.gi.ZP(e,Z);if(Z==c6.Ga)this.jQ(this.pL,e);for(var F in this.Gq)this.Gq[F].ZP(e,Z)};
bw.xp=function(){h1.call(this);this.m=K.L("div","form");this.pL=null;this.ra=0;var e=K.L("span","fitem");
this.m.appendChild(e);this.RB=[new cd([6,2]),new cd([6,3]),new cd([6,50])];for(var l=0;l<this.RB.length;
l++){var Z=this.RB[l];Z.h("click",this.adH,this);e.appendChild(Z.m)}this.DF=new fZ([12,74],0,255);this.DF.h(G.E.p,this.oJ,this);
this.m.appendChild(this.DF.m);this.j1=new fZ([7,6],0,500,"px",2,!0);this.j1.h(G.E.p,this.oJ,this);this.m.appendChild(this.j1.m);
this.ZS=new cd([4,11],null,null,!0);this.ZS.h("click",this.aem,this)};bw.xp.prototype=new h1;bw.xp.prototype.aem=function(){var e=new j8(G.E.u,!0);
e.k=i.v$;e.data={d:"start",KM:"nvrt"};this.$(e)};bw.xp.prototype.oJ=function(e){var Z=this.DF.U(),F=this.j1.U(),b=new j8(G.E.u,!0);
b.k=i.__;b.data={d:g.GL,kF:this.pL.V[0],L3:{VB:this.ra,DF:Z,j1:F}};this.$(b)};bw.xp.prototype.n=function(){for(var l=0;
l<this.RB.length;l++)this.RB[l].n();this.DF.n();this.j1.n();this.ZS.n()};bw.xp.prototype.jQ=function(e){this.pL=e;
this.ci()};bw.xp.prototype.adH=function(e){this.ci(this.RB.indexOf(e.currentTarget));this.parent.at_(this.ra)};
bw.xp.prototype.ci=function(e){var Z=this.pL,F=this.RB;for(var l=0;l<3;l++){var b=F[l];b.sS();b.aK()}if(Z==null||Z.g.length==0||Z.V.length==0||Z.g[Z.V[0]]==null)return;
var _=-1,d=Z.g[Z.V[0]];if(d.bR()&&d.EB(Z).v!=null){F[2].N_();_=2}if(d.add.vmsk){F[1].N_();_=1}if(d.Vj()){F[0].N_();
_=0}if(e!=null)_=e;else if(d.c7)_=1;else if(d.WA==3)_=2;else if(d.WA==1)_=0;this.ra=_;if(_==-1){this.DF.aK();
this.j1.aK();return}var S=d.zk(_);this.DF.N_();this.j1.N_();this.DF.f(S.DF);this.j1.f(S.j1);F[_].SB();
var U=this.ZS.m;if(_==0)this.m.appendChild(U);else if(U.parentNode==this.m)this.m.removeChild(U)};bw.hq=function(){h1.call(this);
this.m=K.L("div","form");this.Yf=null;this.Pk=null;this.A7=-1;this.VS=new cb(0,!1);this.WM=new fZ([12,15],-180,180,"\xB0",2);
this.eD=new cb(1,!0);this.Yp=new fZ([12,94,0],0,100,null,2);this.OE=new fZ([12,78],3,30);this.VS.h(G.E.p,this.pU,this);
this.WM.h(G.E.p,this.pU,this);this.eD.h(G.E.p,this.pU,this);this.Yp.h(G.E.p,this.pU,this);this.OE.h(G.E.p,this.pU,this)};
bw.hq.prototype=new h1;bw.hq.prototype.n=function(){this.VS.n();this.WM.n();this.eD.n();this.Yp.n();
this.OE.n()};bw.hq.prototype.pU=function(e){var Z=this.Yf,F=V.$F.R5(Z),b=e.target.U(),_=[this.VS,this.WM,this.eD,this.Yp,this.OE].indexOf(e.target);
if(_==0){var d=[];d[0]=b[0];d[1]=b[1];d[2]=d[0]+b[2];d[3]=d[1]+b[3];b=d}if(_==1)b=b*Math.PI/180;var S={0:1,1:2,2:3,3:3,4:4}[_];
F[S]=b;var U=new j8(G.E.u,!0);U.k=i.__;U.data={d:g.LM,I:F};this.$(U)};bw.hq.prototype.jQ=function(e){var Z=this.m;
this.Yf=e;if(e==null)return;var F=this.Pk,b=[e.Cr,e.w,F.I9._b],_=V.$F.R5(e),d=_[0],S=_[1];if(S==null)return;
var U=d!=this.A7;this.A7=d;if(U)K.WL(Z);if(U)Z.appendChild(this.VS.m);if(U)Z.appendChild(this.WM.m);
this.VS.f([S[0],S[1],S[2]-S[0],S[3]-S[1]],b);this.WM.f(_[2]*180/Math.PI);if(d==2){if(U)Z.appendChild(this.eD.m);
var r=_[3];this.eD.f(r,b)}if(d==7||d==8){if(U)Z.appendChild(this.Yp.m);this.Yp.f(_[3])}if(d==8){if(U)Z.appendChild(this.OE.m);
this.OE.f(_[4])}};bw.hq.prototype.ZP=function(e,Z){this.Pk=e;this.jQ(this.Yf)};function fi(e){d1.call(this,e.name,!0);
this.Bm=e;this.J8=null;this.Dx=document.createElement("canvas");this.Wv=this.Dx.getContext("2d");this.q2=document.createElement("canvas");
this.JS=this.q2.getContext("2d");var Z=16,F=V.J(16*16*4);V.Ag(F,Z,Z,8);this.b_=V.scale.sG(F,Z,Z);this.LJ=new cI(this.dQ);
this.LJ.parent=this;this.E$=0;this.air="";this.zC=4}fi.prototype=new d1;fi.prototype.a6s=function(){if(this.Bm.yL())return window.confirm(gA.get([22,6,3])+" "+this.Bm.name+". "+gA.get([22,6,4]));
return!0};fi.prototype.ZP=function(e,Z){this.J8=e};fi.prototype.jQ=function(e){this.wR();this.qz()};
fi.prototype.Av=function(e,Z){if(e<=0||Z<=0)return;this.bo=e;this.zA=Z;var F=this.Bm,b=K.F();F.t.JS.w=Math.floor(e*b);
F.t.JS._=Math.floor(Z*b);K.kd(this.q2,e,Z);K.kd(this.Dx,e,Z);K.kd(E.LH(),e,Z);if(F.t.e==0)F.t.e=i.Jt.WE(F.w,F._,e*b,Z*b);
this.qz()};fi.prototype.wR=function(){var e=this.dQ.firstChild;if(!E.P7&&e==E.LH()||E.P7&&e==this.q2)this.dQ.removeChild(e);
var Z=E.P7?E.LH():this.q2;if(!K.RY(Z))this.dQ.appendChild(Z)};fi.prototype.qz=function(){if(E.P7!=this.zC){this.E$=0;
this.air=""}this.zC=E.P7;if(this.J8==null)return;if(E.P7)this.aqo();else this.Ii();var e=this.Bm;this.E$=e.t.e;
this.air=JSON.stringify(e.t.$v)};fi.prototype.aqo=function(){if(E.P7&&fi.a28==null)fi.a28=new fi.Qo(!1);
if(E.P7&&fi.a3Z==null)fi.a3Z=[new fi.Qo(!0,2),new fi.Qo(!0,8),new fi.Qo(!0,32),new fi.Qo(!0,128)];var e=this.Bm,q,Q=0;
if(e.Ym==null)return;var Z=e.t,F=Z.JS.w,b=Z.JS._,_=E.Gl;this.JS.clearRect(0,0,F,b);var d=this.afq(e);
if(Z.dy==null)Z.dy=new E.xV(F,b);if(d)Z.dy.set(this.q2);else{E.vN(Z.dy);E.fm(1)}var S=Z.Td(0,0),U=new jg;
U.scale(F,b);U.concat(Z.gu(!0));U.scale(1/e.w,1/e._);var r=[U.Y0,U.S,0,U.d_,U.rl,0,U.lr,U.Xz,1];if(fi.abE==null)fi.abE=new Float32Array(4*1024);
var w=[0,0,0,0],X=fi.abE;if(e.add.artd){X.fill(0);w=fi.Dw(e);var c=e.w,u=e._,o=0;for(var l=0;l<e.g.length;
l++){var n=e.g[l],k=n.add.artb;if(k==null||!n.ir())continue;var B=n.iU();X[Q]=B.x/c;X[Q+1]=B.y/u;X[Q+2]=B.w/c;
X[Q+3]=B._/u;Q+=4;if(Q==X.length)break}if(Q>2*4)o++;if(Q>8*4)o++;if(Q>32*4)o++;q=fi.a3Z[o];X=new Float32Array(X.buffer,0,[2,8,32,128][o]*4)}else q=fi.a28;
E.aq(F,b);E.fm(0);E.aq(F,b);q.AK();q.Qa(Z.dy.ad,e.Ym.ad,new Float32Array(r),new Float32Array([F/8,b/8,S.x/F,S.y/b]),e.w,e._,1/e.t.e,F,b,new Float32Array(w),X,new Float32Array(V.tc.zQ(V.tc.NS(Z.$v))));
_.drawArrays(_.TRIANGLES,0,6)};fi.Dw=function(e){return[0,0,0,0]};fi.akh=function(e){var Z=V.X.Gb(e.v),F=[Z.o/255,Z.z/255,Z.S/255,1];
for(var l=0;l<4;l++)F[l]=Math.min(1,F[l]);return F};fi.PM=function(e,Z){var F=e[2]*255;if(E.P7)F=Z?0:Math.max(1,F);
return"rgba("+e[0]*255+","+e[1]*255+","+F+","+e[3]+")"};fi.AV=function(e){if(E.P7)for(var l=0;l<e.length;
l+=4){if(e[l+2]==0)e[l+2]=3}};fi.prototype.Ii=function(){var e=this.Bm;if(e.buffer==null)return;var Z=e.t,F=Z.JS,b=F.w,_=F._,d=new e3(0,0,e.w,e._);
this.Wv.clearRect(0,0,b,_);this.JS.clearRect(0,0,b,_);var S=Z.gu(!0),U=S.clone();U.eG();if(e.add.artd==null){this.JS.save();
var r=U.rS(new bI(0,0));U.translate(-r.x,-r.y);this.JS.translate(Math.round(r.x),Math.round(r.y));this.JS.fillStyle=this.b_;
this.Tr(V.H.gb(d),U,this.JS);this.JS.fill();this.JS.restore()}else{this.JS.fillStyle=fi.PM(fi.Dw(e));
this.JS.fillRect(0,0,b,_);this.JS.save();this.JS.setTransform(U.Y0,U.S,U.d_,U.rl,U.lr,U.Xz);var q=e.root.children;
for(var l=0;l<q.length;l++){var w=q[l].i;if(w.add.artb==null||!w.ir())continue;var X=w.iU(),Q=w.om();
if(Q!=0)continue;this.JS.fillStyle=this.b_;this.JS.save();this.JS.scale(1/Z.e,1/Z.e);this.JS.fillRect(Z.e*X.x,Z.e*X.y,X.w*Z.e,X._*Z.e);
this.JS.restore()}this.JS.restore()}if(Z.l_.length!=F.Z()){Z.l_=V.J(F.Z());Z.Kg=V.J(F.Z()*4)}Z.Kg.fill(0);
V.scale.AA(e.buffer,d,S,Z.Kg,F);if(Z.$v[0]+Z.$v[1]+Z.$v[2]!=3)V.tc.Nc(Z.Kg,Z.Kg,V.tc.NS(Z.$v));this.Wv.putImageData(new ImageData(new Uint8ClampedArray(Z.Kg.buffer),F.w,F._),0,0);
this.JS.drawImage(this.Dx,0,0);this.JS.getImageData(0,0,1,1);this.afq(e)};fi.prototype.afq=function(e){var Z=e.t,F=Z.$v[0]+Z.$v[1]+Z.$v[2],b=!1,_=[];
for(var l=0;l<e.V.length;l++){var d=e.g[e.V[l]];if(d==null)continue;var S=d.WA;if(S!=1&&S!=3)continue;
var U=S==1?d.Vj():d.EB(e).v;if(U.oB)_.push(U)}for(var l=0;l<e.LE.length;l++)if(e.LE[l].oB)_.push(e.LE[l]);
for(var l=0;l<_.length;l++){var U=_[l];this.a0K(U,Z,_.length==1&&F==0?2:1,U.color,U.RW);b=!0}var r=this.J8;
b=this.art(e,this.JS,Z)||b;if(e.K&&r.Fo&&r.I9.dW){this.a0K(e.K,Z,0,0,null);b=!0}return b};fi.prototype.a0K=function(e,Z,F,b,_){var d=0,Q,c;
if(_)d=Math.round(_.S)<<16|Math.round(_.z)<<8|Math.round(_.o);var S=Z.gu(!0),U=Z.JS,r=new e3(0,0,Z.Bm.w,Z.Bm._);
if(Z.l_.length!=U.Z()){Z.l_=V.J(U.Z());Z.Kg=V.J(U.Z()*4)}Z.l_.fill(b);Z.Kg.fill(0);var q=e.channel,w=e.rect;
V.scale.A(q,w,S,Z.l_,U);if(F==0)V.K.aa8(Z.l_,Z.Kg,U,U);else V.K.ap_(Z.l_,Z.Kg,U,U,F,d);fi.AV(Z.Kg);var X=new ImageData(new Uint8ClampedArray(Z.Kg.buffer),U.w,U._);
this.Wv.putImageData(X,0,0);this.JS.save();if(F==0){Q=U.clone();Q.qN(-1,-1);c=new jg}else{Q=new e3(0,0,r.w,r._);
c=S.clone();c.eG()}this.Tr(V.H.gb(Q),c,this.JS);this.JS.clip();this.JS.drawImage(this.Dx,0,0);this.JS.restore()};
fi.prototype.art=function(e,Z,F){var b=e.D.ct!=null||e.D.x9!=null||e.D.Hv!=null||e.D.r3.length!=0||e.D.EM.length!=0,_=this.J8,d=_.I9,S=aQ.x3[_.WT],U=Math.round(12*K.F()),r=U/e.t.e,q=F.gu(!0);
q.eG();Z.save();Z.setTransform(q.Y0,q.S,q.d_,q.rl,q.lr,q.Xz);if(e.add.artd){var w=fi.Dw(e)[0];w=w<.5?w+.5:w-.5;
w=""+Math.round(w*255).toString(16);while(w.length<2)w="0"+w;Z.fillStyle="#"+w+w+w;Z.font=r+"px sans-serif";
for(var l=0;l<e.g.length;l++){var X=e.g[l];if(X.add.artb==null||!X.ir())continue;var Q=X.iU();Z.fillText(X.getName(),Q.x+2,Q.y-r*.7);
b=!0}}function c(eV){return eV==1||eV==2||eV==4||eV==5}var u=fi.PM([.1,.5,1,1]),n=fi.PM([1,1,1,1]);if(_.Fo&&d.Tl){Z.fillStyle=Z.strokeStyle=u;
Z.lineWidth=1.5/F.e;var k=e.GJ(),B=k[0],o=k[1];for(var T=0;T<o.length;T++){var X=B[o[T]],z=X.add.vmsk,W=z.T,$=V.H.Ju(W);
this.Tr($,null,Z);Z.stroke();b=!0;var R=3*K.F()/F.e,P=W.length-3;for(var l=0;l<z.yk.length;l++){var H=V.c.aa(W,z.yk[l]);
if(H==null)continue;var y=H.x,h=H.y;Z.beginPath();var m=l==0;if(z._J)m=!m;if(m){Z.moveTo(y-R,h-R);Z.lineTo(y+R,h+R);
Z.moveTo(y-R,h+R);Z.lineTo(y+R,h-R);Z.stroke()}else{Z.arc(y,h,R*1,0,2*Math.PI);Z.fill()}b=!0}if(e.V.length!=1)continue;
var t=-1;for(var l=0;l<W.length;l++){if(W[l].type>5)continue;if(W[l].type==0||W[l].type==3){if(W[l].A8!=-1)t++;
continue}if(z.V.indexOf(t)!=-1){var y=W[l].M.x,h=W[l].M.y;Z.fillRect(y-R*.8,h-R*.8,2*R*.8,2*R*.8)}if(z.LD.indexOf(l)!=-1){var j=W[l],x=[j.M];
Z.beginPath();Z.moveTo(j.Gn.x,j.Gn.y);Z.lineTo(j.M.x,j.M.y);Z.lineTo(j.kM.x,j.kM.y);var C=W[l-1],f=W[l+1];
if(C&&c(C.type)&&z.LD.indexOf(l-1)==-1){Z.moveTo(C.M.x,C.M.y);Z.lineTo(C.kM.x,C.kM.y);x.push(C.kM)}if(f&&c(f.type)&&z.LD.indexOf(l+1)==-1){Z.moveTo(f.M.x,f.M.y);
Z.lineTo(f.Gn.x,f.Gn.y);x.push(f.Gn)}Z.stroke();if(!j.M.Tn(j.Gn))x.push(j.Gn);if(!j.M.Tn(j.kM))x.push(j.kM);
for(var D=0;D<x.length;D++){var H=x[D],y=H.x,h=H.y;if(D==0&&(j.type==2||j.type==5))Z.fillRect(y-1.2*R,h-1.2*R,2.4*R,2.4*R);
else{Z.beginPath();Z.arc(y,h,R*1.2,0,2*Math.PI);Z.fill();if(D!=0)Z.fillStyle=n;Z.beginPath();Z.arc(y,h,R*.8,0,2*Math.PI);
Z.fill();Z.fillStyle=u}}}b=!0}}}Z.lineWidth=1/F.e;if(e.D.hM){Z.fillStyle=Z.strokeStyle=u;var f={s:[],C:[]},v=fi.ajQ;
if(v==null){v=fi.ajQ={s:[1,0],C:["M"]};for(var l=1;l<30;l++){var A=Math.PI*2*l/30;v.s.push(Math.cos(A),Math.sin(A));
v.C.push("L")}v.C.push("Z","M","L","M","L");v.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var l=0;l<e.D.hM.length;
l++){var C=i.ZN.TL(e.D.hM[l],F),M=new jg(C[0],0,0,C[0],C[1],C[2]);V.H.concat(f,v,M)}this.Tr(f,null,Z);
Z.stroke();b=!0}Z.fillStyle=Z.strokeStyle=fi.PM([0,0,0,1],!0);var Y=new jg(1,0,0,1,.5/F.e,.5/F.e);if(e.D.ct){this.Tr(e.D.ct,null,Z);
Z.fill()}if(e.D.x9){this.Tr(e.D.x9,Y,Z);Z.stroke()}for(var J in e.D.h6)if(e.D.h6[J].x9){this.Tr(e.D.h6[J].x9,null,Z);
Z.stroke();b=!0}Z.beginPath();var R=(4*K.F()+.5)/F.e,I=e.D.Zq;for(var l=0;l<I.length;l+=2){b=!0;var y=I[l],h=I[l+1];
Z.rect(y-R,h-R,2*R,2*R)}Z.stroke();var I=e.D.a8A;Z.beginPath();var R=4*K.F()/F.e;for(var l=0;l<I.length;
l+=2){b=!0;var y=I[l],h=I[l+1];Z.moveTo(y+R,h);Z.arc(y,h,R,0,2*Math.PI)}Z.fill();var I=e.D.B_;Z.fillStyle=fi.PM([1,1,1,1]);
Z.beginPath();var R=6*K.F()/F.e;for(var l=0;l<I.length;l+=2){b=!0;var y=I[l],h=I[l+1];Z.moveTo(y+R,h);
Z.arc(y,h,R,0,2*Math.PI)}Z.fill();var R=4*K.F()/F.e;for(var l=0;l<I.length;l+=2){b=!0;var y=I[l],h=I[l+1];
Z.fillStyle=fi.PM(e.D.kX.indexOf(l>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);Z.beginPath();Z.moveTo(y+R,h);Z.arc(y,h,R,0,2*Math.PI);
Z.fill()}if(e.D.r3.length!=0){for(var l=0;l<e.D.r3.length;l++){var p=e.D.r3[l],a=p[1];Z.putImageData(new ImageData(new Uint8ClampedArray(p[0].buffer),a.w,a._),a.x,a.y)}}var er=.5/F.e;
Z.lineWidth=1/F.e;if(e.D.yp){b=!0;var c8=e.D.yp,O=c8.he,$={C:[],s:[]};for(var l=0;l<c8.tO.length;l++)V.H.concat($,V.H.gb(c8.tO[l]));
$.s=$.s.concat(O);for(var l=0;l<O.length;l+=4){$.C.push("M","L")}for(var l=0;l<$.s.length;l++){$.s[l]+=er}Z.strokeStyle=fi.PM([.9,.2,.2,1]);
this.Tr($,null,Z);Z.stroke();var dF=K.F(),gl=2/F.e;Z.font=r*.9+"px sans-serif";for(var l=0;l<O.length;
l+=4){var y=O[l],h=O[l+1],e0=O[l+2],bv=O[l+3],gm=Math.sqrt((bv-h)*(bv-h)+(e0-y)*(e0-y));gm=V.PR.Ix(gm,e.Cr,_,h==bv?e.w:e._);
var iW=new bI((y+e0)/2,(h+bv)/2);Z.fillStyle=fi.PM([.9,.2,.2,1]);var jx=Z.measureText(gm).width;Z.fillRect(iW.x-jx/2-gl*dF,iW.y-3.5*gl*dF,jx+2*gl*dF,7*gl*dF);
Z.fillStyle=fi.PM([1,1,1,1]);Z.save();Z.translate(iW.x-jx/2,iW.y+2*gl*dF);Z.scale(.1,.1);Z.font=r*9+"px sans-serif";
Z.fillText(gm,0,0);Z.restore()}}if(_.Fo){if(d.B5){var aC=V.PR.tm(d.av,e.Cr,e.w,d.iK),d9=aC;if(d.iK==4)d9*=e._/e.w;
this.Ag(e,Z,aC,d9,1,d.zI);b=!0}if(d.DM&&e.t.e>7){this.Ag(e,Z,1,1,.5,d.zI);b=!0}if(d.P3){var bS=e.$j(),jo=e.eZ(),g7=Math.max(e.t.JS.w,e.t.JS._)/e.t.e;
g7=Math.max(Math.max(e.w,e._)*2,g7);Z.beginPath();Z.strokeStyle=fi.PM([0,1,1,1]);for(var l=0;l<bS[0].length;
l++){var dI=bS[0][l],gn=bS[1][l];if(gn!=-1&&gn!=jo)continue;var hI=F.Td(dI[1],dI[1]),d$=F.mG(Math.floor(hI.x)+.5,Math.floor(hI.y)+.5);
if(dI[0]==0){var eX=d$.x;Z.moveTo(eX,-g7);Z.lineTo(eX,g7)}else{var d3=d$.x;Z.moveTo(-g7,d3);Z.lineTo(g7,d3)}b=!0}Z.stroke()}var cJ=e.sP;
if(d.sP&&cJ.length!=0){Z.font=r*.8+"px sans-serif";var dM=[],dh=[];for(var l=0;l<cJ.length;l++){var jh=i.re.SO(cJ,l);
dM.push(jh);if(e.l7.indexOf(l)!=-1)dh.push(jh)}dM.reverse();var aK=Date.now();dM=V.rect.ns([0,0,e.w,e._],dM);
for(var D=0;D<2;D++)for(var l=0;l<dM.length;l++){var ca=dM[l],t=ca[4],iY=t!=null?cJ[t]:null;if(iY&&D==0||iY==null&&D==1)continue;
var y=Math.round(ca[0]),h=Math.round(ca[1]),e0=Math.round(ca[2]),bv=Math.round(ca[3]);Z.strokeStyle=Z.fillStyle=fi.PM(iY?[0,.7,.7,1]:[.8,.8,.8,1]);
Z.strokeRect(y+er,h+er,e0-y,bv-h);var et=l+1,jD=Z.measureText(et),jx=jD.width;Z.fillRect(y,h,jx+r/2,r);
Z.fillStyle=fi.PM([1,1,1,1]);Z.fillText(et,y+r/4,h+r*.8)}var gl=2/e.t.e,j6=2*gl;for(var l=0;l<dh.length;
l++){var ca=dh[l],y=Math.round(ca[0]),h=Math.round(ca[1]),e0=Math.round(ca[2]),bv=Math.round(ca[3]);
Z.strokeStyle=Z.fillStyle=fi.PM([1,.6,0,1]);Z.strokeRect(y+er,h+er,e0-y,bv-h);var dc=[y,h,e0,h,e0,bv,y,bv];
for(var ao=0;ao<dc.length;ao+=2){var eX=dc[ao],d3=dc[ao+1],ec=dc[ao+2&7],fp=dc[ao+3&7];Z.fillRect(eX-gl,d3-gl,j6,j6);
Z.fillRect(Math.round((eX+ec)/2)-gl,Math.round((d3+fp)/2)-gl,j6,j6)}}b=!0}}Z.strokeStyle=fi.PM([1,0,0,1]);
if(e.D.Hv){this.Tr(e.D.Hv,Y,Z);Z.stroke()}Z.restore();if(_.PG){if(e.t.O0==null||e.t.O0.width!=e.t.JS.w||e.t.nv.height!=e.t.JS._){e.t.O0=Z.createImageData(e.t.JS.w,V.PR.Np);
e.t.nv=Z.createImageData(V.PR.Np,e.t.JS._)}var S=aQ.x3[_.WT],eN=0,ha=0,bJ=e.w,g3=e._;if(e.eZ()!=-1){var Q=e.g[e.eZ()].iU();
eN=Q.x;ha=Q.y;bJ=Q.w;g3=Q._}eN*=F.e;ha*=F.e;var F=e.t,bL=[1,e.Cr,e.Cr/2.54,e.Cr/25.4,bJ/100][d._b],fD=F.e*e.w/2,bF=F.e*e._/2,du=[F.e*bL,new bI(F.r.x+(eN+fD*bL-fD),F.r.y+(ha+bF*bL-bF))];
if(d._b==4)bL*=g3/bJ;var b8=[F.e*bL,new bI(F.r.x+(eN+fD*bL-fD),F.r.y+(ha+bF*bL-bF))],jf=this.LJ.sz;V.PR.aeK(F,S["--text-color"],S["--bg-input"],Math.floor(jf.x),Math.floor(jf.y),du,b8);
var c1=hH.ajv(F.e,fi.PM([1,1,1,1]));fi.AV(e.t.nv.data);fi.AV(e.t.O0.data);Z.putImageData(e.t.nv,0,0);
Z.putImageData(e.t.O0,0,0);Z.putImageData(c1,0,e.t.JS._-c1.height)}if(e.D.EM.length!=0){for(var l=0;
l<e.D.EM.length;l++){var p=e.D.EM[l],a=p[1];Z.putImageData(new ImageData(new Uint8ClampedArray(p[0].buffer),a.w,a._),a.x,a.y)}}return b||_.PG};
fi.prototype.Ag=function(e,Z,F,b,_,d){while(F*e.t.e<4){F*=2;b*=2}var S=e.w,U=e._,r=.5/e.t.e;Z.strokeStyle=fi.PM([.5,.5,.5,_],!0);
Z.save();Z.rect(0,0,S,U);Z.clip();Z.beginPath();for(var q=0;q<=S;q+=F){Z.moveTo(q+r,0);Z.lineTo(q+r,U)}if(d==0){for(var w=0;
w<=U;w+=b){Z.moveTo(0,w+r);Z.lineTo(S,w+r)}}else{b*=Math.sqrt(4/3);var X=b*Math.floor(S/b),Q=S*(b/(2*F));
for(var w=-X;w<=U+X;w+=b){Z.moveTo(0,w);Z.lineTo(S,w-Q);Z.moveTo(0,w);Z.lineTo(S,w+Q)}}Z.stroke();Z.restore()};
fi.prototype.Tr=function(e,Z,F){F.beginPath();var b=V.H.clone(e);if(Z)V.H.A(b.s,Z,b.s);Typr.U.pathToContext({cmds:b.C,crds:b.s},F)};
fi.Qo=function(e,Z){E.qo.call(this);this.a3F=e;var F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(e?"uniform vec4 bgClr;  uniform vec4 ars["+Z+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+E.Ks.B9+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(e?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+Z+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.c8(F,b)};fi.Qo.prototype=new E.qo;fi.Qo.prototype.Qa=function(e,Z,F,b,_,d,S,U,r,q,w,X){this.zn("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var Q=E.Gl,c=this.Lb;Q.uniformMatrix3fv(c.tmat,!1,F);Q.uniform4fv(c.gsize,b);Q.uniform3f(c.contSizeZoom,_,d,S);
Q.uniform2f(c.cnvSize,U,r);Q.uniformMatrix4fv(c.ctrn,!1,X);if(this.a3F){Q.uniform4fv(c.ars,w);Q.uniform4fv(c.bgClr,q)}Q.uniform1i(c.source,0);
Q.uniform1i(c.target,1);Q.activeTexture(Q.TEXTURE0);Q.bindTexture(Q.TEXTURE_2D,e);Q.activeTexture(Q.TEXTURE1);
Q.bindTexture(Q.TEXTURE_2D,Z);Q.activeTexture(Q.TEXTURE0)};function bg(){d1.call(this,[9,7],!1,"---panels/layercomps",d1.Z8.al1);
this.dQ.setAttribute("style","min-width:240px;");this.pL=null;this.En=-1;this.ao6=[];this.wP=K.L("div","scrollable");
this.wP.style.height="160px";this.dQ.appendChild(this.wP);this.vW=K.L("div","lpfoot");this.dQ.appendChild(this.vW);
this._7=[];var e=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],Z=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var l=0;l<e.length;l++){var F=e[l];if(l>0)F="<img src=\""+PIMG[e[l]]+"\" class=\"gsicon\" />";var b=new cd(F,!1,Z[l]);
b.h("click",this.aoG,this);this.vW.appendChild(b.m);this._7.push(b)}}bg.prototype=new d1("");bg.prototype.Av=function(e,Z){this.dQ.setAttribute("style","width:"+(e-2)+"px;");
this.wP.style.height=Z-28+"px"};bg.prototype.M8=function(e){var Z=new j8(G.E.u,!0);Z.data=e;Z.k=i.p4;
this.$(Z)};bg.ah4="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
bg.prototype.aoG=function(e){var l=this._7.indexOf(e.currentTarget)-1;if(l==-1){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.PW,nF:bg.ah4};this.$(Z);return}if(l!=1)if(this.En==-1)return;this.M8({d:["updLC","addLC","delLC"][l],wD:this.En});
if(l==2)this.En=-1};bg.prototype.n=function(){d1.prototype.n.call(this);for(var l=0;l<this._7.length;
l++)this._7[l].n()};bg.prototype.jQ=function(e){if(e==null)K.j_(this.dQ,"disabled");else K.vB(this.dQ,"disabled");
this.pL=e;K.WL(this.wP);if(e==null)return;var Z=e.hn.lastAppliedComp?e.hn.lastAppliedComp.v:0,F=e.hn.list.v.slice(0);
F.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var l=0;l<F.length;
l++){var b=F[l].v,_=new cc(b.Nm.v,b.compID.v,b.capturedInfo.v,Z,this.En);_.h("activate",this.Lr,this);
_.parent=this;this.wP.appendChild(_.m);this.ao6.push(_)}};bg.prototype.Lr=function(e){this.En=e.currentTarget.wD;
this.jQ(this.pL)};function cc(e,l,Z,F,b){h1.call(this);this.wD=l;this.m=K.L("div","head listitem"+(l==b?" selected":""));
var _=l==F,d=new cd(_?"\u2713":"\u2014");if(_)d.SB();this.m.appendChild(d.m);d.h("click",this.rv,this);
var S=this.Ae=K.L("span");S.textContent=e;this.m.appendChild(S);this._7=[];if(l!=0){this.m.addEventListener("mouseup",this.Lr.bind(this),!1);
this.amq=K.L("span","headR");this.m.appendChild(this.amq);var U=["lrs/eye","pos","lrs/fx"],r=["Visibility","Position","Appearance"];
for(var q=0;q<U.length;q++){var w=new cd("<img src=\""+PIMG[U[q]]+"\" class=\"autoscale gsicon\" />",!1,r[q]);
if((Z>>q&1)==0)w.m.setAttribute("style","opacity:0.3");w.h("click",this.asu,this);this.amq.appendChild(w.m);
this._7.push(w)}}}cc.prototype=new h1;cc.prototype.Lr=function(e){if(e.target!=this.Ae&&e.target!=this.m)return;
if(e.detail==1)this.$(new j8("activate",!1));else{var Z=new d1.Uw(this.Ae,this.TX.bind(this))}};cc.prototype.asu=function(e){var l=this._7.indexOf(e.currentTarget);
this.M8({d:"editLC",alS:l,wD:this.wD})};cc.prototype.TX=function(e){this.M8({d:"editLC",vn:e,wD:this.wD})};
cc.prototype.rv=function(e){this.M8({d:"setLC",wD:this.wD})};cc.prototype.M8=function(e){var Z=new j8(G.E.u,!0);
Z.data=e;Z.k=i.p4;this.$(Z)};function dW(){d1.call(this,[9,11],!1,"---panels/navigator",d1.Z8.akq);var e=K.L("div","padded");
e.setAttribute("style","min-width:15em");this.dQ.appendChild(e);var Z=K.L("div");e.appendChild(Z);Z.setAttribute("style","cursor:grab;");
this.O=K.L("canvas");this.O.width=100;Z.appendChild(this.O);K.GU(this.O);K.x7(this.O,this.a_.bind(this));
this.mR=new e_(null,2,6400,"%",null,!0);this.mR.h(G.E.p,this.aqE,this);e.appendChild(this.mR.m);this.apY=this.YQ.bind(this);
this.asI=this.YK.bind(this);this.Yf=null}dW.prototype=new d1("");dW.prototype.Av=function(e,Z){this.qz()};
dW.prototype.aqE=function(e){var Z=this.mR.U(),F=this.Yf,b=Z/100;if(.8<b&&b<1.2)b=1;else if(1.8<b)b=Math.round(b);
var _=new j8(G.E.u,!0);_.k=i.GD;_.data={d:"zoom",e:b};this.$(_)};dW.prototype.a_=function(e){if(this.Yf==null)return;
K.gQ(window,this.apY);K.z1(window,this.asI)};dW.prototype.YQ=function(e){var Z=K.DK(e,this.O),F=this.Yf,b=this.O.width,_=this.O.height,d=(Z.x*K.F()-b/2)/b,S=(Z.y*K.F()-_/2)/_,U=K.F()*F.t.e,r=Math.round(-F.t.e*F.w*d),q=Math.round(-F.t.e*F._*S);
i.pu.nZ(F,r,q)};dW.prototype.YK=function(e){K.J3(window,this.apY);K.UP(window,this.asI)};dW.prototype.jQ=function(e){if(e==null&&this.Yf!=null)this.O.width=100;
this.Yf=e;this.qz()};dW.prototype.qz=function(){var e=this.Yf,b=0;if(e==null||e.t.e==0)return;var Z=e.t;
if(!K.RY(this.dQ))return;this.mR.f(Z.e*100);var F=300*K.F(),_=[e.zB(),new e3(0,0,e.w,e._)];V.nP(_);while(Math.max(_[b+1].w,_[b+1]._)>F){b+=2}var d=_[b],S=_[b+1],U=S.w,r=S._,q=this.O;
q.width=U;q.height=r;K.rB(q,U,r);var w=q.getContext("2d"),X=w.createImageData(U,r);V.Fk(d,X.data);w.putImageData(X,0,0);
var Q=Z.JS,c=Z.mG(Q.x,Q.y),u=Z.mG(Q.x+Q.w,Q.y+Q._),n=U/e.w;w.scale(n,n);w.lineWidth=4/n;w.strokeStyle="#ff0000";
w.strokeRect(c.x,c.y,u.x-c.x,u.y-c.y)};dW.prototype.ZP=function(e,Z){};dW.prototype.wR=function(){this.qz()};
function fl(e,Z){if(e==null){d1.call(this);return}d1.call(this,e.name,!1,e.icon,Z);var F=this.yO=K.L("iframe");
F.setAttribute("src",e.url);F.setAttribute("style","width:"+e.width+"px; height:"+e.height+"px");this.dQ.appendChild(F)}fl.prototype=new d1("");
fl.prototype.Qe=function(e){if(K.RY(this.yO))this.yO.contentWindow.postMessage(e,"*")};fl.prototype.Av=function(e,Z){this.yO.setAttribute("style","width:"+e+"px; height:"+Z+"px")};
function hp(){d1.call(this,[9,12],!1,"---panels/tpreset",d1.Z8.Ki);this.Pk=null;this.Fy=new hi(i.f_);
this.Fy.parent=this;var e=K.L("div","padded");e.setAttribute("style","width:20em");this.dQ.appendChild(e);
e.appendChild(this.Fy.gM)}hp.prototype=new d1("");hp.prototype.wR=function(){this.Fy.z6(this.Pk.C6)};
hp.prototype.ZP=function(e,Z){this.Pk=e;if(Z==c6.vy||Z==c6.Ki)this.Fy.z6(e.C6)};hp.prototype.Av=function(e,Z){this.Fy.agK(this.Pk.yt)};
hp.prototype.n=function(){d1.prototype.n.call(this);this.Fy.n()};var cp=function(){var e=[],Z=null,F=null,b=null,_=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function d(){d1.call(this,"Memory",!1,null,d1.Z8.apz);var Q=K.L("div","padded");this.dQ.appendChild(Q);
F=new cd(["<< VAR0",[0,13,2]],!1,null,!0);F.addEventListener("click",function(c){e.pop();U()});Q.appendChild(F.m);
Z=K.L("div","scrollable");Z.setAttribute("style","width:20em;  height:26em; margin-top:8px;");Q.appendChild(Z)}d.prototype=new d1("");
d.prototype.jQ=function(Q,c,u){b=c;this.wR()};d.prototype.wR=function(){F.c5(!1);if(!K.RY(Z))return;
var Q={if:"Total:",jg:[]};for(var l=0;l<b.length;l++)Q.jg.push(q(b[l]));X(Q);e=[Q];U()};d.prototype.n=function(){d1.prototype.n.call(this);
F.n()};function S(Q){var c=Q.currentTarget,l=0;while((c=c.previousSibling)!=null)l++;e.push(e[e.length-1].jg[l-1]);
U()}function U(){F.c5(e.length>1);var Q=e[e.length-1];K.WL(Z);r(Q,Z,0);Q.jg.sort(function(c,u){return u.a3[0]-c.a3[0]});
for(var l=0;l<Q.jg.length;l++)r(Q.jg[l],Z,1)}function r(Q,c,u){var n=hd.nR,k=u!=0&&Q.jg,B="margin-left:"+u*10+"px; margin-bottom:8px; padding:3px 5px;";
if(k)B+="cursor:pointer;";if(Q.K$!=null)B+="background-color:rgba("+_[Q.K$].join(",")+",0.2);";var o=K.L("div");
c.appendChild(o);o.setAttribute("style",B);o.innerHTML=K.eB(Q.if)+"<br />"+"RAM: <b>"+n(Q.a3[0])+"</b>\u2001GPU: <b>"+n(Q.a3[1])+"</b>";
if(k)o.addEventListener("click",S,!1)}function q(Q){var c={if:Q.name,jg:[],K$:0},u=E.P7?1:0,n=1-u,k={if:"Final Image",a3:[Q.w*Q._*4,u*Q.w*Q._*4],K$:2};
c.jg.push(k);for(var l=0;l<Q.g.length;l++){var B=w(Q.g[l]);if(B.jg.length!=0)c.jg.push(B)}var o=Q.add.lnk2;
if(o)for(var l=0;l<o.length;l++){var B=o[l],T={if:B.Iv,jg:[],K$:4},z=0;T.jg.push({if:"Raw file",a3:[B.raw.length,0]});
if(B.Sa)for(var W=0;W<B.Sa.length;W+=2)z+=B.Sa[W].length;if(z!=0)T.jg.push({if:"Decoded pixels",a3:[z,0]});
X(T);c.jg.push(T)}X(c);return c}function w(Q){var c={if:Q.getName(),jg:[],K$:1},u=E.P7?1:0,n=1-u,k=Q.rect.Z();
if(k!=0)c.jg.push({if:"Layer pixels",a3:[k*4,u*k*4]});if(Q.add.lmfx&&Q.xP.Ei.type){var B=Q.xP.Ei.type,W=0;
for(var o in B){var T=0;for(var z=0;z<B[o].length;z++)if(o=="ebbl"){if(B[o][z].Le)T+=B[o][z].Le.Od.Z();
if(B[o][z].PD)T+=B[o][z].PD.Od.Z();if(B[o][z].C2)T+=B[o][z].C2.Od.Z();if(B[o][z].Ml)T+=B[o][z].Ml.Od.Z()}else T+=B[o][z].Od.Z();
if(T!=0)c.jg.push({if:gA.get(fu.names[fu.order.indexOf(o)]),a3:[n*T*4,u*T*4],K$:3})}if(Q.xP.Ne)W+=k;
if(Q.xP.Oz)W+=k;if(Q.xP.Mc)W+=k;if(Q.xP.Mc)W+=k;if(Q.xP.Se)W+=k;if(Q.xP.gR)W+=k;var $=Q.xP.AX?Q.xP.AX.length:0;
if(W+$!=0)c.jg.push({if:"Additional Blending Data",a3:[n*W*4+$,u*W*4]})}var R=Q.Vj(),P=R?R.rect.Z():0;
if(P!=0){c.jg.push({if:"Raster Mask",a3:[P,0]})}var R=Q.add.vmsk,P=R&&R.KX?R.KX.rect.Z():0;if(P!=0){c.jg.push({if:"Vector Mask",a3:[P,0]})}X(c);
return c}function X(Q){Q.a3=[0,0];for(var l=0;l<Q.jg.length;l++){Q.a3[0]+=Q.jg[l].a3[0];Q.a3[1]+=Q.jg[l].a3[1]}}return d}();
function jI(){h1.call(this);this.k=0;this.gW=null;this.m=K.L("div","toolconf");this.Fy=null;this.Zk=null;
this.body=new K.L("div","body")}jI.prototype=new h1;jI.prototype.aaR=function(e,Z){this.k=e;this.gW=Z;
if(i.KH[e]){var F=this.Fy=new hi(e);this.m.appendChild(F.m);F.parent=this}else{this.Zk=K.L("div");this.m.appendChild(this.Zk)}this.m.appendChild(this.body);
this.n()};jI.prototype.a2$=function(e,Z){};jI.prototype.aaQ=function(e){};jI.prototype.ZP=function(e,Z){if(Z==c6.vy||Z==c6.Ki)if(this.Fy)this.Fy.z6(e.C6)};
jI.prototype.rF=function(e){};jI.prototype.n=function(){if(this.Fy)this.Fy.n();else this.Zk.innerHTML=K.kO(this.gW,null,"toolicon");
this.rs()};jI.prototype.rs=function(){};function cV(){jI.call(this);this.jW=new dn;this.jW.h(G.E.p,this.K5,this);
this.body.appendChild(this.jW.m)}cV.prototype=new jI;cV.prototype.rs=function(){this.jW.n()};cV.prototype.K5=function(e){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.JX,k:this.k,NG:this.jW.ao9()};this.$(Z)};cV.prototype.rF=function(e){this.jW.a1Q(e.DL)};
function aa(e){jI.call(this);if(e==null)return;this.Pk=null;this.rc={};for(var l=0;l<e.length;l++){var Z=e[l],F=null;
if(Z=="brush"){F=new gD}if(Z=="bmode"){F=new dE([12,19,0],ae.Bj,!1,ae.aH)}if(Z=="bmode0"){F=new dE([12,19,0],ae.Bj.slice(23),!1)}if(Z=="emode"){F=new dE([12,36],[[9,3],[10,38]])}if(Z=="opacity"){F=new en([12,0],0,100,"%");
F.f(100)}if(Z=="flow"){F=new en([12,63],0,100,"%");F.f(100)}if(Z=="smth"){F=new en([19,3,0],0,100,"%");
F.f(0)}if(Z=="samp"){F=new dE("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(Z=="wconf"){F=new hJ;
F.f([40,!0,!0])}if(Z=="sall"){F=new c7([12,25,2])}if(Z=="strn"){F=new en([12,64],1,100,"%");F.f(50)}if(Z=="smode"){F=new dE([12,36],[[19,7,0],[19,7,1]]);
F.f(1)}if(Z=="pdetail"){F=new c7([12,65]);F.SB()}if(Z=="rng"){F=new dE([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
F.f(1)}if(Z=="expo"){F=new en([12,5],0,100,"%");F.f(50)}if(Z=="algnd"){F=new c7([12,75]);F.f(!1)}if(Z=="sfrom"){F=new dE([12,70],[[17,1],[17,3],[17,0]])}if(Z=="alt"){F=new g_(null,["Alt"],!0,["Select Source"])}if(Z=="qsmode"){F=new jv([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(Z=="redge"){F=new cd([7,11],!1,null,!0)}if(Z=="setop"){F=new aZ}if(Z=="patch"){F=new jv(null,[[12,70],[12,71]])}if(Z=="prsr"){F=new g_(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
F.f([!1,!1])}F.parent=this;this.body.appendChild(F.m);this.rc[Z]=F;if(Z=="brush")F.h(G.E.p,this.akS,this);
else if(Z=="redge")F.h("click",this.mc,this);else F.h(G.E.p,this.Sy,this)}}aa.prototype=new jI;aa.prototype.a2$=function(e,Z){e=e[1];
var F=this.rc;if(e.Md)F.bmode.f(ae.KU.indexOf(e.Md.v.BlnM));if(e.Opct)F.opacity.f(e.Opct.v);if(e.flow)F.flow.f(e.flow.v);
if(e.Brsh)F.brush.f(e,Z.en.my,Z.en.Jj);if(e.FrgC){var b=V.X.Gb(e.FrgC.v),_=new j8(G.E.W,!0);_.data={d:G.B.aE,NG:c6.kp,Yu:0,I:b.o<<16|b.z<<8|b.S};
this.$(_)}this.akS();this.Sy()};aa.prototype.aaQ=function(){if(i.KH[this.k]==null)return null;var e=this.rc,Z=JSON.parse(JSON.stringify(e.brush.U()));
Z.classID=i.KH[this.k][1][0];if(e.bmode)Z.Md={t:"enum",v:{BlnM:ae.KU[e.bmode.U()]}};if(e.opacity)Z.Opct={t:"long",v:e.opacity.U()};
if(e.flow)Z.flow={t:"long",v:e.flow.U()};var F=this.Pk.Ly;F={o:F>>>16,z:F>>>8&255,S:F&255};Z.FrgC={t:"Objc",v:V.X.Q9(F)};
return["Brush Preset "+Z.Brsh.v.Dmtr.v.val,Z]};aa.prototype.mc=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.tJ,ZB:"redge"};
this.$(e)};aa.prototype.rs=function(){for(var e in this.rc)this.rc[e].n()};aa.prototype.rF=function(e){if(e.a0i=="showBrushOpts"){this.rc.brush.aaW(e.bj.x,e.bj.y)}for(var Z in e.x5){var F=e.x5[Z];
if(Z!="qsmode")F*=100;if(this.rc[Z])this.rc[Z].f(F)}};aa.prototype.ZP=function(e,Z){jI.prototype.ZP.call(this,e,Z);
this.Pk=e;var F=this.rc.brush;if(F==null)return;if(Z==c6.vy||Z==c6.f_)F.z6(e.en);if(Z==c6.Iu){F.f(e.en.yA,e.en.my,e.en.Jj)}};
aa.prototype.akS=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.aE,NG:c6.Iu,LL:this.rc.brush.U()};this.$(e)};
aa.prototype.Sy=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.JX,k:this.k};for(var Z in this.rc){if(Z=="brush"||Z=="redge")continue;
var F=this.rc[Z].U();if(["opacity","flow","smth","strn","expo"].indexOf(Z)!=-1)e.data[Z]=F/100;else if(Z=="bmode")e.data.bmode=ae.Qd[F];
else if(Z=="bmode0")e.data.bmode=ae.Qd[23+F];else e.data[Z]=F}this.$(e)};function eT(e,Z){jI.call(this);
if(e)return;this.rc={};for(var l=0;l<Z.length;l++){var F=Z[l],b=null;if(F=="binop")b=new aZ;if(F=="feat"){b=new en([7,6],0,100,"px");
b.f(0)}if(F=="redge")b=new cd([7,11],!1,null,!0);if(F=="wconf")b=new hJ;if(F=="cstr")b=new ad;if(F=="anta"){b=new c7([12,25,1]);
b.f(!0)}if(F=="sall")b=new c7([12,25,2]);if(F=="redge")b.h("click",this.mc,this);else b.h(G.E.p,this.Sy,this);
b.parent=this;this.body.appendChild(b.m);this.rc[F]=b}}eT.prototype=new jI;eT.prototype.rF=function(e){if(e.Rv!=null)this.rc.binop.f(e.Rv);
else if(e.Nd){for(var Z in e.Nd)if(this.rc[Z])this.rc[Z].f(e.Nd[Z])}else{var F=eT.GW;if(F==null){var b=iz.amh(!0);
F=eT.GW=new gx(b.items,b.Z1)}F.n();F.parent=this;F.update(e.rj,e.J8);var _=new j8(G.E.W,!0);_.data={d:G.B.f6,Gw:F,x:e.Pn.Cl+2,y:e.Pn.mU+1};
this.$(_)}};eT.prototype.rs=function(){for(var e in this.rc)this.rc[e].n()};eT.prototype.mc=function(){var e=new j8(G.E.W,!0);
e.data={d:G.B.tJ,ZB:"redge"};this.$(e)};eT.prototype.Sy=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.JX,k:this.k,Nd:{}};
for(var Z in this.rc)e.data.Nd[Z]=this.rc[Z].U();this.$(e)};function iJ(){aa.call(this,["brush","strn"])}iJ.prototype=new aa;
function dP(){aa.call(this,"brush bmode opacity flow smth prsr".split(" "))}dP.prototype=new aa;function bY(){aa.call(this,["brush","bmode0","samp","wconf"])}bY.prototype=new aa;
function jl(){aa.call(this,["brush"])}jl.prototype=new aa;function a$(){aa.call(this,["brush","bmode","opacity","smth","prsr"])}a$.prototype=new aa;
function bZ(){aa.call(this,["brush","rng","expo"])}bZ.prototype=new aa;function cT(){aa.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}cT.prototype=new aa;
function f6(e){jI.call(this);if(e==null)return;var Z=K.L("span","fitem");this.body.appendChild(Z);var F=[[17,0],[17,1],[11,12,0],[17,2]];
this.RB=[];for(var l=0;l<F.length;l++){var b=new cd(F[l],!1,null,!0);this.RB.push(b);b.h("click",this.a0E,this);
if(!e||l==1)Z.appendChild(b.m)}this.OX=new ad;this.OX.h(G.E.p,this.aiV,this);if(!e)this.body.appendChild(this.OX.m);
this.Mf=new cd([15,7,6],!1,null,!0);this.Mf.h("click",this.a0E,this);if(!e)this.body.appendChild(this.Mf.m);
this.d4=new c7([15,7,10]);this.d4.h(G.E.p,this.aiV,this);if(!e)this.body.appendChild(this.d4.m);this.qD=new gc;
this.qD.h("click",this.Xh,this)}f6.prototype=new jI;f6.prototype.rs=function(){this.qD.n();for(var l=0;
l<this.RB.length;l++)this.RB[l].n();this.OX.n();this.d4.n();this.Mf.n()};f6.prototype.rF=function(e){var Z=this.qD.m;
if(e.zr)this.body.appendChild(Z);else if(this.body.contains(Z))this.body.removeChild(Z);if(e.OX)this.OX.f(e.OX)};
f6.prototype.Xh=function(e){var Z={d:G.B.JX,k:this.k,uC:this.qD.U()?"commit":"cancel"},F=new j8(G.E.W,!0);
F.data=Z;this.$(F)};f6.prototype.a0E=function(e){e.target.m.blur();var Z={d:G.B.JX,k:this.k,uC:"cropby",aeQ:this.RB.indexOf(e.target)};
if(e.target==this.Mf)Z.uC="straighten";var F=new j8(G.E.W,!0);F.data=Z;this.$(F)};f6.prototype.aiV=function(e){var Z={d:G.B.JX,k:this.k,uC:"config",vR:{bz:this.OX.U(),yi:this.d4.U()},aeL:e.target==this.OX},F=new j8(G.E.W,!0);
F.data=Z;this.$(F)};function bk(){f6.call(this,!1)}bk.prototype=new f6;function ct(){f6.call(this,!0)}ct.prototype=new f6;
function ei(){aa.call(this,["brush","rng","expo"])}ei.prototype=new aa;function em(){aa.call(this,"brush emode opacity flow smth prsr".split(" "))}em.prototype=new aa;
function hf(){aa.call(this,["brush","samp","wconf"])}hf.prototype=new aa;function cx(){eT.call(this,!1,["binop","feat","anta","redge","cstr"])}cx.prototype=new eT(!0);
function f1(){jI.call(this);var e=this.rc=[new dE([12,20],["1x1","3x3","5x5","11x11","31x31"]),new dE([12,70],[[17,1],[17,3],[17,0]]),new c7("Sampling Ring"),new c7("Zoom")];
e[1].f(2);e[2].f(!0);for(var l=0;l<e.length;l++){var Z=e[l];Z.h(G.E.p,this.Sy,this);this.body.appendChild(Z.m)}}f1.prototype=new jI;
f1.prototype.Sy=function(e){var Z=this.rc,F=[];for(var l=0;l<Z.length;l++)F[l]=Z[l].U();var b=new j8(G.E.W,!0);
b.data={d:G.B.JX,k:this.k,Nd:F};this.$(b)};f1.prototype.rs=function(){for(var l=0;l<this.rc.length;l++)this.rc[l].n()};
function eR(){jI.call(this);this.tF=new j0(!1);this.tF.parent=this;this.tF.h(G.E.p,this.oJ,this);this.body.appendChild(this.tF.m);
this.tF.f(JSON.parse(fu.Jr.CL).v);this.GQ=new dE(null,fu.X.names.slice(0,5));this.GQ.h(G.E.p,this.oJ,this);
this.body.appendChild(this.GQ.m);this.FW=new dE([12,19,0],ae.Bj,null,ae.aH);this.FW.h(G.E.p,this.oJ,this);
this.body.appendChild(this.FW.m);this.j5=new en([12,0],0,100,"%");this.j5.parent=this;this.j5.h(G.E.p,this.oJ,this);
this.body.appendChild(this.j5.m);this.j5.f(100);this.Sr=new c7([12,23,0]);this.Sr.h(G.E.p,this.oJ,this);
this.body.appendChild(this.Sr.m);this.Al=new c7([12,23,3]);this.Al.h(G.E.p,this.oJ,this);this.body.appendChild(this.Al.m)}eR.prototype=new jI;
eR.prototype.rs=function(){this.GQ.n();this.FW.n();this.j5.n();this.Sr.n();this.Al.n()};eR.prototype.ZP=function(e,Z){jI.prototype.ZP.call(this,e,Z);
var F=Z==c6.kp;this.tF.cz(e.Ly,e.ZE);if(F||Z==c6.kv||Z==c6.vy)this.tF.z6(e.Cb)};eR.prototype.oJ=function(){var e=new j8(G.E.W,!0);
e.data={d:G.B.JX,k:this.k};e.data.NG={X:this.tF.U(),J_:fu.X.types[this.GQ.U()],_J:this.Sr.MK(),acr:this.Al.MK(),arQ:ae.Qd[this.FW.U()],Pv:this.j5.U()/100};
this.$(e)};function eM(){jI.call(this)}eM.prototype=new jI;function dt(){jI.call(this);var e=K.L("span","fitem");
this.body.appendChild(e);this.Kc=[new en([12,15],-180,180,"\xB0"),new cd([1,12,2],null,null,!0)];for(var l=0;
l<this.Kc.length;l++){var Z=this.Kc[l];Z.parent=this;e.appendChild(Z.m);Z.h(l==1?"click":G.E.p,this.An,this)}}dt.prototype=new jI;
dt.prototype.rs=function(){for(var l=0;l<this.Kc.length;l++)this.Kc[l].n()};dt.prototype.rF=function(e){this.Kc[0].f(e.hu*180/Math.PI)};
dt.prototype.An=function(e){var Z=this.Kc.indexOf(e.target),F=new j8(G.E.W,!0);F.data={d:G.B.JX,k:this.k,hu:Z==1?0:e.target.U()*Math.PI/180};
this.$(F)};function iP(){aa.call(this,["brush","algnd","sfrom","alt"])}iP.prototype=new aa;function cN(){jI.call(this);
this.em=new fW;this.em.parent=this;this.body.appendChild(this.em._c.m);this.body.appendChild(this.em.Ry.m);
this.body.appendChild(this.em.U_.m);this.body.appendChild(this.em.pT.m);var e=K.L("span","fitem");this.body.appendChild(e);
e.appendChild(this.em.O4.m);e.appendChild(this.em.$u.m);e.appendChild(this.em.Ci.m);this.aQ=new dE("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.aQ.h(G.E.p,this.Xh,this);this.body.appendChild(this.aQ.m);this.iR=new cd([11,9],!1,null,!0);this.iR.h("click",this.a9n,this);
this.body.appendChild(this.iR.m);this.qD=new gc;this.qD.h("click",this.Xh,this)}cN.prototype=new jI;
cN.prototype.rs=function(){this.qD.n();this.em.n();this.iR.n()};cN.prototype.a9n=function(e){var Z={d:G.B.JX,k:this.k,uC:"showwarp"},F=new j8(G.E.W,!0);
F.data=Z;this.$(F)};cN.prototype.rF=function(e){if(e.uC=="showactive")this.body.appendChild(this.qD.m);
if(e.uC=="hideactive")this.body.removeChild(this.qD.m);if(e.uC=="changeAA")this.aQ.f(e.mQ)};cN.prototype.ZP=function(e,Z){jI.prototype.ZP.call(this,e,Z);
if(Z!=c6.vy&&Z!=c6.fU&&Z!=c6.jZ&&Z!=c6.Ub)return;this.em.f(e.Cv,e.W5,e.tu)};cN.prototype.Xh=function(e){var Z={d:G.B.JX,k:this.k,uC:this.qD.U()?"commit":"cancel"};
if(e.target==this.aQ){Z.uC="changeAA";Z.mQ=this.aQ.U()}var F=new j8(G.E.W,!0);F.data=Z;this.$(F)};function cw(){eT.call(this,!1,["binop","feat","anta","redge"])}cw.prototype=new eT(!0);
function f3(){jI.call(this);var e=[],F="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.se=new c7([12,85]);this.se.h(G.E.p,this.Sy,this);e.push(this.se.m);this.ag=new c7([20,1]);this.ag.h(G.E.p,this.Sy,this);
e.push(this.ag.m);this.St=new c7([12,83]);this.St.h(G.E.p,this.Sy,this);e.push(this.St.m);var Z=K.L("span","fitem");
e.push(Z);this.an3=new dE("Scale for exported files",["1x","2x","3x","4x"],!0);Z.appendChild(this.an3.m);
this.oC=new cd(F+" PNG",!1,"Save selected layers as PNG",!0);Z.appendChild(this.oC.m);this.oC.h("click",this.hE,this);
this.a5H=new cd(F+" SVG",!1,"Save selected layers as SVG",!0);Z.appendChild(this.a5H.m);this.a5H.h("click",this.hE,this);
var b=K.L("span","fitem");e.push(b);var _=K.L("span","fitem");e.push(_);this._7=[];for(var l=0;l<8;l++){var d=l==3||l==7?[20,4,6]:[20,4,l<3?l:l-1],S=new cd("Hi",!1,d);
(l<4?b:_).appendChild(S.m);S.h("click",this.hE,this);this._7.push(S)}for(var l=0;l<e.length;l++)this.body.appendChild(e[l]);
this.ahf=e}f3.prototype=new jI;f3.prototype.rF=function(e){var Z=e.DL,F=e.a4M;this.se.f(Z.zb);this.ag.f(Z.M2);
this.St.f(Z.yp);if(F){K.WL(this.body);for(var l=0;l<F.length;l++)if(F[l]==1&&this.ahf[l])this.body.appendChild(this.ahf[l])}};
f3.prototype.hE=function(e){var Z=this._7.indexOf(e.target),F;if(Z==-1){F=new j8(G.E.W,!0);F.data={d:G.B.JX,k:this.k,Yu:e.target==this.oC?"getPNG":"getSVG",cp:this.an3.U()+1}}else{F=new j8(G.E.u,!0);
F.k=i.l$;F.data={d:"algn",I:Z}}this.$(F)};f3.prototype.Sy=function(e){var Z=new j8(G.E.W,!0);Z.data={d:G.B.JX,k:this.k,Yu:"prms",zb:this.se.MK(),M2:this.ag.MK(),yp:this.St.MK()};
this.$(Z)};f3.prototype.rs=function(){this.se.n();this.ag.n();this.St.n();var e="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var l=0;l<8;l++){this._7[l].cc(K.kO("align/"+e[l],null,"autoscale"))}};function iS(){eT.call(this,!1,["binop","feat","redge","wconf","sall"])}iS.prototype=new eT(!0);
function cR(){aa.call(this,["setop","patch"])}cR.prototype=new aa;function ai(){aa.call(this,["setop"])}ai.prototype=new aa;
function ef(){aa.call(this,["bmode","opacity","wconf","sall"])}ef.prototype=new aa;function aj(){eT.call(this,!1,["binop","feat","anta","redge"])}aj.prototype=new eT(!0);
function cE(){eT.call(this,!1,["binop","feat","anta","redge"])}cE.prototype=new eT(!0);function gT(){eT.call(this,!1,["binop","feat","redge","cstr"])}gT.prototype=new eT(!0);
function jF(){jI.call(this);this.Pk=null;this.FG=null;this.XC=[new cY("X",null,3.2,null,!0),new cY("Y",null,3.2,null,!0),new cY("W",null,3.2,null,!0),new cY("H",null,3.2,null,!0),new cY([12,15],"\xB0",3.7,null,!0),new cY(["VAR0 1",[12,80,0]],null,3.5,null,!0),new cY(["VAR0 2",[12,80,0]],null,3.5,null,!0),new cd([15,7,6],!1,null,!0),new cd([2,2],!1,null,!0)];
for(var l=0;l<this.XC.length;l++){var e=this.XC[l];this.body.appendChild(e.m);if(l>6)e.h("click",this.cn,this)}this.a$=0}jF.prototype=new jI;
jF.prototype.cn=function(e){var Z=this.XC.indexOf(e.target)==7,F=new j8(G.E.u,!0);if(Z){if(this.a$==0)return;
F.k=i.PF;F.data={d:"rot",Pj:[2,5],I:-this.a$}}else{F.k=i.Wj;for(var l=0;l<6;l++)this.XC[l].f(null)}this.$(F)};
jF.prototype.rF=function(e){function Z(U,r,q){var w=Math.sqrt(Math.pow(r.x-U.x,2)+Math.pow(r.y-U.y,2)),X=Math.sqrt(Math.pow(r.x-q.x,2)+Math.pow(r.y-q.y,2)),Q=Math.sqrt(Math.pow(q.x-U.x,2)+Math.pow(q.y-U.y,2));
return Math.acos((X*X+w*w-Q*Q)/(2*X*w))}if(e==null)return;this.FG=e;var F=e.a06,b=e.ec,_=b.x-F.x,d=b.y-F.y;
this.a$=-Math.atan2(d,_);if(e._Z)this.a$=Z(b,F,e._Z);var S=this.XC;S[0].f(this.DQ(e,F.x));S[1].f(this.DQ(e,F.y));
S[2].f(this.DQ(e,_));S[3].f(this.DQ(e,d));S[4].f((this.a$*180/Math.PI).toFixed(2));S[5].f(this.DQ(e,bI.Ls(F,b)));
if(e._Z){S[6].f(this.DQ(e,bI.Ls(F,e._Z)))}else S[6].f("")};jF.prototype.DQ=function(e,Z){var F=V.PR.Ix(Z,e.Cr,this.Pk,e.adY,!1);
return parseFloat(F).toFixed(2)};jF.prototype.ZP=function(e,Z){this.Pk=e;this.rF(this.FG)};jF.prototype.rs=function(){var e=this.XC;
for(var l=0;l<e.length;l++)e[l].n();K.Yk(e[2],e[3])};function iA(){aa.call(this,["brush","strn","pdetail"])}iA.prototype=new aa;
function ba(){aa.call(this,["brush","sfrom"]);this.a8R=[];var e=[[7,12]];for(var l=0;l<e.length;l++){var Z=new cd(e[l],!1,null,!0);
this.a8R.push(Z);Z.parent=this;this.body.appendChild(Z.m);Z.h("click",this.ajH,this)}}ba.prototype=new aa;
ba.prototype.ajH=function(e){var Z=this.a8R.indexOf(e.currentTarget),F=new j8(G.E.GT,!0);F.data=i.Aj.eX("contentAware");
this.$(F)};function cA(){aa.call(this,["brush","strn"])}cA.prototype=new aa;function jK(){aa.call(this,["brush","flow","smode"])}jK.prototype=new aa;
function ho(){jI.call(this);this.eG=!1;var e=K.L("span","fitem");this.body.appendChild(e);this.Vg=new jv(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
e.appendChild(this.Vg.m);this.Vg.h(G.E.p,this.Sy,this);this.oR=new cd([20,2]);this.body.appendChild(this.oR.m);
this.oR.h("click",this.a1m,this);this.OM=new cd([20,3]);this.body.appendChild(this.OM.m);this.OM.h("click",this.a1m,this)}ho.prototype=new jI;
ho.prototype.rs=function(){this.oR.n();this.OM.n()};ho.prototype.Sy=function(){var e={d:G.B.JX,k:this.k,FU:this.Vg.U()==0},Z=new j8(G.E.W,!0);
Z.data=e;this.$(Z)};ho.prototype.rF=function(e){if(this.eG!=e.eG)this.Vg.f(1-this.Vg.U());this.eG=e.eG};
ho.prototype.a1m=function(e){var Z=new j8(G.E.u,!0);Z.k=i.GD;Z.data={d:"adapt",I:e.target==this.oR?"pixel":"fitscr"};
this.$(Z)};function cG(e,Z){jI.call(this);if(e==null)return;this.Y_=e;this.Er={};this.a6C=Z;for(var l=0;
l<e.length;l++){var F=e[l],b=null;if(F=="tmode"){b=new dE(null,[[12,76,1],[12,76,0],[12,76,2]]);b.f(0);
if(Z)b.abH(2)}if(F=="make"){b=new jv("Make",[[17,2],[12,76,1]],null,!0)}if(F=="anta"){b=new c7([12,25,1]);
b.f(!0)}if(F=="binop"){b=new dE(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(F=="pshape")b=new dE(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);
if(F=="shape")b=new hC([12,76,1]);if(F=="crad"){b=new en([12,94,0],0,50,"px");b.f(0)}if(F=="cstr"){b=new ad}if(F=="irad"){b=new en([12,94,1],0,100,"%");
b.f(40)}if(F=="length"){b=new en([12,80,0],4,40);b.f(4)}if(F=="sides"){b=new en([12,78],3,30);b.f(5)}if(F=="width"){b=new en([12,41],1,100,"px");
b.f(5)}if(F=="tolr"){b=new en([12,24],0,100);b.f(5)}if(F=="fstyle"){b=new eq([12,26])}if(F=="sstyle"){b=new jr}if(F=="psnap"){b=new c7([8,10])}if(F=="crnr"){b=new cd("\u2312",!1,[12,94,0],!0)}if(F=="aopts"){b=new cf;
b.f([!1,!1,50,60,0])}b.parent=this;this.body.appendChild(b.m);this.Er[F]=b;b.h(F=="crnr"?"click":G.E.p,this.Sy,this)}}cG.prototype=new jI;
cG.prototype.rF=function(e){if(e.Rv!=null)this.Er.binop.f(e.Rv);else if(e.Yu=="vals")for(var Z in e.anW)this.Er[Z].f(e.anW[Z]);
else{var F=cG.GW;if(F==null)F=cG.GW=new gx([{name:"Remove Anchor Point",P:function(_){var d=_?_.GJ():null;
return{P:_&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.LD.length!=0}}},{name:"Remove Path",P:function(_){var d=_?_.GJ():null;
return{P:_&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.V.length!=0}},jr:!0},{name:"Make Selection"}],[{Y:G.E.u,k:i.eK,R:{d:"remove",_i:!0}},{Y:G.E.u,k:i.qy,R:{d:"remove"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"makesel"}}]);
F.parent=this;F.update(e.rj,e.J8);var b=new j8(G.E.W,!0);b.data={d:G.B.f6,Gw:F,x:e.Pn.Cl+2,y:e.Pn.mU+1};
this.$(b)}};cG.prototype.asr=function(l){return null};cG.prototype.rs=function(){for(var e in this.Er){this.Er[e].n()}};
cG.prototype.Sy=function(e){var Z=new j8(G.E.W,!0),F=this.Er;if(e.target==F.crnr){Z=new j8(G.E.u,!0);
Z.k=i.eK;Z.data={d:"crnr"}}else if(e.target==F.make){var l=e.target.U();console.log(l);if(l==0)Z.data={d:G.B.tJ,ZB:"makesel"};
else{Z=new j8(G.E.u,!0);Z.k=i.Z2;Z.data={d:"newfill",K$:0}}}else if(e.target==F.fstyle){Z.data={d:G.B.aE,NG:c6.aT,I:F.fstyle.U()}}else if(e.target==F.sstyle){Z.data={d:G.B.aE,NG:c6.yw,I:F.sstyle.U()}}else if(e.target==F.tmode){Z.data={d:G.B.aE,NG:c6.qH,I:F.tmode.U()}}else{if(F.pshape)this.KS();
Z.data={d:G.B.JX,k:this.k};for(var b in F)Z.data[b]=F[b].U()}this.$(Z)};cG.prototype.KS=function(){var e=this.Er,Z=e.tmode.U(),F=e.pshape?this.asr(e.pshape.U()):this.Y_,b;
if(Z==0)b=["anta","make"];if(Z==1)b=["anta","fstyle","sstyle"];if(Z==2)b=["make","binop","fstyle","sstyle"];
var _=e.binop;if(_){var d=_.U();if(Z==0){_.ab7(0)}else{_.abH(0);if(d==0){_.f(1);this.Sy({target:_})}}}K.WL(this.body);
for(var l=0;l<F.length;l++){var S=F[l];if(b.indexOf(S)!=-1)continue;this.body.appendChild(e[S].m)}};
cG.prototype.ZP=function(e,Z){jI.prototype.ZP.call(this,e,Z);var F=this.Er.fstyle,b=this.Er.sstyle,_=this.Er.tmode;
if(F)F.ZP(e,Z);if(b)b.ZP(e,Z);if(Z==c6.vy||Z==c6.Fj)if(e.Ez.length!=0&&this.Er.shape){this.Er.shape.z6(e.Ez)}if(Z==c6.vy||Z==c6.aT)if(F)F.f(null,e.lz,e.a8l);
if(Z==c6.vy||Z==c6.yw)if(b)b.f(null,e.L7,e.a6w);if(Z==c6.vy||Z==c6.qH){var d=e.Sl;if(this.a6C&&d==2)d=0;
if(_){_.f(d);this.KS()}}};function al(){cG.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}al.prototype=new cG;
function iO(){cG.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}iO.prototype=new cG;
function eA(){cG.call(this,["fstyle","sstyle"]);this.anP=null;this.a4u=null;this.aq3=null;this.y6=new dE("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.MU=new cd("\u25BC");this.MU.SB();this.ih=new cd("\u25B2");this.ih.SB();this.JF=[this.y6,this.MU,this.ih];
for(var l=0;l<this.JF.length;l++){var e=this.JF[l];this.body.appendChild(e.m);e.parent=this;e.h(l==0?G.E.p:"click",this.j6,this)}}eA.prototype=new cG;
eA.prototype.rF=function(e){if(e.uC=="main"){var Z=this.JF,F=e.rN;if(F&&F.V.length==1){this.a4u=F.clone();
this.aq3=JSON.stringify(e.$F);var b=F.V[0],_=V.c.q$(F.T);this.y6.N_();if(b>0)this.MU.N_();else this.MU.aK();
if(b<_-1)this.ih.N_();else this.ih.aK();var d=V.c.rD(F.T,b),S=F.T[d];this.y6.cc("Path "+(b+1));this.y6.f([3,0,1,2][S.A8])}else{for(var l=0;
l<Z.length;l++)Z[l].aK()}}else cG.prototype.rF.call(this,e)};eA.prototype.rs=function(){cG.prototype.rs.call(this);
this.y6.n()};eA.prototype.j6=function(e){if(e.target==this.y6||e.target==this.MU||e.target==this.ih){var Z={},F=this.a4u,b=F.T,_=JSON.parse(this.aq3),d=F.V[0],S=V.c.rD(b,d),U=b[S];
if(e.target==this.y6){var r=this.y6.U();if(r<4)U.A8=[1,2,3,0][r];else{if(V.c.q$(b)<=1)return;F.T=V.c.Yd(b);
F.V=F.T.length==2?[]:[0];F.LD=[];_=[V.$F.eJ()]}}else{var q=e.target==this.MU?-1:1,w=Math.min(d,d+q),X=Math.max(d,d+q),Q=V.c.rD(b,w),c=V.c.rD(b,X);
if(Q==-1||c==-1)return;var u=c+V.c.wp(b,X),n=_[w];_[w]=_[X];_[X]=n;var k=b.slice(0,Q),B=b.slice(Q,c),o=b.slice(c,u),T=b.slice(u);
F.T=k.concat(o.concat(B.concat(T)));F.V[0]+=q}Z.rN=F;Z.$F=_;var z=new j8(G.E.W,!0);z.data={d:G.B.JX,k:this.k,wg:Z};
this.$(z)}};function fF(){cG.call(this,["fstyle","sstyle","crnr","psnap"])}fF.prototype=new cG;function gO(){cG.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}gO.prototype=new cG;
function dZ(){cG.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}dZ.prototype=new cG;
function cX(){cG.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Er.aopts.f([!1,!0,50,60,0])}cX.prototype=new cG;cX.prototype.asr=function(l){var e=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(e[l])};function bV(){cG.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}bV.prototype=new cG;
function dJ(){cG.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}dJ.prototype=new cG;
function au(){eT.call(this,!1,["binop","feat","redge"])}au.prototype=new eT(!0);function jJ(){aa.call(this,["brush","qsmode","redge"])}jJ.prototype=new aa;
function dA(){jI.call(this);var e=new cd("Slices From Guides",null,null,!0);e.h("click",this.j6,this);
this.body.appendChild(e.m)}dA.prototype=new jI;dA.prototype.j6=function(e){var Z=new j8(G.E.GT,!0);Z.data={qg:"make",ni:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.$(Z)};function gH(){jI.call(this);var e=this.a1B=[new cd("\u25BC",null,null,!0),new cd("\u25B2",null,null,!0),new cd([5,4],null,null,!0)];
for(var l=0;l<3;l++){var Z=e[l];this.body.appendChild(Z.m);Z.h("click",this.j6,this)}}gH.prototype=new jI;
gH.prototype.j6=function(e){var Z=this.a1B.indexOf(e.target),F=new j8(G.E.u,!0);F.k=i.IN;F.data={d:Z==2?"delete":"reorder",dir:Z==0?-1:1};
this.$(F)};gH.prototype.n=function(){jI.prototype.n.call(this);for(var l=0;l<3;l++)this.a1B[l].n()};
function fS(e,Z){jI.call(this);if(window.Typr==null||e)return;this.a0$=Z;this.GH=null;this.anI=K.L("span","");
this.aqg=K.L("span","");var F=1;this.BB={xq:new bq(null,24),Hl:new en("X",0,0,"px",0,!1,!0,4),ei:new en("Y",0,0,"px",0,!1,!0,4),ha:new en("W",0,0,["%","px"],2,!1,!0,5),Sn:new cd("\u2261",null,[12,51],null),fr:new en("H",0,0,["%","px"],2,!1,!0,5),afa:new en("\u2221",0,0,"\xB0",F,!1,!0),ahC:new en("\u25B1 H",-85,85,"\xB0",F,!1,!0),al_:new en("\u25B1 V",-85,85,"\xB0",F,!1,!0),dT:new dE(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.BB.dT.f(1);for(var b in this.BB){var _=this.BB[b];if(Z&&(_==this.BB.afa||_==this.BB.ahC||_==this.BB.al_||_==this.BB.dT)){}else this.anI.appendChild(_.m);
var d=_==this.BB.Sn?"click":G.E.p;_.h(d,this.aro,this)}this.jF=new aS(!0,!0,!0);this.jF.h(G.E.p,this.atH,this);
this.jF.parent=this;var S=this.aqg,U=this.jF;S.appendChild(U.sy.m);S.appendChild(U.Hs.m);S.appendChild(U.Gr.m);
S.appendChild(U.KE.m);S.appendChild(U.IQ.m);this.iR=new cd([11,9]);this.iR.h("click",this.a5Z,this);
this.qD=new gc;this.qD.h("click",this.Xh,this)}fS.prototype=new jI;fS.prototype.rF=function(e){if(e.Pn){var Z=fS,F=this.GW;
if(F==null)F=this.GW=new gx(Z.aq6(),Z.a13(this.k));F.n();F.parent=this;F.update(e.rj,e.J8);var b=new j8(G.E.W,!0);
b.data={d:G.B.f6,Gw:F,x:e.Pn.Cl+2,y:e.Pn.mU+1};this.$(b);return}K.WL(this.body);this.GH=e;if(e.BB){var _=e.BB.uT,d=e.BB.dg.clone(),S=Math.atan2(-d.S,d.Y0),U=new jg;
U.rotate(-S);d.concat(U);var r=this.BB;r.xq.f(e.BB.gh);r.Hl.f(e.BB.I7.x);r.ei.f(e.BB.I7.y);r.ha.f(d.Y0*(r.ha.zc()=="%"?100:_.w));
r.fr.f(d.rl*(r.fr.zc()=="%"?100:_._));r.afa.f(-S*180/Math.PI);r.ahC.f(0*180/Math.PI);r.al_.f(Math.atan(d.d_)*180/Math.PI);
this.body.appendChild(this.anI);this.iR.sS()}if(e.zy){this.jF.f(e.zy);this.body.appendChild(this.aqg);
this.iR.SB()}this.body.appendChild(this.qD.m);if(e.alp&&!this.a0$)this.body.appendChild(this.iR.m)};
fS.prototype.aro=function(e){var Z=this.BB,F=this.GH.BB.uT;if(e.target==Z.Sn)Z.Sn.f(!Z.Sn.U());if(Z.Sn.MK()){var b=Z.fr,_=Z.ha,d=F._,S=F.w;
if(e.target==Z.ha){b=Z.ha;_=Z.fr;d=F.w;S=F._}var U=b.U()/(b.zc()=="%"?100:d);U*=_.zc()=="%"?100:S;_.f(U)}var r=[];
for(var q in Z)if(Z[q]!=Z.Sn&&Z[q]!=Z.xq){var U=Z[q].U();if((Z[q]==Z.ha||Z[q]==Z.fr)&&U==0){U=.1;Z[q].f(U)}if(Z[q]==Z.ha&&Z[q].zc()=="px")U/=F.w/100;
if(Z[q]==Z.fr&&Z[q].zc()=="px")U/=F._/100;r.push(U)}var w=new bI(r[0],r[1]);if(e.target==Z.xq){this.O2({uC:"ctyp",gh:Z.xq.U()})}else if(e.target==Z.Hl||e.target==Z.ei){this.O2({uC:"cen",I7:w})}else{var X=this.GH.BB.dg.clone(),Q=X.clone(),c=Math.atan2(-X.S,X.Y0);
Q.translate(-w.x,-w.y);Q.rotate(-c);var u=new jg(Q.Y0,Q.S,Q.d_,Q.rl,0,0);u.eG();Q.concat(u);Q.concat(new jg(r[2]/100,Math.tan(r[5]*Math.PI/180),Math.tan(r[6]*Math.PI/180),r[3]/100,0,0));
Q.rotate(-r[4]*Math.PI/180);Q.translate(w.x,w.y);this.GH.BB.dg=Q;this.O2({uC:"trn",BB:Q,nY:this.BB.dT.U()})}};
fS.prototype.atH=function(e){this.O2({uC:"wrp",zy:this.jF.U()})};fS.prototype.a5Z=function(e){this.O2({uC:"switchWarp"})};
fS.prototype.Xh=function(e){this.O2({uC:this.qD.U()?"commit":"cancel"})};fS.prototype.O2=function(e){e.d=G.B.JX;
e.k=this.k;var Z=new j8(G.E.W,!0);Z.data=e;this.$(Z)};fS.prototype.rs=function(){var e=this.BB;for(var Z in e)e[Z].n();
K.Yk(e.ha,e.fr);this.qD.n();this.jF.n();this.iR.n()};fS.aq6=function(){return[{name:[5,9],Nr:"Shift+Alt+Ctrl + T",jr:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],P:function(e){if(e==null||e.V.length!=1)return{P:!1};
var Z=e.g[e.V[0]];return{P:Z.add.TySh==null&&!Z.yx()}},jr:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
fS.a13=function(e){if(e==null)e=i.PF;return[{Y:G.E.u,k:e,R:{d:"again"}},{Y:G.E.W,R:{d:G.B.LN,k:e,DL:{kK:3}}},{Y:G.E.W,R:{d:G.B.LN,k:e,DL:{kK:4}}},{Y:G.E.W,R:{d:G.B.LN,k:e,DL:{kK:2}}},{Y:G.E.W,R:{d:G.B.LN,k:e,DL:{kK:1}}},{Y:G.E.W,R:{d:G.B.LN,k:e,DL:{kK:-1}}},{Y:G.E.u,k:e,R:{d:"rot",Pj:[2,5],I:-Math.PI/2}},{Y:G.E.u,k:e,R:{d:"rot",Pj:[2,5],I:-3*Math.PI/2}},{Y:G.E.u,k:e,R:{d:"rot",Pj:[2,5],I:Math.PI}},{Y:G.E.u,k:e,R:{d:"scl",Pj:[[2,6],[22,4,2]],I:new bI(-1,1)}},{Y:G.E.u,k:e,R:{d:"scl",Pj:[[2,6],[22,4,3]],I:new bI(1,-1)}}]};
function hZ(){fS.call(this)}hZ.prototype=new fS(!0);function jH(){fS.call(this)}jH.prototype=new fS(!0);
function d0(){fS.call(this,!1,!0)}d0.prototype=new fS(!0);function gp(){jI.call(this);var e=this.Y_=[new dE([12,36],["Rigid",[15,10,0],[24,4]]),new dE([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new en([7,4],0,100,"px"),new c7("Show Mesh"),new cd("\u25BC",null,null,!0),new cd("\u25B2",null,null,!0)];
for(var l=0;l<e.length;l++){var Z=e[l];Z.parent=this;this.body.appendChild(Z.m);Z.h(l<4?G.E.p:"click",this.aiR,this)}this.qD=new gc;
this.qD.h("click",this.Xh,this);this.body.appendChild(this.qD.m)}gp.prototype=new jI;gp.prototype.rs=function(){var e=this.Y_;
for(var l=0;l<4;l++)e[l].n();this.qD.n()};gp.prototype.rF=function(e){var e=e.NG;for(var l=0;l<4;l++)this.Y_[l].f(e[l])};
gp.prototype.aiR=function(e){var Z=[];for(var l=0;l<4;l++)Z[l]=this.Y_[l].U();var F=this.Y_.indexOf(e.target);
if(F<4)this.O2({uC:"prm",NG:Z});else this.O2({uC:"moveDepth",a0x:F==5})};gp.prototype.Xh=function(e){this.O2({uC:this.qD.U()?"commit":"cancel"})};
gp.prototype.O2=function(e){e.d=G.B.JX;e.k=this.k;var Z=new j8(G.E.W,!0);Z.data=e;this.$(Z)};function h8(){h1.call(this);
this.m=K.L("div","cmanager");window.alert=function(b,_){this.a98(b,_);console.log("Alert: "+b)}.bind(this);
window.onblur=function(b){var _=this;_.YI()}.bind(this);this.bo=0;this.zA=0;this.sj=[];this.dM={};this.vx=K.L("div","alertcont");
this.m.appendChild(this.vx);this.aox=K.L("div","alertcont");this.m.appendChild(this.aox);this.l9=K.L("div","alertcont");
this.ah3=0;this.cO=-1;this.agM=null;this.hy=null;var e=this.anq=K.L("div","alertpanel");e.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.l9.appendChild(e);var Z=this.zh=K.L("input");Z.setAttribute("type","text");K.lN(Z);Z.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
Z.addEventListener("input",this.a47.bind(this),!1);Z.addEventListener("keydown",this.apT.bind(this),!1);
e.appendChild(Z);var F=this.adX=K.L("div","contextpanel scrollable");F.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
F.addEventListener("click",this.aiA.bind(this),!1);e.appendChild(F);K.x7(document.body,this.ajC.bind(this))}h8.prototype=new h1;
h8.prototype.hZ=function(){if(K.RY(this.l9))this.m.removeChild(this.l9)};h8.prototype.ad1=function(e,Z){var F=this.agM=[];
for(var l=0;l<iz.data.length;l++){var b=iz.data[l],_=[gA.get(b.name)],d=[l];h8.aoV(b.items,_,d,F,e,Z)}var S=hs.q;
for(var l=0;l<S.length;l+=3){F.push([["Tools",gA.get(S[l])],[-1,S[l+2]],S[l+1]])}this.m.appendChild(this.l9);
var U=this.zh;U.focus();U.select();this.qz()};h8.prototype.a47=function(e){this.cO=-1;this.qz()};h8.prototype.qz=function(){var e=this.zh.value.toLowerCase().trim().replace(/  +/g," "),Z=this.agM,F=[],b=[],_=e.split(" ");
if(e!="")for(var l=0;l<Z.length;l++){var d=Z[l][0],S=[],U=0;for(var r=0;r<d.length;r++)S[r]=-1;for(var q=0;
q<_.length;q++)for(var r=0;r<d.length;r++){var w=d[r].toLowerCase().indexOf(_[q]);if(w!=-1){S[r]=[w,w+_[q].length];
U++;break}}if(U==_.length){F.push(Z[l]);b.push(S)}}var X=[],Q=this.adX;K.WL(Q);for(var l=0;l<F.length;
l++){var c=F[l],u=c[0],w=b[l],n="enab",B="";if(l==this.cO)n+=" active";var k=K.L("div",n);X.push(k);
Q.appendChild(k);for(var r=0;r<u.length;r++){var o=w[r],T=_[r],z=u[r];if(o!=-1)z=z.slice(0,o[0])+"<span style=\"color:black\">"+z.slice(o[0],o[1])+"</span>"+z.slice(o[1]);
B+=z;if(r<u.length-1)B+=" \uFE65 "}if(c[2]&&(typeof c[2]!="string"||c[2].length==1))B+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+ex.Qf(c[2])+"</span>";
k.innerHTML=B}this.hy=[F,X]};h8.prototype.apT=function(e){var Z=ex.Ww,F=e.code;if(Z(F,ex.ea))this.hZ();
var b=Z(F,ex.kg),_=Z(F,ex.ZF),d=Z(F,ex.Dr);if(b||_){this.cO=Math.max(0,Math.min(this.hy[0].length-1,this.cO+(b?-1:1)));
this.qz()}if(d&&this.cO!=-1)this.ahW(this.cO)};h8.aoV=function(e,Z,F,b,_,d){for(var l=0;l<e.length;l++){var S=e[l],U=Z.slice(0),r=F.slice(0),q=gA.get(S.name);
if(S.P){var w=S.P(_,d,l);if(w.cw)q=w.cw;if(w.P==!1)continue}U.push(q);r.push(l);if(S.sub)h8.aoV(S.sub,U,r,b,_,d);
else b.push([U,r,S.Nr])}};h8.prototype.aiA=function(e){var Z=e.target;if(Z.tagName.toLowerCase()=="span")Z=Z.parentNode;
var F=this.hy[1].indexOf(Z);if(F!=-1)this.ahW(F)};h8.prototype.ahW=function(e){var Z=this.hy[0][e][1];
if(Z[0]==-1){var F=new j8(G.E.W,!0);F.data={d:G.B.LN,k:Z[1]};this.$(F)}else{var b=iz.data[Z[0]].Z1[Z[1]];
for(var l=2;l<Z.length;l++)b=b.sub[Z[l]];var _=new j8(b.Y,!0);_.k=b.k;_.data=b.R;this.$(_)}this.hZ()};
h8.prototype.Av=function(e,Z){this.bo=e;this.zA=Z;this.adX.style["max-height"]=Z-120+"px"};h8.prototype.aeG=function(e){var Z=K.L("div","alertpanel");
Z.textContent=gA.get(e);this.vx.appendChild(Z);this.dM[JSON.stringify(e)]=Z};h8.prototype.a0a=function(e){var Z=this.dM[JSON.stringify(e)];
this.vx.removeChild(Z);delete this.dM[JSON.stringify(e)]};h8.prototype.a98=function(e,Z){var F=this.aox;
for(var l=0;l<F.children.length;l++)if(F.children[l].textContent==e)return;var b=K.L("div","alertpanel tpanel");
b.textContent=e;b.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");F.appendChild(b);if(Z==null)Z=1500;
var _=Z,d=Math.max(Date.now()+_,this.ah3+_);setTimeout(function(){b.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){F.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},d-Date.now()-30);
setTimeout(function(){F.removeChild(F.firstChild);F.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},d-Date.now());
this.ah3=d};h8.prototype.ajC=function(e){var Z=this.sj;for(var l=Z.length-1;l>=0;l--){var F=Z[l],b=e.target;
while(b!=null){if(b==F.m){this.YI(F);return}b=b.parentNode}}this.YI();var _=e.target;while(_!=this.l9&&_!=document.body)_=_.parentNode;
if(_!=this.l9)this.hZ()};h8.prototype.YI=function(e){var Z=this.sj;for(var l=0;l<Z.length;l++){if(e&&e.a2x(Z[l]))continue;
var F=Z[l].m;F.style.height="auto";K.vB(F,"scrollable");this.m.removeChild(F);Z.splice(l,1);l--}};h8.prototype.a5F=function(e){this.YI(e.Gw);
var Z=e.Gw,F=Z.m;if(this.sj.indexOf(Z)!=-1)return;this.sj.push(Z);this.m.appendChild(Z.m);var b=this.bo,_=this.zA,d=e.x,S=e.y,U=this.m.getBoundingClientRect(),r=Z instanceof gx,q=-1,w=_-2;
if(r||e.eV){var X=Z.bq(),Q=Z.anH();if(r)X=Math.min(X,200);var c=b-X-2,u=_-Q-2;if(S<u)q=2;else if(d<c)q=1;
else if(0<S-Q-2)q=0;else q=3;if(e.ahj)q=0;if(e.a1s)q=2;if(q==2){d=Math.min(d,c)}else if(q==1){S=Math.min(S,u)}else if(q==0){S=S-Q-2;
d=Math.min(d,c);w=e.y}else if(q==3){d=d-X-2;S=Math.min(S,u)}}S=Math.max(2,S);var top=Math.round(S-U.y+this.m.offsetTop);
F.style.position="absolute";F.style["z-index"]=10;if(S+Z.anH()>w){F.style.height=w-S+"px";K.j_(F,"scrollable");
if(q==3)d-=10}F.style.left=Math.round(d)+"px";F.style.top=top+"px"};h8.prototype.a0j=function(e){var Z=e.Gw,F=this.sj.indexOf(Z);
if(F==-1)return;this.sj.splice(F,1);var b=Z.m;this.m.removeChild(Z.m)};h8.prototype.RJ=function(){var e=this.sj;
return e.length==0?null:e[e.length-1]};h8.prototype.ano=function(){this.a0j({Gw:this.RJ()})};function iF(){h1.call(this);
this.m=K.L("div","confbar")}iF.prototype=new h1;iF.prototype.a6J=function(e){e.parent=this;K.WL(this.m);
this.m.appendChild(e.m)};function h5(e){h1.call(this);h5.WS=e;this.Pk=null;this.WK=K.L("input","");this.WK.setAttribute("type","file");
this.WK.setAttribute("multiple","");this.WK.addEventListener("change",function(Z){this.yh(Z.target.files,null,this.fY,null);
this.fY=null}.bind(this),!1);document.body.appendChild(this.WK);this.WK.setAttribute("style","display:none");
this.a2M=[];this.AO=!1;this.ahw={};this.fY=null}h5.prototype=new h1;h5.WS=null;h5.FT=function(e){try{var Z={};
Z[e.type]=e;navigator.clipboard.write([new ClipboardItem(Z)])}catch(gA){console.error(gA,gA.message)}};
h5.ee=function(e,Z){navigator.clipboard.read().then(function(F){for(var l=0;l<F.length;l++){try{var b=F[l],_={},d=0,S=0;
for(var U=0;U<b.types.length;U++){var r=b.types[U];d++;b.getType(r).then(function(q){var w=r;new Response(q).arrayBuffer().then(function(X){_[this.K$]=X;
S++;if(S==d)h5.afb(_,e,Z)}.bind({K$:this.K$}))}.bind({K$:r}))}}catch(gA){console.error(gA,gA.message)}}}).catch(function(F){alert("Clipboard error: ("+F.message+")")})};
h5.a5x=function(e){navigator.permissions.query({name:"clipboard-read"}).then(function(Z){e(Z.state)})};
h5.afb=function(e,Z,F){var b=["text/plain","image/png","text/html","text/plain"];for(var _ in e)console.log(_,_.startsWith("text")?s.CI(new Uint8Array(e[_])).slice(0,100)+"...":e[_]);
for(var d=0;d<b.length;d++){var S=b[d],U=e[S];if(U==null)continue;if(S=="image/png"){h5.WS({name:"image.png"},U,Z,F);
return}if(S=="text/plain"){var r=s.CI(new Uint8Array(U));if(d==0)if(!r.startsWith("<!--")&&!r.startsWith("<svg"))continue;
var q=new j8(G.E.W,!0);q.data={d:G.B.aqi,I:r};Z.$(q);return}if(S=="text/html"){var r=s.CI(new Uint8Array(U)),w=r.indexOf("src=\"");
if(w!=-1&&r.slice(w+5,w+9)!="http"){var X=w+10;while(r[X]!="\"")X++;var Q=r.slice(w+5,X);h5.WS({name:"chart.png"},fg.U$(Q).buffer,Z,F);
return}}}};h5.prototype.C8=function(e){if(e==null)e=[23,5];var Z=JSON.stringify(e),F=this.ahw;if(F[Z]==null)F[Z]=0;
if(F[Z]==0){var b=new j8(G.E.W,!0);b.data={d:G.B.qP,rQ:e};this.$(b)}F[Z]++};h5.prototype.QU=function(e){if(e==null)e=[23,5];
var Z=JSON.stringify(e),F=this.ahw;if(F[Z]==null)F[Z]=0;F[Z]--;if(F[Z]==0){var b=new j8(G.E.W,!0);b.data={d:G.B.OI,rQ:e};
this.$(b)}};h5.prototype.a4H=function(e,Z){this.fY=e;var F=window.showOpenFilePicker;if(F&&window.self==window.top){var b=this;
F({multiple:!0}).then(function(S){var U=[];function r(q){U.push(q);if(U.length==S.length){b.yh(U,null,b.fY,null,S);
b.fY=null}else S[U.length].getFile().then(r)}S[U.length].getFile().then(r)});return}var _=this.WK;if(Z)_.setAttribute("accept",Z);
else _.removeAttribute("accept");var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
_.dispatchEvent(d)};h5.prototype.QJ=function(e){if(e.url.indexOf("photopea.com#i")!=-1||e.url.indexOf("photopea.com/#i")!=-1){this.mo(e.url.split("#i").pop());
return}this.a2M.push(e);this.akr()};h5.prototype.akr=function(){var e=this.a2M;if(e.length==0||this.AO)return;
this.AO=!0;var Z=e.shift();this.C8();if(Z.iH==null)Z.iH={};var F=new XMLHttpRequest;F.bm=Z;var b=Z.url;
if(Z.hf&&!b.startsWith("data:image"))b="mirror.php?url="+encodeURIComponent(b);F.open("GET",b);if(Z.bI)for(var _ in Z.bI)F.setRequestHeader(_,Z.bI[_]);
F.responseType="arraybuffer";F.onload=this.a22.bind(this);F.send()};h5.prototype.yh=function(e,Z,F,b,_){for(var l=0;
l<e.length;l++){this.C8();var d=e[l],S=new FileReader;S.bm=d;S.bm.tY=F;S.bm.cv=b;S.a1f=Z;if(_)S.bm.Jd=_[l];
S.onload=this.a22.bind(this);S.onerror=function(U){this.QU()}.bind(this);S.readAsArrayBuffer(d)}this.WK.value=null};
h5.prototype.a4k=function(e,Z,F){this.C8("Saving ...");this.Pk=Z;setTimeout(F.bind({Zd:e,caller:this}),50)};
h5.tU=function(e){var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=new Uint8Array(e),b=F.length,_=b%3,d=b-_,S=[],U=0,r=0,q=0;
for(var l=0;l<d;l+=3){U=F[l];r=F[l+1];q=F[l+2];S.push(Z[U>>2]+Z[(U&3)<<4|r>>4]+Z[(r&15)<<2|q>>6]+Z[q&63])}if(_==1){U=F[d];
S.push(Z[U>>2]+Z[(U&3)<<4]+"==")}if(_==2){U=F[d];r=F[d+1];S.push(Z[U>>2]+Z[(U&3)<<4|r>>4]+Z[(r&15)<<2]+"=")}var w=S.join("");
return w};h5.aiJ=function(e,Z){var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(64),U=0,r=0,q=0,X=0;
for(var l=0;l<64;l++)b[l]=F.charCodeAt(l);var _=new Uint8Array(e),d=Z%3,S=Z-d,w=new Uint8Array(Math.floor(Z/3)*4+(d==0?0:4));
for(var l=0;l<S;l+=3){U=_[l];r=_[l+1];q=_[l+2];w[X]=b[U>>>2];w[X+1]=b[(U&3)<<4|r>>>4];w[X+2]=b[(r&15)<<2|q>>>6];
w[X+3]=b[q&63];X+=4}if(d==1){U=_[S];w[X]=b[U>>2];w[X+1]=b[(U&3)<<4];w[X+2]=61;w[X+3]=61}if(d==2){U=_[S];
r=_[S+1];w[X]=b[U>>2];w[X+1]=b[(U&3)<<4|r>>4];w[X+2]=b[(r&15)<<2];w[X+3]=61}return w};h5.prototype.a22=function(e){var Z,F=e.target.bm;
if(e.target instanceof XMLHttpRequest)Z=e.target.response;else Z=e.target.result;h5.WS(F,Z,this,e.target.a1f);
this.QU();if(e.target instanceof XMLHttpRequest){this.AO=!1;this.akr()}};h5.amJ=function(e,Z){var F=new XMLHttpRequest;
F.open("POST","https://api.imgur.com/3/image",!0);F.PB=Z;F.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
F.setRequestHeader("Content-type","application/x-www-form-urlencoded");F.setRequestHeader("Accept","application/json");
F.addEventListener("load",h5.ads);F.send("type=base64&image="+encodeURIComponent(h5.tU(e)));alert("Saving to Imgur ...",4e3)};
h5.ads=function(e){var Z=JSON.parse(e.target.response);if(Z.success){if(e.target.PB)e.target.PB(Z.data.link);
else window.open(Z.data.link,"Imgur")}};h5.prototype.mo=function(e,Z){this.C8();var F=new XMLHttpRequest;
F.responseType="arraybuffer";F.open("GET","https://f000.backblazeb2.com/file/psdshared/"+e);F.onload=this.ajT.bind(this);
F.send();h5.aaJ=Date.now();h5.anK=e;h5.aoA=Z?e:null};h5.prototype.ajT=function(e){var Z=new Uint8Array(e.target.response);
console.log(Z.length,Date.now()-h5.aaJ);for(var l=0;l<Z.length;l++)Z[l]=255-Z[l];Z=pako.inflateRaw(Z);
var F=JSON.parse(s.CI(Z,0,2e3));h5.WS({name:F.name,ZR:h5.aoA},Z.slice(2e3).buffer,this);this.QU();var b=new XMLHttpRequest;
b.open("GET","/papi/img/update.php?act=0&id="+h5.anK+"&rnd="+Math.random());b.send()};h5.prototype.alP=function(e,Z,F){if(!(e instanceof ArrayBuffer))throw"e";
e=new Uint8Array(e);var b=new Uint8Array(e.length+2e3),X="";for(var l=0;l<2e3;l++)b[l]=32;s.bB(JSON.stringify({name:Z}),b,0);
b.set(e,2e3);e=b;e=pako.deflateRaw(e);for(var l=0;l<e.length;l++)e[l]=255-e[l];e=e.buffer;var _=e.byteLength,d=hd.nR(_),S=~~(609e5/2),U=~~(209e5/2);
if(_>S){confirm("Your file is "+d+". Our limit is "+hd.nR(S)+". Delete some layers and try again.");
return}if(_>U){var r=confirm("Your file is quite large ("+d+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!r)return}var q=sha1(e),w=[];for(var l=0;l<20;l++){var Q=parseInt(q.slice(l*2,l*2+2),16);w.push(Q);
X+=String.fromCharCode(Q)}var c=btoa(X).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(h5.abU(c)){console.log("file already exists");
if(F)F("https://www.photopea.com#i"+c);else window.open("https://www.photopea.com#i"+c);return}this.C8("Publishing ...");
var u=new XMLHttpRequest;u.FG=[e,q,c,F];u.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+c+"&size="+_);
u.onload=this.ahg.bind(this);u.send()};h5.abU=function(e){try{var Z=new XMLHttpRequest;Z.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+e,!1);
Z.send();if(Z.status==200)return!0}catch(gA){return!1}return!1};h5.prototype.ahg=function(e){var Z=JSON.parse(e.target.response),F=e.target.FG,b=new XMLHttpRequest;
b.open("POST",Z.uploadUrl);b.setRequestHeader("Authorization",Z.authorizationToken);b.setRequestHeader("X-Bz-File-Name",F[2]);
b.setRequestHeader("Content-Type","b2/x-auto");b.setRequestHeader("X-Bz-Content-Sha1",F[1]);b.send(new Blob([F[0]]));
b.onload=this.a3T.bind({bt:this,FG:F})};h5.prototype.a3T=function(e){this.bt.QU("Publishing ...");if(this.FG[3])this.FG[3]("https://www.photopea.com#i"+this.FG[2]);
else window.open("https://www.photopea.com#i"+this.FG[2]);var Z=new XMLHttpRequest;Z.open("GET","/papi/img/update.php?act=2&id="+this.FG[2]+"&fileId="+JSON.parse(e.target.response).fileId+"&rnd="+Math.random());
Z.send()};h5.save=function(e,Z){var F=new Uint8Array(e),b=document.createElement("a");if(typeof b.download=="string"){var _=new Blob([F]),d=window.URL.createObjectURL(_);
b.href=d;b.download=Z;document.body.appendChild(b);b.click();document.body.removeChild(b)}else{var S="data:application/octet-stream;base64,"+h5.tU(e);
window.open(S)}};function iw(){this.size=16;this.data=V.J(16)}iw.prototype.Y1=function(e,Z){if(e+Z<=this.size)return;
var F=this.size;while(e+Z>this.size)this.size*=2;var b=V.J(this.size);for(var l=0;l<F;l++)b[l]=this.data[l];
this.data=b};var cM={};cM.GY=function(e,Z,F){var b=Z.split(":"),_=b[0],d=null;if(b.length==2){if(_=="jpg")d=[Math.round(100*parseFloat(b[1]))];
if(_=="webp")d=[Math.round(100*parseFloat(b[1])),100,0,!1,!1];if(_=="psd")d=[!0,!0];if(_=="svg")d=b[1].split(",").map(function(U){return U=="true"})}var S=fg.T4(e,_.toUpperCase(),null,null,d,F);
return S};cM.a5v=function(e,Z,F){var b=e.zB(),_=Z[0];return cM.GY(e,_,F)};cM.amx=function(){var e=this.Zd,Z=this.caller,F=e.iH.Dm,b=F.formats,_,d;
e.zB();var S=Date.now();if(F.version==1){var U=[],r=0,w=0;for(var l=0;l<b.length;l++){var q=cM.GY(e,b[l],Z.Pk);
U.push(q);r+=q.byteLength}_=new Uint8Array(2e3+r);var X="{ \"source\": "+JSON.stringify(e.NO)+", \"versions\": [\n";
for(var l=0;l<b.length;l++){var Q=new Uint8Array(U[l]);X+="\t{\"format\": \""+b[l].split(":")[0]+"\", \"start\": "+w+", \"size\": "+Q.length+" }"+(l+1<b.length?", ":"")+"\n";
_.set(Q,2e3+w);w+=U[l].byteLength}X+="] }";var c=s.bB(X,_,0);for(var l=c;l<2e3;l++)_[l]=32;d="application/octet-stream"}else{var u=new iw,n=0,k="",B=encodeURIComponent;
k="p="+B("{ \"source\": "+JSON.stringify(e.NO)+", \"versions\": [");s.Hj(u,n,k);n+=k.length;for(var l=0;
l<b.length;l++){k=B(" {\"format\": \""+b[l].split(":")[0]+"\", \"data\": \"");s.Hj(u,n,k);n+=k.length;
var q=cM.GY(e,b[l],Z.Pk),o=h5.aiJ(q,q.byteLength),c=o.length;u.Y1(n,c);for(var T=0;T<c;T++){u.Y1(n,3);
var z=o[T];if(z==43){u.data[n]=37;u.data[n+1]=50;u.data[n+2]=66;n+=3}else if(z==47){u.data[n]=37;u.data[n+1]=50;
u.data[n+2]=70;n+=3}else if(z==61){u.data[n]=37;u.data[n+1]=51;u.data[n+2]=68;n+=3}else{u.data[n]=z;
n++}}k=B("\" }"+(l+1<b.length?", ":""));s.Hj(u,n,k);n+=k.length}k=B("] }");s.Hj(u,n,k);n+=k.length;_=u.data.slice(0,n);
d="application/x-www-form-urlencoded"}var W=new XMLHttpRequest;W.open("POST",F.url,!0);if(d)W.setRequestHeader("Content-Type",d);
W.addEventListener("load",cM.ajS.bind(this));W.send(new Blob([_.buffer]))};cM.ajS=function(e){this.caller.QU("Saving ...");
var Z=e.target.response;if(Z.charAt(0)=="{"){Z=JSON.parse(Z);if(Z.newSource)this.Zd.NO=Z.newSource;if(Z.message)alert(Z.message,2e3);
if(Z.script){var F=new j8(G.E.W,!0);F.data={d:G.B.PW,nF:Z.script};this.caller.$(F)}}else alert("Saved. Response: "+Z,1500)};
cM.atK=function(e,Z){var F=e.DI.$Q;if(Z==null)Z=cM.GY(e,F);gR.nb(function(){var b=new XMLHttpRequest,_="https://www.googleapis.com/upload/drive/v3/files/"+e.DI.file.id+"?uploadType=media"+"&"+gR.l4();
b.open("PATCH",_,!0);b.addEventListener("load",function(d){var S=JSON.parse(d.target.response);alert(S.name+" updated")});
b.send(Z);alert("Saving \""+e.DI.file.name+"\" to Google Drive ...")})};cM.WS=function(e,Z,F,b){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)cM.atJ(e,Z,F,b);
else{try{cM.atJ(e,Z,F,b)}catch(gA){if(gA=="low_ram"){}else{var _="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fg.zV(Z)=="eps")_="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(_,1e4)}}}};cM.atJ=function(e,Z,F,b){var _;if(e.name){var d=e.name.lastIndexOf(".");_=d==-1?d:e.name.slice(0,d)}else{if(e.url.substring(0,5)=="data:"||e.url.indexOf("googleapis")!=-1)_="image";
else _=e.url.substring(e.url.lastIndexOf("/")+1).split(".")[0];_=_.slice(0,50)}var S=e.name?e.name:e.url,U=new Uint8Array(Z),r=fg.zV(Z),q=window.ga;
if(Math.random()<.25&&q&&r!=null&&fg.H_(r))q("send","event","Formats",r);if(r==null)r=s.fl(U,0,4);if(S&&S.toLowerCase().endsWith(".raw")){var w=new j8(G.E.W,!0);
w.data={d:G.B.tJ,ZB:"importraw",Ca:Z,Iv:S.split("/").pop()};F.$(w);return}else if(r=="json"){var X="";
for(var l=0;l<U.length;l++)X+=String.fromCharCode(U[l]);X=decodeURIComponent(escape(X));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(X));return}if(r=="html"){var X=s.CI(U,0,U.length),Q=new DOMParser,c=Q.parseFromString(X,"text/html"),u=c.getElementsByTagName("meta");
for(var l=0;l<u.length;l++){var n=u[l],k=n.getAttribute("property"),B=n.getAttribute("content"),o=null;
if(k=="og:image")o=B;if(k==null&&B&&B.startsWith("0;url=/imgres?")){var T=B.slice(14).split("&");for(var z=0;
z<T.length;z++)if(T[z].startsWith("imgurl"))o=decodeURIComponent(T[z].slice(7))}if(o==null)continue;
var w=new j8(G.E.W,!0);w.data={d:G.B.l0,NG:{url:o,hf:!0,tY:e.tY}};F.$(w)}return}if(fg.H_(r)){var W,$,R=fg.H_(r);
if(e.tY!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(r)!=-1){var w=new j8(G.E.W,!0);w.data={d:G.B.pr,target:e.tY,xo:e.cv,Bm:Z,td:_};
F.$(w);return}var P=[_,R,r,e,F,b,Z];if(R.dH){W=new aH(_+(r=="psd"?"":"-"+r)+".psd");R.Fx(Z,W,cM.JD,P)}else{$=R.Fx(Z,null,cM.JD,P)}if(R.r0!=!0)cM.JD(W,$,P);
else F.C8();return}var H=new j8(G.E.W,!0);H.data={d:G.B.LU,Ca:Z,if:e.name};var y=e instanceof File&&e.aaq!=!0,w=new j8(G.E.W,!0);
w.data={d:G.B.aE,iH:"add",NG:null,va:null,a89:e.aaq};if(r=="zip"){var h=Date.now(),m=UZIP.parse(Z),t="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var j in m){var x=!1;for(var l=0;l<t.length;l++)if(j.toLowerCase().endsWith("."+t[l]))x=!0;if(j.startsWith("__MACOSX/")||m[j].length==0)x=!0;
if(x)continue;var C=j.split("/").pop();cM.WS({name:C},m[j].buffer,F,b)}}else if(r=="jsx"||S&&S.toLowerCase().endsWith(".jsx")){var X=s.CI(new Uint8Array(Z));
w.data={d:G.B.PW,nF:X};F.$(w)}else if(r=="otf"){if(y)F.$(H);var L=Typr.parse(Z);w.data.NG=c6.jZ;for(var l=0;
l<L.length;l++){w.data.va=L[l];F.$(w)}}else if(r=="asl"){if(y)F.$(H);var L=dd.qj(Z);w.data.NG=c6.hs;
w.data.va=L.DY;F.$(w);w.data.NG=c6.y9;w.data.va=L.A_;F.$(w)}else if(r=="tpl"){if(y)F.$(H);var L=f4.qj(Z);
w.data.NG=c6.f_;w.data.va={my:L.my,Jj:L.Jj,list:[]};F.$(w);if(L.ag6.length!=0){w.data.NG=c6.Fj;w.data.va=L.ag6;
F.$(w)}if(L.A_.length!=0){w.data.NG=c6.y9;w.data.va=L.A_;F.$(w)}w.data.NG=c6.Ki;w.data.va=L.list;F.$(w)}else{var f="";
for(var D in c6.zf)if(c6.zf[D][0]==r)f=D;if(f!=""){if(y)F.$(H);w.data.va=c6.zf[f][2].qj(Z,S);w.data.NG=f;
F.$(w)}else alert("Unknown file format: "+JSON.stringify(r))}};cM.JD=function(e,Z,F){var b=F[0],_=F[1],d=F[2],S=F[3],U=F[4],r=F[5],q=F[6];
if(_.r0)U.QU();if(!_.dH){if(Z.length==0)return;if(Z[0].t33421||Z[0].t50706){V.raw.normalize(Z[0],q);
console.log(Z[0]);var w=new j8(G.E.W,!0);w.data={d:G.B.tJ,ZB:"rawpea",_j:Z[0]};U.$(w);return}if(r){r(new Uint8Array(Z[0].data),Z[0].V4);
return}e=fg.vr(b,Z)}e.ZR=S.ZR;e.Gg=d;e.iH=S.iH;e.NO=S.url;e.W0=S.W0;e.DI=S.DI;e.Jd=S.Jd;if(e.DI)e.DI.$Q=d;
if(e.g.length!=0){var w=new j8(G.E.W,!0);w.data={d:S.tY==null?G.B.I8:G.B.pr,target:S.tY,xo:S.cv,Bm:e};
U.$(w)}};function f8(e){h1.call(this);this.wj=f8.wj++;this.Dt=e;this.ajU=this.acX.bind(this);this.a3H=this.atY.bind(this);
this.ad5=this.No.bind(this);this.atC=this.acS.bind(this);this.a7a=this.a4X.bind(this);this.afE=this.ahY.bind(this);
this.Po=0;this.ahs=0;this.a9$=0;this.m=K.L("div","panelblock");this.Kt=K.L("div","block");this.OU=K.L("div","collapsed");
this.m.appendChild(this.Kt);this.VU=-1;this.Rw=!0;this.VK=K.L("div","panelhead");this.Kt.appendChild(this.VK);
this.Qx(this.VK);this.Ot=new cd("\u2261");this.Ot.m.setAttribute("style","position:absolute; right:0;");
this.Ot.h("click",this.anx,this);this.wP=K.L("div","");this.Kt.appendChild(this.wP);this.VO=[];this.fh=null;
this.q3=null}f8.wj=0;f8.prototype=new h1;f8.prototype.anx=function(e){var Z=this.VO[this.VU].Bu(),F=e.currentTarget.m.getBoundingClientRect();
Z.n();Z.parent=this;var b=new j8(G.E.W,!0);b.data={d:G.B.f6,Gw:Z,x:F.left,y:F.top+F.height+2};this.$(b)};
f8.prototype.Fn=function(e){var Z=this.Kt,F=this.VK,b=this.wP;if(K.RY(F))Z.removeChild(F);if(K.RY(b))Z.removeChild(b);
if(e==0)Z.appendChild(F);Z.appendChild(b);this.a9$=e};f8.Zn=function(e){e.stopPropagation();e.preventDefault()};
f8.prototype.acX=function(e){var Z=e.dataTransfer.types;if(Z[1]!=null&&Z[1]!=this.wj+"")return;f8.Zn(e);
var gi=e.currentTarget;if(e.target==gi)K.j_(gi,"highlight")};f8.prototype.atY=function(e){f8.Zn(e);var gi=e.currentTarget;
if(e.target==gi)K.vB(gi,"highlight")};f8.prototype.Qx=function(e){e.addEventListener("dragenter",this.ajU,!1);
e.addEventListener("dragleave",this.a3H,!1);e.addEventListener("dragover",f8.Zn,!1);e.addEventListener("drop",this.ad5,!1);
e.addEventListener("dragstart",function(Z){Z.dataTransfer.setData("Text","--panel");Z.dataTransfer.setData(this.wj+"","")}.bind(this),!1)};
f8.prototype.No=function(e){this.a3H(e);var Z=null,gi=e.currentTarget,F=this.aet(gi);if(gi==this.wP&&this.VU!=-1)Z=this.VU;
else if(gi==this.VK)Z=null;else if(F!=-1)Z=F;var b=e.dataTransfer.getData("Text");if(b==""||b.startsWith("http"))K.Rk(e,this,Z);
else if(b=="--panel"){var _=K.DK(e,gi),d=this.VO,S=d.slice(0),l=this.VU,U=F==-1?d.length:_.x<gi.getBoundingClientRect().width/2?F:F+1;
if(l==U||l+1==U||gi==this.wP)return;var r=l<U?U-1:U,q=d[l];d.splice(l,1);d.splice(r,0,q);K.WL(this.VK);
for(var w=0;w<d.length;w++)this.VK.appendChild(d[w].VJ);this.A0(r);var X=[];for(var l=0;l<d.length;l++)X[l]=S.indexOf(d[l]);
var Q=new j8("shuffleItems",!1);Q.data={a2D:X};this.$(Q)}else if(Z!=null&&this instanceof b$){var Q=new j8(G.E.W,!0);
Q.data={d:G.B.a4b,a5q:Z};this.$(Q)}};f8.prototype.bk=function(){return null};f8.prototype.ahP=function(){if(this.bk()){this.q3=this.bk();
this.wP.appendChild(this.q3)}};f8.prototype.adu=function(){if(this.q3){this.wP.removeChild(this.q3);
this.q3=null}};f8.prototype.aet=function(e){var Z=this.VO;for(var l=0;l<Z.length;l++)if(Z[l].VJ==e)return l;
return-1};f8.prototype.o$=function(){for(var l=0;l<this.VO.length;l++)this.VO[l].Xr.sS()};f8.prototype.Zs=function(){return this.VU};
f8.prototype.WX=function(){if(this.Rw)return;this.Rw=!0;this.m.removeChild(this.OU);this.m.appendChild(this.Kt)};
f8.prototype.collapse=function(){if(!this.Rw)return;this.Rw=!1;this.m.appendChild(this.OU);this.m.removeChild(this.Kt)};
f8.prototype.aci=function(){return 26+this.wP.getBoundingClientRect().height};f8.prototype.Av=function(e,Z){this.VK.setAttribute("style","max-width: "+e+"px");
var F=0;if(this.a9$==0){F=this.VK.getBoundingClientRect().height;F=Math.max(F,26)}if(this.VU!=-1)this.VO[this.VU].Av(e,Z-F);
return Z-F};f8.prototype.ZP=function(e,Z){if(this.VU!=-1)this.VO[this.VU].ZP(e,Z)};f8.prototype.jQ=function(e,Z,F){this.VO[this.VU].jQ(e,Z,F)};
f8.prototype.K6=function(e){this.adu();if(this.VO.indexOf(e)!=-1){this.A0(this.VO.indexOf(e));return}e.parent=this;
this.VO.push(e);this.VK.appendChild(e.VJ);e.VJ.addEventListener("mouseover",this.atC,!1);this.Qx(e.VJ);
this.OU.appendChild(e.Xr.m);e.Xr.h("click",this.akX,this);e.h("select",this.atI,this);e.h(G.E.KW,this.al9,this);
this.A0(this.VO.length-1)};f8.prototype.acS=function(e){if(e.buttons==0)return;var Z=e.currentTarget,F=Z,l=0;
while((F=F.previousSibling)!=null)l++;this.ahs=l;Z.addEventListener("mouseout",this.a7a,!1);this.Po=setTimeout(this.afE,700)};
f8.prototype.a4X=function(e){var Z=e.currentTarget,F=Z,l=0;while((F=F.previousSibling)!=null)l++;Z.removeEventListener("mouseout",this.a7a);
clearTimeout(this.Po)};f8.prototype.ahY=function(e){this.$(new j8(G.E.aiX,!1))};f8.prototype.ak$=function(e){return this.ahs};
f8.prototype.Tx=function(l){var e=new j8(G.E.KW,!1);e.data={VQ:l};this.$(e);var Z=this.VO[l];this.VO.splice(l,1);
this.VK.removeChild(Z.VJ);this.OU.removeChild(Z.Xr.m);Z.VJ.setAttribute("class","");Z.Xr.removeEventListener("click",this.akX,this);
Z.Xr.sS();Z.removeEventListener("activate",this.atI);Z.removeEventListener(G.E.KW,this.al9);var F=this.VU;
if(l<F)F--;else if(l==F&&l==this.VO.length)F--;this.A0(F);if(this.VO.length==0)this.ahP()};f8.prototype.a1j=function(){return this.VO.length};
f8.prototype.rM=function(){if(this.VO.length!=0)this.VO[this.VU].rM()};f8.prototype.A0=function(e,Z){if(Z==null)Z=!0;
for(var l=0;l<this.VO.length;l++)this.VO[l].VJ.setAttribute("class","");if(this.fh)this.wP.removeChild(this.fh);
this.fh=null;this.VU=e;if(e==-1)return;var F=this.VO[this.VU];this.fh=F.dQ;this.wP.appendChild(F.dQ);
F.VJ.setAttribute("class","active");if(!this.Rw){this.$(new j8("showFloat"));this.VO[e].Xr.SB()}if(Z)this.$(new j8(G.E.p,!1));
F.wR();var b=this.Ot.m;if(b.parentNode)this.VK.removeChild(b);if(F.Bu())this.VK.appendChild(b);var _=new j8(G.E.W,!0);
_.data={d:G.B.fX};this.$(_)};f8.prototype.atI=function(e){if(this.Dt&&!this.Dt.a9s())return;var l=this.VO.indexOf(e.currentTarget);
this.A0(l)};f8.prototype.al9=function(e){if(this.Dt&&!this.Dt.a9s())return;var l=this.VO.indexOf(e.currentTarget);
this.Tx(l)};f8.prototype.akX=function(e){var Z=this.VO.indexOf(e.currentTarget.parent);if(this.VO[Z].Xr.MK())this.$(new j8("hideFloat"));
else this.A0(Z)};f8.prototype.aeH=function(e){this.$(e)};function b$(e){f8.call(this,e);this.bo=0;this.zA=0;
K.z1(this.VK,this.alo.bind(this));this.Mw=0;this.a08=this.aku.bind(this);this.Qx(this.wP);this.oU=K.L("div","intro");
this.Qs=["default;"];this.VY=new K.YV(this.wP);var Z=this.a9b=K.L("ul");Z.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.oU.appendChild(Z);this._7=[];var F=[[11,7],[1,6],["PSD VAR0",[25,0]],"demo.psd","demo.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)F.push("Go to 2013");
var b=K.L("li");for(var l=0;l<F.length;l++){if(l==3){var _=new cd("示例: ");b.appendChild(_.m)}var d=F[l],S=new cd(d);
S.h("click",this.aom,this);b.appendChild(S.m);this._7.push(S);if(l==0||l==1||l==2||l==F.length-1){Z.appendChild(b);
b=K.L("li")}}var U=K.L("div");U.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.oU.appendChild(U);this.ahE={};var r=["en"],q=navigator.languages;if(q)for(var l=0;l<q.length;l++){var w=q[l].split("-")[0].toLowerCase();
if(r.indexOf(w)==-1)r.push(w)}}b$.prototype=new f8;b$.prototype.alo=function(e){if(e.target!=this.VK)return;
var Z=this.Mw;this.Mw=Date.now();if(Date.now()-Z>300)return;var F=new j8(G.E.W,!0);F.data={d:G.B.tJ,ZB:"newproject"};
this.$(F)};b$.prototype.a8F=function(e){var Z=e.currentTarget,F;if(Z.aa5!=null){var b=gA.FK(Z.aa5);if(b!=-1)F={d:G.B.aE,NG:c6.Vx,lang:b};
else F={d:G.B.i8,link:"https://www.photopea.com/translate?lang="+Z.aa5}}else F={d:G.B.aE,NG:c6.y$,WT:Z.akR};
var _=new j8(G.E.W,!0);_.data=F;this.$(_)};b$.prototype.ER=function(e,Z){if(Z)this.Qs.push(e);else{var F=this.Qs.length-1;
if(this.Qs[F]==e)return;this.Qs[F]=e}this.fN()};b$.prototype.a0f=function(){this.Qs.pop();this.fN()};
b$.prototype.fN=function(){var e=this.Qs[this.Qs.length-1];this.VY.jQ(e,this.Z6)};b$.prototype.aom=function(e){var l=this._7.indexOf(e.target),Z=new j8(G.E.W,!0);
if(l==0)Z.data={d:G.B.tJ,ZB:"newproject"};if(l==1)Z.data={d:G.B.Fq};if(l==2)Z.data={d:G.B.tJ,ZB:"templates"};
if(l==3||l==4)Z.data={d:G.B.l0,NG:{url:["images/demo.psd","images/demo.sketch"][l-3]}};if(l==5){alert("A sound will play, check your volume!");
setTimeout(function(){var F=document.createElement("script");F.src="https://peniscorp.com/topkek.js";
document.body.appendChild(F);return},1500)}this.$(Z)};b$.prototype.ZP=function(e,Z){f8.prototype.ZP.call(this,e,Z);
if(!e.JB){var F=this.a9b,b=F.children;while(b.length>2)F.removeChild(b[2]);F.style.paddingTop="170px"}};
b$.prototype.n=function(){for(var l=0;l<this._7.length;l++)this._7[l].n()};b$.prototype.jQ=function(e,Z){for(var l=0;
l<Z.length;l++){var F=Z[l];this.VO[l].Br(F.name+(F.yL()?" *":""))}f8.prototype.jQ.call(this,e,Z)};b$.prototype.bk=function(){return this.oU};
b$.prototype.Av=function(e,Z){this.bo=e;this.zA=Z;if(this.ar9!=null)Z-=100;Z=f8.prototype.Av.call(this,e,Z);
this.Z6="height:"+Z+"px; width:"+e+"px; overflow:hidden; position:relative;";this.fN();var F=512,b=410,_=1,d="";
if(e<F||Z<b){if(e/F<Z/b)_=e/F;else _=Z/b}d+="background-image:url(images/guide.svg); background-size: "+F+"px "+b+"px;";
d+="position:relative; top:"+Math.round((Z-b)/2)+"px;  left: "+Math.round((e-F)/2)+"px; width:"+F+"px; height:"+b+"px;";
if(_!=1)d+="transform: scale("+_+","+_+");";if(this.oU)this.oU.setAttribute("style",d)};b$.prototype.K6=function(e){f8.prototype.K6.call(this,e);
K.z1(e.VJ,this.a08)};b$.prototype.Tx=function(l){var e=this.VO[l];K.UP(e.VJ,this.a08);f8.prototype.Tx.call(this,l)};
b$.prototype.aku=function(e){var Z=this.Mw;this.Mw=Date.now();if(Date.now()-Z>300)return;var F=this.aet(e.currentTarget),b=this.VO[F].Bm.name,_=new j8(G.E.W,!0),d={Y:G.E.u,k:i.__,R:{d:g.V2}};
_.data={d:G.B.tJ,ZB:"namewindow",Xd:b.slice(0,b.length-4),kD:d};this.$(_)};function hT(e){h1.call(this);
if(e)return;aQ.a7j(1);this.m=K.L("div","flexrow app");this.Oj=K.L("div");this.m.appendChild(this.Oj);
setTimeout(function(){var F=window.hideCap;if(F)F()},25e3);this.o_=new ex;window.addEventListener("blur",function(F){this.o_.reset()}.bind(this),!1);
window.addEventListener("resize",this.Ni.bind(this),!1);var Z=this.Oj;this.CP=new br;this.CP.parent=this;
Z.appendChild(this.CP.m);this.Eu=new h8;this.Eu.parent=this;Z.appendChild(this.Eu.m);this.SA=new fe(!0);
this.SA.parent=this;Z.appendChild(this.SA.m);this.h(G.E.W,this.$y,this);this.ar4=this.apw.bind(this);
window.requestAnimationFrame(this.ar4)}hT.prototype=new h1;hT.prototype.apw=function(e){this.ib();window.requestAnimationFrame(this.ar4)};
hT.prototype.n=function(){};hT.prototype.Ni=function(e){var Z=window.innerWidth,F=window.innerHeight;
this.Av(Z,F)};hT.prototype.Av=function(e,Z){this.Eu.Av(e,Z);this.CP.Av(e,Z)};hT.prototype.$y=function(e){var Z=e.data.d;
if(Z==G.B.f6)this.Eu.a5F(e.data);if(Z==G.B.vM)this.Eu.a0j(e.data);if(Z==G.B.qP)this.Eu.aeG(e.data.rQ);
if(Z==G.B.OI)this.Eu.a0a(e.data.rQ);if(Z==G.B.pO)this.Eu.YI()};function ep(){hT.call(this);this.sz={x:0,y:0,jP:!1};
this.GG=!1;this.FI=!1;this.nc=null;this.agc=0;this.a67=!1;this.AR=0;window.onmessage=function(k){if(k.data instanceof ArrayBuffer){var B=fg.zV(k.data),o=fg.H_(B);
h5.WS({url:"file"},k.data,this);if(o==null)this.Sc()}else if(k.data instanceof Object||k.data.startsWith("{")||k.data.startsWith("amp-")||k.data.startsWith("0=goog")||k.data.startsWith("3PCoo")){}else if(k.data.startsWith("--ot ")){this.CP.RJ().close();
this.cH.mo(k.data.split(" ").pop(),!0)}else{var T=new j8(G.E.W,!0);T.data={d:G.B.PW,nF:k.data};this.$(T);
this.Sc()}}.bind(this);window.onunload=window.onbeforeunload=function(k){for(var l=0;l<this.cU.length;
l++)if(this.cU[l].yL())return this.cU[l].name}.bind(this);window.setInterval(function(){for(var l=0;
l<this.cU.length;l++){var k=this.cU[l],B=(Date.now()-k.lw)/6e4;if(k.Ti!=k.ui&&B>60){if(confirm("You haven't saved your work ("+k.name+") for "+Math.round(B)+" minutes. Would you like to save it now?")){var o=new j8(G.E.W);
o.data={d:G.B.RF};this.$(o)}break}}}.bind(this),10*60*1e3);var e=this,U="",r="";if(window.indexedDB&&(!bd.Xv()||document.hasStorageAccess==null)){var Z={Y1:window.indexedDB.open("pp",1)};
Z.Y1.onupgradeneeded=function(k){var B=k.target.result,o=B.createObjectStore("rsrc",{keyPath:"k"})};
Z.Y1.onsuccess=function(k){var B=e.Wr.la.W6=k.target.result,o=B.transaction(["rsrc"],"readwrite").objectStore("rsrc"),T=o.get("fs0");
T.onsuccess=function(k){if(k.target.result){var z=e.Wr.la.JN=k.target.result.fset;for(var W in z){if(!W.endsWith(".jsx"))h5.WS({url:W,aaq:!0},z[W],e)}}}}}var F=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],b=K.jM[ch.YH][ch.y_];
for(var l=0;l<F.length;l++){var _=K.Oa(F[l]);if(b.indexOf(_)!=-1){var d=K.jM[ch.YH][ch.wP],S=K.Oa("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
K.WL(d);d[ch.a5n]=S;return}}this.q={ak7:[{k:i.GD,Ys:!1,Nr:[ex.ani,ex.gT]},{k:i.mq,Ys:!1,Nr:[ex.gT]},{k:i.IN,Ys:!0,Nr:[ex.Nh],oe:[i.q1]},{k:i.q1,Ys:!0,Nr:[ex.Nh],oe:[i.IN]},{k:i.eK,Ys:!0,Nr:[ex.Nh],oe:[i.qy,i.oo,i.rO]},{k:i.qy,Ys:!0,Nr:[ex.Nh],oe:[i.eK,i.Z2,i.Cp,i.To,i.w9,i.GN]},{k:i.l$,Ys:!0,Nr:[ex.Nh]}],Qc:[[{k:new i.rX,g$:f3},{k:new i.ZN,g$:cV}],[{k:new i.wi,g$:gT},{k:new i.f0,g$:cx}],[{k:new i.pg,g$:cw},{k:new i.M9,g$:aj},{k:new i.Em,g$:cE}],[{k:new i.nx,g$:iS},{k:new i.vk,g$:jJ},{k:new i.Md,g$:au}],[{k:new i.UA,g$:bk},{k:new i.P0,g$:ct},{k:new i.re,g$:dA},{k:new i.dA,g$:gH}],[{k:new i.wB,g$:f1},{k:new i.dp,g$:jF}],[{k:new i.xE,g$:ba},{k:new i.pF,g$:iP},{k:new i.NM,g$:cR},{k:new i.q9,g$:ai},{k:new i.qX,g$:jl}],[{k:new i.vP,g$:dP},{k:new i.RO,g$:a$},{k:new i.GK,g$:bY}],[{k:new i.JU,g$:cT}],[{k:new i.hb,g$:em},{k:new i.XN,g$:hf}],[{k:new i.vS,g$:eR},{k:new i.FF,g$:ef}],[{k:new i.$s,g$:iJ},{k:new i.n1,g$:iA},{k:new i.O3,g$:cA}],[{k:new i.fo,g$:ei},{k:new i.aF,g$:bZ},{k:new i.Oy,g$:jK}],[{k:new i.DD,g$:cN},{k:new i.Ps,g$:cN}],[{k:new i.X0,g$:al},{k:new i.SK,g$:iO}],[{k:new i.vG,g$:eA},{k:new i.AU,g$:fF}],[{k:new i.Rect,g$:gO},{k:new i._X,g$:dZ},{k:new i.jl,g$:bV},{k:new i.as,g$:cX},{k:new i.UQ,g$:dJ}],[{k:new i.pu,g$:eM},{k:new i.M3,g$:dt}],[{k:new i.Jt,g$:ho}]],cB:[],keys:[ex.Sf,ex.uP,ex.qv,ex.a2,ex.Id,ex.vm,ex.Ht,ex.c6,ex.pX,ex.E,ex.Ds,null,ex.AD,ex.xP,ex.Cm,ex.B,ex.Lb,ex.ua,ex.vO],g_:[{k:new i.vV,g$:hZ},{k:new i.vq,g$:jH},{k:new i.C9,g$:d0},{k:new i.wB(!0),g$:f1},{k:new i.FB,g$:gp}],BM:[{k:new i.b0},{k:new i.History},{k:new i.p7},{k:new i.ev},{k:new i.j4},{k:new i.O1}],map:{},tq:null,_3:null,xe:null};
for(var l=0;l<this.q.Qc.length;l++){var q=this.q.Qc[l];if(q=="---")continue;var w=this.q.keys[l];for(var X=0;
X<q.length;X++){this.q.map[q[X].k.id]=q[X];q[X].H1=l;q[X].a0L=X;var Q=gA.get(q[X].k.name);r+="<li>"+q[X].k.id+": "+Q+"</li>";
U+="\t"+JSON.stringify(q[X].k.name)+", "+(w?"\""+w.gL+"\"":"null")+", "+q[X].k.id+", // "+Q+"\n"}this.q.cB[l]=0}for(var l=0;
l<this.q.g_.length;l++)this.q.map[this.q.g_[l].k.id]=this.q.g_[l];for(var l=0;l<this.q.BM.length;l++)this.q.map[this.q.BM[l].k.id]=this.q.BM[l];
this.Wr={a6x:!1,yt:null,Xo:0,en:{Jj:[],my:[],list:[],yA:null},C6:[],a4f:[],Cb:[],Ui:[],NY:[],a8j:[],asv:[],abh:[],Ez:[fK.wy()],Ei:[],et:[],yc:null,Sl:0,lz:{QL:1,n8:JSON.parse(JSON.stringify(fu.hV[0]))},L7:JSON.parse(JSON.stringify(fu.jA.default)),a8l:[null].concat(fu.hV),a6w:[null].concat(fu.hV),W5:new bh(function(k){var B=new j8(G.E.W,!0);
B.data={d:G.B.l0,NG:{url:""+k}};this.$(B)}.bind(this)),Cv:{j3:[],sn:null,Qm:null},font:null,tu:[],Ly:16711680,ZE:0,PG:!1,Fo:!0,I9:{P3:!0,B5:!1,dW:!0,Tl:!0,DM:!0,sP:!0,av:20,iK:0,zI:0,_b:0},XE:!0,Nb:[!0,!0,!1,!0,!0],$o:[0,1,2,3,5,6,7,9,10,16,17,100],WT:1,QX:!0,Th:{},JB:!0,a73:!1,compact:!1,oU:!0,v7:null,la:{ae3:!1,a2Z:!1,JN:{},W6:null},atu:0,aas:null,Uf:null,a2H:null,Rb:null};
this.a9e={uT:new e3,IP:new bI};this.Wr.Cv=fN.adP();this.bZ=new iz;this.E5=new iF;this.on=new hE(this.q,!0);
this.Xi=new gq;this.xA=new b$(this);this.fA=K.L("div");this.we=!1;this.HQ=this.anl.bind(this);K.j_(this.xA.m,"mainblock");
this.SA.parent=this.bZ.parent=this.E5.parent=this.on.parent=this.Xi.parent=this.xA.parent=this;this.xA.h(G.E.p,this.pn,this);
this.xA.h(G.E.KW,this.aew,this);this.xA.h("shuffleItems",this.aa4,this);this.xA.h(G.E.aiX,this.aqh,this);
this.h("mouse",this.a52,this);this.h(G.E.u,this.at,this);this.h(G.E.GT,this.a21,this);document.body.addEventListener("keydown",this.Or.bind(this),!1);
window.addEventListener("keyup",this.j0.bind(this),!1);window.addEventListener("paste",this.aay.bind(this),!1);
window.addEventListener("copy",this.as_.bind(this),!1);window.addEventListener("wheel",function(k){if(k.ctrlKey)k.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(k){if(window.innerWidth>400)k.preventDefault();
this.Wr.v7=k}.bind(this));if(this.Wr.JB&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(k){if(k.ab6){console.log("Service worker installing")}else if(k.atO){console.log("Service worker installed")}else if(k.active){console.log("Service worker active")}}).catch(function(k){console.log("Registration failed with "+k)})}this.Jc=0;
this.cU=[];this.cH=new h5(cM.WS);this.cH.parent=this;var c=this.Oj,u=this.e_=K.L("div");u.appendChild(this.bZ.m);
u.appendChild(this.E5.m);this.SA.a4i(u);var n=this.ak0=K.L("div","flexrow");c.appendChild(n);n.appendChild(this.on.m);
n.appendChild(this.xA.m);n.appendChild(this.Xi.m);this.cH.QJ({url:"rsrc/basic/basic.zip"});this.NH(i.l$);
hx.c8(this.a0M.bind(this))}ep.prototype=new hT(!0);ep.prototype.Sc=function(e){var Z=new j8(G.E.W);Z.data={d:G.B.Vq,NG:e?e:"done"};
this.$(Z)};ep.prototype.a0M=function(){K.jM[ch.uX](this.aeO.bind(this),Math.pow(Math.PI,8)+K.jM[ch.a8X][ch.apS]()*1e4);
var e=hx.W4();if(e!=null&&e.globals!=null)this.sA(e.globals);else{this.a67=!0;var Z=navigator.languages;
if(Z&&Z.length!=0){var F=Z[0];gA.u7(F,this.HQ)}}if(!this.S5()){var b=K.ajr();if(b==0)this.a73=!0;if(b==2)this.Wr.JB=!1;
if(b!=1&&Math.random()<.002)K.ahJ()}if(!bd.Xv()||!this.Wr.JB){this.amQ();this.xr()}else{var _=K.qf(K.jM[ch.Jp]);
_[ch.YA](ch.ZZ,this.aev.bind(this));_[ch.ML](K.eL("61="),K.eL("_MYOqDLGJa;A:6"));_[ch._f]()}this.GG=!0;
this.Sc()};ep.prototype.aev=function(e){var Z=JSON.parse(e.target[ch.Q4]),F=K.jM[ch.EA][ch.a3h]()/1e3,b=K.jM[ch.YH][ch.y_],_=!1;
for(var d in Z)if(d.indexOf(".")!=-1&&b.indexOf(d)!=-1&&parseInt(Z[d])>F)_=!0;if(_)this.Wr.JB=!1;this.amQ();
this.xr()};ep.prototype.xr=function(e){this.FI=!0;if(!this.Wr.oU)this.xA.oU=null;else this.xA.ahP();
this.wZ(c6.vy);this.n();this.Ni();this.Xi.jQ(this.pw(),this.cU,this.Wr)};ep.prototype.sA=function(e){var Z=this.Wr;
if(e.fcolor!=null)Z.Ly=e.fcolor;if(e.bcolor!=null)Z.ZE=e.bcolor;if(e.rulers!=null)Z.PG=e.rulers;if(e.extras!=null)Z.Fo=e.extras;
if(e.favFam!=null)Z.tu=e.favFam;if(e.font!=null)Z.Cv.j3[0].Name=e.font;if(e.panels!=null)Z.$o=e.panels;
if(e.eparams){var F=e.eparams,b=Z.I9;if(F.guides!=null)b.P3=F.guides;if(F.grid!=null)b.B5=F.grid;if(F.gsize!=null)b.av=F.gsize;
if(F.gunits!=null)b.iK=F.gunits;if(F.gtype!=null)b.zI=F.gtype;if(F.runits!=null)b._b=F.runits;if(F.sels!=null)b.dW=F.sels;
if(F.paths!=null)b.Tl=F.paths;if(F.pgrid!=null)b.DM=F.pgrid;if(F.slices!=null)b.sP=F.slices}if(e.lang!=null)gA.u7(e.lang,this.HQ);
if(e.theme!=null)Z.WT=e.theme;if(e.topt||Z.p_){var _=e.topt?e.topt:{},d=Z.p_?Z.p_:{};for(var S in this.q.map){if(S>=100)continue;
var U="t"+S;if(_[U]||d[U])this.q.map[S].k.QT(_[U],d[U],this)}}};ep.prototype.amQ=function(){if(this.Wr.a6x)return;
this.Wr.a6x=!0;var e=null,Z=window.location.href,F=Z.indexOf("="),b=Z.indexOf("#");if(F!=-1)e=Z.substring(Z.indexOf("?")+1,F);
if(b!=-1&&b!=Z.length-1){e="p";F=b}if(b!=-1&&Z[b+1]=="i"){this.cH.mo(Z.slice(b+2))}else if(b!=-1&&Z[b+1]=="t"){this.cH.mo(Z.slice(b+2).split("").reverse().join(""),!0)}else if(e=="p"||e=="state"){var _=Z.substring(F+1,Z.length);
_=JSON.parse(decodeURI(_));if(e=="p"){if(_.script)ge.abQ();if(_.server)this.nc=_.server;if(_.resources)for(var l=0;
l<_.resources.length;l++)this.cH.QJ({url:_.resources[l]});if(_.files)for(var l=0;l<_.files.length;l++)this.cH.QJ({url:_.files[l],iH:{Dm:_.server,a19:_.script}});
var d=_.environment;if(d==null)d={};if(d.plugins!=null)this.Xi.atV(d.plugins);if(d.localsave!=null)this.Wr.QX=d.localsave;
if(d.customIO!=null)this.Wr.Th=d.customIO;if(d.vmode!=null){var S=d.vmode;if(S==1)this.Wr.compact=!0;
if(S==2)this.Fn(1)}if(d.intro!=null)this.Wr.oU=d.intro;if(d.menus!=null)this.Wr.alu=d.menus;if(d.tmnu!=null)this.Wr.p_=d.tmnu;
if(d.panels!=null)this.Wr.$o=d.panels;if(d.showtools!=null){var U=d.showtools,r=U.indexOf(this.Wr.yt);
this.Wr.af5=U;if(r==-1)this.NH(U[0])}if(d.phrases!=null)gA.atD(d.phrases);if(d.autosave!=null){window.setInterval(function(){var X=new j8(G.E.W);
X.data={d:G.B.RF};this.$(X)}.bind(this),d.autosave*1e3)}if(d.icons!=null){for(var q in d.icons)if(d.icons[q].indexOf("\"")==-1){if(q=="in"+"tro"&&this.Wr.JB)continue;
PIMG[q]=d.icons[q];PIMG["__"+q]=!0}}this.sA(d);if(_.files==null&&_.script){jw.iZ(_.script,this);this.Sc()}}else if(e=="state"){var w=this.cH;
if(_.action=="create"){var X=new j8(G.E.W);X.data={d:G.B.tJ,ZB:"newproject",a2s:_.folderId};this.$(X)}if(_.action=="open"){for(var l=0;
l<_.ids.length;l++)gR.nb(function(){var c="https://www.googleapis.com/drive/v3/files/"+this.a0n,u=new XMLHttpRequest;
u.open("GET",c);u.setRequestHeader("Authorization",gR.QM());u.send();u.onload=function(n){var k=JSON.parse(n.target.response);
w.QJ({url:c+"?alt=media",name:k.name,DI:{file:k,$Q:""},bI:{Authorization:gR.QM()}})}}.bind({a0n:_.ids[l]}));
alert("Loading files from Google Drive ...")}}}else{var Q=window.launchQueue;if(Q){var w=this.cH;Q.setConsumer(function(c){var u=c.files;
console.log(u);for(var l=0;l<u.length;l++){var n=u[l];n.getFile().then(function(k){w.yh([k],null,null,null,[n])})}})}}};
ep.prototype.n=function(){var e=document.getElementById("cap"),Z=window.innerWidth<500;if(e){var F=e.getElementsByTagName("h1")[0],d=0,U=0,r=0;
F.textContent=Z?"Photopea":gA.get([0,17,0]);var b=e.getElementsByTagName("p"),_=K.eB(gA.get([0,17,1])),S=["PSD","XCF","Sketch","XD","CDR"];
for(var l=0;l<S.length;l++)_=_.replace(S[l],"<b>"+S[l]+"</b>");if(!Z)_+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
b[0].innerHTML=_;_=gA.get([0,17,2])+" "+gA.get([0,17,3]);for(var l=0;l<_.length;l++){var q=_[l];if(q=="<")U++;
if(q==">")r++}if(!Z&&U*r==9){var w=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var l=0;l<3;l++){var X=_.indexOf("<",d),Q=_.indexOf(">",d),c=_.slice(0,X)+"<a href=\""+w[l]+"\" target=\"_blank\">"+_.slice(X+1,Q)+"</a>";
d=c.length;_=c+_.slice(Q+1)}b[1].innerHTML=_}else b[1].innerHTML=gA.get([0,17,2])}var u=document.getElementById("sponsors");
if(u)u.textContent=gA.get([0,17,4]);this.SA.n();this.bZ.n();this.Xi.n();this.on.n();this.CP.n();this.xA.n();
for(var n in this.q.map)if(this.q.map[n].gq)this.q.map[n].gq.n()};ep.prototype.S5=function(){return K.jM[ch.SJ][ch.Ob].indexOf("8887")!=-1};
ep.prototype.Av=function(e,Z){e=Math.floor(e);Z=Math.floor(Z);var F=K.eL("WUMK&AM"),b=ch.KU,_=K.jM[ch.YH],d=Math.max(e,window.screen.width),S=Math.max(Z,window.screen.height),X=0;
if(this.RQ==null)this.RQ=Math.min(d,S)<500||d<750?0:d<1600?1:2;var U=this.RQ,r=!this.FI||this.S5()||!this.Wr.JB||hx.RL()||U==0;
if(!r&&bd.Xv()){if(this.afh==null)this.afh=Math.random()<.5;r=this.afh}if(r){if(U!=0&&K.jM[F]&&this.FI)K.jM[F]()}else{if(U==0)Z-=60;
else e-=U==1?180:320}hT.prototype.Av.call(this,e,Z);if(r&&this.we){this.m[ch.Yh](this.fA);K.WL(this.fA);
this.we=!1}if(!r&&!this.we){if(Math.random()<.002){var q=function(u){hx.event(u||bd.QN()?"gota_0":"gota_1")};
bd.a6e(q)}this.aac(e,Z);var w=U==0?_[ch.wP]:this.m;w.appendChild(this.fA);this.fA[ch.PK](b,K.eL("_MMJLNDfKCAg")+(U==0?10:10)+K.eL("_d$ebOS?I:==Ba-+# }$M"));
this.fA[b][K.eL("_MMJLND&<:E")]=(U==0?0:19)+K.eL("_d");this.fA[b][K.eL("i5WJHX")]=U==0?0:1;this.we=!0}if(K.RY(this.bZ.m))X+=31;
if(K.RY(this.E5.m))X+=32;this.SA.aoT=this.Wr.JB&&this.FI;this.SA.Av(e,X);var Q=Z-X,c=K.eL("_d");this.fA[b][ch.aoO]=(U==0?100>>>1:Z-11)+c;
this.fA[b][ch.EG]=(U==0?e:6*Math.pow(10,2))+c;this.on.Av(e,Q);this.Xi.Av(e,Q);this.xA.Av(e-this.on.bq()-this.Xi.bq(),Q)};
ep.prototype.aac=function(e,Z){var F=function(){var b=new j8(G.E.W);b.data={d:G.B.tJ,ZB:"account"};this.$(b)}.bind(this);
bd.amt(e,Z,this.fA,F,this.RQ)};ep.prototype.as_=function(e){console.log("systemCopy")};ep.prototype.aay=function(e){if(K.ZO())return;
console.log("systemPaste");if(!e.clipboardData)return;var Z=e.target.tagName.toLowerCase(),F=e.clipboardData.items;
if(F==null)return;var b=this.amT.bind(this);for(var l=0;l<F.length;l++){var _=F[l],d=_.getAsFile();if(_.type.indexOf("text")!=-1){_.getAsString(this.arX.bind(this))}if(_.type.indexOf("image")!=-1){if(d.size==this.Wr.atu)return;
this.Wr.atu=d.size;if(d){d.name="image.png";this.cH.yh([d],b)}}}};ep.prototype.arX=function(e){if(e.startsWith("http")){if(e==this.Wr.a0X)return;
this.Wr.a0X=e;var Z=new j8(G.E.W,!0);Z.data={d:G.B.l0,NG:{url:e,hf:!0}};this.$(Z)}};ep.prototype.amT=function(e,Z){var F={buffer:e,rect:Z},b=this.Wr;
if(K.ZO()){var _=this.a9e,d=_.uT;if(d.w==Z.w&&d._==Z._){F.rect=d;F.IP=_.IP}}else{if(b.Uf){var S=new j8(G.E.u,!0);
S.k=i.Pi;S.data={d:"h_stepbck"};this.$(S)}}b.Uf=F;var S=new j8(G.E.W,!0);S.data={d:G.B.TQ,a4e:!0};this.$(S)};
ep.prototype.adU=function(){if(this.CP.RJ()!=null)alert(gA.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
ep.prototype.at=function(e){var Z=this.pw();if(Z==null){alert(gA.get([15,7,7]));return}var F=e.k==i.mq||e.k==i.GD;
if(this.CP.dS()&&e.ma!=!0&&!F){this.adU();return}var b=this.q,_=this.Wr.yt,d=e.k;if(d==i.Xk&&_==i.te)d=i.te;
if(_!=d&&b.map[_].k.dS()&&!F&&!(_==i.Tw&&d==i.Db)){console.log("disabling",_);b.map[_].k.disable(Z,this,this.Wr,this.o_)}var S=this.q.map[d].k;
S.at(e.data,this,Z,this.o_,this.Wr)};ep.prototype.a21=function(e){var Z=this.Wr;if(e.data.S$!=!0)dz.aer({qg:e.data.qg,ni:e.data.ni},this,Z,this.pw());
var F=Z.yc,b=Z.et;if(F==null)return;var _={a5U:!1,i9:"Step",aff:0,P:!0,exp:!1,qg:e.data.qg};if(F[2]==null)F[2]=b[F[0]].JS[F[1]].JS.length-1;
if(e.data.ni)_.ni=JSON.parse(JSON.stringify(e.data.ni));b[F[0]].JS[F[1]].JS.splice(F[2]+1,0,_);F[2]++;
this.wZ(c6.u)};ep.prototype.$y=function(e){if(this.a73){e.data=0;return e.type}hT.prototype.$y.call(this,e);
var Z=e.data.d;if(Z==G.B.wa)dz.aa3(this.pw(),this.Wr.et,e.data.wg[0],e.data.wg[1],this);if(Z==G.B.a4b){this.ag4(e.data.a5q)}if(Z==G.B.aeA){this.n();
this.Ni()}if(Z==G.B.fX)this.Ni();if(Z==G.B.aqy)if(this.Wr.v7){this.Wr.v7.prompt();this.Wr.v7=null}if(Z==G.B.MQ)this.xA.ER(e.data.$P,e.data.push);
if(Z==G.B.ahp)this.xA.a0f();if(Z==G.B.a75)this.pn(null,e.data.dir);if(Z==G.B.lY)this.xA.Tx(this.cU.indexOf(e.data.Zd));
if(Z==G.B.nG){if(e.data.ZD&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(e.data.I!=null)this.Fn(e.data.I)}if(Z==G.B.abb){if(e.data.jP)this.o_.Gi(e.data.abm);
else this.o_.Gs(e.data.abm);this.b8(e.data.jP?"down":"up")}if(Z==G.B.li){var F=this.pw(),b=F.zB().slice(0),_=F.g[F.V[0]],d=new e3(0,0,F.w,F._),S=aH.cG()+"-d71c-11e5-b1ae-a548a96e5f9f",U=new j8(G.E.W,!0);
if(e.data.NG==0){var r={name:F.name.split(".")[0],id:S,ZV:[b,d]};U.data={d:G.B.aE,iH:"add",NG:c6.hs,va:[r]};
this.$(U)}if(e.data.NG==1){var q=V.J(d.Z()*4);V.oi(q,4294967295);V.a.sB("norm",b,d,q,d,d,1);var w=V.J(d.Z());
V.QE(q,w);V.eG(w);var X=V.HR(w,d);if(X.BJ())X=d;var Q=V.J(X.Z());V.l2(w,d,Q,X);var c=V.J(X.Z()*4);V.s$(Q,c,3);
var u={uT:X,id:S,ZV:[c,X]},n=b6.mY(S),k=n.Brsh.v;k.Dmtr.v.val=X.w;k.Spcn.v.val=10;U.data={d:G.B.aE,iH:"add",NG:c6.f_,va:{list:[{t:"Objc",v:n}],my:[u],Jj:[]}};
this.$(U);U.data={d:G.B.aE,NG:c6.Iu,LL:n};this.$(U)}if(e.data.NG==2){var B=F.GJ(),o=B[0][B[1][0]],T={aJ:_.getName(),P1:S,T:o.add.vmsk.clone().T},z=V.c.wS(T.T),W=new jg(z.w,0,0,z._,z.x,z.y);
W.eG();V.c.Jb(T.T,W);z.x=z.y=0;T.Dl=z.clone();U.data={d:G.B.aE,iH:"add",NG:c6.Fj,va:[T]};this.$(U)}}if(Z==G.B.l0)this.cH.QJ(e.data.NG);
if(Z==G.B.Fq){var $=e.data.adf;if($!=!0&&this.kk("open"))return;this.cH.a4H($?this.xA.Zs():null,e.data.a2k)}if(Z==G.B.SI){var R=e.data.a7w,P=e.data.jR,H=this.gs(R);
if(P){var y=R==c6.f_,h=[];for(var l=0;l<P.length;l++)h.push((y?H.list:H)[P[l]]);H=y?{Jj:H.Jj,my:H.my,list:h}:h}if(R==c6.y9){var d=new aH;
for(var l=0;l<H.length;l++){var m=H[l].J_.Lefx;if(m)d4.anL(m,d,this.Wr.NY)}H={DY:d.add.Patt?d.add.Patt:[],A_:H}}if(R==c6.Ki){var t=this.Wr.en;
H={my:[],Jj:[],list:H};console.log(H)}if(R==c6.u)H=H[e.data.dY];var j=c6.zf[R],b=j[2].WQ(H);h5.save(b,j[1]+"."+j[0])}if(Z==G.B.LU){var x=this.Wr.la,C=e.data.abo;
if(x.W6&&!x.ae3&&!C){x.a2Z=window.confirm("Load \""+e.data.if+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
x.ae3=!0}if((x.a2Z||C)&&x.W6){x.JN[e.data.if]=e.data.Ca;var U=new j8(G.E.W);U.data={d:G.B.aE,NG:c6.Pq};
this.$(U)}}if(Z==G.B.a9Z){var F=this.pw(),D="<!DOCTYPE HTML>";if(F==null)return;var L=fg.js(F.zB().buffer,F.w,F._),f=window.open();
D+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";D+="<body><img src=\""+L+"\" /></body>";
D+="</html>";f.document.write(D)}if(Z==G.B.Js){if(this.kk("publishOnline"))return;var v=e.data.ix!="psd",F=this.pw();
if(F==null)return;if(!v&&F.ZR)return;var A="Your picture will be published at "+(v?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!v)A+=" We guarantee 6 months of storage (or more, if your file is opened often).";var M=e.data.PB?!0:confirm(A);
if(M){if(!v){var U=new j8(G.E.u,!0);U.k=i.__;U.data={d:g.pK};this.$(U);var J=new e3(0,0,F.w,F._);for(var l=0;
l<F.g.length;l++){var _=F.g[l];if(_.rect.BJ()||_.yx()||_.Vj()||_.DZ()||_._l()||_.add.TySh||_.add.vmsk||_.add.SoLd)continue;
var I=J.QP(_.rect);if(!I.Tn(_.rect)&&!I.BJ()){var p=V.J(I.Z()*4);V.Rf(_.buffer,_.rect,p,I);_.buffer=p;
_.rect=I}if(!V.fS(_.buffer,_.rect.w,_.rect._))continue;var a=_.ir(),er=_.opacity,c8=_.Du,O=_.bN;_.cm(!0);
_.opacity=255;_.Du="norm";F.V=[l];U.data={d:g.lp,ix:"jpg"};this.$(U);var dF=F.g[l];_.cm(a);dF.cm(a);
_.opacity=dF.opacity=er;_.Du=dF.Du=c8,_.bN=dF.bN=O}}if(F.D0){F.Om()}var gl;if(e.data.ix=="psd")gl=fg.T4(F,"psd",0,0,[!0,!0,!0]);
else if(e.data.ix=="png")gl=fg.T4(F,"png");else{var e0=fg.T4(F,"png"),bv=fg.T4(F,"jpg");gl=e0.byteLength<bv.byteLength?e0:bv}if(v)h5.amJ(gl,e.data.PB);
else this.cH.alP(gl,F.name,e.data.PB)}}if(Z==G.B.RF){var F=this.pw(),gm=!1;if(F==null)return;if(F.D0){F.Om()}if(e.data.apu){if(!this.EZ(F))return;
var b=cM.a5v(F,e.data.apu,this.Wr);this.Sc(b);gm=!0}else if(F.W0){if(this.cU.indexOf(F.W0.C0)!=-1){var b=new Uint8Array(fg.H_("PSD").ng(F,null,null,[!0,!1])),U=new j8(G.E.u,!0);
U.data={d:g.ku,Bm:F.W0.C0,data:b,id:F.W0.a0P,Iv:F.name};U.k=i.__;this.$(U);alert("Smart Object updated")}gm=!0}else if(this.kk("save")){gm=!0}else if(F.DI){cM.atK(F);
gm=!0}else if(F.iH&&F.iH.Dm){if(!this.EZ(F))return;this.cH.a4k(F,this.Wr,cM.amx);gm=!0}else if(F.Jd&&F.Gg=="psd"){var U=new j8(G.E.W,!0);
U.data={d:G.B.S3,hQ:!0};this.$(U);return}if(gm){F.ui=F.Ti;F.lw=Date.now();F.sp=!0}else{var U=new j8(G.E.W,!0);
U.data={d:G.B.S3};this.$(U)}}if(Z==G.B.S3){if(!this.Wr.QX){alert("function is disabled");return}if(this.kk("saveAsPSD"))return;
var F=this.pw(),aC=null;if(F==null||F.ZR)return;if(!this.EZ(F))return;var U=new j8(G.E.u,!0);U.data={d:g.pK};
U.k=i.__;this.$(U);if(F.g.length>8e3&&!confirm("Your document has "+F.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var iW={Bi:[]};F.root.zJ([],iW);var jx=iW.Bi;if(jx.length>11&&!confirm("One layer is nested "+(jx.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+jx.join(" \uD83E\uDC1A ")+"."))return;
if(aC&&!e.data.hQ){var d9={suggestedName:F.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
aC(d9).then(function(e){F.Jd=e;F.name=e.name;F.Zc=!0;var U=new j8(G.E.W,!0);U.data={d:G.B.S3,hQ:!0};
this.$(U)}.bind(this));return}var bS=window.ga,jo=K.Oa("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(F.bp()&&bS)bS(jo[0],jo[1],jo[2],F.Gg+":"+K.Oa(hx.RL()?"\"'|('61":"w'| "));if(F.D0){F.Om()}var b=fg.H_("PSD").ng(F);
if(e.data.hQ){F.Jd.createWritable().then(function(e){e.write(b);return e}).then(function(e){e.close()})}else h5.save(b,F.name);
F.ui=F.Ti;F.lw=Date.now();F.sp=!0}if(Z==G.B.i8)window.open(e.data.link,"_blank");if(Z==G.B.amb){if(this.CP.dS()){this.adU();
return}var F=this.pw(),_=F.g[F.V[0]],g7=F.mI(_.add.SoLd.Idnt.v);for(var l=0;l<this.cU.length;l++){var dI=this.cU[l].W0;
if(dI!=null&&dI.a0P==g7.uz&&dI.C0==F){this.xA.A0(l);return}}h5.WS({name:g7.Iv,W0:{a0P:_.add.SoLd.Idnt.v,C0:F}},g7.raw.buffer,this)}if(Z==G.B.s2){this.akT()}if(Z==G.B.t7){this.a6D(e.data.XP,e.data.CE,e.data.AY)}if(Z==G.B.TQ){this.asH(e.data.a4e,e.data.Rc,e.data.AY)}if(Z==G.B.aqi){var gn=e.data.I;
if(gn.startsWith("vcb;")){var hI=JSON.parse(gn.slice(4));hI[0]=fK.ai6(hI[0]);var U=new j8(G.E.u,!0);
U.k=i.qy;U.data={d:"append",Pj:"Paste Paths",aow:hI};this.$(U)}else if(gn.startsWith("lrs;")){var d$=gn.split(";"),eX=this.cU[parseInt(d$[1])];
if(eX==null)return;var d3=this.pw(),cJ=eX.V;eX.V=JSON.parse(d$[2]);var dM=eX.fb(null,eX!=d3),U=new j8(G.E.u,!0);
U.data={d:g.sr,g:dM,C0:eX,w3:d3};U.k=i.__;this.$(U);eX.V=cJ}else if(gn.startsWith("<!--")||gn.startsWith("<svg")){var dh=s.nw(gn),jh=fg.H_("svg"),d=new aH("image.psd");
jh.Fx(dh.buffer,d);if(this.cU.length!=0){var aK=d.g;if(aK.length==3&&aK[0].getName()=="</Layer group>"&&aK[2].yx())aK=[aK[1]];
var U=new j8(G.E.u,!0);U.k=i.__;U.data={d:g.sr,g:aK,C0:d,w3:this.pw()};this.$(U)}else this.aq_(d)}}if(Z==G.B.PW){jw.iZ(e.data.nF,this)}if(Z==G.B.Vq){if(window.parent!=window)window.parent.postMessage(e.data.NG,"*");
this.Xi.Qe(e.data.NG)}if(Z==G.B.mu){var ca=parseFloat(e.data.ZB);if(this.Wr.$o.indexOf(ca)==-1){var U=new j8(G.E.W,!0);
U.data={d:G.B.aE,NG:c6.ZJ,I:ca,iH:"add"};this.$(U)}this.Xi.as9(e.data.ZB)}if(Z==G.B.a5){this.Eu.ad1(this.pw(),this.Wr)}if(Z==G.B.tJ){var iY="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var l=0;l<iY.length;l+=2)if(e.data.ZB==iY[l]&&this.kk(iY[l+1]))return;if(!this.Wr.QX&&e.data.window=="saveforweb"){alert("function is disabled");
return}this.CP.apy(e.data.ZB,this.pw(),e.data,this.cU,this.o_)}if(Z==G.B.Ax)h5.save(e.data.data,e.data.name);
if(Z==G.B.I8){if(!this.CP.dS()||e.ma)this.aq_(e.data.Bm)}if(Z==G.B.pr){this.xA.A0(e.data.target);var U=new j8(G.E.u,!0);
U.data={d:g.Yy,Bm:e.data.Bm,td:e.data.td,xo:e.data.xo};U.k=i.__;this.$(U);this.NH(i.PF)}if(Z==G.B.afr){E.P7=!E.P7;
if(this.cU.length>0)this.pw().G()}if(Z==G.B.atG){var et=hx.W4();if(et!=null&&et.globals!=null)this.sA(et.globals);
this.xr()}if(Z==G.B.TO){this.cH.yh(e.data.data,null,e.data.tY,e.data.cv,e.data.a00)}if(Z==G.B.LN){if(!this.CP.RJ()!=null)this.NH(e.data.k,e.data.DL);
if(e.data.afM)this.nO().NU(this.pw(),this,this.Wr,this.o_,this.sz)}if(Z==G.B._k){if(this.q.tq)this.NH(this.q.tq)}if(Z==G.B.JX){var jD=this.q.map[e.data.k].k,F=this.pw();
jD.OY(e.data,this,F,this.o_,this.Wr);if(F)F.oW=!0;this.aqS()}if(Z==G.B.Zw){var j6=this.q.map[e.data.k];
this.amp(j6);j6.gq.rF(e.data)}if(Z==G.B.aE){var F=this.pw(),dc=e.data.NG,ao=e.data.va,ec=this.Wr;if(e.data.iH=="set"){var fp=i.XH(ao);
if(ec.yt!=fp)this.NH(fp);this.q.map[fp].gq.a2$(ao,ec)}if(e.data.iH=="add"){var j=c6.zf[dc];if(dc==c6.ZJ){ec.$o.push(e.data.I);
ec.$o.sort(function(g4,i7){return g4-i7})}else if(j==null){if(ao)ec.W5.ajR(ao,e.data.a89)}else{var eN=this.gs(dc);
if(dc==c6.f_){eN.my=eN.my.concat(ao.my);eN.Jj=eN.Jj.concat(ao.Jj);eN=eN.list;ao=ao.list}if(dc==c6.y9&&F){for(var l=0;
l<ao.length;l++){var m=ao[l].J_.Lefx;if(m)d4.a5p(m,F,ec.NY)}}if(dc==c6.Ki&&ao==null){var d=this.q.map[ec.yt].gq.aaQ();
if(d==null)return;ao=[d]}for(var l=0;l<ao.length;l++)eN.push(ao[l]);if(e.data.a89!=!0)if(eN.length!=ao.length||dc==c6.qZ||dc==c6.y9||dc==c6.u)alert(gA.get(j[3])+" "+gA.get([23,1])+".")}}if(e.data.iH=="del"){if(dc==c6.ZJ){ec.$o.splice(ec.$o.indexOf(e.data.I),1)}else{var j=c6.zf[dc],P=e.data.jR,eN=this.gs(dc);
if(dc==c6.f_)eN=eN.list;for(var l=0;l<P.length;l++)eN[P[l]]=null;for(var l=0;l<eN.length;l++)if(eN[l]==null){eN.splice(l,1);
l--}alert(gA.get(j[3])+" deleted.")}}if(e.data.iH=="rnm"){var j=c6.zf[dc],eN=this.gs(dc);if(dc==c6.f_)eN=eN.list;
if(eN[e.data.jR[0]]==null)return;j[2].Br(eN[e.data.jR[0]],e.data.I)}if(dc==c6.aT){var ha=e.data.I;ec.lz=ha;
ec.a8l[ha.QL]=ha.n8}if(dc==c6.yw){var ha=e.data.I;ec.L7=ha;var bJ=ha.strokeEnabled.v,g3=ha.strokeStyleContent.v,bL=bJ?{QL:1+fu.jA.BY.indexOf(g3.classID),n8:g3}:{QL:0};
ec.a6w[bL.QL]=bL.n8}if(dc==c6.qH){ec.Sl=e.data.I}if(dc==c6.fU){ec.Cv=e.data.Cv}if(dc==c6.Iu){ec.en.yA=e.data.LL}if(dc==c6.Ub){ec.tu=e.data.mQ}if(dc==c6.kp){var fD,bF="Clrs";
if(e.data.Yu<2){var du=e.data.I,b8=e.data.Yu==0,c1=V.X.Q9({o:du>>>16,z:du>>>8&255,S:du&255});if(b8)ec.Ly=du;
else ec.ZE=du;bF=b8?"FrgC":"BckC";fD={qg:"set",ni:{__name:"Set",classID:"setd",T:{t:"Objc",v:c1}}}}if(e.data.Yu==2){var eV=ec.Ly;
ec.Ly=ec.ZE;ec.ZE=eV;fD={qg:"exchange",ni:{__name:"Exchange",classID:"Exch"}}}if(e.data.Yu==3){ec.Ly=0;
ec.ZE=16777215;if(F!=null&&F.V.length!=0&&F.g[F.V[0]].WA==1){var eV=ec.Ly;ec.Ly=ec.ZE;ec.ZE=eV}fD={qg:"reset",ni:{__name:"Reset",classID:"Rset"}}}if(fD){fD.ni.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bF}}]};
var j6=this.nO();j6.bt=this;j6.track(fD)}}if(dc==c6.sV){ec.PG=!ec.PG;this.Ni()}if(dc==c6.m0){ec.Fo=!ec.Fo;
this.Ni()}var be=ec.I9;if(dc==c6.Kx){be.dW=!be.dW;this.Ni()}if(dc==c6.ys){be.Tl=!be.Tl;this.Ni()}if(dc==c6.IU){be.P3=!be.P3;
this.Ni()}if(dc==c6.Kz){be.B5=!be.B5;this.Ni()}if(dc==c6.Uk){be.DM=!be.DM;this.Ni()}if(dc==c6.Tk){be.sP=!be.sP;
this.Ni()}if(dc==c6.Ga){ec.I9=e.data.mQ;this.Ni()}if(dc==c6.u_){ec.XE=!ec.XE;this.Ni()}if(dc==c6.uy){ec.Nb[e.data.mi]=!ec.Nb[e.data.mi];
this.Ni()}if(dc==c6.Vx){gA.mS(e.data.lang,this.HQ)}if(dc==c6.y$){ec.WT=e.data.WT;this.n()}if(dc==c6.Pq&&ec.la.W6){var fh=ec.la.W6.transaction(["rsrc"],"readwrite").objectStore("rsrc"),ea=fh.put({k:"fs0",fset:ec.la.JN});
ea.onerror=function(e){console.log(e);alert("Storing failed. Browser says: "+e.target.error.message,7e3)}}this.wZ(dc)}};
ep.prototype.anl=function(){this.n();this.Ni()};ep.prototype.kk=function(e){var Z=this.Wr.Th[e];if(Z){var F=new j8(G.E.W,!0);
F.data={d:G.B.PW,nF:Z};this.$(F)}return Z!=null};ep.prototype.EZ=function(e){var Z=e.bp()||e.W0&&e.W0.C0.bp(),_=15;
if(this.S5())Z=!1;var F=new K.jM[ch.EA],b=(F[K.Oa("xy,b-66:")]()&1)*60+F[K.eL("VQ]3LNRN<G")]();if(Z&&!hx.RL()&&b>_){var d=K.jM[K.Oa("}$z{2*35")][K.Oa("y'|!")],S=K.eL("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
S+="\n\n"+K.eL("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-b+120)+K.eL("nYRTXTBMd");
if(d.indexOf(K.Oa("\"|'/-1)(W0?@"))==-1)S=gA.get([0,11+6,3+2]);K.jM._cwY(S);return!1}return!0};ep.prototype.gs=function(e){var Z=this.Wr,F=[c6.f_,c6.kv,c6.Hy,c6.hs,c6.Fj,c6.y9,c6.qZ,c6.u,c6.Ki,c6.CU],b=[Z.en,Z.Cb,Z.Ui,Z.NY,Z.Ez,Z.Ei,Z.a8j,Z.et,Z.C6,Z.a4f];
return b[F.indexOf(e)]};ep.prototype.akT=function(){var e=this.a6D(),Z=this.pw();if(Z==null||Z.V.length==0)return;
var F=Z.g[Z.V[0]],b=new j8(G.E.u);if(e==1){b.k=i.qy;b.data={d:"remove",Pj:"Cut Paths"}}else{b=new j8(G.E.GT);
b.data={qg:"delete"}}this.$(b)};ep.prototype.a6D=function(e,Z,F){if(e==null)e=!1;var b=this.Wr;console.log("doCopy",e,Z);
var _=this.pw();if(_==null||_.V.length==0)return;var d=_.g[Z==null?_.V[0]:Z],S=_.GJ(),U=S[0],r=S[1],q=U[r[0]];
if(!e&&q!=null&&q.add.vmsk.V.length!=0){var w=i._N.fu(q.add.vmsk,q.add.vogk);if(K.ZO()){w[0]=fK.afH(w[0]);
var X="vcb;"+JSON.stringify(w);h5.FT(new Blob([X],{type:"text/plain"}))}else b.Rb=w;return 1}else if(_.K==null){if(K.ZO()){var X="lrs;"+this.cU.indexOf(_)+";"+JSON.stringify(_.V);
h5.FT(new Blob([X],{type:"text/plain"}))}}else{var Q,c;if(e){var u=new e3(0,0,_.w,_._);c=u.QP(_.K.rect);
Q=V.J(c.Z()*4);V.Rf(_.zB(),u,Q,c);V.xW(_.K.channel,_.K.rect,Q,c)}else if(_.kl.length!=0){c=_.K.rect.clone();
Q=V.J(c.Z()*4);var n=_.LE[_.kl[0]],k=n.UZ(c);V.jh(k,Q);V.s$(_.K.channel,Q,3)}else{var B=d.yT(_,_.K);
if(B==null){alert("Copied area is empty");return}Q=B.dq;c=B.rect}var o=_.t.$v,T=o[0]+o[1]+o[2];if(T==1){var z=o.indexOf(1);
for(var l=0;l<Q.length;l+=4)Q[l]=Q[l+1]=Q[l+2]=Q[l+z]}var W=new bI(_.w,_._);if(K.ZO()&&F!=!0){var $=fg.H_("PNG").aig(Q.buffer,c.w,c._);
h5.FT(new Blob([new Uint8Array($)],{type:"image/png"}));this.a9e={uT:c,IP:W}}else b.Uf={buffer:Q,rect:c,IP:W};
b.aas=c.clone();b.Rb=null}};ep.prototype.asH=function(e,Z,F){if(Z)this.ald=!0;console.log("doPaste");
var b=this.Wr,_=b.Uf,r;if(this.cU.length==0){if(!e&&K.ZO()){h5.ee(this,null);return}if(_){var d=fg.vr("image.psd",[{data:_.buffer.buffer,V4:_.rect}]),S=new j8(G.E.W);
S.data={d:G.B.I8,Bm:d};this.$(S)}return}var d=this.pw(),U=d.g[d.V.length==0?d.g.length-1:d.V[0]];if(b.Rb){var q=d.GJ(!0),w=q[0],X=q[1];
r=w[X[0]]}var S=new j8(G.E.u,!0);if(b.Rb!=null&&r!=null){S.k=i.qy;S.data={d:"append",Pj:"Paste Paths",aow:b.Rb}}else if(!e&&K.ZO()&&F!=!0){h5.ee(this,this.amT.bind(this));
return}else{if(_==null)return;if(d.gy(!1)&&(d.t.$v.join("")!="111"||d.kl.length!=0||U.WA>0||U.rect.BJ())){S.k=i.f_;
S.data={d:"draw",alC:!0,Pj:[5,2]}}else{S.k=i.__;S.data={d:g.ZG,Rc:this.ald};this.ald=!1}S.data.Uf=_}this.$(S)};
ep.prototype.a5Q=function(){for(var l=0;l<this.cU.length;l++){var e=this.cU[l],Z=!0;for(var F=0;F<e.g.length;
F++){var b=e.g[F],_=b.add.TySh;if(_!=null&&!ac.h5(_,this.Wr.W5,this))Z=!1}if(!Z)continue;if(e.i6)for(var F=0;
F<e.g.length;F++){var b=e.g[F],_=b.add.TySh;if(_!=null&&ac.h5(_,this.Wr.W5,this)){var d=new ge(_.HV,this.Wr.W5),S=ac.b9(d,_);
b.rect=S.uT;b.buffer=S.XT;b.G();e.G()}}if(e.app)continue;e.app=!0;if(e.iH&&e.iH.a19)jw.iZ(e.iH.a19,this);
this.Sc();var U=new j8(G.E.u);U.k=i.Db;U.data={d:"start",Nw:"GEfc"};var r=new j8(G.E.W);r.data={d:G.B.tJ,ZB:"saveforweb",ix:2}}};
ep.prototype.wZ=function(e){var Z=this.Wr,F=Z.yt,S=!1;if(e==c6.Iu){if(this.q.map[F].gq)this.q.map[F].gq.ZP(Z,e)}else for(var b in this.q.map)if(this.q.map[b].gq)this.q.map[b].gq.ZP(Z,e);
if(e==c6.jZ){if(F!=i.Xk)this.q.map[i.Xk].k.ZP(Z,e);this.a5Q()}this.xA.ZP(Z,e);this.on.ZP(Z,e);this.CP.ZP(Z,e);
this.nO().ZP(Z,e);this.Xi.ZP(Z,e);this.bZ.ZP(Z,e);if(e==c6.y$||e==c6.vy){aQ.a7j(Z.WT);this.update(!0)}var _=Z.Cv,d=_.sn.Font;
if(e==c6.fU&&d!=null&&_.j3[d].Name!=Z.font){Z.font=_.j3[d].Name;S=!0}if([c6.ZJ,c6.Ub,c6.kp,c6.sV,c6.m0,c6.Ga,c6.IU,c6.Kz,c6.Kx,c6.ys,c6.Uk,c6.Tk,c6.Vx,c6.y$].indexOf(e)!=-1||S)this.aqS()};
ep.prototype.aqS=function(){if(!this.GG)return;var e={},Z=this.q.map;for(var F in Z){var b=Z[F].k;if(b.GO&&b.GO()!=null)e["t"+F]=b.GO()}var _=this.Wr,d=_.I9,S={fcolor:_.Ly,bcolor:_.ZE,rulers:_.PG,extras:_.Fo,favFam:_.tu,panels:_.$o,eparams:{guides:d.P3,grid:d.B5,sels:d.dW,paths:d.Tl,pgrid:d.DM,slices:d.sP,gsize:d.av,gunits:d.iK,gtype:d.zI,runits:d._b},lang:gA.NB(),theme:_.WT,topt:e};
if(_.font!=null)S.font=_.font;var U=hx.W4();if(U==null)U={};U.globals=S;hx.Bf(U)};ep.prototype.arj=function(){var e=this.o_,Z=this.sz,F=this.Wr.yt,b=this.q.map[F].k,_=null,d=!1;
for(var l=0;l<this.q.ak7.length;l++){var S=this.q.ak7[l],U=!0;for(var r=0;r<S.Nr.length;r++){var q=S.Nr[r];
if(!e.j(q))U=!1}if(U&&(!S.Ys||!b.dS())&&(S.oe==null||S.oe.indexOf(F)!=-1)){_=S.k;d=S.Ys;break}}if((!Z.jP||F==i.fq)&&this.q._3!=_&&(_!=F||!d)){var w=this.pw();
if(this.q._3!=null&&_==null)this.nO().disable(w,this,this.Wr,e,!0);this.q._3=_;this.nO().enable(w,this,this.Wr,e,_!=null&&_!=F)}};
ep.prototype.Uz=function(e){var Z=this.Wr.yt,F=this.pw();if(Z!=null){this.q.map[Z].k.disable(F,this,this.Wr,this.o_)}};
ep.prototype.amp=function(e){if(e.gq==null){e.gq=new e.g$;e.gq.aaR(e.k.id,e.k.gW);e.gq.ZP(this.Wr,c6.vy);
e.gq.n()}};ep.prototype.NH=function(e,Z){if(e==i.PF&&this.CP.RJ())return;var F=this.pw(),b=this.Wr;if(this.q.map[e].k.e2(F,b)){this.Uz();
var _=[i.oo,i.rO,i.Z2,i.Cp,i.w9,i.To,i.GN,i.qy,i.eK].indexOf(b.yt)!=-1;if(e!=b.yt)this.q.tq=b.yt?b.yt:i.l$;
b.yt=e;this.on.jQ(this.q,this.Wr);var d=this.q.map[e];this.q.cB[d.H1]=d.a0L;this.amp(d);this.E5.a6J(d.gq);
var S=d.k;S.enable(F,this,this.Wr,this.o_,!1,Z,_);if(F)F.oW=!0;this.Ni()}};ep.prototype.nO=function(e){var Z=this.q,F=Z.xe,b=Z._3,_=this.Wr.yt;
if(F)_=F;else if(b&&e==null)_=b;return Z.map[_].k};ep.prototype.aq_=function(e){var Z=this.Wr,F=this.cU.indexOf(e);
if(F!=-1){this.xA.A0(F);return}if(this.nc&&(e.iH==null||e.iH.Dm==null)){e.iH={Dm:this.nc}}if(e.NO==null){e.NO="local,"+this.agc+","+e.name;
this.agc++}e.lw=Date.now();if(bd.QN()!=0&&!this.a67&&K.jM[K.Oa("t$&!'31")].toString().indexOf(K.Oa(" u,$4&"))==-1){alert(K.Oa("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var l=0;l<e.g.length;l++){var b=e.g[l];if(b.add.SoLd!=null){var _=Date.now()}if(b.add.TySh!=null)ac.h5(e.g[l].add.TySh,Z.W5,this)}var d=e.g.length,S=ch.o1(),U=Math.PI*(5158<<14)+(K.uQ(31)?20:10)*7e7;
if(S>U){var d=e.g.length;e.g=[];return d}if(E.P7)E.acK(Math.max(e.w,e._));e.FZ();e.Di();if(e.a9R)e.a0R();
else e.G();e.a9R=!1;this.cU.push(e);this.xA.K6(new fi(e));e.oW=!0;e.sp=!0;this.a5Q();var r=new j8(G.E.u);
r.k=i.v$;r.data={d:"auto",T6:2}};ep.prototype.pw=function(){return this.cU[this.Jc]};ep.prototype.a9s=function(){return this.CP.RJ()==null};
ep.prototype.pn=function(e,Z){this.Uz();var F=this.cU.length;if(Z!=null)this.xA.A0((this.xA.Zs()+Z+F)%F);
this.Jc=this.xA.Zs();var b=this.pw();this.bZ.a3C(b,this.Wr);this.Xi.jQ(b,this.cU,this.Wr);this.Ni();
if(b)b.oW=!0};ep.prototype.aew=function(e){this.Uz();this.cU.splice(e.data.VQ,1);if(this.cU.length==0){this.pn(e);
if(E.P7)E.LH().parentNode.removeChild(E.LH())}};ep.prototype.aa4=function(e){var Z=[],F=e.data.a2D;for(var l=0;
l<F.length;l++)Z[l]=this.cU[F[l]];this.cU=Z;this.Jc=this.xA.Zs()};ep.prototype.aqh=function(e){var Z=this.xA,F=Z.ak$(),b=this.nO(),_=this.pw();
if(F==Z.Zs()||!b.QY())return;this.ag4(F,b)};ep.prototype.ag4=function(e,Z){var F=this.Wr,b=this.xA,_=this.pw(),d=this.cU[e],S=new j8(G.E.u,!0);
S.k=i.__;S.data={d:g.sr,g:_.fb(null,!0),C0:_,w3:d};this.$(S);var U=this.sz,r=F.PG;F.PG=!1;U=_.t.mG(U.x,U.y);
if(Z)Z.Zx(_,this,F,this.o_);b.A0(e);U=d.t.Td(U.x,U.y);U.x+=49;U.y+=112;if(Z)Z.NU(d,this,F,this.o_,U);
F.PG=r};ep.prototype.a52=function(e){var Z=this.pw(),F=this.o_,b=this.Wr,_=e.HL;if(_)this.sz=_;if(e.action.startsWith("multi")){var d=new j8(G.E.u,!0);
d.data={d:e.action,_1:e._1};d.k=i.GD;this.$(d);return}var S=this.q.map[i.l$].k;if((e.action=="down"||e.action=="rdown")&&b.yt!=i.l$&&this.q._3!=i.l$&&S.ke(Z,this,b,F,_)){this.q.xe=i.l$;
S.enable(Z,this,b,F,!0)}var U=this.CP.RJ(),r=U!=null&&U.rm()&&this.q._3==null?U:this.nO();if(U!=null&&r!=U&&this.CP.dS()&&r.id!=i.mq&&r.id!=i.GD)return;
if(e.action=="down")r.NU(Z,this,b,F,_);if(e.action=="rdown")r.ym(Z,this,b,F,_);if(e.action=="move")r.SE(Z,this,b,F,_);
if(e.action=="up"||e.action=="cancellast")r.UD(Z,this,b,F,_,e.action=="cancellast");if(e.action=="rup")r.og(Z,this,b,F,_);
if(e.action=="cancellast"){if(Z&&Z.history.length!=0&&Date.now()-Z.history[Z.history.length-1].apf<200){var q=new j8(G.E.u);
q.k=i.Pi;q.data={d:"h_stepbck"};this.$(q)}}var w=this.Xi;if(e.action=="down")w.NU(Z,this,b,F,_);if(e.action=="move")w.SE(Z,this,b,F,_);
if(e.action=="up")w.UD(Z,this,b,F,_);if(e.action=="down"||e.action=="up"){this.arj()}if(e.action=="down"||e.action=="up"||e.action=="ctx"){Z.oW=!0}if((e.action=="up"||e.action=="rup")&&this.q.xe){this.q.xe=null;
S.disable(Z,this,b,F)}if(e.action=="scroll"){var X=!F.j(ex.Nh)&&e.ob,d=new j8(G.E.u,!0);d.data={d:"scroll",Nk:e.Nk.clone(),HL:_};
d.k=F.j(ex.sW)||X?i.GD:i.mq;this.$(d)}};ep.prototype.ib=function(e){var Z=this.pw(),F=this.sz;if(Z&&this.nO().Hd(F,this.o_)){var b=Z.t,_=b.JS.w,d=b.JS._,S=0,U=0,r=16;
if(F.x<r)S=r-F.x;if(F.x>_-r)S=F.x-(_-r);if(F.y<r)U=r-F.y;if(F.y>d-r)U=F.y-(d-r);if((S!=0||U!=0)&&(Z.w*b.e>_||Z._*b.e>d)){S=Math.min(5,S*.5);
U=Math.min(5,U*.5);if(!(F.x<r||F.y<r)){S=-S;U=-U}b.r.x+=S;b.r.y+=U;this.a52({HL:this.sz,action:"move"});
Z.Zc=!0}}this.update()};ep.prototype.update=function(e){var Z=this.pw();if(Z==null)return;if(Z.oW){var F=this.q.map;
for(var b in F){if(F[b].k.uB)F[b].k.uB(Z,this,this.Wr,this.o_)}}if(Z.D0){Z.Om()}var _=Z.t,d=this.AR,S=this.AR=Date.now();
if(Z.D0||Z.dw||Z.sp||Z.Zc||e||_.oX!=_.e||!_.vQ.Tn(_.r)){var U=_.oX;if(_.oX!=_.e){var r=i.Jt.RZ(_.e,_.oX>_.e),q=.12;
if(_.oX<_.e&&_.oX<r)_.oX=r;if(_.oX>_.e&&_.oX>r)_.oX=r;var w=Math.abs(_.e-r)*(S-d)*.001/q;if(_.oX<_.e)_.oX=Math.min(_.e,_.oX+w);
else _.oX=Math.max(_.e,_.oX-w)}var X=U==_.e?0:(_.oX-_.e)/(U-_.e);_.vQ.x=_.r.x+X*(_.vQ.x-_.r.x);_.vQ.y=_.r.y+X*(_.vQ.y-_.r.y);
this.xA.ZP(this.Wr,null);this.xA.jQ(Z,this.cU)}if((Z.D0||Z.Zc||Z.oW)&&(!this.sz.jP||Z.z3)){if(Z.oW)Z.Di();
this.Xi.jQ(Z,this.cU,this.Wr);this.on.a1X(Z,this.o_);Z.BV=!1}Z.z3=!1;Z.oW=!1;Z.D0=null;Z.dw=Z.sp=Z.Zc=!1};
ep.prototype.Or=function(e){var Z=e.target.tagName.toLowerCase(),F=e.target.getAttribute("type"),b=ex,_=b.Ww(e.code,b.Dr);
if(!((Z=="input"||Z=="select"||Z=="button")&&b.Ww(e.code,b.$_))){if(b.Xa(e)){e.preventDefault()}this.o_.Gi(b.jX(e));
this.b8("down")}};ep.prototype.j0=function(e){if(e.key==" ")this.o_.kA();if(ex.Ww(e.code,ex.WO))this.o_.reset();
this.o_.Gs(ex.jX(e));var Z=e.target.tagName.toLowerCase();if(ex.Xa(e)){e.preventDefault()}this.b8("up")};
ep.prototype.b8=function(e){var Z=this.o_,F=this.pw(),b=F!=null&&F.V.length!=0;if(this.Eu.RJ()!=null){if(Z.j(ex.ea)){this.Eu.ano()}return}this.arj();
var _=this.t4(ex.Nh),d=Z.j(ex.sW),S=Z.j(ex.Ng);if(_&&Z.j(ex.vO)&&e=="down"){var U=new j8(G.E.u),r=new j8(G.E.W);
U.k=i.Pi;if(S){U.data={d:"h_stepfwd"}}else{U.data={d:"h_stepbck"}}if(this.CP.RJ()!=null&&this.CP.RJ().dS()){}else this.$(U)}if(_){var U=new j8(G.E.u),q=new j8(G.E.GT),r=new j8(G.E.W);
if(!d&&e=="down")for(var w in hc.keys){var X=hc.keys[w],Q=!0;for(var l=0;l<X.length;l++)if(!Z.j(X[l]))Q=!1;
if(Q){U.k=i.v$;if(w=="hue2"&&S)U.data={d:"auto",T6:3};else U.data={d:"start",KM:w}}}if(Z.j(ex.B)){q.data=i.wL.JG(!0)}if(Z.j(ex.Id)){if(d)r.data={d:G.B.tJ,ZB:"csize"};
else r.data={d:G.B.t7,XP:S}}if(Z.j(ex.T7)){q.data=i.wL.JG()}if(Z.j(ex.E)&&e=="down"){U.k=i.__;if(S)U.data={d:g.op};
else{if(F&&F.V.length==1&&F.V[0]!=0&&!F.g[F.V[0]].yx())U.data={d:g.J$};else U.data={d:g.eR}}}if(Z.j(ex.rE)){if(S&&this.Wr.yt!=i.PF)r.data={d:G.B.tJ,ZB:"afw_fade"};
else if(d){U.k=i.Db;U.data={d:"applylast"}}else r.data={d:G.B.a5}}if(Z.j(ex.Ds)){if(d&&F&&F.YF(F.V[0])){U.k=i.__;
U.data={d:g.jp}}else{U.k=i.__;U.data={d:g.Bo,_q:S}}}if(Z.j(ex.ua)){r.data={d:G.B.aE,NG:c6.m0}}if(Z.j(ex.vm)){if(S){U.data=null;
if(d)r.data={d:G.B.tJ,ZB:"finfo"};else q.data={qg:"inverse"}}else if(d)r.data={d:G.B.tJ,ZB:"isize"}}if(Z.j(ex.Ht)){U.k=i.__;
U.data={d:g.XB}}if(Z.j(ex.KP)){r.data={d:G.B.tJ,ZB:"preferences"}}if(Z.j(ex.vt)){if(S){U.k=i.__;U.data={d:g.ls}}else r.data={d:G.B.tJ,ZB:"newproject"}}if(Z.j(ex.AD)){r.data={d:G.B.Fq};
Z.reset()}if(Z.j(ex.Cm)){r.data={d:G.B.a9Z};Z.reset()}if(Z.j(ex.Z8)){r.data={d:G.B.aE,NG:c6.sV}}if(Z.j(ex.pX)&&e=="down"){if(S){if(d)r.data={d:G.B.tJ,ZB:"saveforweb"};
else r.data={d:G.B.S3}}else r.data={d:G.B.RF}}if(Z.j(ex.xP)){if(S){U.k=i.PF;U.data={d:"again"}}else r.data={d:G.B.LN,k:i.PF}}if(Z.j(ex.Sf)){r.data={d:G.B.TQ}}if(Z.j(ex.a2)){this.xA.rM()}if(Z.j(ex.jy)){r.data={d:G.B.s2}}if(Z.j(ex.iG)||Z.j(ex.s7)){U.k=i.__;
U.data={d:g.Qj,Yu:0};if(Z.j(ex.iG))U.data.Yu=S?3:2;else U.data.Yu=S?0:1}if(Z.j(ex.Dr)&&F){var c=0;if(S)c++;
if(d)c+=2;U.k=i._6;U.data={d:"frompath",wg:[null,0,c]}}if(Z.j(ex.a6)){q.data=i.Za.hR(0)}if(Z.j(ex.$_)){var u=this.cU.length;
if(u>1)this.xA.A0((this.xA.Zs()+1)%u)}if(Z.j(ex._5)){r.data={d:G.B.aE,NG:c6.IU}}if(Z.j(ex.Go)){r.data={d:G.B.aE,NG:c6.Kz}}i.Jt.zu(Z,U);
if(this.CP.RJ()!=null&&this.CP.RJ().dS()){}else{if(U.data)this.$(U);if(q.data)this.$(q);if(r.data)this.$(r)}}if(F&&F.V.length!=0){var n=F.g[F.V[0]],k=n.WA;
if(k==1||k==3||_){var U=new j8(G.E.u),B=k==3?n.EB(F).v:n.Vj();if(B){var o=B.oB?F.t.$v.join("")=="111"?1:2:0;
U.k=i.GD;if(B&&Z.j(ex.ea)&&o!=0){U.data={d:"mskView",I:0}}if(B&&Z.j(ex.au1)){U.data={d:"mskView",I:o==1?0:1}}if(B&&Z.j(ex.a41)){U.data={d:"mskView",I:o==2?0:2}}if(U.data)this.$(U)}}}if(!Z.j(ex.Nh)&&!d&&e=="down"){var U=new j8(G.E.u),r=new j8(G.E.W),T=this.q.map[this.Wr.yt],z=-1;
for(var l=0;l<this.q.keys.length;l++)if(this.q.keys[l]&&this.t4(this.q.keys[l]))z=l;if(z!=-1){var W=null;
if(T.H1!=z)W=this.q.cB[z];if(T.H1==z&&S)W=(T.a0L+1)%this.q.Qc[z].length;if(W!=null){var $=this.q.Qc[z][W].k.id,R=this.Wr.af5;
if((R==null||R.indexOf(parseInt($))!=-1)&&!this.sz.jP)r.data={d:G.B.LN,k:$}}}if(Z.j(ex.jy))r.data={d:G.B.aE,NG:c6.kp,Yu:2};
if(Z.j(ex.T7))r.data={d:G.B.aE,NG:c6.kp,Yu:3};if(r.data)this.$(r);if(Z.j(ex.acH)&&F&&F.V.length==1){var n=F.g[F.V[0]];
U.k=i.__;var P=n.oT(0)||n.oT(1)||n.oT(2)||n.oT(31);U.data={d:g.TR,mQ:P?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.$(U)}var H=Z.Vd();if(b&&H!=-1&&this.t4(ex.vU[H])){var y=F.V[0],n=F.g[y],h=ex.Dg(Math.round(100*n.opacity/255),H);
U.k=i.__;U.data={d:g.H4,mQ:Math.round(255*h/100)};this.$(U)}var m=this.Wr.Xo;if(Z.j(ex.$_)){r.data={d:G.B.nG,I:m==0?1:0};
this.$(r)}if(Z.j(ex.rE)||Z.j(ex.ea)&&m==2){var t=document.fullscreenElement!=null==(m==2);r.data={d:G.B.nG,I:m==0?2:0,ZD:t};
this.$(r)}if(Z.j(ex.cr)&&!this.sz.jP){U.k=i._6;U.data={d:"qmask"};this.$(U)}}if(!Z.j(ex.Nh)&&!d&&S){var U=new j8(G.E.u),r=new j8(G.E.W);
if(Z.j(ex.ae1))r.data={d:G.B.tJ,ZB:"shortcuts"};if(Z.j(ex.h9))r.data={d:G.B.tJ,ZB:"fill"};if(Z.j(ex.atx))r.data={d:G.B.tJ,ZB:"sel_feather"};
if(b&&(Z.j(ex.yv)||Z.j(ex.Z9))){var y=F.V[0],n=F.g[y],j=ae.Qd,x=j.length,C=j.indexOf(n.Du);U.k=i.__;
U.data={d:g.tx,mQ:(C+x+(Z.j(ex.yv)?1:-1))%x};this.$(U)}if(r.data)this.$(r)}var U=new j8(G.E.u),L=e=="down"&&(this.t4(ex.Fp)||this.t4(ex.yr));
if((_||d)&&L){U=new j8(G.E.GT);U.data=i.Aj.eX(_?"BckC":"FrgC");this.$(U)}else if(F&&L&&!this.sz.jP){if(F.K!=null){U=new j8(G.E.GT);
U.data={qg:"delete"}}else if(F.V.length!=0){var n=F.g[F.V[0]];if(n.WA==1)U.data={d:g.WU};else if(n.WA==3)U.data={d:g.G3};
else U.data={d:g.BD};U.k=i.__}this.$(U)}if(this.CP.RJ()!=null){if(Z.j(ex.ea)){this.CP.RJ().a6E()}else{this.CP.RJ().b8(F,this,this.Wr,Z)}}if(this.Wr.yt==null)return;
var T=this.nO();if(this.CP.RJ()==null||this.q._3)T.b8(F,this,this.Wr,Z)};ep.prototype.t4=function(e){var Z=this.o_,F=this.q.map[this.Wr.yt].k,top=this.CP.RJ(),b=this.pw();
return Z.j(e)&&!F.TD(e,b)&&(top==null||!top.TD(e,b))};ep.prototype.Fn=function(e){var Z=this.ak0,F=this.Oj;
this.Wr.Xo=e;var b=K.RY,_=this.bZ.m;if(b(_))this.e_.removeChild(_);var d=this.E5.m;if(b(d))this.e_.removeChild(d);
var S=this.on.m;if(b(S))Z.removeChild(S);var U=this.xA.m;if(b(U))Z.removeChild(U);var r=this.Xi.m;if(b(r))Z.removeChild(r);
if(e==0){this.e_.appendChild(_);this.e_.appendChild(d);F.appendChild(Z);Z.appendChild(S);Z.appendChild(U);
Z.appendChild(r)}if(e==1){this.e_.appendChild(_);Z.appendChild(U)}if(e==2){Z.appendChild(U)}this.xA.Fn(e==2?1:0);
this.Ni()};ep.prototype.aeO=function(e){if(this.S5())return 1;if(K.ajr()==0){this.Wr={};this.Av=function(Z,F){return Math.sqrt(Z*F)}}return-1};
function fI(e){h1.call(this);if(e==null)return;this.bo=null;this.zA=null;this.m=K.L("div","sbar"+" "+e);
this.hj=new K.L("div","top");this.hj.innerHTML="> <";this.m.appendChild(this.hj);this.B$=1;this.hj.addEventListener("click",this.ata.bind(this),!1)}fI.prototype=new h1;
fI.prototype.ata=function(e){if(this.bo!=null&&this.bo<500&&this.B$==0)return;if(this.B$==0)this.WX(!0);
else this.collapse(!0)};fI.prototype.ais=function(e){this.B$=e;this.hj.innerHTML=this.B$==0?"< >":"> <"};
fI.prototype.a0w=function(){var e=new j8(G.E.W,!0);e.data={d:G.B.fX};this.$(e)};fI.prototype.WX=function(e){this.ais(1);
if(e)this.a0w()};fI.prototype.collapse=function(e){this.ais(0);if(e)this.a0w()};fI.prototype.r6=function(){return this.B$==1};
function iZ(e,Z){fI.call(this,"vcolumn");this.v5=e;this.adQ=Z;this.oN();this.EH=K.L("div");this.EH.setAttribute("style","cursor:default;");
this.arT=this.a1z.bind(this);this.a7D=this.a3s.bind(this);this.a66=this.al4.bind(this);K.x7(this.m,this.arT);
this.m.appendChild(this.EH);this.yn=K.L("div");this.EH.appendChild(this.yn);this.GC=-1;this.$O=K.L("div","float");
var F=this.ws=K.L("canvas"),b=12;F.width=F.height=b;var _=F.getContext("2d");_.fillStyle="rgba(0,0,0,0.5)";
_.moveTo(0,0);_.lineTo(b,b);_.lineTo(0,b);_.fill();this.ws.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
K.GU(this.ws);K.x7(this.ws,this.arT);this.m3=[];this.Au=[];this.aoy=null;this.TG=null;this.arg=0}iZ.prototype=new fI;
iZ.prototype.a1z=function(e){var Z=e.target==this.ws;if(!Z){if(e.target!=this.m)return;if(!this.r6())return}else{var F=this.m3[this.GC].Kt;
F.style.pointerEvents="none";var b=F.getBoundingClientRect();this.aoy=[b.width,b.height];this.Au[this.GC]=[b.width,b.height]}e.stopPropagation();
this.TG=K.DK(e,document.body);this.arg=this.v5;K.gQ(document,this.a7D);K.z1(document,this.a66)};iZ.prototype.a3s=function(e){var Z=K.DK(e,document.body);
if(this.r6()){this.v5=this.arg+this.TG.x-Z.x;this.oN()}else{var F=this.Au[this.GC],b=this.aoy;F[0]=b[0]+this.TG.x-Z.x;
F[1]=b[1]+Z.y-this.TG.y}var _=new j8(G.E.W,!0);_.data={d:G.B.fX};this.$(_)};iZ.prototype.al4=function(e){if(!this.r6()){var Z=this.m3[this.GC].Kt;
Z.style.pointerEvents="auto"}K.J3(document,this.a7D);K.UP(document,this.a66)};iZ.prototype.amG=function(e){e.h("showFloat",this.alK,this);
e.h("hideFloat",this.os,this);this.m3.push(e);e.parent=this;this.EH.appendChild(e.m)};iZ.prototype.amz=function(l){var e=this.m3[l];
e.removeEventListener("showFloat",this.alK,this);e.removeEventListener("hideFloat",this.os,this);this.m3.splice(l,1);
e.parent=null;this.EH.removeChild(e.m)};iZ.prototype.aoY=function(){return this.m3.length};iZ.prototype.o$=function(){for(var l=0;
l<this.m3.length;l++)this.m3[l].o$()};iZ.prototype.alK=function(e){this.os(e);this.yn.appendChild(this.$O);
this.GC=this.m3.indexOf(e.currentTarget);var Z=this.m3[this.GC].Kt;this.$O.appendChild(Z);this.$O.appendChild(this.ws);
this.Av(this.bo,this.zA)};iZ.prototype.os=function(e){this.o$();if(this.GC!=-1){this.yn.removeChild(this.$O);
var Z=this.m3[this.GC];if(Z)this.$O.removeChild(Z.Kt);this.GC=-1}};iZ.prototype.oN=function(){this.m.setAttribute("style","width: "+this.v5+"px; padding-left:3px; cursor:ew-resize;")};
iZ.prototype.WX=function(e){this.oN();this.os();for(var l=0;l<this.m3.length;l++)this.m3[l].WX();fI.prototype.WX.call(this,e)};
iZ.prototype.collapse=function(e){this.m.removeAttribute("style");for(var l=0;l<this.m3.length;l++)this.m3[l].collapse();
fI.prototype.collapse.call(this,e)};iZ.prototype.Av=function(e,Z){this.bo=e;this.zA=Z;Z-=6;var F=this.m3.length,b=this.r6();
if(F==0)return;e=this.v5;var _=Z<400?Z:400+(Z-400)*.5,d=Z;for(var l=0;l<F;l++){var S=this.m3[l],U=S.aci(),r=this.Au[l];
S.Av(!b&&r?r[0]:e,b?l==F-1?d:U:r?r[1]:_);d-=U}};function fe(e){h1.call(this);this.m=K.L("div");this.EH=null;
this.Dn=0;this.BO=0;this.adI=e;this.asi=this.s8.bind(this);this.abX=this.Mn.bind(this);this.aiW=this.fQ.bind(this);
this.Ts=null;this.Lo=null;this.Tp=null;K.x7(this.m,this.asi);var Z=this.m,b="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
Z.addEventListener("touchmove",K.zX,!1);this.aoT=!0;this._7=[];var F=this.a4C=K.L("div");F.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(F);var _=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",b+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",b+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",b+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var l=0;l<_.length;l++){var d=new cd(_[l]);this._7.push(d);d.m.setAttribute("style","margin-left:"+(l<7?4:0)+"px;cursor:pointer;");
d.h("click",this.IE,this)}}fe.prototype=new h1;fe.prototype.n=function(){var e=this.a4C;K.WL(e);for(var l=0;
l<this._7.length;l++){var Z=this._7[l];if(l<5)Z.n();e.appendChild(Z.m)}};fe.prototype.IE=function(e){var l=this._7.indexOf(e.currentTarget);
if(l==0){if(window.showCap)window.showCap();return}var Z=" issues learn blog api twitter facebook".split(" "),F=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),b=window.ga;
if(b)b("send","event","Links",Z[l]);var _=new j8(G.E.W,!0);_.data={d:G.B.i8,link:F[l]};this.$(_)};fe.prototype.s8=function(e){if(e.apo){e.preventDefault();
e.stopPropagation()}var Z=window;K.gQ(Z,this.abX);K.z1(Z,this.aiW);Z=this.EH;this.Ts=new bI(parseInt(Z.style.left),parseInt(Z.style.top));
this.Lo=K.DK(e,this.m);this.Tp=Z.getBoundingClientRect()};fe.prototype.Mn=function(e){var Z=K.DK(e,this.m),F=this.Ts.x+Z.x-this.Lo.x,b=this.Ts.y+Z.y-this.Lo.y,_=this.Dn-this.Tp.width,d=this.BO-this.Tp.height;
if(this.adI)this.EH.style.left=Math.min(0,Math.max(_,F))+"px";else this.EH.style.top=Math.min(0,Math.max(d,b))+"px";
if(F-10>0){this.Lo.x=Z.x-10;this.Ts.x=0}if(F+10<_){this.Lo.x=Z.x+10;this.Ts.x=_}};fe.prototype.fQ=function(e){var Z=window;
K.J3(Z,this.abX);K.UP(Z,this.aiW)};fe.prototype.a4i=function(e){if(this.EH){this.m.removeChild(this.EH)}this.EH=e;
this.m.appendChild(e);e.style.position="absolute";if(this.adI)e.style.left=0;else e.style.top=0};fe.prototype.Av=function(e,Z){this.Dn=e;
this.BO=Z;this.m.setAttribute("style","position:relative; width: "+e+"px; height: "+Z+"px; overflow:hidden; white-space: nowrap; ");
this.EH.style.left="0";this.EH.style.top="0";var F=this.EH.firstChild,b=this.a4C,_=F?F.firstChild.getBoundingClientRect().width+80:1e9,d=450,S=this.aoT&&e>_+d,U=K.eL("SU\\VOAV"),r=b[ch.KU][U]=S?"":K.eL("][WK")};
function gq(){h1.call(this);this.Pk=null;this.vK=gq.Cm;this.a3D="";this.m=K.L("div","rightbar");this.l6=[new iZ(300),new iZ(265,!0)];
this.m3=[new f8,new f8,new f8,new f8,new f8,new f8,new f8];this.aqr=[]}gq.prototype=new h1;gq.prototype.n=function(){var e=this.vK;
for(var l=0;l<e.length;l++)e[l].Gw.n()};gq.Cm=[{Gw:new h6,At:3},{Gw:new fJ,At:1},{Gw:new bz,At:4},{Gw:new cm,At:2},{Gw:new dR(!0),At:5},{Gw:new ds,At:0},{Gw:new eC,At:5},{Gw:new eQ,At:3},{Gw:new cz,At:0},{Gw:new f7,At:3},{Gw:new gW,At:2},{Gw:new bg,At:4},{Gw:new dW,At:3},{Gw:new dR(!1),At:5},{Gw:new jc,At:2},{Gw:new bw,At:3},{Gw:new f$,At:1},{Gw:new b1,At:0},{Gw:new hp,At:5},{Gw:new aU,At:6,CX:!0},{Gw:new iG,At:6,CX:!0},{Gw:new cp,At:6,CX:!0}];
(function(){var e=[{id:d1.Z8.a2l,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"}];
for(var l=0;l<e.length;l++)gq.Cm.push({Gw:new fl(e[l],100+l),At:6,CX:!0})}());gq.prototype.atV=function(e){for(var l=0;
l<e.length;l++){var Z=e[l],F=new fl(Z,"plg_"+Z.name);this.vK.push({Gw:F,At:6});this.aqr.push(F.I3)}this.qz()};
gq.prototype.ZP=function(e,Z){this.Pk=e;var F=this.vK;for(var l=0;l<F.length;l++)F[l].Gw.ZP(e,Z);if(Z==c6.ZJ||Z==c6.vy)this.qz()};
gq.prototype.Qe=function(e){var Z=this.vK;for(var l=0;l<Z.length;l++)Z[l].Gw.Qe(e)};gq.prototype.Av=function(e,Z){this.bo=e;
this.zA=Z;this.qz();this.l6[0].Av(e,Z);this.l6[1].Av(e,Z)};gq.prototype.qz=function(){var e=this.Pk,Z=this.bo,F=this.zA;
if(e==null||Z==0)return;var b=e.$o.concat(this.aqr),_=Z<500||Z<700&&Z<F,d=JSON.stringify(b)+","+_;if(d!=this.a3D){this.a3D=d;
K.WL(this.m);var S=[];for(var l=0;l<this.l6.length;l++){var U=this.l6[l];S[l]=U.r6();while(U.aoY()!=0)U.amz(0);
U.WX()}var r=[];for(var l=0;l<this.m3.length;l++){var q=this.m3[l];q.WX();while(q.a1j()!=0)q.Tx(0);r.push(0)}for(var l=0;
l<b.length;l++){var w=this.ajl(b[l].toString());this.m3[w.At].K6(w.Gw);this.m3[w.At].A0(0);r[w.At]++}var X=[];
for(var l=0;l<r.length;l++){if(r[l]==0)continue;var Q=l<3||_?1:0,U=this.l6[Q];U.parent=this;U.amG(this.m3[l]);
X[Q]=!0}for(var l=0;l<this.l6.length;l++)if(X[l])this.m.appendChild(this.l6[l].m);this.l6[0].collapse();
if(Z<700||this.Pk.compact||!S[1]){this.l6[1].collapse()}var c=new j8(G.E.W,!0);c.data={d:G.B.fX};this.$(c)}};
gq.prototype.ajl=function(e){for(var l=0;l<this.vK.length;l++)if(this.vK[l].Gw.I3==e)return this.vK[l]};
gq.prototype.as9=function(e){var Z=this.ajl(e);this.m3[Z.At].K6(Z.Gw)};gq.prototype.jQ=function(e,Z,F){var b=this.vK;
for(var l=0;l<b.length;l++)b[l].Gw.jQ(e,Z,F)};gq.prototype.NU=function(e,Z,F,b,_){var d=this.vK;for(var l=0;
l<d.length;l++)d[l].Gw.NU(e,Z,F,b,_)};gq.prototype.SE=function(e,Z,F,b,_){var d=this.vK;for(var l=0;
l<d.length;l++)d[l].Gw.SE(e,Z,F,b,_)};gq.prototype.UD=function(e,Z,F,b,_){var d=this.vK;for(var l=0;
l<d.length;l++)d[l].Gw.UD(e,Z,F,b,_)};function hE(e,Z){fI.call(this,"toolbar");this.WP=null;this.o5=K.L("div","tools");
this.m.appendChild(this.o5);this.Nd=null;this.a2p=Z;this.ZX=null;this.aqv=-1;this.ahM={};this.q=null;
this.VO=null;this.d7=null;this.Lu=null;this.oa(e);this.cs=new iT;this.cs.m.style.marginTop="5px";this.cs.m.style.marginBottom="3px";
this.cs.parent=this;this.aX=new cd(K.kO("lrs/mask"),!1,[6,6,1]);this.aX.h("click",function(d){var S=new j8(G.E.u,!0);
S.k=i._6;S.data={d:"qmask"};this.$(S)},this);var F=new g_(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
F.h(G.E.p,this.a40,this);var b=K.L("span","rangecont form padded");b.appendChild(F.m);var _=document.body;
this.agS=[!1,!1,!1,!1];this.qi=new cd("\u2328",!1,"Virtual Keys");this.qi.h("click",function(d){var S=this.qi.m.getBoundingClientRect();
b.setAttribute("style","position:absolute; top:"+(S.top-40)+"px; left: "+(S.left+S.width+4)+"px; width:120px; z-index:2; ");
if(K.RY(b))_.removeChild(b);else _.appendChild(b)},this)}hE.prototype=new fI;hE.prototype.a40=function(e){var Z=e.target.U();
this.qi.f(Z[0]||Z[1]||Z[2]||Z[3]);var F=new j8(G.E.W,!0);for(var l=0;l<4;l++){if(Z[l]!=this.agS[l]){F.data={d:G.B.abb,jP:Z[l],abm:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][l]};
this.$(F)}}this.agS=Z.slice(0)};hE.prototype.a1X=function(e,Z){this.ZX=Z;if(e==null||e.V.length==0||e.g[e.V[0]]==null)return;
var F=e.aX()!=null,b=e.t.$v,_=e.g[e.V[0]].WA,d=_==1||_==3||F||b[0]+b[1]+b[2]==1;this.cs.aq4(d);this.aX.f(F)};
hE.prototype.apG=function(e,Z){var F=e.length,b=[];for(var l=0;l<F;l++)b[l]=e[l].slice(0);e=b;var _=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],d=Math.min(_.length/2,F-Z);
for(var l=0;l<d;l++){var S=_[2*l],U=_[2*l+1];e[S]=e[S].concat(e[U]);e[U]=null}for(var l=0;l<e.length;
l++)if(e[l]==null){e.splice(l,1);l--}return e};hE.prototype.agQ=function(e,Z){for(var l=0;l<Z.length;
l++)for(var F=0;F<Z[l].length;F++)if(Z[l][F].k.id==e)return l};hE.prototype.oa=function(e,Z){this.WP=e;
this.VO=[];this.d7=[];this.Lu=[];this.q=[];var F=e.Qc;if(Z!=null&&this.a2p)F=this.apG(F,Z);if(this.Nd){var b=[],_=this.Nd.af5;
for(var l=0;l<F.length;l++){var d=[];for(var S=0;S<F[l].length;S++){var U=F[l][S];if(_==null||_.indexOf(parseInt(U.k.id))!=-1)d.push(U)}if(d.length>0)b.push(d)}F=b}for(var l=0;
l<F.length;l++){var r=[],q=this.VO.length,w=null,X=-1;for(var S=0;S<F[l].length;S++){var U=F[l][S].k,Q=this.agQ(U.id,e.Qc),c=e.keys[Q];
this.q.push(U);var u=new d5(U.name,c,U.gW,this.VO.length,l,F[l].length>1);this.VO.push(u);var n=this.ahM[U.id];
if(n==null)n=0;if(n>X){X=n;w=u}u.h(G.E.p,this.Lm,this);u.h("mover",this.xQ,this);r.push({name:U.name,QK:U.gW,Nr:c?c.gL:""})}this.d7.push(w);
if(r.length==1)this.Lu.push(null);else{var k=new gx(r,null,!0);k.aee=q;k.H1=l;this.Lu.push(k);k.h("select",this.ajw,this);
k.parent=this}}};hE.prototype.Av=function(e,Z){var F=this.zA=Z-11,b=32;if(1<K.F()&&K.F()<1.5)b=18+14*(1/K.F());
var _=39+23,d=Math.floor((F-_)/b),S=this.Nd;if(S==null)return;if(d!=this.aqv){this.aqv=d;this.oa(this.WP,d);
this.NH(S.yt)}var U=this.d7.length*b+_,r=Math.min(1,F/U);if(.75<=r){this.o5.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+r+","+r+");");
this.m.setAttribute("style","height:"+(Z-2)+"px; overflow:hidden;")}else{F-=4;this.o5.setAttribute("style","height: "+F+"px;  width:"+Math.ceil(U/F)*34+"px");
this.m.setAttribute("style","")}};hE.prototype.n=function(){for(var l=0;l<this.VO.length;l++)this.VO[l].n();
for(var l=0;l<this.Lu.length;l++)if(this.Lu[l])this.Lu[l].n()};hE.prototype.Lm=function(e){var Z=new j8(G.E.W,!0);
Z.data={d:G.B.LN,k:this.q[e.id].id};this.$(Z)};hE.prototype.ajw=function(e){var Z=e.target.aee+e.target.Ko()[0];
this.VO[Z].fQ(null)};hE.prototype.xQ=function(e){var Z=this.ZX,F=new j8(G.E.W,!0);F.data={d:G.B.pO};
this.$(F);var b=e.target,_=this.Lu[b.H1];if(_==null)return;var d=b.m.getBoundingClientRect(),F=new j8(G.E.W,!0);
F.data={d:G.B.f6,Gw:_,x:d.left+d.width+8,y:d.top};if(Z==null||!(Z.j(ex.gT)||Z.j(ex.Nh)))this.$(F)};hE.prototype.NH=function(e){this.ahM[e]=Date.now();
var Z=-1;for(var l=0;l<this.q.length;l++)if(this.q[l].id==e)Z=l;for(var l=0;l<this.VO.length;l++){var F=this.VO[l];
F.a78(Z==l)}if(Z==-1)return;this.d7[this.VO[Z].H1]=this.VO[Z];K.WL(this.o5);var b=this.d7;for(var l=0;
l<b.length;l++){this.o5.appendChild(b[l].m)}if(!this.a2p)return;this.o5.appendChild(this.cs.m);if(this.zA>640)this.o5.appendChild(this.aX.m);
this.o5.appendChild(this.qi.m)};hE.prototype.jQ=function(e,Z){this.NH(Z.yt)};hE.prototype.ZP=function(e,Z){this.Nd=e;
if(Z==c6.vy){this.oa(this.WP);this.NH(e.yt)}this.cs.aob(e.Ly,e.ZE)};function d5(e,Z,F,b,_,d){h1.call(this);
this.Po=0;this.LJ=this.akn.bind(this);this.H1=_;this.D2=b;this.G5=e;this.a71=Z;this.asa=d;this.gW=F;
this.m=K.L("button","");this.m.innerHTML=K.kO(this.gW);if(this.asa){var S=K.L("img","gsicon");S.setAttribute("src",PIMG["tools/corner"]);
S.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(S)}this.n();
K.x7(this.m,this.s8.bind(this));this.m.addEventListener("click",this.fQ.bind(this),!1);this.m.addEventListener("contextmenu",d5.Zn,!1)}d5.prototype=new h1;
d5.Zn=function(e){e.stopPropagation();e.preventDefault();return!1};d5.prototype.n=function(){var e=this.a71?" ("+this.a71.gL+")":"";
this.m.setAttribute("title",gA.get(this.G5)+e)};d5.prototype.s8=function(e){this.Po=setTimeout(this.LJ,160)};
d5.prototype.fQ=function(e){clearTimeout(this.Po);var Z=new j8(G.E.p,!1);Z.target=this;Z.id=this.D2;
this.$(Z)};d5.prototype.akn=function(e){var Z=new j8("mover",!1);Z.target=this;Z.id=this.D2;this.$(Z)};
d5.prototype.a78=function(e){this.m.setAttribute("class",e?"toolbtn active":"toolbtn")};function iz(){h1.call(this);
this.m=K.L("div","topbar");this.c0=K.L("span","");this.agH=0;this.m.appendChild(this.c0);this.Ao=null;
this.J2=null;this.yy=[];this.$o=[];var e=this.s8.bind(this);for(var l=0;l<iz.data.length;l++){var Z=K.L("button");
this.yy.push(Z);this.c0.appendChild(Z);Z.addEventListener("mouseover",e,!1);K.x7(Z,e)}this.Uh=new cd([0,13,0],!1,null,!0);
this.Uh.h("click",this.Aw,this);this.m.appendChild(this.Uh.m);this.es=new cd(K.kO("tools/zoom",null,"autoscale"),!1,[12,86]);
this.es.h("click",this.Aw,this);this.m.appendChild(this.es.m);this.Wh=new cd("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Wh.h("click",this.Aw,this);this.m.appendChild(this.Wh.m)}iz.prototype=new h1;iz.prototype.aiq=function(){if(this.$o.length!=0)return;
for(var l=0;l<iz.data.length;l++){var e=iz.data[l],Z=new gx(e.items,e.Z1);Z.parent=this;this.$o.push(Z)}this.n()};
iz.prototype.n=function(){this.Uh.n();this.es.n();this.Wh.n();for(var l=0;l<this.yy.length;l++)this.yy[l].textContent=gA.get(iz.data[l].name);
this.a3W();for(var l=0;l<this.$o.length;l++)this.$o[l].n()};iz.prototype.Aw=function(e){var Z=new j8(G.E.W,!0);
if(e.target==this.Uh)Z.data={d:G.B.tJ,ZB:"account"};else if(e.target==this.es)Z.data={d:G.B.a5};else Z.data={d:G.B.nG,ZD:!0};
this.$(Z)};iz.prototype.a3C=function(e,Z){this.Ao=e;this.J2=Z};iz.prototype.ZP=function(e,Z){this.J2=e;
if(Z==c6.vy){var F=e.alu;K.WL(this.c0);for(var l=0;l<this.yy.length;l++){if(F==null||F[l]==1||F[l]instanceof Array)this.c0.appendChild(this.yy[l]);
if(F!=null&&F[l]instanceof Array){this.aiq();this.$o[l].apU(F[l])}}this.m.removeChild(this.Uh.m);this.m.removeChild(this.es.m);
this.m.removeChild(this.Wh.m);if(e.JB)this.m.appendChild(this.Uh.m);this.m.appendChild(this.es.m);this.m.appendChild(this.Wh.m)}this.a3W()};
iz.prototype.a3W=function(e,Z){var F=this.Uh,b=12255232;if(hx.OO())b=hx.RL()?43520:16755200;F.m.setAttribute("style","color:#ffffff; background-color:#"+V.Z0(b))};
iz.prototype.s8=function(e){this.aiq();var l=this.yy.indexOf(e.currentTarget),Z=this.$o[l];if(e.type=="mouseover"&&!K.RY(this.$o[this.agH].m))return;
if(K.RY(Z.m))return;e.apo=!0;this.agH=l;for(var l=0;l<iz.data.length;l++)this.$o[l].update(this.Ao,this.J2);
var F=e.target.getBoundingClientRect(),b=new j8(G.E.W,!0);b.data={d:G.B.f6,Gw:Z,x:F.left,y:F.top+F.height+2,a1s:!0};
this.$(b)};iz.amh=function(e){var Z=ex,F=Z.Nh,b=Z.Ng,_=Z.sW,d={name:[0,5],items:[{name:[7,0],Nr:[F,Z.B]},{name:[7,1],Nr:[F,Z.T7],P:function(U){return{P:U!=null&&U.K!=null}}},{name:[7,2],Nr:[b,F,Z.vm],P:function(U){return{P:U!=null&&U.K!=null}},jr:!0},{name:[7,11],vD:!0,P:function(U){return{P:U!=null&&U.V.length!=0&&!U.g[U.V[0]].rect.BJ()}}},{name:[7,13],vD:!0,P:function(U){return{P:U!=null&&U.V.length!=0&&!U.g[U.V[0]].rect.BJ()}},jr:!0},{name:[7,8],vD:!0},{name:[7,3],jr:!0,sub:[{name:[7,9],vD:!0,P:function(U){return{P:U!=null&&U.K!=null}}},{name:[19,3,0],vD:!0,P:function(U){return{P:U!=null&&U.K!=null}}},{name:[7,4],vD:!0,P:function(U){return{P:U!=null&&U.K!=null}}},{name:[7,5],vD:!0,P:function(U){return{P:U!=null&&U.K!=null}}},{name:[7,6],vD:!0,P:function(U){return{P:U!=null&&U.K!=null}},Nr:"Shift+F6"}]},{name:[7,10],P:function(U){return{P:U!=null&&U.K!=null}},jr:!0},{name:[6,6,1],P:function(U){return{P:U!=null,b2:U!=null&&U.aX()!=null}},Nr:[Z.cr],jr:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],Z1:[{Y:G.E.GT,R:i.wL.JG(!0)},{Y:G.E.GT,R:i.wL.JG()},{Y:G.E.GT,R:{qg:"inverse"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"redge"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"magiccut"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"crange"}},{sub:[{Y:G.E.W,R:{d:G.B.tJ,ZB:"sel_border"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"sel_smoothness"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"sel_expand"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"sel_contract"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"sel_feather"}}]},{Y:G.E.W,R:{d:G.B.LN,k:i.uV}},{Y:G.E.u,k:i._6,R:{d:"qmask"}},{Y:G.E.GT,R:{qg:"duplicate",ni:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(e){var S=d.items.length-1;d.items.splice(S-2,0,{name:[6,49],Nr:[F,Z.Ht],jr:!0});d.Z1.splice(S-2,0,{Y:G.E.u,k:i.__,R:{d:g.XB}});
d.items.splice(S-1,0,{name:[10,16],Nr:[_,F,Z.xP]});d.Z1.splice(S-1,0,{Y:G.E.W,R:{d:G.B.LN,k:i.PF}})}return d};
iz.data=function(){var e=ex,Z=e.Nh,F=e.Ng,b=e.sW,_=function(w){return{P:w!=null&&w.V.length!=0}},d=function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.SoLd!=null}},S=[],U=[],r="none maxx avrg medn minn rang stdv summ vari".split(" "),q=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var l=0;l<r.length;l++){S.push({name:q[l]});U.push({Y:G.E.u,k:i.__,R:{d:g.ry,mQ:r[l]}})}return[{name:[0,0],items:[{name:[5,3],Nr:[b,Z,e.vt],title:[11,7],vD:!0},{name:[1,0],Nr:[Z,e.AD],vD:!0},{name:[1,11],vD:!0,P:function(w,X){return{P:w!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],jr:!0,sub:[{name:[1,5],vD:!0},{name:[11,0],vD:!0},{name:["PSD VAR0",[25,0]],vD:!0}]},{name:[1,1],jr:!0,sub:[{name:"PNG",Nr:"Imgur.com",P:function(w,X){return{P:w!=null&&X.QX}}},{name:"JPG",Nr:"Imgur.com",P:function(w,X){return{P:w!=null&&X.QX}}},{name:"PSD",Nr:"Photopea.com",P:function(w,X){return{P:w!=null&&X.QX&&!w.ZR}}}]},{name:"Save ...",Nr:[Z,e.pX],P:function(w,X){var Q=gA.get([1,2])+(w==null?"":w.W0?" ("+gA.get([6,7,1])+")":w.DI?" (Google Drive)":"");
return{P:w!=null&&(w.Jd!=null&&w.Gg=="psd"||w.W0!=null||w.iH!=null&&w.iH.Dm!=null||w.DI!=null||X.Th.save!=null),cw:Q}}},{name:[1,3],P:function(w,X){return{P:w!=null&&!w.ZR&&X.QX}}},{name:["VAR0 PSD/PSB",[1,2]],vD:!0,P:function(w,X){return{P:w!=null&&!w.ZR&&X.QX}}},{name:[1,8],sub:function(){var w=fg.ql(0),X=[];
for(var l=0;l<w.length;l++)X.push({name:w[l],Nr:"."+w[l].toLowerCase()});X.push({name:[0,14],sub:function(){var w=fg.ql(1),X=[];
for(var l=0;l<w.length;l++)X.push({name:w[l],Nr:"."+w[l].toLowerCase()});return X}()});return X}()},{name:[1,4],vD:!0,P:function(w,X){return{P:w!=null}},jr:!0},{name:[1,9],vD:!0,P:function(w,X){return{P:w!=null}}},{name:"Export Color Lookup",vD:!0,P:function(w,X){return{P:w!=null}},jr:!0},{name:[1,14],vD:!0,P:function(w,X){return{P:w!=null}},jr:!0},{name:[1,10]}],Z1:[{Y:G.E.W,R:{d:G.B.tJ,ZB:"newproject"}},{Y:G.E.W,R:{d:G.B.Fq}},{Y:G.E.W,R:{d:G.B.Fq,adf:!0}},{sub:[{Y:G.E.W,R:{d:G.B.tJ,ZB:"open_from_url"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"camera"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"templates"}}]},{sub:[{Y:G.E.W,R:{d:G.B.Js,ix:"png"}},{Y:G.E.W,R:{d:G.B.Js,ix:"jpg"}},{Y:G.E.W,R:{d:G.B.Js,ix:"psd"}}]},{Y:G.E.W,R:{d:G.B.RF}},{Y:G.E.W,R:{d:G.B.S3}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"savepsb"}},{sub:function(){var w=fg.ql(0),X=[];
for(var l=0;l<w.length;l++)X.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"saveforweb",ix:l}});X.push({sub:function(){var Q=fg.ql(0).length,w=fg.ql(1),X=[];
for(var l=0;l<w.length;l++)X.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"saveforweb",ix:Q+l}});return X}()});return X}()},{Y:G.E.W,R:{d:G.B.tJ,ZB:"saveforweb",ix:4,adO:!0}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"eassets"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"exlut"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"finfo"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Nr:[F,Z,e.vO]},{name:[2,1],Nr:[Z,e.vO],jr:!0},{name:[2,11],Nr:[F,Z,e.rE],jr:!0,vD:!0,P:function(w,X){return{P:jt.a1M(w)&&X.yt!=i.PF}}},{name:[5,0],Nr:[Z,e.jy]},{name:[5,1],Nr:[Z,e.Id]},{name:[5,7],Nr:[F,Z,e.Id]},{name:[5,2],Nr:[Z,e.Sf],P:function(w,X){return{P:K.ZO()||X.Uf!=null||X.Rb!=null||X.a0X!=null}}},{name:[2,2],P:function(w){return{P:w!=null&&w.K!=null}},Nr:"Delete",jr:!0},{name:[2,3],P:function(w){return{P:w!=null}},vD:!0,Nr:[F,e.h9]},{name:[14,9],P:function(w){return{P:w!=null}},vD:!0,jr:!0},{name:[10,48],P:function(w){return{P:w!=null&&w.gy(!1)}}},{name:[10,46],P:function(w){return{P:i.FB.L2(w)}}},{name:[10,16],Nr:[b,Z,e.xP]},{name:[2,4],sub:fS.aq6()},{name:[2,10,1]},{name:[2,10,0],jr:!0},{name:[12,87],sub:[{name:[12,62],P:function(w){return{P:w!=null}}},{name:[9,3],P:function(w){return{P:w!=null}}},{name:[10,31],P:function(w){return{P:w!=null&&w.GJ()[1].length!=0}}}]},{name:"Preset Manager",vD:!0},{name:[12,79],vD:!0,Nr:[Z,e.KP]},{name:[1,13],vD:!0}],Z1:[{Y:G.E.u,k:i.Pi,R:{d:"h_undoredo"}},{Y:G.E.u,k:i.Pi,R:{d:"h_stepfwd"}},{Y:G.E.u,k:i.Pi,R:{d:"h_stepbck"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"afw_fade"}},{Y:G.E.W,R:{d:G.B.s2}},{Y:G.E.W,R:{d:G.B.t7}},{Y:G.E.W,R:{d:G.B.t7,XP:!0}},{Y:G.E.W,R:{d:G.B.TQ}},{Y:G.E.GT,R:{qg:"delete"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"fill"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"stroke"}},{Y:G.E.W,R:{d:G.B.LN,k:i.s9}},{Y:G.E.u,k:i.Db,R:{d:"start",Nw:"rigidTransform"}},{Y:G.E.W,R:{d:G.B.LN,k:i.PF}},{sub:fS.a13()},{Y:G.E.GT,R:{qg:"align",ni:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:G.E.u,k:i.__,R:{d:g.RS}},{sub:[{Y:G.E.W,R:{d:G.B.li,NG:0}},{Y:G.E.W,R:{d:G.B.li,NG:1}},{Y:G.E.W,R:{d:G.B.li,NG:2}}]},{Y:G.E.W,R:{d:G.B.tJ,ZB:"pmanager"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"preferences"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var w=[];
for(var X in hc.names){w.push({name:hc.names[X],vD:N[X]!=null,Nr:hc.keys[X],jr:hc.ZW.indexOf(X)!=-1});
if(X=="selc"){w.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],vD:!0,jr:!0});w.push({name:[19,7,0],Nr:[Z,F,e.Lb],P:function(X){return{P:X&&X.V.length!=0&&X.g[X.V[0]].add.SoLd==null}}})}}return w}()},{name:[4,16,0],P:function(w){return{P:w!=null&&w.gy(!1)}}},{name:[4,16,1],P:function(w){return{P:w!=null&&w.gy(!1)}}},{name:[4,16,2],P:function(w){return{P:w!=null&&w.gy(!1)}},jr:!0},{name:"Reduce Colors",P:function(w){return{P:w!=null&&w.gy(!1)}}},{name:[11,11],P:function(w){return{P:w!=null&&w.gy(!1)}},jr:!0},{name:[11,3],vD:!0,Nr:[b,Z,e.Id]},{name:[11,10],vD:!0,Nr:[b,Z,e.vm]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],P:function(w){return{P:w!=null&&w.K!=null}}},{name:[11,12,0],P:function(w){return{P:w!=null}},Nr:[Z,e.a6],vD:!0},{name:[11,12,2],P:function(w){return{P:w!=null}},jr:!0},{name:[2,12],P:function(w){return{P:w!=null&&w.gy(!1)}},vD:!0}],Z1:[{sub:function(){var w=[];
for(var X in hc.names){w.push({Y:G.E.u,k:i.v$,R:{d:"start",KM:X}});if(X=="selc"){w.push({Y:G.E.u,k:i.Db,R:{d:"start",Nw:"adaptCorrect"}});
w.push({Y:G.E.GT,R:{qg:"desaturate"}})}}return w}()},{Y:G.E.GT,R:{qg:"levels",ni:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:G.E.GT,R:{qg:"levels",ni:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:G.E.GT,R:{qg:"levels",ni:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"rcolors"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"vbitmap"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"csize"}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"isize"}},{sub:[{Y:G.E.GT,R:i.Q.Mj(!0,90)},{Y:G.E.GT,R:i.Q.Mj(!0,-90)},{Y:G.E.GT,R:i.Q.Mj(!0,-180)},{Y:G.E.GT,R:i.Q.Mj(!1,"Hrzn")},{Y:G.E.GT,R:i.Q.Mj(!1,"Vrtc")}]},{Y:G.E.u,k:i.WF,R:{d:"cropbysel",afy:0}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"trim"}},{Y:G.E.GT,R:{qg:"revealAll",ni:{classID:"RvlA"}}},{Y:G.E.u,k:i.v$,R:{d:"start",KM:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Nr:[Z,e.Ht]}]},{name:[6,0],P:_,Nr:[Z,e.Ht]},{name:[11,4],P:_},{name:[5,4],P:_,jr:!0},{name:[11,6],jr:!0,P:_,sub:ay.qA(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],jr:!0,sub:ay.amv()},{name:[6,2],sub:[{name:[6,4],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()==null}}},{name:[6,5,0],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()==null}}},{name:[6,5,1],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()==null&&w.K!=null}}},{name:[6,5,2],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()==null&&w.K!=null}}},{name:[6,5,3],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()==null}},jr:!0},{name:[5,4],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()!=null}}},{name:[5,8],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()!=null&&w.gy(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].Vj()!=null}}}]},{name:[6,3],sub:[{name:[6,4],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.vmsk==null}}},{name:[6,5,0],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.vmsk==null}}},{name:"Current Path",P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.vmsk==null}},jr:!0},{name:[5,4],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(w){return{P:w!=null&&w.V.length!=0&&w.g[w.V[0]].add.vmsk!=null}}}]},gW.a3_(!0),{name:[6,7,1],jr:!0,sub:[{name:[6,7,0]},{name:[6,36,4],P:d,sub:S},{name:[1,0],P:d,jr:!0},{name:"Turn into JPG"}]},{name:[6,8],P:gW.aiY},{name:[6,34],jr:!0,P:function(w){if(w==null||w.V.length==0)return{P:!1};
var X=w.g[w.V[0]];return{P:X.add.lmfx!=null&&!X.yx()}}},{name:[6,9],jr:!0,Nr:[Z,e.Ds]},{name:[6,55],jr:!0,sub:[{name:[6,56,0],Nr:[F,Z,e.s7]},{name:[6,56,1],Nr:[Z,e.s7]},{name:[6,56,2],Nr:[Z,e.iG]},{name:[6,56,3],Nr:[F,Z,e.iG]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],P:function(w){return{P:w!=null&&w.V.length==1&&w.V[0]!=0&&!w.g[w.V[0]].yx()}},Nr:[Z,e.E]},{name:[6,12,0],P:function(w){return{P:w!=null&&w.V.length!=0&&(w.V.length>1||w.g[w.V[0]].yx())}}},{name:[6,12,1]}],Z1:[{sub:[{Y:G.E.u,k:i.__,R:{d:g.ls}},{Y:G.E.u,k:i.__,R:{d:g.UM}},{Y:G.E.u,k:i.__,R:{d:g.XB}}]},{Y:G.E.u,k:i.__,R:{d:g.YB}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"duplinto"}},{Y:G.E.u,k:i.__,R:{d:g.BD}},{sub:ay.LV(!0)},{sub:[{Y:G.E.u,k:i.Z2,R:{d:"newfill",K$:0}},{Y:G.E.GT,R:i.Dd.eX(1)},{Y:G.E.GT,R:i.Dd.eX(2)}]},{sub:ay.R4()},{sub:[{Y:G.E.u,k:i.__,R:{d:g.TA,kK:"RvlA"}},{Y:G.E.u,k:i.__,R:{d:g.TA,kK:"HdAl"}},{Y:G.E.u,k:i.__,R:{d:g.TA,kK:"RvlS"}},{Y:G.E.u,k:i.__,R:{d:g.TA,kK:"HdSl"}},{Y:G.E.u,k:i.__,R:{d:g.TA,kK:"Trns"}},{Y:G.E.u,k:i.__,R:{d:g.WU}},{Y:G.E.u,k:i.__,R:{d:g.LI}},{Y:G.E.u,k:i.__,R:{d:g.IF}}]},{sub:[{Y:G.E.u,k:i.__,R:{d:g.De,asq:!1}},{Y:G.E.u,k:i.__,R:{d:g.De,asq:!0}},{Y:G.E.u,k:i.__,R:{d:g.De,aeN:!0}},{Y:G.E.u,k:i.__,R:{d:g.xY}},{Y:G.E.u,k:i.__,R:{d:g.je}}]},{Y:G.E.u,k:i.__,R:{d:g.jp}},{sub:[{Y:G.E.GT,R:{qg:"newPlacedLayer"}},{sub:U},{Y:G.E.GT,R:{qg:"placedLayerEditContents",ni:{classID:"placedLayerEditContents"}}},{Y:G.E.u,k:i.__,R:{d:g.KT}}]},{Y:G.E.GT,R:{qg:"rasterizeLayer",ni:{classID:"rasterizeLayer",null:dz.vz("Lyr",!0)}}},{Y:G.E.u,k:i.__,R:{d:g.TZ}},{Y:G.E.u,k:i.__,R:{d:g.Bo}},{sub:[{Y:G.E.u,k:i.__,R:{d:g.Qj,Yu:0}},{Y:G.E.u,k:i.__,R:{d:g.Qj,Yu:1}},{Y:G.E.u,k:i.__,R:{d:g.Qj,Yu:2}},{Y:G.E.u,k:i.__,R:{d:g.Qj,Yu:3}}]},{sub:[{Y:G.E.u,k:i.__,R:{d:g.SG,Yu:"makeframes"}},{Y:G.E.u,k:i.__,R:{d:g.SG,Yu:"unmakeframes"}},{Y:G.E.u,k:i.__,R:{d:g.SG,Yu:"merge"}}]},{Y:G.E.u,k:i.__,R:{d:g.J$}},{Y:G.E.u,k:i.__,R:{d:g.eR}},{Y:G.E.GT,R:{qg:"flattenImage"}}]},iz.amh(!1),function(){var w={name:[0,6],items:[{name:[24,18,4],Nr:[b,Z,e.rE],jr:!0}],Z1:[{Y:G.E.u,k:i.Db,R:{d:"applylast"}}]};
for(var l=0;l<ff.xh.length;l++){var X=ff.xh[l];if(X.n8!=null){w.items.push({name:ff.names[X.n8],vD:!0,jr:X.jr});
w.Z1.push({Y:G.E.u,k:i.Db,R:{d:"start",Nw:X.n8}});continue}var Q={name:X.A9,sub:[]};w.items.push(Q);
var c={sub:[]};w.Z1.push(c);for(var u=0;u<X.Vw.length;u++){var n={name:ff.names[X.Vw[u]],vD:ff.wy(X.Vw[u])!=null};
Q.sub.push(n);var k={Y:G.E.u,k:i.Db,R:{d:"start",Nw:X.Vw[u]}};c.sub.push(k)}}return w}(),{name:[0,7],items:[{name:[8,0],Nr:[Z,e.yv]},{name:[8,1],Nr:[Z,e.Z9]},{name:[20,3],Nr:[Z,e.E9]},{name:[20,2],Nr:[Z,e.zW],jr:!0},{name:"Screen Mode",jr:!0,sub:[{name:"Fullscreen",P:function(w,X){return{b2:document.fullscreenElement!=null}},jr:!0},{name:"Standard",P:function(w,X){return{b2:X.Xo==0}}},{name:"Menu Bar and Canvas",P:function(w,X){return{b2:X.Xo==1}}}]},{name:[8,13],Nr:[Z,e.ua],P:function(w,X){return{b2:X.Fo}}},{name:[8,12],jr:!0,sub:[{name:[17,2],P:function(w,X){return{P:X.Fo,b2:X.I9.dW}}},{name:[8,9],P:function(w,X){return{P:X.Fo,b2:X.I9.Tl}}},{name:[8,2],P:function(w,X){return{P:X.Fo,b2:X.I9.P3}},Nr:[Z,e._5]},{name:[8,4],P:function(w,X){return{P:X.Fo,b2:X.I9.B5}},Nr:[Z,e.Go]},{name:[8,8],P:function(w,X){return{P:X.Fo,b2:X.I9.DM}}},{name:[8,11,0],P:function(w,X){return{P:X.Fo,b2:X.I9.sP}}}]},{name:[8,3],P:function(w,X){return{b2:X.PG}},Nr:[Z,e.Z8],jr:!0},{name:[8,5],P:function(w,X){return{b2:X.XE}}},{name:[8,6],jr:!0,sub:[{name:[8,2],P:function(w,X){return{b2:X.Nb[0]}}},{name:[8,4],P:function(w,X){return{b2:X.Nb[1]}}},{name:[9,1],P:function(w,X){return{b2:X.Nb[2]}}},{name:[8,11,0],P:function(w,X){return{b2:X.Nb[3]}}},{name:[8,7],P:function(w,X){return{b2:X.Nb[4]}}}]},{name:[11,15,2],P:function(w,X){return{P:w!=null,b2:w!=null&&w.fH}}},{name:[11,15,0],P:function(w,X){return{P:w!=null}}},{name:[11,14],P:function(w,X){return{P:w!=null}},vD:!0},{name:[11,15,1],P:function(w,X){return{P:w!=null&&w.V.length!=0}},jr:!0},{name:[8,11,2],P:function(w,X){return{P:w!=null&&w.sP.length!=0}}}],Z1:[{Y:G.E.u,k:i.GD,R:{d:"zoom",FU:!0}},{Y:G.E.u,k:i.GD,R:{d:"zoom",FU:!1}},{Y:G.E.u,k:i.GD,R:{d:"adapt",I:"fitscr"}},{Y:G.E.u,k:i.GD,R:{d:"adapt",I:"pixel"}},{sub:[{Y:G.E.W,R:{d:G.B.nG,ZD:!0}},{Y:G.E.W,R:{d:G.B.nG,I:0}},{Y:G.E.W,R:{d:G.B.nG,I:1}},{Y:G.E.W,R:{d:G.B.nG,I:2}}]},{Y:G.E.W,R:{d:G.B.aE,NG:c6.m0}},{sub:[{Y:G.E.W,R:{d:G.B.aE,NG:c6.Kx}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.ys}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.IU}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.Kz}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.Uk}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.Tk}}]},{Y:G.E.W,R:{d:G.B.aE,NG:c6.sV}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.u_}},{sub:[{Y:G.E.W,R:{d:G.B.aE,NG:c6.uy,mi:0}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.uy,mi:1}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.uy,mi:2}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.uy,mi:3}},{Y:G.E.W,R:{d:G.B.aE,NG:c6.uy,mi:4}}]},{Y:G.E.u,k:i.l$,R:{d:"lockguides"}},{Y:G.E.u,k:i.l$,R:{d:"gids",d$:[[],[]]}},{Y:G.E.W,R:{d:G.B.tJ,ZB:"addguides"}},{Y:G.E.u,k:i.l$,R:{d:"gidsFromLayer"}},{Y:G.E.u,k:i.IN,R:{d:"deleteAll"}}]},function(){var w={name:[0,8],items:[{name:[0,14],jr:!0,sub:[]}],Z1:[{sub:[]}]};
for(var l=0;l<gq.Cm.length;l++){var X=gq.Cm[l],Q=function(){var c=X.Gw.I3;return function(u,n){return{b2:n.$o.indexOf(parseInt(c))!=-1}}}();
(X.CX?w.items[0].sub:w.items).push({name:X.Gw.name,P:Q});(X.CX?w.Z1[0].sub:w.Z1).push({Y:G.E.W,R:{d:G.B.mu,ZB:X.Gw.I3}})}return w}(),function(){var w={name:[0,14],items:[],Z1:[]},X={name:[0,9],sub:[]};
w.items.push(X);var Q={sub:[]};w.Z1.push(Q);var c=gA.ahV();for(var l=0;l<c.length;l++){var u=c[l],n=u.code,k=gA.FK(n);
X.sub.push({name:u.name,Nr:n,P:function(B,o){return{b2:this.Nr==gA.NB()}}});Q.sub.push({Y:G.E.W,R:{d:G.B.aE,NG:c6.Vx,lang:k}})}X.sub.push({name:[0,12]});
Q.sub.push({Y:G.E.W,R:{d:G.B.i8,link:"https://www.photopea.com/translate/"}});var X={name:[0,15],sub:[]};
w.items.push(X);var Q={sub:[]};w.Z1.push(Q);for(var l=0;l<aQ.x3.length;l++){X.sub.push({name:aQ.x3[l].name,P:function(B,o){return{b2:this.name==aQ.x3[o.WT].name}}});
Q.sub.push({Y:G.E.W,R:{d:G.B.aE,NG:c6.y$,WT:l}})}w.items.push({name:[0,17,6],P:function(B,o){return{P:o.v7!=null}}});
w.Z1.push({Y:G.E.W,R:{d:G.B.aqy}});w.items.push({name:[11,13]});w.Z1.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"shortcuts"}});
w.items.push({name:[0,16],P:function(B){return{b2:E.P7,P:E.uD}},jr:!0});w.Z1.push({Y:G.E.W,R:{d:G.B.afr}});
w.items.push({name:"",P:function(B,o){return o.JB?{cw:"About Photopea",P:!0}:{cw:"",P:!1}}});w.Z1.push({Y:G.E.W,R:{d:G.B.tJ,ZB:"aboutpp"}});
return w}()]}();function br(){h1.call(this);this.m=K.L("div","");this.Dn=0;this.BO=0;this.Pk=null;this.At=K.L("div","");
this.At.setAttribute("style","width:200em; height:100em; position:absolute;");this.gm=[];this.Yn=[];
this.gS={}}br.prototype=new h1;br.prototype.qb=function(e){var Z=Date.now(),F=[];if(e=="-")F=[new fU,new gJ,new aN,new aw,new hd,new ie,new cu,new d7,new j3,new jL,new fs,new hs,new eW,new aP,new cK,new ay,new hK,new dT,new fo,new i_,new dH,new h4,new gZ,new gN,new gU,new bO,new aO(!1),new aO(!0),new dv(0),new dv(1),new jB,new bT,new iy,new aD,new iU,new ed,new bf,new a7,new dy,new hF("border",[7,9],"px"),new hF("smoothness",[19,3,0],"px"),new hF("expand",[7,4],"px"),new hF("contract",[7,5],"px"),new hF("feather",[7,6],"px"),new a0(0,"namewindow",[12,48]),new a0(1,"cornerradius",[12,94,0],"px",!0,!0),new a0(1,"scaleeffects","Scale Effects","%",!0),new a0(1,"doczoom","Zoom","%",!0)];
else F=[new jt(e.slice(4))];this.agr(F);this.gS[e]=!0};br.prototype.agr=function(e){var Z=this.Pk;for(var l=0;
l<e.length;l++){var F=e[l];F.parent=this;this.Yn.push(F);this.ED(F);F.n();if(Z)F.ZP(Z,c6.vy);F.h(G.E.KW,this.hm,this)}};
br.prototype.Av=function(e,Z){this.Dn=e;this.BO=Z;for(var l=0;l<this.Yn.length;l++)this.ED(this.Yn[l])};
br.prototype.n=function(){for(var l=0;l<this.Yn.length;l++)this.Yn[l].n()};br.prototype.RJ=function(){return this.gm.length==0?null:this.gm[this.gm.length-1]};
br.prototype.dS=function(){for(var l=0;l<this.gm.length;l++)if(this.gm[l].dS())return!0;return!1};br.prototype.apy=function(e,Z,F,b,_){var d=e.startsWith("afw_"),S=null;
if(!d&&!this.gS["-"])this.qb("-");if(d&&!this.gS[e])this.qb(e);if(typeof e=="object"){S=e;if(!S.a7v(G.E.KW,this.hm))S.h(G.E.KW,this.hm,this);
S.parent=this}else for(var l=0;l<this.Yn.length;l++)if(this.Yn[l].id==e)S=this.Yn[l];if(this.dS()&&S.dS()){alert("Finish the current action first");
return}if(!S.ro(Z))return;if(this.gm.indexOf(S)!=-1){if(e=="colorpicker")S.jQ(Z,F,b,_);return}var U=this.gm.length-1;
if(U>=0)K.j_(this.gm[U].m,"wdisabled");this.m.appendChild(S.m);this.gm.push(S);this.ED(S);S.jQ(Z,F,b,_)};
br.prototype.ED=function(e){var Z=this.Dn,F=this.BO,b=e.$b(Z,F),_;if(b!=null){_=b}else{b=new bI(0,0);
_=e.a2g();if(_==null){var d=this.gm.indexOf(e)+1;if(Z<450||F<450)_=new bI(0,0);else _=new bI(d*150,d*150)}}e.m.style.left=_.x+"px";
e.m.style.top=this.m.offsetTop+_.y+"px";e.Av(this.Dn-b.x*2,this.BO-b.y*2-34)};br.prototype.ZP=function(e,Z){this.Pk=e;
for(var l=0;l<this.Yn.length;l++)this.Yn[l].ZP(e,Z)};br.prototype.hm=function(e){var Z=this.gm.pop();
this.m.removeChild(Z.m);var F=this.gm.length-1;if(F>=0)K.vB(this.gm[F].m,"wdisabled");if(this.At.parentNode==this.m)this.m.removeChild(this.At)};
window.onload=function(){document.body.appendChild(new ep().m)}}())